<!-- http://www.w3.org/2007/xmlsec/ws/report.html -->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>Report - W3C Workshop on Next Steps for XML Signature and XML
  Encryption</title>
  <link href="http://www.w3.org/StyleSheets/base.css" rel="stylesheet"
  type="text/css" />
  <!-- link rel="stylesheet" href="http://www.w3.org/Style/threepart-f.css"
                title="Gold fixed" media="screen, projection, print" -->
  <style type="text/css" xml:space="preserve">
/*<![CDATA[*/

    .comment {
       width: 90%;
       border: 2px solid red;
       padding: 6px;
    }

    dl, dd, dt {  list-style-type: disc; }

    table, ol, ul,p,dl { margin-left: 4% }
    dl {  margin-left: +6%; }
    dt {  font-weight: bold; }

    h4 { margin-left: 4% }

    .head { text-align: center;
    color: #005a9c;
    font-weight: bold;
    }

    .head a:visited {
        color: #005a9c;
    }

    .head a:link {
        color: #005a9c;
    }

    h2 {
    color: white;
    border: 1px solid gray;
    font-weight: bold;
    margin-top: 0;
    padding: 0.1em;
    text-indent: 0.3em;
    }

    table {
       border-collapse: collapse;
       background: #FFF;
    }

    th,td {
       padding: 6px 2em;
       background: #eee;
       border: 1px black solid;
    }

    td.date {
       text-align: right;
       font-weight: bold;
       font-size: 90%;
    }

  /* h1 {
  background: #005a9c;
  } */

  h1 {

  }

  h3, h4, h5 {
  color: #8080D0;
  }

  h2 {
  background-color: #aa7;
  }

  .author {
     margin-top: 2em;
     font-style: italic;
  }

  .abstract {
   text-align: left;
   margin-left: 10%;
   margin-right: 10%;
  }
  ins.rigo {background-color: #62BAB4}
  ins.tlr {background-color: #00FF00 }
  del {background-color: #BA519A;
      text-decoration: line-through;}
  /*]]>*/
  </style>
</head>

<body>
<p><a href="http://www.w3.org/"><img border="0"
src="http://www.w3.org/Icons/WWW/w3c_home" alt="W3C" /></a> <a
href="http://www.w3.org/TandS/"><img src="http://www.w3.org/Icons/tands.gif"
alt="Technology and Society Domain" width="212" height="48" border="0"
/></a></p>

<div class="head">
<h1>Workshop Report<br />
W3C Workshop on Next Steps for XML Signature and XML Encryption</h1>

<h3>25/26 September 2007 -- Mountain View, California<br />
hosted by VeriSign</h3>
</div>

<h2><a id="GoalsAndScope" name="GoalsAndScope">Workshop Goals and
Scope</a></h2>

<h3>Audience</h3>

<p>This Workshop included implementors and users of the XML Canonicalization,
XML Signature and XML Encryption suites of specifications. The participants
included implementers and specification writers that have built their work on
top of these specifications. Participants in the workshop had to submit a
position paper.</p>

<p>The workshop had 25 participants from over 15 organizations.</p>

<h3><a id="Goal" name="Goal">Workshop Goals</a></h3>

<p>The aim of this workshop was to gather information and experiences with
these specifications, to start to build community consensus, and to make
initial recommendations to the W3C about possible next steps for the XML
Security specifications.</p>

<h3>Workshop Materials</h3>

<p>Slides and position papers related to workshop sessions are linked from
the <a href="agenda.html">Workshop Agenda</a>. Workshop minutes are
available:</p>
<ul>
  <li><a href="http://www.w3.org/2007/09/25-xmlsec-minutes">25 September
    2007</a></li>
  <li><a href="http://www.w3.org/2007/09/26-xmlsec-minutes">26 September
    2007</a></li>
</ul>

<p><a href="slides/summary.pdf">Summary slides</a> created during the final
sessions of both workshop days are available.</p>

<p></p>

<h2><a id="ExecutiveSummary" name="ExecutiveSummary">Executive
Summary</a></h2>

<p>Workshop participants discussed topics of possible future work on the XML
Signature specification, and companion specifications such as Canonical
XML.</p>

<p>Topics of interest, and the levels of interest, are summarized in the
following table. A more detailed summary of the individual areas of interest
can be found in the <a href="#WorkshopSessions">next section</a>.</p>

<p></p>

<table
summary="This table has twelve rows. The three columns are topic, description and interest level.">
  <thead>
    <tr>
      <th rowspan="1" colspan="1"><strong>Topic</strong></th>
      <th rowspan="1" colspan="1"><strong>Description</strong></th>
      <th rowspan="1" colspan="1"><strong>Interest level</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="1" colspan="1"><a href="#Profiles">Create Basic
        Profile</a> of XML Signature</td>
      <td rowspan="1" colspan="1">Defining a constrained and simpler profle
        of XML Signature to enhance security, performance and ability to
        create implementations</td>
      <td rowspan="1" colspan="1">High</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#ReferencingModel">Update
        Referencing Model</a></td>
      <td rowspan="1" colspan="1">Work out issues related to referencing
        material to be signed, using <a
        href="http://www.w3.org/TR/xml-id/">xml:id</a> and other
      mechanisms</td>
      <td rowspan="1" colspan="1">High</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#CryptographicAlgorithms">Update
        Cryptographic Algorithms</a></td>
      <td rowspan="1" colspan="1">Integrate additional algorithms with XML
        Signature, possible changes to Recommended or Required algorithms.
        Review approach to adding algorithms in future.</td>
      <td rowspan="1" colspan="1">High</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#Canonicalization">Revisit overall
        approach toward XML canonicalization</a></td>
      <td rowspan="1" colspan="1">Reconsider XML canonicalization,
        considering application, security and implementation
      requirements.</td>
      <td rowspan="1" colspan="1">High</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#TransformModel">Transform
        Model</a></td>
      <td rowspan="1" colspan="1">Clarify whether output of transforms is
        document (in XML case); whether and how to constrain transforms;
        pipelining and subsetting approaches</td>
      <td rowspan="1" colspan="1">Medium toward High</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#Profiles">Profiling</a> -
        deterministic time of processing</td>
      <td rowspan="1" colspan="1">Designing a profile that scales
        deterministically with size of input</td>
      <td rowspan="1" colspan="1">Medium</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a
        href="#ImplementationGuidance">Implementation guidance</a></td>
      <td rowspan="1" colspan="1">Provide security guidance and suggestions
        for which API hooks might be required</td>
      <td rowspan="1" colspan="1">Medium</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#KeyMgmt">Key Management</a> -
        known spec issues</td>
      <td rowspan="1" colspan="1">Clarify <a
        href="http://www.w3.org/TR/xmldsig-core/#sec-RetrievalMethod">dsig:RetrievalMethod</a>
        and other known issues with XML Signature key management</td>
      <td rowspan="1" colspan="1">Medium</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#KeyMgmt">Key Management</a> -
      XKMS</td>
      <td rowspan="1" colspan="1">Put <a
        href="http://www.w3.org/TR/xkms2/">XKMS</a> in sync with updated XML
        Signature, add support for symmetric keys, but not perform a
      re-write</td>
      <td rowspan="1" colspan="1">Medium</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#Canonicalization">Encapsulating
        XML</a></td>
      <td rowspan="1" colspan="1">How to incorporate one XML document in
        another and enable signing</td>
      <td rowspan="1" colspan="1">Medium</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#XML11-EXI">XML 1.1 and
      EXI</a></td>
      <td rowspan="1" colspan="1">Consider relationship with XML 1.1 and
      EXI</td>
      <td rowspan="1" colspan="1">Broad topic for additional
      consideration</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a
        href="#BackwardsCompatibility">Refactoring/Backward
      compatibility</a></td>
      <td rowspan="1" colspan="1">Determining how much backward compatibility
        is required, how to layer and factor the process</td>
      <td rowspan="1" colspan="1">Broad topic for additional
      consideration</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1"><a href="#OtherGroups">Interact with other
        groups and organizations</a></td>
      <td rowspan="1" colspan="1">Get security considerations and other input
        from other communities, such as OASIS SAML, Liberty Alliance, Web
        Services Security, etc</td>
      <td rowspan="1" colspan="1">This is a general aspect of chartered
        activities</td>
    </tr>
  </tbody>
</table>

<p>One outcome of the workshop is the indication that there is strong
interest in additional work on XML Security and also interest in
participating in a possible Working Group. Another outcome is the list of
specific topic areas of interest. </p>

<h2>Next Steps</h2>

<p>The <a href="http://www.w3.org/2007/xmlsec/">XML Security Specifications
Maintenance Working Group</a> is chartered to produce a draft charter for
follow-up work. This Workshop report will serve as input to that
deliverable.</p>

<p>To enable discussion among Workshop attendees, Working Group members, and
the broader community, a new mailing list public-xmlsec-discuss@w3.org (<a
href="http://lists.w3.org/Archives/Public/public-xmlsec-discuss/">public
archive</a>) has been created. Participation in that mailing list is open to
all interested parties.</p>

<h2><a id="WorkshopSessions" name="WorkshopSessions">Summary of
Discussions</a></h2>

<p>This section gives a more detailed summary of the areas of interest
discussed at the workshop, and tries to summarize common themes identified
during discussions.</p>

<h3><a id="Profiles" name="Profiles">Profiles</a></h3>

<p>Profiling the use of the <a href="http://www.w3.org/TR/xmldsig-core">XML
Signature specification</a> by constraining optional aspects of the
specification and the use of certain features of the specification was
identified as being a promising area of future work for a number of
applications. A basic profile for the specification could identify an easier
to implement, but still flexible subset of the specification useful for many
use cases, whlie improving interoperability and performance of
implementations. By reducing certain optional features (e.g., XSLT
transforms), such a profile could contribute to reducing the attack surface
that implementations of XML Signature expose to attackers that are able to
craft input documents. </p>

<p>Processing with favorable scaling behavior (e.g., linear in the length of
documents) might be enabled by limiting the use of the
<code>&lt;Transform&gt;</code> element and related features; such a profile
might also contribute to limiting the attack surface against denial of
service attacks. Similarly, such constraints might contribute to a use of XML
Signature in which signature verification can be performed significantly more
efficiently than signature creation. A related use case that was mentioned
repeatedly during discussion concerns the incremental verification of
signatures on streaming data.</p>

<p>In some use cases, only limited XML processing is needed as part of the
signing process. A bulk signing profile could enable simple, interoperable
implementations tailored to such use cases; such a profile might enable use
of XML signature in cases in which non-XML-centric signing mechanisms appear
favorable today. (See <a
href="http://www.w3.org/2007/xmlsec/ws/papers/15-hodges-neustar/">Cantor,
Hodges</a>.)</p>

<p>Workshop participants also discussed run-time profiling approaches, which
might enable the communication of constraints as part of service descriptions
and policies, and as part of signatures. Work in this area could usefully
interact with specifications such as WS-Policy and WS-SecurityPolicy.</p>

<h3><a id="ReferencingModel" name="Referencing Model">Referencing
Model</a></h3>

<p>XML Signature currently uses a referencing model based on XPointers. While
participants found this referencing model to work well in terms of achieving
interoperability of signatures, the security properties actually achieved
using XML Signature were at times found surprising (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/07-gajek-rub/">Gajek et al</a>,
<a
href="http://www.w3.org/2007/xmlsec/ws/papers/09-lockhart-bea/">Lockhart</a>).</p>

<p>On the one hand, ID attribute based referencing approaches suffer from a
number of known issues:</p>
<ul>
  <li>identifying the ID-ness of attributes requires additional information
    that is often not present in documents; implementations may need to
    resort to evaluating schemas to dereference IDs</li>
  <li>when several implementations touch the same XML document (e.g., in the
    case of protocols that are built on top of XML Signature), generating
    unique ID values might turn out to be a challenge</li>
  <li>in some use cases, mutable IDs might be desirable</li>
  <li>if parts of XML content are addressed by ID attribute, they can be
    moved to arbitrary positions in the overall document tree, possibly
    changing document semantics in unexpected manners </li>
</ul>

<p>Participants identified communicating the ID-ness of attributes as part of
signature metadata as a promising approach toward tackling at least the first
of these issues.</p>

<p>On the other hand, structure-based approaches have been found to suffer
from ambiguities in protocol message contexts. (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/09-lockhart-bea/">Lockhart</a>)</p>

<p>An ideal referencing model would be fully semantic, layer-friendly, and
would conform to all the requirements listed. Workshop participants
acknowledged that such an approach might not be achievable in practice. Yet,
working out the tension between the various requirements and taking a fresh
look at reconciling ID-based referencing mechanisms was identified as an
important area for future work.</p>

<h3><a id="CryptographicAlgorithms"
name="Cryptographic Algorithms">Cryptographic Algorithms</a></h3>

<p>Several workshop participants presented proposals related to markup
support for additional cryptographic algorithms in XML Signature:</p>
<ul>
  <li>Cryptosuite B, based on elliptic curve algorithms (<a
    href="http://www.w3.org/2007/xmlsec/ws/papers/17-roddy-nsa/">Roddy</a>)</li>
  <li>Randomized hashing mechanisms (<a
    href="http://www.w3.org/2007/xmlsec/ws/papers/11-mcintosh-ibm/">Halevi et
    al</a>)</li>
  <li>Randomized signature mechanisms (<a
    href="http://www.w3.org/2007/xmlsec/ws/papers/08-lanz-iaik/">Lanz et
    al</a>)</li>
</ul>

<p>Possible changes to the current set of mandatory to implement algorithms
(including, at this point, SHA-1) were briefly discussed, and identified as
an important area for near-term future work.</p>

<p>One possible chartering consideration related to algorithm incorporation
might be the intellectual property (IPR) status.</p>

<p>Patterns for specifying algorithms or algorithm suites were proposed and
discussed (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/02-baker-verisign/">Hallam-Baker</a>).</p>

<h3><a id="Canonicalization" name="Canonicalization">Canonicalization</a></h3>

<p>Mandatory to implement <a href="http://www.w3.org/TR/xml-c14n">canonical
XML</a> and the derived and more commonly used <a
href="http://www.w3.org/TR/2002/REC-xml-exc-c14n-20020718/">exclusive
canonicalization</a> were found to be not satisfactory, and a significant
source of empirically observed performance issues (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/06-zhang-ximpleware/">Zhang</a>).
A number of approaches toward canonicalization were discussed:</p>
<ul>
  <li>layering several canonicalization steps as needed, some of which might
    be application specific (<a
    href="http://www.w3.org/2007/xmlsec/ws/papers/18-edsimon-xmlsec/">Simon</a>)</li>
  <li>redesigning canonicalization algorithms from scratch, possibly giving
    up on the requirement that canonicalization output XML (<a
    href="http://www.w3.org/2007/xmlsec/ws/papers/20-thompson/">Thompson</a>)</li>
  <li>leveraging work done in the Efficient XML Interchange Working Group (<a
    href="http://www.w3.org/2007/xmlsec/ws/papers/13-williams/">Williams</a>)</li>
</ul>

<p>Discussion covered various topics including whether canonicalization
should conceptually be considered part of the hashing performed, or as a
pre-processing step before data are seen by a processing implementation, and
what the "what you see is what you sign" principle actually means for the
design of canonicalization algorithms.</p>

<p>Revisiting canonicalization algorithms (including the current choice of
mandatory to implement inclusive canonicalization) was identified as an area
of major interest for future work.</p>

<h3><a id="TransformModel" name="Transform Model">Transform Model</a></h3>

<p>The XML transform model today specifies a chain of tranformations that can
work on either node-sets based on the XPath 1.0 data model or octet streams.
The full transform model is found to preclude streaming processing of
transforms (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/12-mishra-oracle/">Datta</a> ),
and to be an obstacle to one-pass implementation approaches (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/01-mullan-sun/">Mullan</a>).
Constraining certain aspects of the transformations that can be specified as
part of signature data could lead to significant gains of performance, and
enable streaming processing. Implementers present reported that actual
implementations typically include optimized processing models for transform
chains. It is not know what a common, interoperable subset of these transform
models would look like.</p>

<p>Participants identified <a href="http://www.w3.org/TR/xproc/">XProc</a> as
a possible alternative to the current model for specifying transforms which
should be further considered.</p>

<h3><a id="ImplementationGuidance"
name="Implementation Guidance">Implementation Guidance</a></h3>

<p>Workshop participants identified a number of concerns around current
implementations of XML Signature: Handling of XML Signature in scripting
language contexts (e.g., JavaScript, PHP) was found to be a major concern for
deployment of the specification in Web application related use cases.</p>

<p>Guidance on the order of operations when verifying signatures (and the use
of certain optional features during signature verification) might contribute
significantly to reducing the attack surface of signature verification, by
enabling implementers to partition the attack surface into a small anonymous
and a larger non-anonymous part. (See <a
href="http://www.w3.org/2007/xmlsec/ws/papers/04-hill-isecpartners/">Hill</a>.)
Work on such guidance relates closely to the proposal around a basic profile
for XML Signature.</p>

<p>As a contributory factor, common XML Signature APIs today do not enable
early trust decisions by signature consumers, leading to a single, broad
attack surface of signature verifiers. Additional guidance could note
addiitional APIs to provide applications visibility into the security
process, as needed. </p>

<p>Documenting known countermeasures to wrapping attacks (see <a
href="http://www.w3.org/2007/xmlsec/ws/papers/07-gajek-rub/">Gajek et al</a>)
and generally improving the specification's security considerations (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/07-gajek-rub/">Gajek et al</a>,
<a
href="http://www.w3.org/2007/xmlsec/ws/papers/04-hill-isecpartners/">Hill</a>)
were identified as additional steps that might be taken to improve
implementation quality of XML Signature.</p>

<h3><a id="KeyMgmt" name="Key Management">Key material and management</a></h3>

<p>The <code>&lt;KeyInfo&gt;</code> element and related issues were
identified as an area of the XML Signature spec that was historically left
more open than other parts of the specification, and may be in need of
further work. It appears unclear to what extent this part of the
specification is actually used.</p>

<p>Specification clarity -- in particular concerning the
<code>RetrievalMethod</code> and <code>X509Data</code> elements -- was
identified as a major issue in this space.</p>

<p>As a side effect of revisiting this area of the specification, minimal
changes to <a href="http://www.w3.org/TR/2005/REC-xkms2-20050628/">XKMS</a>
and other specifications that re-use the key material parts of XML Signature
were suggested as a useful work item. It was noted that adding support for
symmetric cryptographic algirthms to XKMS would also be useful during any
revision of XKMS. </p>

<h3><a id="XML11-EXI" name="XML11 and EXI">Outlook: XML 1.1 and EXI</a></h3>

<p>The current suite of XML security specifications is specified in terms of
the XPath 1.0 data model, and therefore not specified for XML 1.1. Also, the
work of the Efficient XML Interchange Working Group creates new requirements
for the XML security specifications (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/13-williams/">Williams</a>).
Both areas need further consideration.</p>

<h3><a id="BackwardsCompatibility" name="Backwards Compatibility">Backwards
Compatibility</a></h3>

<p>There was significant discussion among participants about backwards
compatibility models for future work. While some participants (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/09-lockhart-bea/">Lockhart</a>)
suggested that future work should not be constrained to be
backwards-compatible with the existing specification, others said during
discussion that future work should be as backwards-compatible as possible.</p>

<p>Compatibility for such work could be achieved by using existing extension
points, or by keeping the semantics of the existing specification as a subset
of a new specification.</p>

<p>Not deprecating the current version of XML Signature (in particular as the
meaning of existing signatures is concerned) was identified as a possibly
important chartering requirement for future work.</p>

<p>Additional factors that enter into compatibility considerations for a
future charter include the effect on dependent specifications (<a
href="http://www.oasis-open.org/specs/index.php#wssv1.1">WS-Security</a>, <a
href="http://www.w3.org/TR/xkms2/">XKMS</a>, <a
href="http://www.oasis-open.org/specs/index.php#samlv2.0">SAML</a>, and
others), and the impact that inevitable cryptographic algorithm changes will
have on deployments.</p>

<h3><a id="OtherGroups" name="Other Groups">Interactions with other
groups</a></h3>

<p>Participants observed that future work would need to take work done on the
XML Processing Model and Efficient XML Interchange into account. Reference
model related issues seem likely to require consideration of a broader
picture, including the effect of the <code>xml:id</code> specification and
other work in the core XML Community.</p>

<p>Concern was expressed on the ability of other groups to re-use portions of
the XML Security specifications. As an example, a revision of XML Signature
might define schema elements globally to enable re-use. Thus any revision may
need to include re-usability as a requirement. </p>

<p>Existing work on long-term archival and notary services in various fora is
based on XML Signature; these communities were identified as relevant
stakeholders in future work. Additional "customers" of the XML Signature and
related specifications include the SAML community, WS-I, the WS-Security
community, Liberty alliance, and a number of other related groups.</p>

<p>The work of the ETSI XADES technical committee was brought to the
attention of workshop participants (<a
href="http://www.w3.org/2007/xmlsec/ws/papers/03-cruellas-etal/">Cruellas</a>
et al). It was suggested that features for which a satisfying specification
has been developed in the course of this work not be duplicated in eventual
future W3C work.</p>

<div class="author">
<hr />

<p>Frederick Hirsch, Thomas Roessler<br />
$Id: report.html,v 1.8 2007/10/23 15:38:44 roessler Exp $<br clear="none" />
</p>
</div>
</body>
</html>
