<!-- http://www.w3.org/TR/xmlenc-core1-interop/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <title>XML Encryption 1.1 Interop Test Report</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    
    
    <style type="text/css">
      tr.ok {color:green;}
      h2.ok {color:green;}
      h2.untested {color:red;}
    </style>
    <style type="text/css">
      tr.ok {color:green;}
      h2.ok {color:green;}
      h2.untested {color:red;}
    </style>
<style type="text/css">
/* --- TABLE --- */
table.testcases {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.testcases th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: center;
    border-left: 1px solid #fff;
    border-right: 1px solid #fff;
}

.testcases th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.testcases td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    border-left: 1px solid #005a9c;
    border-right: 1px solid #005a9c;
}


.testcases tr:nth-child(even) {
    background: #f0f6ff;
}
</style>    
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}


/* --- --- */
ol.algorithm { counter-reset:numsection; list-style-type: none; }
ol.algorithm li { margin: 0.5em 0; }
ol.algorithm li:before { font-weight: bold; counter-increment: numsection; content: counters(numsection, ".") ") "; }

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}
</style><link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-WG-NOTE"><!--[if lt IE 9]><script src='http://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head><body><div class="head">
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="http://www.w3.org/Icons/w3c_home" alt="W3C"></a>
    
  </p>
  <h1 class="title" id="title">XML Encryption 1.1 Interop Test Report</h1>
  
  <h2 id="w3c-working-group-note-13-november-2012"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note 13 November 2012</h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a href="http://www.w3.org/TR/2012/NOTE-xmlenc-core1-interop-20121113/">http://www.w3.org/TR/2012/NOTE-xmlenc-core1-interop-20121113/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/xmlenc-core1-interop/">http://www.w3.org/TR/xmlenc-core1-interop/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://www.w3.org/2008/xmlsec/Drafts/xmlenc-core1-interop/">http://www.w3.org/2008/xmlsec/Drafts/xmlenc-core1-interop/</a></dd>
    
    
    
    
    
      <dt>Previous version:</dt>
      <dd><a href=""></a></dd>
    
    
    <dt>Editors:</dt>
    <dd><span>Pratik Datta</span></dd>
<dd><span>Frederick Hirsch</span></dd>

    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 
        2012
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> 
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved.
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
      </p>
    
  
  <hr>
</div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>This document is the interop report for new features
        introduced in XML Encryption 1.1. It does not replicate interop
        testing performed for features retained from XML Encryption 1.0.</p>
    </section><section id="sotd" class="introductory"><h2>Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other
          documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
          of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports
          index</a> at http://www.w3.org/TR/.</em>
        </p>
        
      <p>This document records the results of
        interop testing using the test cases 
        referenced in this document. The Working Group has successfully completed interop
        testing but expects to update the references section of this document when XML
        Encryption 1.1 advances to Recommendation. 
      </p>
    
        <p>
          This document was published by the <a href="http://www.w3.org/2008/xmlsec/">XML Security Working Group</a> as a First Public Working Group Note.
          
          If you wish to make comments regarding this document, please send them to 
          <a href="mailto:public-xmlsec@w3.org">public-xmlsec@w3.org</a> 
          (<a href="mailto:public-xmlsec-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="http://lists.w3.org/Archives/Public/public-xmlsec/">archives</a>).
          
          
          All feedback is welcome.
        </p>
        
          <p>
            Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership.
            This is a draft document and may be updated, replaced or obsoleted by other documents at 
            any time. It is inappropriate to cite this document as other than work in progress.
          </p>
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/42458/status" rel="disclosure">public list of any patent disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes instructions for 
            disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the
            information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 class="introductory">Table of Contents</h2><ul class="toc"><li class="tocline"><a href="#sec-Introduction" class="tocxref"><span class="secno">1. </span>Introduction</a></li><li class="tocline"><a href="#sec-key-derivation" class="tocxref"><span class="secno">2. </span>Key Derivation</a></li><li class="tocline"><a href="#sec-key-agreement" class="tocxref"><span class="secno">3. </span>Key Agreement Algorithms</a></li><li class="tocline"><a href="#sec-aes-gcm" class="tocxref"><span class="secno">4. </span>Block Encryption Algorithms: AES-GCM</a></li><li class="tocline"><a href="#sec-digest" class="tocxref"><span class="secno">5. </span>SHA Algorithms</a></li><li class="tocline"><a href="#sec-key-transport" class="tocxref"><span class="secno">6. </span>RSA-OAEP Key Transport</a></li><li class="tocline"><a href="#sec-AlgorithmAdditions" class="tocxref"><span class="secno">7. </span>Canonicalization Algorithms  (previously interop tested)</a></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">A. </span>References</a><ul class="toc"><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">A.1 </span>Informative references</a></li></ul></li></ul></section>
    

    <section id="sec-Introduction">
      <!--OddPage--><h2><span class="secno">1. </span>Introduction</h2>
      <p>This document summarizes interop tests and the test results
        for new features introduced in XML Encryption 1.1 [<cite><a class="bibref" href="#bib-XMLENC-CORE1">XMLENC-CORE1</a></cite>].
        Changes to XML Encryption introduced in XML Encryption 1.1 are
        summarized in a detailed change explanation document
        [<cite><a class="bibref" href="#bib-XMLENC-CORE1-CHGS">XMLENC-CORE1-CHGS</a></cite>].  
      </p>
      <p>
        Items that were <em class="rfc2119" title="required">required</em> or <em class="rfc2119" title="optional">optional</em> features of XML Encryption 1.0
        were tested as part of <a href="http://www.w3.org/Encryption/2002/02-xenc-interop.html">XML Encryption 1.0 interop</a> and are not included in XML
        Encryption 1.1 testing, even if the status was changed from <em class="rfc2119" title="optional">optional</em>
        to <em class="rfc2119" title="required">required</em> (or vice versa). 
      </p>
      <p>
        Tests that are marked 'Y' are completed, 'U' means 'untested' and
        should not be taken to make a statement about the implementation (as
        testing may simply not have been performed for interop due to timing
        or other reasons).
      </p>
    </section>
    <section id="sec-key-derivation">
      <!--OddPage--><h2 class="ok"><span class="secno">2. </span>Key Derivation</h2>
      <ul>
        <li>Add ConcatKDF algorithm (<em class="rfc2119" title="required">required</em> algorithm)</li>
        <li>Add PBKDF2 algorithm  (<em class="rfc2119" title="optional">optional</em> algorithm)</li>
        <li>Add XML <code>DerivedKey</code> element</li>
      </ul>
      <table>
        <tbody><tr><th>Key Derivation Method</th><th>IBM</th><th>Microsoft</th></tr>
        <tr class="ok"><td>ConcatKDF</td><td>Y</td><td>Y</td></tr>
        <tr class="ok"><td>PBKDF2</td><td>Y</td><td>Y</td></tr>
      </tbody></table>

<p>
In these tests the content is encrypted with a symmetric key that is
derived from another symmetric key. The key to be derived  
from is specified in the "Symmetric key" column below.  
</p>

<table class="testcases">
 <tbody><tr>
   <th rowspan="2">#</th>
   <th colspan="4">Encryption Parameters</th>
   <th rowspan="2">CipherText</th>
   <th rowspan="2">Remarks</th>
 </tr> 
 <tr>
   <th>Plaintext</th>
   <th>Symmetric Key</th>
   <th>Content encryption<br> algorithm</th>
   <th>Key Derivation <br>algorithm</th>
  </tr>
  <tr>
   <td>DRV.1</td>
   <td><a href="files/microsoft/KDF-test-data.txt">KDF-test-data.txt</a></td>
   <td>0001020304050607<br>
   1011121314151617<br>
   2021222324252627<br>
   3031323334353637</td>
   <td>aes256-cbc</td>
   <td>ConcatKDF<br>SHA256</td>
   <td><a href="files/microsoft/dkey-example-ConcatKDF-crypto.xml">cipherText</a></td>
   <td>The symmetric key and plaintext are specified as hex strings.</td>
  </tr>
  <tr>
   <td>DRV.2</td>
   <td><a href="files/microsoft/KDF-test-data.txt">KDF-test-data.txt</a></td>
   <td>PASSWORD</td>
   <td>aes256-cbc</td>
   <td>PBKDF2<br>hmac-sha256, iteration=1024, salt=specified</td>
   <td><a href="files/microsoft/dkey-example-PBKDF2-crypto.xml">cipherText</a></td>
   <td>The symmetric key is the string "PASSWORD" converted into bytes.</td>
  </tr>
  <tr>
   <td>DRV.3</td>
   <td><a href="files/ibm/clearText">clearText</a></td>
   <td><a href="files/ibm/secret.concat.kdf">secret.concat.kdf</a></td>
   <td>aes256-cbc</td>
   <td>ConcatKDF<br>SHA256</td>
   <td><a href="files/ibm/dkey3-example-ConcatKDF-crypto.xml">cipherText</a></td>
   <td>The symmetric key and plaintext are specified as binary files.</td>
  </tr>
  <tr>
   <td>DRV.4</td>
   <td><a href="files/ibm/clearText">clearText</a></td>
   <td>PASSWORD</td>
   <td>aes256-cbc</td>
   <td>PBKDF2<br>hmac-sha256, iteration=4096, salt=specified</td>
   <td><a href="files/ibm/dkey3-example-PBKDF2-crypto.xml">cipherText</a></td>
   <td>The symmetric key is the string "PASSWORD" converted into bytes.</td>
  </tr>
</tbody></table>
      <p>Note
        - <code>ReferenceList</code>, <code>DerivedKeyName</code>
        and <code>MasterKeyName</code> schema items were not used in
        these tests. Use of <code>DerivedKey</code> with
      <code>RetrievalMethod</code> was also not tested.</p>

    </section>
    <section id="sec-key-agreement">
      <!--OddPage--><h2 class="ok"><span class="secno">3. </span>Key Agreement Algorithms</h2>
      <ul>
        <li>Add 
          <em class="rfc2119" title="required">required</em> Elliptic Curve Diffie-Hellman (Ephemeral-Static mode) </li>
        <li>Add
          <em class="rfc2119" title="optional">optional</em> Diffie-Hellman Key Agreement (Ephemeral-Static mode) with
          explicit Key Derivation Functions</li>
      </ul>
      <table>
        <tbody><tr><th>Key Agreement Algorithm</th><th>Microsoft</th><th>Oracle</th></tr>
        <tr class="ok"><td>Elliptic Curve Diffie-Hellman (Ephemeral-Static mode)</td><td>Y</td><td>Y</td></tr>
        <tr class="ok"><td>Diffie-Hellman Key Agreement (Ephemeral-Static mode)</td><td>Y</td><td>Y</td></tr>
      </tbody></table>
<p> In these tests the </p>
<ul>
 <li>At first the content is encrypted by a random symmetric key . 
 <br>The <code>KeyInfo</code> of the content's <code>EncryptedData</code> has <code>EncryptedKey</code>.</li>
 <li>Then this symmetric key is wrapped by a second symmetric key that is derived from the key agreement. 
 <br>The <code>KeyInfo</code> of first symmetric key's <code>EncryptedKey</code> has <code>AgreementMethod</code>.</li>
 <li>Key agreement is based on one sender's ephemeral key and receiver's static key. 
 <br>The <code>OriginatorKeyInfo</code> of <code>AgreementMethod</code> has a temporary generated key indicated by <code>KeyValue</code>.
 <br>The <code>RecipientKeyInfo</code> of <code>AgreementMethod</code>  has <code>X509Data</code> which is the receiver's public key.</li>
</ul>

<table class="testcases">
 <tbody><tr>
   <th rowspan="2">#</th>
   <th colspan="6">Encryption Parameters</th>
   <th rowspan="2">CipherText</th>
   <th rowspan="2">Remarks</th>
 </tr> 
 <tr>
   <th>Plaintext</th>
   <th>Asymmetric Key<br> Pvt key file and password</th>
   <th>Content encryption <br>algorithm</th>
   <th>Key Wrapping <br>algorithm</th>
   <th>Key Agreement <br>algorithm</th>
   <th>Key Derivation <br>algorithm</th>
  </tr>
  <tr>
   <td>AGRMNT.1</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>EC-P256<br><a href="files/oracle/EC-P256_SHA256WithECDSA.p12">pvtKey</a> "passwd"</td>
   <td>aes128-gcm</td>
   <td>kw-aes128</td>
   <td>ECDH-ES</td>
   <td>ConcatKDF<br>SHA256</td>
   <td><a href="files/oracle/cipherText__EC-P256__aes128-gcm__kw-aes128__ECDH-ES__ConcatKDF.xml">cipherText</a></td>
   <td rowspan="3">In the first three examples the key wrapping algorithm size matches the symmetric algorithm key size. This 
   is not required, the AES key wrapping algorithms can encrypt any data that is a multiple of 64 bits.</td>
  </tr>
  <tr>
   <td>AGRMNT.2</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>EC-P384<br><a href="files/oracle/EC-P384_SHA256WithECDSA.p12">pvtKey</a> "passwd"</td>
   <td>aes192-gcm</td>
   <td>kw-aes192</td>
   <td>ECDH-ES</td>
   <td>ConcatKDF<br>SHA384</td>
   <td><a href="files/oracle/cipherText__EC-P384__aes192-gcm__kw-aes192__ECDH-ES__ConcatKDF.xml">cipherText</a></td>
  </tr>
  <tr>
   <td>AGRMNT.3</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>EC-P521<br><a href="files/oracle/EC-P521_SHA256WithECDSA.p12">pvtKey</a> "passwd"</td>
   <td>aes256-gcm</td>
   <td>kw-aes256</td>
   <td>ECDH-ES</td>
   <td>ConcatKDF<br>SHA512</td>
   <td><a href="files/oracle/cipherText__EC-P521__aes256-gcm__kw-aes256__ECDH-ES__ConcatKDF.xml">cipherText</a></td>
  </tr>
  <tr>
   <td>AGRMNT.4</td>
   <td>d9313225f88406e5 a55909c5aff5269a</td>
   <td>EC-P256<br><a href="files/microsoft/EC-P256.pfx">pvtKey</a> "1234"</td>
   <td>aes128-gcm</td>
   <td>kw-aes128</td>
   <td>ECDH-ES</td>
   <td>ConcatKDF<br>SHA256</td>
   <td><a href="files/microsoft/cipherText__EC-P256__aes128-gcm__kw-aes128__ECDH-ES__ConcatKDF.xml">cipherText</a></td>
   <td rowspan="3">These three examples are very similar to the previous three, except that they encrypt binary data. The 
   binary data is specified in the left column as a hex string.</td>
  </tr>
  <tr>
   <td>AGRMNT.5</td>
   <td>d9313225f88406e5 a55909c5aff5269a</td>
   <td>EC-P384<br><a href="files/microsoft/EC-P384.pfx">pvtKey</a> "1234"</td>
   <td>aes192-gcm</td>
   <td>kw-aes192</td>
   <td>ECDH-ES</td>
   <td>ConcatKDF<br>SHA384</td>
   <td><a href="files/microsoft/cipherText__EC-P384__aes192-gcm__kw-aes192__ECDH-ES__ConcatKDF.xml">cipherText</a></td>
  </tr>
  <tr>
   <td>AGRMNT.6</td>
   <td>d9313225f88406e5 a55909c5aff5269a</td>
   <td>EC-P521<br><a href="files/microsoft/EC-P521.pfx">pvtKey</a> "1234"</td>
   <td>aes256-gcm</td>
   <td>kw-aes256</td>
   <td>ECDH-ES</td>
   <td>ConcatKDF<br>SHA512</td>
   <td><a href="files/microsoft/cipherText__EC-P521__aes256-gcm__kw-aes256__ECDH-ES__ConcatKDF.xml">cipherText</a></td>
  </tr>
  <tr>
   <td>AGRMNT.7</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>DH-1024<br><a href="files/oracle/DH-1024_SHA256WithDSA.p12">pvtKey</a> "passwd"</td>
   <td>aes128-gcm</td>
   <td>kw-aes128</td>
   <td>dh-es</td>
   <td>ConcatKDF<br>SHA256</td>
   <td><a href="files/oracle/cipherText__DH-1024__aes128-gcm__kw-aes128__dh-es__ConcatKDF.xml">cipherText</a></td>
   <td>This example encrypts with a Diffie Hellman key with the new algorithm <code>#dh-es</code> in which the 
   key derivation function is explicitly specified. </td> 
  </tr>
  <tr>
   <td>AGRMNT.8</td>
   <td>d9313225f88406e5 a55909c5aff5269a</td>
   <td>DH-2048<br><a href="files/microsoft/dh-2048.txt">pvtKey</a> in <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa833125(v=vs.85).aspx">CNG blob format</a> </td>
   <td>aes256-gcm</td>
   <td>kw-aes256</td>
   <td>dh-es</td>
   <td>ConcatKDF<br>SHA256</td>
   <td><a href="files/microsoft/cipherText__DH-2048__aes256-gcm__kw-aes256__dh-es__ConcatKDF.xml">cipherText</a></td>
   <td>This example also uses the new algorithm <code>#dh-es</code></td> 
  </tr>
  <tr>
   <td>AGRMNT.9</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>EC-P256<br><a href="files/oracle/EC-P256_SHA256WithECDSA.p12">pvtKey</a> "passwd"</td>
   <td>aes128-gcm</td>
   <td>kw-aes256</td>
   <td>ECDH-ES</td>
   <td>PBKDF2<br>hmac-sha256, iteration=2000, salt=specified</td>
   <td><a href="files/oracle/cipherText__EC-P256__aes128-gcm__kw-aes256__ECDH-ES__pbkdf2.xml">cipherText</a></td>
   <td>This example uses EC keys, but not the ConcatKDF key derivation function. Instead it uses the PBKDF2 key derivation.
   Also notice that the encryption algorithm and key wrapping algorithm have different key lengths - 128 and 256
   respectively . The PBKDF2 parameters
   specifies a key length of 32 to match the wrapping algorithm key length.</td>
  </tr>
 <tr>
   <td>AGRMNT.10</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>DH-1024<br><a href="files/oracle/DH-1024_SHA256WithDSA.p12">pvtKey</a> "passwd"</td>
   <td>aes128-gcm</td>
   <td>kw-aes128</td>
   <td>dh-es</td>
   <td>PBKDF2<br>hmac-sha256, iteration=2000, salt=specified</td>
   <td><a href="files/oracle/cipherText__DH-1024__aes128-gcm__kw-aes128__dh-es__pbkdf2.xml">cipherText</a></td>
   <td>This example encrypts with a Diffie Hellman key with PBKDF2 key derivation </td> 
  </tr>
</tbody></table>

    </section>
    <section id="sec-aes-gcm">
      <!--OddPage--><h2 class="ok"><span class="secno">4. </span>Block Encryption Algorithms: AES-GCM</h2>
      <ul>
        <li>Add AES-128-GCM Block Encryption Algorithm as <em class="rfc2119" title="required">required</em></li>
        <li>Add AES-256-GCM Block Encryption Algorithm as <em class="rfc2119" title="optional">optional</em></li>
      </ul>
      <table>
        <tbody><tr><th>Block Encryption Algorithm</th><th>Apache Santuario (C++)</th><th>Oracle</th><th>Microsoft</th></tr>
        <tr class="ok"><td>AES-128-GCM</td><td>U</td><td>Y</td><td>Y</td></tr>
        <tr class="ok"><td>AES-192-GCM</td><td>Y</td><td>Y</td><td>U</td></tr>
        <tr class="ok"><td>AES-256-GCM</td><td>Y</td><td>Y</td><td>U</td></tr>
      </tbody></table>
 The details about the encryption key are embedded in the <code>&lt;KeyInfo&gt;</code>
<p>
The tests in  <a href="#sec-key-transport" class="sectionRef sec-ref">section 6. RSA-OAEP Key Transport</a> were used to interop test  these block
       encryption algorithms.
</p>
<p>In addition, the following test was also used. In this test the
  content is encrypted by the specified symmetric key: </p> 

<table class="testcases">
 <tbody><tr>
   <th rowspan="2">#</th>
   <th colspan="3">Encryption Parameters</th>
   <th rowspan="2">CipherText</th>
   <th rowspan="2">Remarks</th>
 </tr> 
 <tr>
   <th>Plaintext</th>
   <th>Symmetric Key</th>
   <th>Content encryption<br> algorithm</th>
  </tr>
  <tr>
   <td>SYM.1</td>
   <td>d9313225f88406e5 <br>a55909c5aff5269a</td>
   <td>feffe9928665731c <br>6d6a8f9467308308</td>
   <td>aes128-gcm</td>
   <td><a href="files/microsoft/xenc11-example-AES128-GCM.xml">cipherText</a></td>
   <td>The plain text and the keys are specified as hex strings. </td>
  </tr>
 </tbody></table>
    </section>
    <section id="sec-digest">
      <!--OddPage--><h2 class="ok"><span class="secno">5. </span>SHA Algorithms</h2>
      <ul>
        <li>Add <code>SHA-384</code> Message Digest as
          <em class="rfc2119" title="optional">optional</em></li>
      </ul>
      <p>This algorithm was tested as part of XML Signature 1.1 SHA interop
        testing [<cite><a class="bibref" href="#bib-XMLDSIG-CORE1-INTEROP">XMLDSIG-CORE1-INTEROP</a></cite>].</p> 
    </section>
    <section id="sec-key-transport">
      <!--OddPage--><h2 class="ok"><span class="secno">6. </span>RSA-OAEP Key Transport</h2>
      <ul>
        <li>Enabled <code>RSA-OAEP</code> Key Transport to be used with
          arbitrary mask 
          generation 
          functions (e.g. <code>SHA2</code> 
          based) by defining an
          additional <code>RSA-OAEP</code> <code>URI</code> and significantly 
          revising specification text. Add definition of
          new <code>xenc11:MGF</code> element. 
      </li></ul>
      <table class="ok">
        <tbody><tr><th>RSA-OAEP with specified MGF Function</th><th>Apache Santuario (C++)</th><th>Oracle</th></tr>
        <tr class="ok"><td>RSA-OAEP with SHA-1</td><td>Y</td><td>Y</td></tr>
      </tbody></table>
In these tests the 
<ul>
 <li>At first the content is encrypted by a random symmetric key . 
 <br>The <code>KeyInfo</code> of the contents's <code>EncryptedData</code> has an <code>EncryptedKey</code>.</li>
 <li>Then this symmetric key is wrapped by an public key. 
 <br>The <code>KeyInfo</code> of this <code>EncryptedKey</code> has <code>X509Data</code> of the public key.</li>
</ul>

<table class="testcases">
 <tbody><tr>
   <th rowspan="2">#</th>
   <th colspan="4">Encryption Parameters</th>
   <th rowspan="2">CipherText</th>
   <th rowspan="2">Remarks</th>
 </tr> 
 <tr>
   <th>Plaintext</th>
   <th>Asymmetric Key<br> Pvt key file and password</th>
   <th>Content encryption<br> algorithm</th>
   <th>Key encryption<br> algorithm</th>
  </tr>
  <tr>
   <td>WRAP.1</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>RSA-2048<br><a href="files/oracle/RSA-2048_SHA256WithRSA.p12">pvtKey</a> "passwd"</td>
   <td>aes128-gcm</td>
   <td>rsa-oaep-mgf1p<br>Digest:SHA256, MGF:SHA1 <br>PSource: None</td>
   <td><a href="files/oracle/cipherText__RSA-2048__aes128-gcm__rsa-oaep-mgf1p.xml">cipherText</a></td>
   <td>All the examples in this table use the new AES-GCM algorithm. </td>
  </tr>
  <tr>
   <td>WRAP.2</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>RSA-3072<br><a href="files/oracle/RSA-3072_SHA256WithRSA.p12">pvtKey</a> "passwd"</td>
   <td>aes192-gcm</td>
   <td>rsa-oaep-mgf1p <br>Digest:SHA256, MGF:SHA1 <br>PSource: None</td>
   <td><a href="files/oracle/cipherText__RSA-3072__aes192-gcm__rsa-oaep-mgf1p__Sha256.xml">cipherText</a></td>
   <td>In this example the OAEP digest method is specified as SHA256. The MFG algorithm is SHA1.</td>
  </tr>
  <tr>
   <td id="wrap3">WRAP.3</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>RSA-3072<br><a href="files/oracle/RSA-3072_SHA256WithRSA.p12">pvtKey</a> "passwd"</td>
   <td>aes256-gcm</td>
   <td>rsa-oaep <br>Digest:SHA384, MGF:SHA1 <br>PSource: None</td>
   <td><a href="files/oracle/cipherText__RSA-3072__aes256-gcm__rsa-oaep__Sha384-MGF_Sha1.xml">cipherText</a></td>
   <td>This example uses the new <code>#rsa-oaep</code> algorithm that takes in explicit <code>MGF</code>
   algorithm. The MGF has been specified as SHA1.</td>
  </tr>
  <tr>
   <td id="wrap4">WRAP.4</td>
   <td><a href="files/oracle/plaintext.xml">plaintext.xml</a></td>
   <td>RSA-4096<br><a href="files/oracle/RSA-4096_SHA256WithRSA.p12">pvtKey</a> "passwd"</td>
   <td>aes256-gcm</td>
   <td>rsa-oaep <br>Digest:SHA512, MGF:SHA1 <br>PSource: Specified 8 bytes</td>
   <td><a href="files/oracle/cipherText__RSA-4096__aes256-gcm__rsa-oaep__Sha512-MGF_Sha1_PSource.xml">cipherText</a></td>
   <td>This also uses <code>#rsa-oaep</code> but has a 8 byte PSource explicitly defined .</td>
  </tr>
</tbody></table>
    </section>
    <section id="sec-AlgorithmAdditions">
      <!--OddPage--><h2><span class="secno">7. </span>Canonicalization Algorithms  (previously interop tested)</h2>
      <p>The following algorithms were added in XML Encryption 1.1
        but were 
        not included in this round of  interop testing as they have been
        previously tested 
        during the development of the corresponding <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation:</p>
      <ul>
        <li>Add Canonical XML 1.1 (omit comments) as <em class="rfc2119" title="optional">optional</em>.
          Tested with development of [<cite><a class="bibref" href="#bib-XML-C14N11">XML-C14N11</a></cite>].</li>
        <li>Add Canonical XML 1.1 with comments as <em class="rfc2119" title="optional">optional</em>.
          Tested with development of [<cite><a class="bibref" href="#bib-XML-C14N11">XML-C14N11</a></cite>].</li>
      </ul>
    </section>
  

<section id="references" class="appendix"><!--OddPage--><h2><span class="secno">A. </span>References</h2><section id="informative-references"><h3><span class="secno">A.1 </span>Informative references</h3><dl class="bibliography"><dt id="bib-XML-C14N11">[XML-C14N11]</dt><dd>John Boyer, Glenn Marcy. <a href="http://www.w3.org/TR/2008/REC-xml-c14n11-20080502/"><cite>Canonical XML Version 1.1.</cite></a> 2 May 2008. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2008/REC-xml-c14n11-20080502/">http://www.w3.org/TR/2008/REC-xml-c14n11-20080502/</a> 
</dd><dt id="bib-XMLDSIG-CORE1-INTEROP">[XMLDSIG-CORE1-INTEROP]</dt><dd>Frederick Hirsch, Pratik Datta <a href="http://www.w3.org/TR/2012/NOTE-xmldsig-core1-interop-20121113/"><cite>XML Signature 1.1 Interop Test Report</cite></a>. 13 November 2012. W3C Working Group Note. URL: <a href="http://www.w3.org/TR/2012/NOTE-xmldsig-core1-interop-20121113/">http://www.w3.org/TR/2012/NOTE-xmldsig-core1-interop-20121113/</a>
</dd><dt id="bib-XMLENC-CORE1">[XMLENC-CORE1]</dt><dd>J. Reagle; D. Eastlake; F. Hirsch; T. Roessler. <a href="http://www.w3.org/TR/2012/WD-xmlenc-core1-20121018/"><cite>XML Encryption Syntax and Processing Version 1.1.</cite></a> 18 October 2012. W3C Last Call Working Draft. (Work in progress) URL: <a href="http://www.w3.org/TR/2012/WD-xmlenc-core1-20121018/">http://www.w3.org/TR/2012/WD-xmlenc-core1-20121018/</a> 
</dd><dt id="bib-XMLENC-CORE1-CHGS">[XMLENC-CORE1-CHGS]</dt><dd>Frederick Hirsch. <a href="http://www.w3.org/TR/2012/NOTE-xmlenc-core1-explain-20121018/"><cite>Functional Explanation of in XML Encryption 1.1</cite></a>. 18 October 2012. W3C Working Group Note. URL: <a href="http://www.w3.org/TR/2012/NOTE-xmlenc-core1-explain-20121018/">http://www.w3.org/TR/2012/NOTE-xmlenc-core1-explain-20121018/</a> 
</dd></dl></section></section></body></html>