<!-- http://www.w3.org/TR/appmanifest/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document" about="" property=
"dcterms:language" content="en">
  <head>
    <meta name="generator" content=
    "HTML Tidy for HTML5 (experimental) for Mac OS X https://github.com/w3c/tidy-html5/tree/c63cc39">
    <meta charset="utf-8">
    <title>
      Manifest for web apps and bookmarks
    </title>
    <script>
function hideWIP(elem){
      elem.parentNode.parentNode.id = '';
      elem.parentNode.id = '';
      elem.style.display = 'none';
    }
    </script>
    <style>

    #wipcontainer {
        position: fixed;
        bottom: 0px;
        margin: 0 0 0 -37.5%;
        width: 75%;
        left: 50%;
        z-index: 1000;
    }
    #wip {
        display: block;
        color: white;
        width: auto;
        border: thin solid rgb(141, 0, 0);
        border-bottom: none;
        border-radius: 0.5em 0.5em 0 0;
        box-shadow: 0 0 1em rgba(127, 127, 127, .5);
        padding: 1em 8em 1.5em 8em;
        margin: auto;
    background: #a90329; /* Old browsers */
    background: -moz-linear-gradient(top,  #a90329 0%, #8f0222 44%, #6d0019 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a90329), color-stop(44%,#8f0222), color-stop(100%,#6d0019)); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top,  #a90329 0%,#8f0222 44%,#6d0019 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(top,  #a90329 0%,#8f0222 44%,#6d0019 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(top,  #a90329 0%,#8f0222 44%,#6d0019 100%); /* IE10+ */
    background: linear-gradient(to bottom,  #a90329 0%,#8f0222 44%,#6d0019 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a90329', endColorstr='#6d0019',GradientType=0 ); /* IE6-9 */

        text-align: center;
        font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 0.9em;
        font-weight: 300;
    }
    @media (max-width: 50em) {
        #wipcontainer {
            margin: 0 0 0 0;
            left:0;
            width: auto;
        }
        #wip {
            padding: 1em 4em 1.5em 4em;
            width: auto;
        }
    }
    #wip strong {
        font-weight: normal;
        display: block;
        text-transform: uppercase;
        text-shadow: 0 2px 2px rgba(0, 0, 0, 0.6);
        margin: 0.25em auto 0.5em auto;
    }
    #wip a {
        color: #fff;
    }
    #wip a:hover {
        background: transparent;
    }
    #wip strong:before, #wip strong:after {
        position: relative;
        content:'\26A0';
        padding: 0 0.5em 0 0.5em;
        text-shadow: none;
        font-size: 1.25em;
    }
    #wip > input {
        position: absolute;
        right: 5px;
        top: 5px;
        background: none;
        border: none;
        color: rgb(243, 245, 246);
        font-weight: bold;
        font-size: 1.2em;
        cursor: pointer;
        border: thin solid rgba(127, 127, 127, .0);
        border-radius: .3em;
    }
    #wip > input:hover {
        border: thin outset rgba(127, 127, 127, .5);
    }
    #wip > input:active {
        border: thin inset rgba(127, 127, 127, .5);
    }

    /*****************************************************************
    * ReSpec 3 CSS
    * Robin Berjon - http://berjon.com/
    *****************************************************************/

    /* --- INLINES --- */
    em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
    }

    h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
    h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
    }

    dfn {
    font-weight:    bold;
    }

    a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
    }

    a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
    }

    a.bibref {
    text-decoration:    none;
    }

    cite .bibref {
    font-style: normal;
    }

    code {
    color:  #ff4500;
    }

    /* --- TOC --- */
    .toc a, .tof a {
    text-decoration:    none;
    }

    a .secno, a .figno {
    color:  #000;
    }

    ul.tof, ol.tof {
    list-style: none outside none;
    }

    .caption {
    margin-top: 0.5em;
    font-style:   italic;
    }

    /* --- TABLE --- */
    table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
    }

    .simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    }

    .simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
    }

    .simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    }

    .simple tr:nth-child(even) {
    background: #f0f6ff;
    }

    /* --- DL --- */
    .section dd > p:first-child {
    margin-top: 0;
    }

    .section dd > p:last-child {
    margin-bottom: 0;
    }

    .section dd {
    margin-bottom:  1em;
    }

    .section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
    }
    </style>
    <style>
/* --- EXAMPLES --- */
    div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
    }
    div.example-title span {
    text-transform: uppercase;   
    }
    aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
    }
    div.illegal-example { color: red }
    div.illegal-example p { color: black }
    aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;    
    }

    aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
    }
    aside.example div.example div.example-title {
    color: #999;
    }
    </style>
    <style>
/* --- ISSUES/NOTES --- */
    div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
    }
    div.issue-title { color: #e05252; }
    div.note-title { color: #2b2; }
    div.issue-title span, div.note-title span {
    text-transform: uppercase;
    }
    div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
    }
    .note > p:first-child, .issue > p:first-child { margin-top: 0 }
    .issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    }
    div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
    }
    span.note, span.issue { padding: .1em .5em .15em; }

    .issue {
    border-color: #e05252;
    background: #fbe9e9;
    }
    .note {
    border-color: #52e052;
    background: #e9fbe9;
    }


    </style>
    <style>
/* HIGHLIGHTS */
    code.prettyprint {
    color:  inherit;
    }

    /* this from google-code-prettify */
    .pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
    </style>
    <style>
/* --- WEB IDL --- */
    pre.idl {
    border-top: 1px solid #90b8de;
    border-bottom: 1px solid #90b8de;
    padding:    1em;
    line-height:    120%;
    }

    pre.idl::before {
    content:    "WebIDL";
    display:    block;
    width:      150px;
    background: #90b8de;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
    }

    .idlType {
    color:  #ff4500;
    font-weight:    bold;
    text-decoration:    none;
    }

    /*.idlModule*/
    /*.idlModuleID*/
    /*.idlInterface*/
    .idlInterfaceID, .idlDictionaryID, .idlCallbackID, .idlEnumID {
    font-weight:    bold;
    color:  #005a9c;
    }
    a.idlEnumItem {
    color:  #000;
    border-bottom:  1px dotted #ccc;
    text-decoration: none;
    }

    .idlSuperclass {
    font-style: italic;
    color:  #005a9c;
    }

    /*.idlAttribute*/
    .idlAttrType, .idlFieldType, .idlMemberType {
    color:  #005a9c;
    }
    .idlAttrName, .idlFieldName, .idlMemberName {
    color:  #ff4500;
    }
    .idlAttrName a, .idlFieldName a, .idlMemberName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
    }

    /*.idlMethod*/
    .idlMethType, .idlCallbackType {
    color:  #005a9c;
    }
    .idlMethName {
    color:  #ff4500;
    }
    .idlMethName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
    }

    /*.idlCtor*/
    .idlCtorName {
    color:  #ff4500;
    }
    .idlCtorName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
    }

    /*.idlParam*/
    .idlParamType {
    color:  #005a9c;
    }
    .idlParamName, .idlDefaultValue {
    font-style: italic;
    }

    .extAttr {
    color:  #666;
    }

    /*.idlSectionComment*/
    .idlSectionComment {
    color: gray;
    }

    /*.idlConst*/
    .idlConstType {
    color:  #005a9c;
    }
    .idlConstName {
    color:  #ff4500;
    }
    .idlConstName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
    }

    /*.idlException*/
    .idlExceptionID {
    font-weight:    bold;
    color:  #c00;
    }

    .idlTypedefID, .idlTypedefType {
    color:  #005a9c;
    }

    .idlRaises, .idlRaises a.idlType, .idlRaises a.idlType code, .excName a, .excName a code {
    color:  #c00;
    font-weight:    normal;
    }

    .excName a {
    font-family:    monospace;
    }

    .idlRaises a.idlType, .excName a.idlType {
    border-bottom:  1px dotted #c00;
    }

    .excGetSetTrue, .excGetSetFalse, .prmNullTrue, .prmNullFalse, .prmOptTrue, .prmOptFalse {
    width:  45px;
    text-align: center;
    }
    .excGetSetTrue, .prmNullTrue, .prmOptTrue { color:  #0c0; }
    .excGetSetFalse, .prmNullFalse, .prmOptFalse { color:  #c00; }

    .idlImplements a {
    font-weight:    bold;
    }

    dl.attributes, dl.methods, dl.constants, dl.constructors, dl.fields, dl.dictionary-members {
    margin-left:    2em;
    }

    .attributes dt, .methods dt, .constants dt, .constructors dt, .fields dt, .dictionary-members dt {
    font-weight:    normal;
    }

    .attributes dt code, .methods dt code, .constants dt code, .constructors dt code, .fields dt code, .dictionary-members dt code {
    font-weight:    bold;
    color:  #000;
    font-family:    monospace;
    }

    .attributes dt code, .fields dt code, .dictionary-members dt code {
    background:  #ffffd2;
    }

    .attributes dt .idlAttrType code, .fields dt .idlFieldType code, .dictionary-members dt .idlMemberType code {
    color:  #005a9c;
    background:  transparent;
    font-family:    inherit;
    font-weight:    normal;
    font-style: italic;
    }

    .methods dt code {
    background:  #d9e6f8;
    }

    .constants dt code {
    background:  #ddffd2;
    }

    .constructors dt code {
    background:  #cfc;
    }

    .attributes dd, .methods dd, .constants dd, .constructors dd, .fields dd, .dictionary-members dd {
    margin-bottom:  1em;
    }

    table.parameters, table.exceptions {
    border-spacing: 0;
    border-collapse:    collapse;
    margin: 0.5em 0;
    width:  100%;
    }
    table.parameters { border-bottom:  1px solid #90b8de; }
    table.exceptions { border-bottom:  1px solid #deb890; }

    .parameters th, .exceptions th {
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    font-family:    initial;
    font-weight:    normal;
    text-shadow:    #666 1px 1px 0;
    }
    .parameters th { background: #90b8de; }
    .exceptions th { background: #deb890; }

    .parameters td, .exceptions td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    vertical-align: top;
    }

    .parameters tr:first-child td, .exceptions tr:first-child td {
    border-top: none;
    }

    .parameters td.prmName, .exceptions td.excName, .exceptions td.excCodeName {
    width:  100px;
    }

    .parameters td.prmType {
    width:  120px;
    }

    table.exceptions table {
    border-spacing: 0;
    border-collapse:    collapse;
    width:  100%;
    }
    </style>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-WD">
    <!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->
  </head>
  <body class="h-entry" style="" role="document" id="respecDocument">
    <div class="head" role="contentinfo" id="respecHeader">
      <p>
        <a href="http://www.w3.org/"><img width="72" height="48" src=
        "https://www.w3.org/Icons/w3c_home" alt="W3C"></a>
      </p>
      <h1 class="title p-name" id="title" property="dcterms:title">
        Manifest for web apps and bookmarks
      </h1>
      <h2 property="dcterms:issued" datatype="xsd:dateTime" content=
      "2013-12-02T20:11:43.000Z" id=
      "w3c-first-public-working-draft-17-december-2013">
        <abbr title="World Wide Web Consortium">W3C</abbr> First Public Working
        Draft <time class="dt-published" datetime="2013-12-17">17 December
        2013</time>
      </h2>
      <dl>
        <dt>
          This version:
        </dt>
        <dd>
          <a class="u-url" href=
          "http://www.w3.org/TR/2013/WD-appmanifest-20131217/">http://www.w3.org/TR/2013/WD-appmanifest-20131217/</a>
        </dd>
        <dt>
          Latest published version:
        </dt>
        <dd>
          <a href=
          "http://www.w3.org/TR/appmanifest/">http://www.w3.org/TR/appmanifest/</a>
        </dd>
        <dt>
          Latest Editor's draft:
        </dt>
        <dd>
          <a href=
          "http://w3c.github.io/manifest/">http://w3c.github.io/manifest/</a>
          (<a href=
          "https://github.com/sysapps/manifest/commits/gh-pages">commit
          history</a>)
        </dd>
        <dt>
          Editors:
        </dt>
        <dd class="p-author h-card vcard" rel="bibo:editor" inlist="">
          <span typeof="foaf:Person"><span property="foaf:name" class=
          "p-name fn">Marcos Caceres</span>, <a rel="foaf:workplaceHomepage"
          class="p-org org h-org h-card" href="http://mozilla.org">Mozilla
          Corporation</a></span>
        </dd>
        <dd class="p-author h-card vcard" rel="bibo:editor" inlist="">
          <span typeof="foaf:Person"><span property="foaf:name" class=
          "p-name fn">Anssi Kostiainen</span>, <a rel="foaf:workplaceHomepage"
          class="p-org org h-org h-card" href="http://intel.com">Intel
          Corporation</a></span>
        </dd>
        <dd class="p-author h-card vcard" rel="bibo:editor" inlist="">
          <span typeof="foaf:Person"><span property="foaf:name" class=
          "p-name fn">Kenneth Rohde Christiansen</span>, <a rel=
          "foaf:workplaceHomepage" class="p-org org h-org h-card" href=
          "http://intel.com">Intel Corporation</a></span>
        </dd>
        <dt>
          Feedback?
        </dt>
        <dd>
          <a href="https://github.com/sysapps/manifest">We are on GitHub</a>
        </dd>
        <dd>
          <a href="https://github.com/sysapps/manifest/issues">File a bug</a>
        </dd>
      </dl>
      <p class="copyright">
        <a href=
        "http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
        © 2013 <a href="http://www.w3.org/"><abbr title=
        "World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=
        "http://www.csail.mit.edu/"><abbr title=
        "Massachusetts Institute of Technology">MIT</abbr></a>, <a href=
        "http://www.ercim.eu/"><abbr title=
        "European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href=
        "http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href=
        "http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href=
        "http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
        and <a href=
        "http://www.w3.org/Consortium/Legal/copyright-documents">document
        use</a> rules apply.
      </p>
      <hr>
    </div>
    <section id="abstract" class="introductory" property="dcterms:abstract"
    datatype="" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter">
      <h2 aria-level="1" role="heading" id="h2_abstract">
        Abstract
      </h2>
      <p>
        <strong>This is a work in progress!</strong> For the latest updates
        from the <a href="http://www.w3.org/2008/webapps/">Web Applications
        (WebApps) Working Group</a> possibly including important bug fixes,
        please look at the <a href="http://w3c.github.io/manifest/">draft on
        GitHub</a>.
      </p>
      <p>
        This specification defines a <em>manifest</em>, which provides
        developers with a centralized place to put metadata about a web
        application. This includes, amongst other things, the ability to
        specify the name of the web application, links to icons, as well as the
        preferred URL at which the web application should open when it is
        launched by the user.
      </p>
      <p>
        With this metadata, user agents can provide, for example, enhanced
        bookmarking capabilities such as being able to add a web application to
        the homescreen of a device - as well as the various icons needed to
        effectively integrate with an OS's task switcher and system
        preferences. The specification also defines an API to enable
        bookmarking from within a document, as well as a means to check if an
        application is running in a special mode called "standalone".
      </p>
      <p>
        This specification also defines the <code>manifest</code> link type,
        which provides a declarative means for a web document to be associated
        with a manifest.
      </p>
    </section>
    <section id="sotd" class="introductory" typeof="bibo:Chapter" resource=
    "#ref" rel="bibo:Chapter">
      <h2 aria-level="1" role="heading" id="h2_sotd">
        Status of This Document
      </h2>
      <div id="wipcontainer">
        <p class="stability" id="wip">
          <strong>This is a work in progress!</strong> This specification is
          for review and not for implementation! For the latest updates,
          including important bug fixes, please look at the <a href=
          "http://w3c.github.io/manifest/">draft on GitHub</a> instead.
          <input onclick="hideWIP(this)" value="×" type="button">
        </p>
      </div>
      <p>
        <em>This section describes the status of this document at the time of
        its publication. Other documents may supersede this document. A list of
        current <abbr title="World Wide Web Consortium">W3C</abbr> publications
        and the latest revision of this technical report can be found in the
        <a href="http://www.w3.org/TR/"><abbr title=
        "World Wide Web Consortium">W3C</abbr> technical reports index</a> at
        http://www.w3.org/TR/.</em>
      </p>
      <p>
        Implementors should be aware that this specification is not stable.
        <strong>Implementors who are not taking part in the discussions are
        likely to find the specification changing out from under them in
        incompatible ways.</strong> Vendors interested in implementing this
        specification before it eventually reaches the Candidate Recommendation
        phase should join the aforementioned mailing lists and take part in the
        discussions.
      </p>
      <p>
        This document was published by the <a href=
        "http://www.w3.org/2008/webapps/">Web Applications (WebApps) Working
        Group</a> as a First Public Working Draft. This document is intended to
        become a <abbr title="World Wide Web Consortium">W3C</abbr>
        Recommendation. If you wish to make comments regarding this document,
        please send them to <a href=
        "mailto:public-webapps@w3.org">public-webapps@w3.org</a> (<a href=
        "mailto:public-webapps-request@w3.org?subject=subscribe">subscribe</a>,
        <a href=
        "http://lists.w3.org/Archives/Public/public-webapps/">archives</a>).
        All comments are welcome. You can also <a href=
        "https://github.com/sysapps/manifest/issues">File a bug</a>.
      </p>
      <p>
        Publication as a First Public Working Draft does not imply endorsement
        by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership.
        This is a draft document and may be updated, replaced or obsoleted by
        other documents at any time. It is inappropriate to cite this document
        as other than work in progress.
      </p>
      <p>
        This document was produced by a group operating under the <a id=
        "sotd_patent" about="" rel="w3p:patentRules" href=
        "http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004
        <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href=
        "http://www.w3.org/2004/01/pp-impl/42538/status" rel=
        "disclosure">public list of any patent disclosures</a> made in
        connection with the deliverables of the group; that page also includes
        instructions for disclosing a patent. An individual who has actual
        knowledge of a patent which the individual believes contains <a href=
        "http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
        Claim(s)</a> must disclose the information in accordance with <a href=
        "http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
        6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent
        Policy</a>.
      </p>
    </section>
    <section id="toc">
      <h2 class="introductory" aria-level="1" role="heading" id="h2_toc">
        Table of Contents
      </h2>
      <ul class="toc" role="directory" id="respecContents">
        <li class="tocline">
          <a href="#usage-examples" class="tocxref"><span class=
          "secno">1.</span> Usage Examples</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#example-manifest" class="tocxref"><span class=
              "secno">1.1</span> Example manifest</a>
            </li>
            <li class="tocline">
              <a href="#example-of-linking-to-manifest" class=
              "tocxref"><span class="secno">1.2</span> Example of linking to
              manifest</a>
            </li>
            <li class="tocline">
              <a href="#example-of-using-the-api" class="tocxref"><span class=
              "secno">1.3</span> Example of using the API</a>
            </li>
            <li class="tocline">
              <a href="#request-adding-to-homescreen" class=
              "tocxref"><span class="secno">1.4</span> Request adding to
              homescreen</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#use-cases-and-requirements" class="tocxref"><span class=
          "secno">2.</span> Use cases and requirements</a>
        </li>
        <li class="tocline">
          <a href="#manifest" class="tocxref"><span class="secno">3.</span>
          manifest</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#name-member" class="tocxref"><span class=
              "secno">3.1</span> <code title="">name</code> member</a>
            </li>
            <li class="tocline">
              <a href="#dont-share-cookies-and-stuff-member" class=
              "tocxref"><span class="secno">3.2</span>
              <code>dont-share-cookies-and-stuff</code> member</a>
            </li>
            <li class="tocline">
              <a href="#url-member" class="tocxref"><span class=
              "secno">3.3</span> <code>url</code> member</a>
            </li>
            <li class="tocline">
              <a href="#icons-member" class="tocxref"><span class=
              "secno">3.4</span> <code title="">icons</code> member</a>
            </li>
            <li class="tocline">
              <a href="#orientation-member" class="tocxref"><span class=
              "secno">3.5</span> <code>orientation</code> member</a>
            </li>
            <li class="tocline">
              <a href="#mode-member" class="tocxref"><span class=
              "secno">3.6</span> <code title="">mode</code> member</a>
            </li>
            <li class="tocline">
              <a href="#processing-the-manifest" class="tocxref"><span class=
              "secno">3.7</span> Processing the manifest</a>
            </li>
            <li class="tocline">
              <a href="#linking" class="tocxref"><span class="secno">3.8</span>
              Linking to a manifest</a>
            </li>
            <li class="tocline">
              <a href="#proprietary-extensions" class="tocxref"><span class=
              "secno">3.9</span> Proprietary extensions to the manifest</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#launching-a-standalone-web-application" class=
          "tocxref"><span class="secno">4.</span> Launching a standalone web
          application</a>
        </li>
        <li class="tocline">
          <a href="#icon-object-and-its-members" class="tocxref"><span class=
          "secno">5.</span> Icon object and its members</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#density-member" class="tocxref"><span class=
              "secno">5.1</span> <code>density</code> member</a>
            </li>
            <li class="tocline">
              <a href="#width-and-height-members" class="tocxref"><span class=
              "secno">5.2</span> <code>width</code> and <code title=
              "">height</code> members</a>
            </li>
            <li class="tocline">
              <a href="#src-member" class="tocxref"><span class=
              "secno">5.3</span> <code>src</code> member</a>
            </li>
            <li class="tocline">
              <a href="#type-member" class="tocxref"><span class=
              "secno">5.4</span> <code>type</code> member</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#extensions-to-the-navigator-object" class=
          "tocxref"><span class="secno">6.</span> Extensions to the
          <code>Navigator</code> object</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#attributes" class="tocxref"><span class=
              "secno">6.1</span> Attributes</a>
            </li>
            <li class="tocline">
              <a href="#methods" class="tocxref"><span class="secno">6.2</span>
              Methods</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#media-type-reregistration" class="tocxref"><span class=
          "secno">7.</span> Media type reregistration</a>
        </li>
        <li class="tocline">
          <a href="#conformance" class="tocxref"><span class="secno">8.</span>
          Conformance</a>
        </li>
        <li class="tocline">
          <a href="#acknowledgments" class="tocxref"><span class=
          "secno">A.</span> Acknowledgments</a>
        </li>
        <li class="tocline">
          <a href="#references" class="tocxref"><span class="secno">B.</span>
          References</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#normative-references" class="tocxref"><span class=
              "secno">B.1</span> Normative references</a>
            </li>
            <li class="tocline">
              <a href="#informative-references" class="tocxref"><span class=
              "secno">B.2</span> Informative references</a>
            </li>
          </ul>
        </li>
      </ul>
    </section>
    <section id="usage-examples">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_usage-examples">
        <span class="secno">1.</span> Usage Examples
      </h2>
      <p>
        This section shows how the expected usage of the various features
        provided by this specification.
      </p>
      <section class="informative" id="example-manifest">
        <h3 aria-level="2" role="heading" id="h3_example-manifest">
          <span class="secno">1.1</span> Example manifest
        </h3>
        <p>
          <em>This section is non-normative.</em>
        </p>
        <p>
          The following shows a typical <a href="#dfn-manifest" class=
          "internalDFN">manifest</a>.
        </p>
        <div class="example">
          <div class="example-title">
            <span>Example 1</span>: typical manifest
          </div>
          <pre class="example highlight json prettyprint">
<span class="pun">{</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"Example"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"url"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"/start.html"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"mode"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"standalone"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"icons"</span><span class="pun">:</span><span class=
"pln"> </span><span class="pun">[{</span><span class="pln">
      </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"icon/lowres"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"density"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"1"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"width"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"64"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"type"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"image/webp"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
      </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"icon/hd"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"density"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"2"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"width"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"64"</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">}</span>
</pre>
        </div>
      </section>
      <section id="example-of-linking-to-manifest">
        <h3 aria-level="2" role="heading" id=
        "h3_example-of-linking-to-manifest">
          <span class="secno">1.2</span> Example of linking to manifest
        </h3>
        <p>
          Example of using a <code>link</code> element to associate a website
          with a manifest. The example also shows how HTML fallbacks, such as
          "<span class="example highlight html">application-name</span>", can
          be used to support legacy user agents that don't implement this
          specification.
        </p>
        <div class="example">
          <div class="example-title">
            <span>Example 2</span>: linking to a manifest
          </div>
          <pre class="example highlight html prettyprint">
<span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;head&gt;</span><span class="pln">
</span><span class="tag">&lt;title&gt;</span><span class=
"pln">The Best News - international</span><span class=
"tag">&lt;/title&gt;</span><span class="pln">

</span><span class=
"com">&lt;!-- link to bookmark metadata --&gt;</span><span class="pln">
</span><span class="tag">&lt;link</span><span class="pln"> </span><span class=
"atn">rel</span><span class="pun">=</span><span class=
"atv">"manifest"</span><span class="pln"> </span><span class=
"atn">href</span><span class="pun">=</span><span class=
"atv">"add_to_homescreen.json"</span><span class="tag">&gt;</span><span class=
"pln">

</span><span class=
"com">&lt;!-- fallback metadata for legacy browsers --&gt;</span><span class=
"pln">
</span><span class="tag">&lt;meta</span><span class="pln"> </span><span class=
"atn">name</span><span class="pun">=</span><span class=
"atv">"application-name"</span><span class="pln"> </span><span class=
"atn">content</span><span class="pun">=</span><span class=
"atv">"Best News!"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;link</span><span class="pln"> </span><span class=
"atn">rel</span><span class="pun">=</span><span class=
"atv">"shortcut icon"</span><span class="pln"> </span><span class=
"atn">src</span><span class="pun">=</span><span class=
"atv">"favicon.ico"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">
...</span>
</pre>
        </div>
      </section>
      <section id="example-of-using-the-api">
        <h3 aria-level="2" role="heading" id="h3_example-of-using-the-api">
          <span class="secno">1.3</span> Example of using the API
        </h3>
        <p>
          Check if the application is running in <a href="#dfn-standalone"
          class="internalDFN">standalone</a> mode.
        </p>
        <div class="example">
          <div class="example-title">
            <span>Example 3</span>: detecting standalone mode
          </div>
          <pre class="example highlight html prettyprint">
<span class="tag">&lt;script&gt;</span><span class="pln">
</span><span class="kwd">if</span><span class="pun">(</span><span class=
"str">"standalone"</span><span class="pln"> in navigator </span><span class=
"pun">&amp;&amp;</span><span class="pln"> navigator</span><span class=
"pun">.</span><span class="pln">standalone</span><span class=
"pun">){</span><span class="pln">
   </span><span class=
"com">//Do standalone specific stuff...</span><span class="pln">
   document</span><span class="pun">.</span><span class=
"pln">documentElement</span><span class="pun">.</span><span class=
"pln">classList</span><span class="pun">.</span><span class=
"pln">add</span><span class="pun">(</span><span class=
"str">"standalone"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span>
</pre>
        </div>
      </section>
      <section id="request-adding-to-homescreen">
        <h3 aria-level="2" role="heading" id="h3_request-adding-to-homescreen">
          <span class="secno">1.4</span> Request adding to homescreen
        </h3>
        <p>
          Let the user bookmark the application through clicking a button.
        </p>
        <div class="example">
          <div class="example-title">
            <span>Example 4</span>: requesting to bookmark a web app
          </div>
          <pre class="example highlight html prettyprint">
<span class="tag">&lt;script&gt;</span><span class="pln">
</span><span class="kwd">var</span><span class=
"pln"> installButton </span><span class="pun">=</span><span class=
"pln"> document</span><span class="pun">.</span><span class=
"pln">querySelector</span><span class="pun">(</span><span class=
"str">"#install"</span><span class="pun">);</span><span class="pln">

</span><span class=
"com">//Bookmarking only works if initiated by user interaction</span><span class="pln">
installButton</span><span class="pun">.</span><span class=
"pln">addEventListener</span><span class="pun">(</span><span class=
"str">"click"</span><span class="pun">,</span><span class=
"pln"> </span><span class="kwd">function</span><span class=
"pun">(</span><span class="pln">e</span><span class="pun">){</span><span class=
"pln">
   navigator</span><span class="pun">.</span><span class=
"pln">requestBookmark</span><span class="pun">(</span><span class=
"str">"path/to/bookmark.json"</span><span class="pun">)</span><span class=
"pln">
   </span><span class="pun">.</span><span class="pln">then</span><span class=
"pun">(</span><span class="pln">thankUser</span><span class=
"pun">,</span><span class="pln"> stopBuggingUser</span><span class=
"pun">);</span><span class="pln">
</span><span class="pun">});</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span><span class="pln">

</span><span class="tag">&lt;button</span><span class=
"pln"> </span><span class="atn">id</span><span class="pun">=</span><span class=
"atv">"install"</span><span class="tag">&gt;</span><span class="pln">
  Bookmark </span><span class="tag">&lt;b&gt;</span><span class=
"pln">Awesome App!</span><span class="tag">&lt;/b&gt;</span><span class="pln">
</span><span class="tag">&lt;/button&gt;</span>
</pre>
        </div>
      </section>
    </section>
    <section id="use-cases-and-requirements">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_use-cases-and-requirements">
        <span class="secno">2.</span> Use cases and requirements
      </h2>
      <p>
        This document attempts to address the <cite><a href=
        "http://w3c-webmob.github.io/installable-webapps/">Use Cases and
        Requirements for Installable Web Apps</a></cite>.
      </p>
    </section>
    <section id="manifest">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_manifest">
        <span class="secno">3.</span> manifest
      </h2>
      <p>
        A <dfn id="dfn-manifest">manifest</dfn> is a [<cite><a class="bibref"
        href="#bib-JSON">JSON</a></cite>] document that consists of a top-level
        object that can contain zero or more members, some of which contain
        other objects. Each of the members, as well as how their values are
        processes, are defined below.
      </p>
      <p id="ecmascript-abstractop">
        Algorithms in this specification use the conventions described in
        [<cite><a class="bibref" href="#bib-ECMASCRIPT">ECMASCRIPT</a></cite>],
        such as the use of steps and sub-steps, and so on. The <a class=
        "external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-parsefloat-string">
        <dfn id="dfn-parsefloat">parseFloat</dfn></a> method, <a class=
        "external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring"><dfn id="dfn-tostring">
        ToString</dfn></a>, <a href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-hasownproperty">
        <dfn id="dfn-hasownproperty">HasOwnProperty</dfn></a>, <dfn id=
        "dfn-getownproperty">[[GetOwnProperty]]</dfn>, and <a href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-toboolean"><dfn id="dfn-toboolean">
        ToBoolean</dfn></a> abstract operations, and the <a class="external"
        href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-ecmascript-data-types-and-values">
        <dfn id="dfn-type">Type</dfn>(<var>x</var>)</a> notation referenced in
        this section are defined in [<cite><a class="bibref" href=
        "#bib-ECMASCRIPT">ECMASCRIPT</a></cite>]. Processing also relies on
        various algorithms defined in [<cite><a class="bibref" href=
        "#bib-HTML">HTML</a></cite>], [<cite><a class="bibref" href=
        "#bib-FETCH">FETCH</a></cite>], and [<cite><a class="bibref" href=
        "#bib-URL">URL</a></cite>].
      </p>
      <p>
        As the manifest format is a [<cite><a class="bibref" href=
        "#bib-JSON">JSON</a></cite>] document, this specification relies on the
        types defined in [<cite><a class="bibref" href=
        "#bib-JSON">JSON</a></cite>] specification: namely <dfn id=
        "json-object">object</dfn>, <dfn id="json-array">array</dfn>, <dfn id=
        "json-number">number</dfn>, and <dfn id="json-string">string</dfn>.
        Strict type checking is not enforced by this specification. Instead,
        each member's definition specifies the steps required to process a
        particular member.
      </p>
      <p>
        When an algorithm asks the user agent to <dfn id=
        "dfn-issue-a-developer-warning">issue a developer warning</dfn>, the
        user agent <em class="rfc2119" title="MAY">MAY</em> report the
        conformance violation to the developer in a user-agent-specific manner
        (e.g., show the problem in the error console), or <em class="rfc2119"
        title="MAY">MAY</em> ignore the error and do nothing
      </p>
      <p>
        In the algorithms, to <dfn id="dfn-ignore">ignore</dfn> means that the
        user agent <em class="rfc2119" title="MUST">MUST</em> act as if the
        developer had not declared the particular member in the manifest
        document.
      </p>
      <section id="name-member">
        <h3 aria-level="2" role="heading" id="h3_name-member">
          <span class="secno">3.1</span> <code title="">name</code> member
        </h3>
        <p>
          The <dfn id="member-name"><code>name</code></dfn> is a string that
          represents the name of the application as is usually displayed to the
          user (e.g., amongst a list of other applications, or as a label
          underneath an icon).
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-name-of-an-application">steps for
          processing the name of an application</dfn> is given by the following
          algorithm. The algorithm takes a <var>manifest</var> as an argument.
          It returns either <code>undefined</code>, a string, or an error.
        </p>
        <ol>
          <li>If <a href="#dfn-hasownproperty" class=
          "internalDFN">HasOwnProperty</a>(<var>manifest</var>, "name") returns
          <code>false</code>, then return <code>undefined</code>.
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>manifest</var> with
          argument "name".
          </li>
          <li>If Type(<var>value</var>) is not "string", return an error.
          </li>
          <li>
            <a href=
            "http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">
            Strip leading and trailing whitespace</a> from <var>result</var>.
          </li>
          <li>Return the <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="dont-share-cookies-and-stuff-member">
        <h3 aria-level="2" role="heading" id=
        "h3_dont-share-cookies-and-stuff-member">
          <span class="secno">3.2</span>
          <code>dont-share-cookies-and-stuff</code> member
        </h3>
        <div class="issue">
          <div class="issue-title" aria-level="3" role="heading" id=
          "h_issue_1">
            <span>Issue 1</span>
          </div>
          <p class="">
            Yes, this needs to be renamed. Possible candidates: "isolated" or
            "isolated-security-origin", "independent"
          </p>
        </div>
        <p>
          The <code>dont-share-cookies-and-stuff</code> member is a boolean
          that allows a developer to request that the user agent treat this web
          application as independent from the one in the web browser.
          Effectively, this means that cookies, storage, and permissions are
          not shared with the origin from which the application was bookmarked.
          The value of this member is only applicable to applications whose
          <a href="#dfn-mode-of-operation" class="internalDFN">mode of
          operation</a> is <a href="#dfn-standalone" class=
          "internalDFN">standalone</a>.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-dont-share-cookies-and-stuff-member">steps
          for processing the <code>dont-share-cookies-and-stuff</code>
          member</dfn> is given by the following algorithm:
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>manifest</var> with
          argument "<code>dont-share-cookies-and-stuff</code>".
          </li>
          <li>Let <var>result</var> be the result of calling <a href=
          "#dfn-toboolean" class="internalDFN">ToBoolean</a>(<var>value</var>).
          </li>
          <li>Return the <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="url-member">
        <h3 aria-level="2" role="heading" id="h3_url-member">
          <span class="secno">3.3</span> <code>url</code> member
        </h3>
        <p>
          The <dfn id="member-launch_path">url</dfn> member is the URL that is
          <a href=
          "http://www.w3.org/html/wg/drafts/html/master/single-page.html#browsers">
          loaded</a> when the application is launched. When it's missing from
          the manifest, the UA loads the URL from the manifest was fetched.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-url-member">steps for
          processing the <code>url</code> member</dfn> are given by the
          following algorithm. The algorithm returns a <a href=
          "http://url.spec.whatwg.org/#concept-url">URL</a>.
        </p>
        <ol>
          <li>If <a href="#dfn-hasownproperty" class=
          "internalDFN">HasOwnProperty</a>(<var>manifest</var>, "url") returns
          <code>false</code>, then return <code>undefined</code>.
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of the <var>manifest</var> with
          argument "<code>url</code>".
          </li>
          <li>Let <var>manifest URL</var> be the URL from which the
          <var>manifest</var> was fetched from.
          </li>
          <li>If <var>value</var> is <code>undefined</code> or <a href=
          "#dfn-type" class="internalDFN">Type</a>(<var>value</var>) is not
          "string":
            <ol>
              <li>Let <var>result</var> be <var>manifest URL</var>.
              </li>
            </ol>
          </li>
          <li>Otherwise:
            <ol>
              <li>
                <a href="http://url.spec.whatwg.org/#parsing">Parse</a>
                <var>value</var>, using <var>manifest URL</var> as the base
                URL, and let <var>result</var> be the result.
              </li>
            </ol>
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="icons-member">
        <h3 aria-level="2" role="heading" id="h3_icons-member">
          <span class="secno">3.4</span> <code title="">icons</code> member
        </h3>
        <p>
          The <dfn id="member-icons">icons</dfn> is a list of <a title=
          "icon object" href="#dfn-icon-object" class="internalDFN">icon
          objects</a> that represents a set of icons that the application can
          make use.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-icons-member">steps for
          processing the <code>icons</code> member</dfn> are given by the
          following algorithm. The algorithm returns a list of icons, which can
          be empty, or <code>undefined</code>.
        </p>
        <ol>
          <li>If <a href="#dfn-hasownproperty" class=
          "internalDFN">HasOwnProperty</a>(<var>manifest</var>, <var>key</var>)
          returns <code>false</code>, then return <code>undefined</code>.
          </li>
          <li>Let <var>icons</var> be an empty list.
          </li>
          <li>Let <var>manifest URL</var> be the URL from which the
          <var>manifest</var> was fetched from.
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>manifest</var> with
          argument "<code>icons</code>".
          </li>
          <li>If <var>value</var> is an array, then for each <var>potential
          icon</var> in the array:
            <ol>
              <li>Let <var>src</var> be the result of running the <a href=
              "#dfn-steps-for-processing-the-src-member-of-an-icon" class=
              "internalDFN">steps for processing the <code>src</code> member of
              an icon</a>. If the result is an error, stop processing this
              <var>potential icon</var> and move to the next <var>potential
              icon</var> in value, if any.
              </li>
              <li>Let <var>type</var> be the result of running the <a href=
              "#dfn-steps-for-processing-the-type-member-of-an-icon" class=
              "internalDFN">steps for processing the <code>type</code> member
              of an icon</a>.
              </li>
              <li>If <var>type</var> is not a <a href=
              "http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">
                valid MIME type</a> or the value of type is not a supported
                icon format, then stop processing this <var>potential
                icon</var> and move to the next <var>potential icon</var>, if
                any.
              </li>
              <li>Let <var>width</var> be the result of running the steps for
              processing the dimensions of an icon with "width" as the
              argument.
              </li>
              <li>Let <var>height</var> be the result of running the steps for
              processing the dimensions of an icon with "height" as the
              argument.
              </li>
              <li>Otherwise, let <var>icon</var> be an object.
              </li>
            </ol>
          </li>
          <li>return <var>icons</var>.
          </li>
        </ol>
      </section>
      <section id="orientation-member">
        <h3 aria-level="2" role="heading" id="h3_orientation-member">
          <span class="secno">3.5</span> <code>orientation</code> member
        </h3>
        <div class="issue">
          <div class="issue-title" aria-level="3" role="heading" id=
          "h_issue_2">
            <span>Issue 2</span>
          </div>
          <div class="">
            <p>
              This is <a href="https://github.com/w3c/manifest/issues/74">issue
              74</a> on GitHub. We are looking for feedback!
            </p>
            <p>
              Orientation of an application is dependent on the media features
              of the display. For example an application might need to be
              launched in landscape on phones (in order to have sufficient
              display width), but prefer to be in portrait on tablets. (see
              <a href=
              "http://w3c-webmob.github.io/installable-webapps/#orientation">Orientation</a>
              section in the use cases document).
            </p>
            <p>
              When analyzing applications across various runtimes, we've found
              evidence that such applications are common (e.g., basically any
              application on the iPhone that has an iPad counterpart will be
              designed to constrain to a particular orientation based on the
              device being used: LinkedIn, Flipboard, GoodReads, etc. will all
              go from portrait-primary on the iPhone to allowing "any"
              orientation on the iPad. A more extreme example is BBC iPlayer -
              which supports portrait-primary on the iPhone, but both landscape
              orientations on iPad. The same can be seen on Android devices.
              Unlike native apps, Web Apps should not target devices/OS's -
              they have to be device neutral.
            </p>
            <p>
              In order to address the use cases, we currently have two
              proposals.
            </p>
            <p>
              <strong>Option 1:</strong> Provide a list of orientation sets in
              the manifest. The user agent uses the first one with a matching
              media query. The order in which the orientations are listed by a
              developer does not imply a preference for setting the orientation
              - it is always left up to the user agent to pick the best
              orientation given, for example, how the user is holding the
              device. In the example below, no orientation is given for widths
              of 721px or above, so the default is used: allowing all
              orientations supported by the device.
            </p>
            <pre class="highlight prettyprint">
<span class="pun">{</span><span class="pln">
    </span><span class="str">"orientations"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class=
"pln">
        </span><span class="str">"media"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"max-width: 320px"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"supported"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">[</span><span class=
"str">"portrait-primary"</span><span class="pun">,</span><span class=
"pln"> </span><span class="str">"landscape"</span><span class=
"pun">]</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
        </span><span class="str">"media"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"max-width: 720px"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"supported"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">[</span><span class=
"str">"landscape"</span><span class="pun">]</span><span class="pln">
    </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">}</span>
</pre>
            <p>
              In this example:
            </p>
            <ul>
              <li>a device with a screen width of 320px or below would launch
              either "portrait-primary" or "landscape" with the abilty to be
              "flipped" depending on how the user is holding the device (and OS
              permitting).
              </li>
              <li>A device with a screen width of 321px through 720px would be
              launched in landscape (leaving it up to the UA to pick either
              landscape-primary or landscape-secondary, while allowing
              "flippability"),
              </li>
              <li>A device with a screen width of 721px and above would start
              in any orientation chosen by the UA (ideally, one that matches
              how the user is holding the device).
              </li>
            </ul>
            <p>
              <strong>Option 2:</strong> The second proposal is to remove
              orientation from the manifest and use CSS @viewport instead
              [<cite><a class="bibref" href=
              "#bib-css-device-adapt">css-device-adapt</a></cite>]. This would
              mean::
            </p>
            <pre class="highlight prettyprint">
<span class="tag">&lt;head&gt;</span><span class="pln">
</span><span class="tag">&lt;style&gt;</span><span class="pln">
  </span><span class=
"com">/*set it by default to portrait primary for small screens */</span><span class="pln">
  </span><span class="lit">@media</span><span class="pln"> </span><span class=
"pun">(</span><span class="pln">max</span><span class=
"pun">-</span><span class="pln">width</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"lit">320px</span><span class="pun">)</span><span class=
"pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="lit">@viewport</span><span class=
"pln"> </span><span class="pun">{</span><span class="pln">
          orientation</span><span class="pun">:</span><span class=
"pln"> portrait</span><span class="pun">-</span><span class=
"pln">primary</span><span class="pun">,</span><span class=
"pln"> landscape</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  
  </span><span class=
"com">/*Tablet, switch to landscape only*/</span><span class="pln">
  </span><span class="lit">@media</span><span class="pln"> </span><span class=
"pun">(</span><span class="pln">max</span><span class=
"pun">-</span><span class="pln">width</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"lit">720px</span><span class="pun">)</span><span class=
"pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="lit">@viewport</span><span class=
"pln"> </span><span class="pun">{</span><span class="pln">
          orientation</span><span class="pun">:</span><span class=
"pln"> landscape</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  
  </span><span class="com">/* 
    similarly on screens with a width of 721px or more, 
    all orientations are allowed 
   */</span><span class="pln">
</span><span class="tag">&lt;/style&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span>
</pre>
            <p>
              Problem with using <code>@viewport</code> at the moment is that
              the specification is progressing a bit slowly and no one has
              implemented the "orientation" descriptor. It also lacks
              definitions for "-primary" and "-secondary" contraints, which are
              important for various applications, and doesn't currently allow
              providing multiple allowed orientations - hopefully the CSS
              Device Adaption spec can align with the Screen Orientation spec.
            </p>
          </div>
        </div>
      </section>
      <section id="mode-member">
        <h3 aria-level="2" role="heading" id="h3_mode-member">
          <span class="secno">3.6</span> <code title="">mode</code> member
        </h3>
        <p>
          The <dfn title="member-mode" id="dfn-member-mode">mode</dfn> member
          represents that mode of operation in which the web application will
          be launched. When the developer omits the value, the user agent
          assumes the value "bookmark".
        </p>
        <p>
          The <dfn id="dfn-mode-of-operation">mode of operation</dfn> in which
          a web application can be launched include:
        </p>
        <dl>
          <dt>
            <dfn id="dfn-standalone">standalone</dfn>
          </dt>
          <dd>
            Once launched, the Web application appears indistinguishable from a
            native application by allowing the OS to treat it as equivalent to
            a native application.
          </dd>
          <dt>
            <dfn id="dfn-bookmark">bookmark</dfn>
          </dt>
          <dd>
            When launched, the user agent open the URL is normal (e.g., opens a
            new tab, or a new window, or whatever it commonly does when
            instructed to open a bookmark).
          </dd>
        </dl>
        <p>
          Standalone mode can also be displayed in the following view modes:
        </p>
        <p>
          A <dfn id="dfn-valid-application-mode">valid application mode</dfn>
          is one that conforms to the following [<cite><a class="bibref" href=
          "#bib-ABNF">ABNF</a></cite>]:
        </p>
        <pre>
  mode = "bookmark" / "standalone" ["-" presentation]
  presentation = "fullscreen"
</pre>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-mode-member-of-an-icon">steps for
          processing the <code>mode</code> member of an icon</dfn> are given by
          the following algorithm. The algorithm returns a string.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>manifest</var> passing
          "<code>mode</code>" as the argument.
          </li>
          <li>Let <var>result</var> be "bookmark".
          </li>
          <li>
            <a href=
            "http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">
            Strip leading and trailing whitespace</a> from <var>value</var>.
          </li>
          <li>If <var>value</var> is a <a href="#dfn-valid-application-mode"
          class="internalDFN">valid application mode</a>, set <var>result</var>
          to <var>value</var>.
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="processing-the-manifest">
        <h3 aria-level="2" role="heading" id="h3_processing-the-manifest">
          <span class="secno">3.7</span> Processing the manifest
        </h3>
        <p>
          The <dfn id="dfn-steps-for-fetching-a-manifest">steps for fetching a
          manifest</dfn> are given by the following algorithm. It takes a
          <var>url</var> URL as an argument. It returns either a
          <var>response</var> (which may be in error).
        </p>
        <ol>
          <li>Let <var>response</var> be the result of <a href=
          "http://fetch.spec.whatwg.org/#concept-fetch">fetching</a> the
          manifest from <var>url</var>.
          </li>
          <li>Return <var>response</var>.
          </li>
        </ol>
        <p>
          The <dfn id="dfn-steps-to-processing-a-manifest">steps to processing
          a manifest</dfn> are given by the following algorithm. The algorithm
          takes a <var>text</var> string as an argument.
        </p>
        <ol>
          <li>Let <var>manifest</var> be the result of invoking the <a href=
          "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-json.parse">
            parse</a> function of the JSON object defined in [<cite><a class=
            "bibref" href="#bib-ECMASCRIPT">ECMASCRIPT</a></cite>] with
            <var>text</var> as its only argument. If parsing throws an error,
            return the error and terminate this algorithm.
          </li>
          <li>Let <var>name</var> be the result of running the steps for
          processing the <code>name</code> member. If the returned value is
          <code>undefined</code> or an error:
            <ol>
              <li>Set <var>name</var> to be an implementation specific string
              that can serve as a suitable name for the web application. For
              example, if the manifest was obtained from a <code>link</code>
              element, and the <code>document</code> has a <code>meta</code>
              element whose <code>name</code> attribute matches
                "<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#meta-application-name">application-name</a></code>",
                then the user agent could use the value of that
                <code>meta</code> element's <code>content</code> attribute as a
                fallback. Otherwise, then the document's <code>title</code> can
                be used. Alternatively, the user could be prompted to provide a
                custom name using as a place holder.
              </li>
            </ol>
          </li>
          <li>Let <var>mode</var> be the result of running the steps for
          processing the <code>mode</code> member. If processing returns an
          error, report the error, and set <var>mode</var> to
          "<code>bookmark</code>".
          </li>
          <li>Let <var>orientation</var> be the result of running the steps for
          processing the <code>orientation</code> member.
          </li>
          <li>Let <var>url</var> be the result of running the <a href=
          "#dfn-steps-for-processing-the-url-member" class="internalDFN">steps
          for processing the <code>url</code> member</a>.
          </li>
          <li>Let <var>icons</var> be the result of running the <a href=
          "#dfn-steps-for-processing-the-icons-member" class=
          "internalDFN">steps for processing the <code>icons</code> member</a>.
          </li>
          <li>Optionally, <a href="#dfn-ignore" class="internalDFN">ignore</a>
          all other members.
          </li>
          <li>Return response.
          </li>
        </ol>
      </section>
      <section id="linking" typeof="bibo:Chapter" resource="#ref" rel=
      "bibo:Chapter">
        <h3 aria-level="2" role="heading" id="h3_linking">
          <span class="secno">3.8</span> Linking to a manifest
        </h3>
        <p>
          The <code>manifest</code> keyword can be used with a [<cite><a class=
          "bibref" href="#bib-HTML">HTML</a></cite>] <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">
          link</a> element. This keyword creates an <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link"
          title="external resource link">external resource link</a>.
        </p>
        <table border="1">
          <tbody>
            <tr>
              <th rowspan="2">
                Link type
              </th>
              <th colspan="2">
                Effect on...
              </th>
              <th rowspan="2">
                Brief description
              </th>
            </tr>
            <tr>
              <th>
                <code>link</code>
              </th>
              <th>
                <code>a</code> and <code>area</code>
              </th>
            </tr>
            <tr>
              <td>
                <code title="rel-manifest">manifest</code>
              </td><!-- second most used <link rel> value -->
              <td>
                <a href=
                "http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link"
                title="external resource link">External Resource</a>
              </td>
              <td>
                not allowed
              </td>
              <td>
                Imports or links to a manifest.
              </td>
            </tr>
          </tbody>
        </table>
        <p>
          The default media type for resources associated with the
          <code>manifest</code> <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#linkTypes">link
          type</a> is <code>application/manifest+json</code>.
        </p>
        <p>
          In cases where more than one <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">
          <code>link</code></a> element with a <code>manifest</code> link type
          appears in a <code>document</code>, the user agent <em class=
          "rfc2119" title="MUST">MUST</em> use the first inserted link element
          and ignore all subsequent <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">
          <code>link</code></a> elements with a <code>manifest</code> link type
          (even if the first element was in error).
        </p>
        <p>
          The appropriate time to fetch the manifest is when the <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link"
          title="external resource link">external resource link</a> is created
          or when its element is <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document"
          title="insert an element into a document">inserted into a
          document</a>, whichever happens last. However, a user agent
          <em class="rfc2119" title="MAY">MAY</em> opt to delay fetching a
          manifest until after the document and its other resources have loaded
          (i.e., to not delay the availability of content and scripts required
          by the <code>document</code>).
        </p>
        <p>
          Certain error conditions can result in a manifest being treated as an
          <a href="#dfn-invalid-manifest" class="internalDFN">invalid
          manifest</a>. An <dfn id="dfn-invalid-manifest">invalid
          manifest</dfn> is one that is deemed to be non-conforming in such a
          way that it would not be possible for the user agent to continue
          processing (e.g., it can't be parsed by the JSON parser because of a
          syntax error, it could be fetched from the network). In such a case,
          <a href="#dfn-issue-a-developer-warning" class="internalDFN">issue a
          developer warning</a>. In either case, when a step results in an
          <a href="#dfn-invalid-manifest" class="internalDFN">invalid
          manifest</a> the user agent <em class="rfc2119" title=
          "MUST">MUST</em> abort whatever step or sub-step caused the
          condition.
        </p>
        <p>
          To fetch a manifest, as user agent <em class="rfc2119" title=
          "MUST">MUST</em>:
        </p>
        <ol>
          <li>If the <code>link</code> element lacks a href attribute, abort
          this algorithm.
          </li>
          <li>Run the <a href="#dfn-steps-for-fetching-a-manifest" class=
          "internalDFN">steps for fetching a manifest</a>, with the value of
          <code>href</code> attribute as the url, and let <var>response</var>
          be the response.
          </li>
          <li>If response's type is "error", treat this as an <span>invalid
          manifest</span>.
          </li>
          <li>Otherwise, let <var>manifest</var> be the result of running the
          steps for processing a manifest.
          </li>
          <li>If <var>manifest</var> results in an error, treat this as an
          <span>invalid manifest</span>.
          </li>
          <li>Otherwise, in a user agent specific manner, and when the end-user
          so desires, provide a means for the end-user to view the relevant
          contents of the <var>manifest</var>; and provide a means for the
          end-user to create a bookmark based on that information.
          </li>
        </ol>
      </section>
      <section id="proprietary-extensions" class="informative" typeof=
      "bibo:Chapter" resource="#ref" rel="bibo:Chapter">
        <h3 aria-level="2" role="heading" id="h3_proprietary-extensions">
          <span class="secno">3.9</span> Proprietary extensions to the manifest
        </h3>
        <p>
          <em>This section is non-normative.</em>
        </p>
        <p>
          Although proprietary extensions are undesirable, they can't
          realistically be avoided. As such, the <em class="rfc2119" title=
          "RECOMMENDED">RECOMMENDED</em> way to add proprietary extension is to
          use a vendor prefix.
        </p>
        <p>
          This following is an example of two hypothetical vendor extensions.
        </p>
        <div class="example">
          <div class="example-title">
            <span>Example 5</span>: vendor extensions
          </div>
          <pre class="example highlight json prettyprint">
<span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
  </span><span class="str">"webkit-fancyfeature"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"some/url/img"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"moz-awesome-thing"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">{</span><span class=
"pln"> </span><span class="pun">...</span><span class=
"pln"> </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span>
</pre>
        </div>
      </section>
    </section>
    <section id="launching-a-standalone-web-application">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id=
      "h2_launching-a-standalone-web-application">
        <span class="secno">4.</span> Launching a standalone web application
      </h2>
      <p>
        When an application is launched:
      </p>
      <ol>
        <li>If the web application has a required orientation, run the
        <span>steps for selecting the orientation</span>.
        </li>
      </ol>
    </section>
    <section id="icon-object-and-its-members">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_icon-object-and-its-members">
        <span class="secno">5.</span> Icon object and its members
      </h2>
      <p>
        Each <dfn id="dfn-icon-object">icon object</dfn> represents an icon for
        an application suitable to use at some dimensions and screen density.
      </p>
      <section id="density-member">
        <h3 aria-level="2" role="heading" id="h3_density-member">
          <span class="secno">5.1</span> <code>density</code> member
        </h3>
        <p>
          The <dfn title="icon-densitiy" id="dfn-icon-densitiy">density</dfn>
          member of an icon is the device pixel density for which this icon was
          designed. The device pixel density is expressed as the number of dots
          per 'px' unit (equivalent to a dppx as defined in [<cite><a class=
          "bibref" href="#bib-css3-values">css3-values</a></cite>]). The value
          is a positive number greater than 0. If the developer ommits the
          value, the user agent assumes the value <code>1</code>.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-a-density-of-an-icon">steps for
          processing a density of an icon</dfn> are given by the following
          algorithm. The algorithm thanks an <var>icon</var> object as an
          argument and returns a positive number.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>icon</var> passing
          "<code>density</code>" as the argument.
          </li>
          <li>Let <var>result</var> be the result of
          parseFloat(<var>value</var>);
          </li>
          <li>If <var>result</var> is <code>NaN</code>, +0, −0, +∞, or −∞, or
          less than 0, return 1.
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="width-and-height-members">
        <h3 aria-level="2" role="heading" id="h3_width-and-height-members">
          <span class="secno">5.2</span> <code>width</code> and <code title=
          "">height</code> members
        </h3>
        <p>
          The <dfn title="icon-width" id="dfn-icon-width">width</dfn> and
          <dfn title="icon-height" id="dfn-icon-height">height</dfn> members
          represent the natural width of the icon in pixels. Their
          corresponding value is a positive number greater than 0.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-a-dimension-of-an-icon">steps
          for processing a dimension of an icon</dfn> are given by the
          following algorithm. The algorithm takes an <var>icon</var> and a
          <var>key</var> ('width" or "height") as an argument. The algorithm
          returns a positive number, <code>undefined</code>, or an error.
        </p>
        <ol>
          <li>If <a href="#dfn-hasownproperty" class=
          "internalDFN">HasOwnProperty</a>(<var>icon</var>, <var>key</var>)
          returns <code>false</code>, then return <code>undefined</code>.
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>icon</var> passing
          <var>key</var> as the argument.
          </li>
          <li>Let <var>result</var> be the result of
          parseFloat(<var>value</var>);
          </li>
          <li>If <var>result</var> is <code>NaN</code>, +0, −0, +∞, or −∞, or
          less than 0, return <var>undefined</var>.
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="src-member">
        <h3 aria-level="2" role="heading" id="h3_src-member">
          <span class="secno">5.3</span> <code>src</code> member
        </h3>
        <p>
          The <dfn title="icon-density" id="dfn-icon-density">src</dfn> member
          of an icon is a URL from which the icon can be fetched.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-src-member-of-an-icon">steps for
          processing the <code>src</code> member of an icon</dfn> are given by
          the following algorithm. The algorithm takes a <var>icon</var> object
          as an argument and returns a URL or <code>undefined</code>.
        </p>
        <ol>
          <li>If <a href="#dfn-hasownproperty" class=
          "internalDFN">HasOwnProperty</a>(<var>icon</var>, "src") returns
          <code>false</code>, then return <code>undefined</code>.
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>icon</var> passing
          "<code>src</code>" as the argument.
          </li>
          <li>Let <var>manifest URL</var> be the URL from which the
          <var>manifest</var> was fetched from.
          </li>
          <li>
            <a href="http://url.spec.whatwg.org/#parsing">Parse</a>
            <var>value</var>, using <var>manifest URL</var> as the base URL,
            and let <var>result</var> be the result.
          </li>
          <li>return <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="type-member">
        <h3 aria-level="2" role="heading" id="h3_type-member">
          <span class="secno">5.4</span> <code>type</code> member
        </h3>
        <p>
          The <dfn title="icon-type" id="dfn-icon-type">type</dfn> member of an
          icon is a hint as to the media type of the icon. The purpose of this
          member is to allow a user agent can ignore icons of media types it
          does not support.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-type-member-of-an-icon">steps for
          processing the <code>type</code> member of an icon</dfn> are given by
          the following algorithm. The algorithm takes an <var>icon</var>
          object as an argument, and returns either string or
          <code>undefined</code>.
        </p>
        <ol>
          <li>If <a href="#dfn-hasownproperty" class=
          "internalDFN">HasOwnProperty</a>(<var>manifest</var>,"type") returns
          <code>false</code>, then return <code>undefined</code>.
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>potential icon</var>
          passing "<code>type</code>" as the argument.
          </li>
          <li>If type(<var>potential src</var>) is not "string", return an
          error.
          </li>
          <li>
            <a href=
            "http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">
            Strip leading and trailing whitespace</a> from <var>result</var>.
          </li>
          <li>return <var>result</var>.
          </li>
        </ol>
      </section>
    </section>
    <section id="extensions-to-the-navigator-object">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id=
      "h2_extensions-to-the-navigator-object">
        <span class="secno">6.</span> Extensions to the <code>Navigator</code>
        object
      </h2>
      <pre class="idl">
<span class="idlInterface" id=
"idl-def-Navigator">partial interface <span class="idlInterfaceID">Navigator</span> {
<span class="idlAttribute">    readonly    attribute <span class=
"idlAttrType">Boolean</span> <span class="idlAttrName"><a href=
"#widl-Navigator-standalone">standalone</a></span>;</span>
<span class="idlMethod">    <span class=
"idlMethType">Promise</span> <span class="idlMethName"><a href=
"#widl-Navigator-requestBookmark-Promise-DOMString-url">requestBookmark</a></span> (<span class="idlParam">optional <span class="idlParamType">DOMString</span> <span class="idlParamName">url</span></span>);</span>
};</span>
</pre>
      <section id="attributes">
        <h3 aria-level="2" role="heading" id="h3_attributes">
          <span class="secno">6.1</span> Attributes
        </h3>
        <dl class="attributes">
          <dt id="widl-Navigator-standalone">
            <code>standalone</code> of type <span class=
            "idlAttrType">Boolean</span>, readonly
          </dt>
          <dd>
            The standalone attribute provides a means for a developer to check
            if the application is running in <a href="#dfn-standalone" class=
            "internalDFN">standalone</a> mode. When getting, the user agent
            <em class="rfc2119" title="MUST">MUST</em> returns
            <code>true</code> if the application is running as <a href=
            "#dfn-standalone" class="internalDFN">standalone</a>. Return
            <code>false</code> otherwise.
          </dd>
        </dl>
      </section>
      <section id="methods">
        <h3 aria-level="2" role="heading" id="h3_methods">
          <span class="secno">6.2</span> Methods
        </h3>
        <dl class="methods">
          <dt id="widl-Navigator-requestBookmark-Promise-DOMString-url">
            <code>requestBookmark</code>
          </dt>
          <dd>
            When invoked, the user agent <em class="rfc2119" title=
            "MUST">MUST</em> run the <a href=
            "#dfn-steps-to-request-to-add-bookmark" class="internalDFN">steps
            to request to add bookmark</a>.
            <table class="parameters">
              <tbody>
                <tr>
                  <th>
                    Parameter
                  </th>
                  <th>
                    Type
                  </th>
                  <th>
                    Nullable
                  </th>
                  <th>
                    Optional
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
                <tr>
                  <td class="prmName">
                    url
                  </td>
                  <td class="prmType">
                    <code>DOMString</code>
                  </td>
                  <td class="prmNullFalse">
                    <span role="img" aria-label="False">✘</span>
                  </td>
                  <td class="prmOptTrue">
                    <span role="img" aria-label="True">✔</span>
                  </td>
                  <td class="prmDesc"></td>
                </tr>
              </tbody>
            </table>
            <div>
              <em>Return type:</em> <code>Promise</code>
            </div>
          </dd>
        </dl>
      </section>
      <p>
        The <dfn id="dfn-steps-to-request-to-add-bookmark">steps to request to
        add bookmark</dfn> are given by the following algorithm. The algorithm
        runs asynchronously and returns a Promise.
      </p>
      <ol>
        <li>Let <var>promise</var> be a new <code>Promise</code> object and
        <var>resolver</var> its associated resolver.
        </li>
        <li>Return <var>promise</var> and run the remaining steps
        asynchronously.
        </li>
        <li>If this method was not invoked as a result of explicit user action,
        then:
          <ol>
            <li>Let <var>error</var> be a new <code>DOMException</code> whose
            name is "<code><a href=
            "http://dom.spec.whatwg.org/#securityerror">SecurityError</a></code>".
            </li>
            <li>Run resolver's internal reject algorithm with <var>error</var>
            as value and terminate this algorithm.
            </li>
          </ol>
        </li>
        <li>If the document's <a href="#dfn-mode-of-operation" class=
        "internalDFN">mode of operation</a> is "standalone":
          <ol>
            <li>Let <var>error</var> be a new <code>DOMException</code> whose
            name is "<code><a href=
            "http://dom.spec.whatwg.org/#notsupportederror">NotSupported</a></code>".
            </li>
            <li>Run resolver's internal reject algorithm with <var>error</var>
            as value and terminate this algorithm.
            </li>
          </ol>
        </li>
        <li>Run the <a href="#dfn-steps-for-fetching-a-manifest" class=
        "internalDFN">steps for fetching a manifest</a>. If the
        <var>response</var>'s type is "error":
          <ol>
            <li>Let exception name be "<code><a href=
            "http://dom.spec.whatwg.org/#networkerror">NetworkError</a></code>".
            </li>
            <li>If the <var>response</var>'s termination reason is end user
            abort, set <var>exception name</var> to "<code><a href=
            "http://dom.spec.whatwg.org/#aborterror">AbortError</a></code>".
            </li>
            <li>If the <var>response</var>'s termination reason is timeout, set
            <var>exception name</var> to "<code><a href=
            "http://dom.spec.whatwg.org/#timeouterror">TimeoutError</a></code>".
            </li>
            <li>Let <var>error</var> be a new <code>DOMException</code> whose
            name is <var>exception name</var>.
            </li>
            <li>Run <var>resolver</var>'s internal reject algorithm with <var>
              error</var> as value and terminate this algorithm.
            </li>
          </ol>
        </li>
        <li>Let <var>boomark info</var> be result of the steps for processing a
        manifest, with <var>response</var>'s <a href=
        "http://fetch.spec.whatwg.org/#concept-response-body">body</a> as the
        argument.
        </li>
        <li>If <var>boomark info</var> is an error:
          <ol>
            <li>Run <var>resolver</var>'s internal reject algorithm with <var>
              error</var> as value and terminate this algorithm.
            </li>
          </ol>
        </li>
        <li>Present <var>bookmark info</var> to the end user. If the end-user
        rejects the request to add the bookmark:
          <ol>
            <li>Let <var>error</var> be a new <code>DOMException</code> whose
            name is "<code><a href=
            "http://dom.spec.whatwg.org/#aborterror">AbortError</a></code>".
            </li>
            <li>Run <var>resolver</var>'s internal reject algorithm with <var>
              error</var> as value and terminate this algorithm.
            </li>
          </ol>
        </li>
        <li>Run <var>resolver</var>'s internal fulfill algorithm with
        <var>undefined</var> as value.
        </li>
      </ol>
    </section>
    <section id="media-type-reregistration">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_media-type-reregistration">
        <span class="secno">7.</span> Media type reregistration
      </h2>
      <p>
        This section contains the required text for MIME media type
        registration with IANA.
      </p>
      <p>
        The <dfn id="dfn-media-type-for-a-manifests">media type for a
        manifests</dfn> is <code>application/manifest+json</code>.
      </p>
      <p>
        If the protocol over which the manifest is transferred supports the
        [<cite><a class="bibref" href="#bib-MIME-TYPES">MIME-TYPES</a></cite>]
        specification (e.g. HTTP), it is <em class="rfc2119" title=
        "RECOMMENDED">RECOMMENDED</em> that the manifest be labeled with the
        <a href="#dfn-media-type-for-a-manifests" class="internalDFN">media
        type for a manifests</a>.
      </p>
      <dl>
        <dt>
          Type name:
        </dt>
        <dd>
          application
        </dd>
        <dt>
          Subtype name:
        </dt>
        <dd>
          manifest+json
        </dd>
        <dt>
          Required parameters:
        </dt>
        <dd>
          N/A
        </dd>
        <dt>
          Optional parameters:
        </dt>
        <dd>
          N/A
        </dd>
        <dt>
          Encoding considerations:
        </dt>
        <dd>
          Same as for application/json
        </dd>
        <dt>
          Security considerations:
        </dt>
        <dd>
          <p>
            As the manifest format is JSON and will commonly be encoded using
            [<cite><a class="bibref" href="#bib-UNICODE">UNICODE</a></cite>],
            the security considerations described in [<cite><a class="bibref"
            href="#bib-JSON">JSON</a></cite>] and [<cite><a class="bibref"
            href="#bib-UNICODE-SECURITY">UNICODE-SECURITY</a></cite>] apply. In
            addition, implementors need to impose their own
            implementation-specific limits on the values of otherwise
            unconstrained member types, e.g. to prevent denial of service
            attacks, to guard against running out of memory, or to work around
            platform-specific limitations.
          </p>
          <p>
            Web applications will generally contain ECMAScript, HTML, CSS
            files, and other media, which are executed in a sand-boxed
            environment. As such, implementors need to be aware of the security
            implications for the types they support. Specifically, implementors
            need to consider the security implications outlined in the
            [<cite><a class="bibref" href="#bib-CSS-MIME">CSS-MIME</a></cite>]
            specification, the [<cite><a class="bibref" href=
            "#bib-ECMAScript-MIME">ECMAScript-MIME</a></cite>] specification,
            and the [<cite><a class="bibref" href="#bib-HTML">HTML</a></cite>]
            specification.
          </p>
          <p>
            As web applications can contain content that is able to
            simultaneously interact with the local device and a remote host,
            implementors need to consider the privacy implications resulting
            from exposing private information to a remote host. Mitigation and
            in-depth defensive measures are an implementation responsibility
            and not prescribed by this specification. However, in designing
            these measures, implementors are advised to enable user awareness
            of information sharing, and to provide easy access to interfaces
            that enable revocation of permissions.
          </p>
          <p>
            As this specification allows for the declaration of URLs within
            certain members of a manifest, implementors need to consider the
            security considerations discussed in the [<cite><a class="bibref"
            href="#bib-URL">URL</a></cite>] specification. Implementations
            intending to display <abbr title=
            "Internationalized Resource Identifiers">IRIs</abbr> and
            <abbr title="Internationalized domain name">IDNA</abbr> addresses
            found in the manifest are strongly encouraged to follow the
            security advice given in [<cite><a class="bibref" href=
            "#bib-UNICODE-SECURITY">UNICODE-SECURITY</a></cite>].
          </p>
        </dd>
        <dt>
          Applications that use this media type:
        </dt>
        <dd>
          Web browsers
        </dd>
        <dt>
          Additional information:
        </dt>
        <dd>
          <dl>
            <dt>
              Magic number(s):
            </dt>
            <dd>
              N/A
            </dd>
            <dt>
              File extension(s):
            </dt>
            <dd>
              .json, .manifest
            </dd>
            <dt>
              Macintosh file type code(s):
            </dt>
            <dd>
              TEXT
            </dd>
          </dl>
        </dd>
        <dt>
          Person &amp; email address to contact for further information:
        </dt>
        <dd>
          The <a href="http://www.w3.org/2008/webapps/" rel="nofollow">Web
          Applications (WebApps) Working Group</a> can be contacted at <a href=
          "http://lists.w3.org/Archives/Public/public-webapps/" rel=
          "nofollow">public-webapps@w3.org</a>.
        </dd>
        <dt>
          Intended usage:
        </dt>
        <dd>
          COMMON
        </dd>
        <dt>
          Restrictions on usage:
        </dt>
        <dd>
          none
        </dd>
        <dt>
          Author:
        </dt>
        <dd>
          <abbr title="World Wide Web Consortium">W3C</abbr>'s Web Applications
          (WebApps) Working Group.
        </dd>
        <dt>
          Change controller:
        </dt>
        <dd>
          <abbr title="World Wide Web Consortium">W3C</abbr>.
        </dd>
      </dl>
    </section>
    <section id="conformance" data-status="done" typeof="bibo:Chapter"
    resource="#ref" rel="bibo:Chapter">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_conformance">
        <span class="secno">8.</span> Conformance
      </h2>
      <p>
        As well as sections marked as non-normative, all authoring guidelines,
        diagrams, examples, and notes in this specification are non-normative.
        Everything else in this specification is normative.
      </p>
      <p>
        The key words <em class="rfc2119" title="MUST">MUST</em>, <em class=
        "rfc2119" title="MUST NOT">MUST NOT</em>, <em class="rfc2119" title=
        "REQUIRED">REQUIRED</em>, <em class="rfc2119" title=
        "SHOULD">SHOULD</em>, <em class="rfc2119" title="SHOULD NOT">SHOULD
        NOT</em>, <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em>,
        <em class="rfc2119" title="MAY">MAY</em>, and <em class="rfc2119"
        title="OPTIONAL">OPTIONAL</em> in this specification are to be
        interpreted as described in [<cite><a class="bibref" href=
        "#bib-RFC2119">RFC2119</a></cite>].
      </p>
      <p>
        There is only one class of product that can claim conformance to this
        specification: a <dfn id="dfn-user-agent">user agent</dfn>.
      </p>
    </section>
    <section class="appendix" id="acknowledgments">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_acknowledgments">
        <span class="secno">A.</span> Acknowledgments
      </h2>
      <p>
        This document reuses text from the WHATWG [<cite><a class="bibref"
        href="#bib-HTML">HTML</a></cite>] specification as permitted by the
        license of that specification. The [<cite><a class="bibref" href=
        "#bib-HTML">HTML</a></cite>] specification is edited by Ian Hickson.
      </p>
    </section>
    <section id="references" class="appendix" typeof="bibo:Chapter" resource=
    "#ref" rel="bibo:Chapter">
      <!--OddPage-->
      <h2 aria-level="1" role="heading" id="h2_references">
        <span class="secno">B.</span> References
      </h2>
      <section id="normative-references" typeof="bibo:Chapter" resource="#ref"
      rel="bibo:Chapter">
        <h3 aria-level="2" role="heading" id="h3_normative-references">
          <span class="secno">B.1</span> Normative references
        </h3>
        <dl class="bibliography" about="">
          <dt id="bib-ABNF">
            [ABNF]
          </dt>
          <dd rel="dcterms:requires">
            D. Crocker; P. Overell. <a href=
            "http://www.ietf.org/rfc/rfc5234.txt"><cite>Augmented BNF for
            Syntax Specifications: ABNF</cite></a>. January 2008. STD. URL:
            <a href=
            "http://www.ietf.org/rfc/rfc5234.txt">http://www.ietf.org/rfc/rfc5234.txt</a>
          </dd>
          <dt id="bib-CSS-MIME">
            [CSS-MIME]
          </dt>
          <dd rel="dcterms:requires">
            H. Lie; B. Bos; C. Lilley. <a href=
            "http://www.ietf.org/rfc/rfc2318.txt"><cite>The text/css Media
            Type</cite></a>. 1 March 1998. Informational. URL: <a href=
            "http://www.ietf.org/rfc/rfc2318.txt">http://www.ietf.org/rfc/rfc2318.txt</a>
          </dd>
          <dt id="bib-ECMASCRIPT">
            [ECMASCRIPT]
          </dt>
          <dd rel="dcterms:requires">
            <a href=
            "http://people.mozilla.org/~jorendorff/es6-draft.html"><cite>ECMA-262
            ECMAScript Language Specification, Edition 6</cite></a>. Draft.
            URL: <a href=
            "http://people.mozilla.org/~jorendorff/es6-draft.html">http://people.mozilla.org/~jorendorff/es6-draft.html</a>
          </dd>
          <dt id="bib-ECMAScript-MIME">
            [ECMAScript-MIME]
          </dt>
          <dd rel="dcterms:requires">
            B. Hoehrmann. <a href=
            "http://tools.ietf.org/html/rfc4329"><cite>Scripting Media
            Types</cite></a>. 4 January 2006. Informational. URL: <a href=
            "http://tools.ietf.org/html/rfc4329">http://tools.ietf.org/html/rfc4329</a>
          </dd>
          <dt id="bib-FETCH">
            [FETCH]
          </dt>
          <dd rel="dcterms:requires">
            Anne van Kesteren. <a href=
            "http://fetch.spec.whatwg.org/"><cite>Fetch</cite></a>. Living
            Standard. URL: <a href=
            "http://fetch.spec.whatwg.org/">http://fetch.spec.whatwg.org/</a>
          </dd>
          <dt id="bib-HTML">
            [HTML]
          </dt>
          <dd rel="dcterms:requires">
            Ian Hickson. <a href=
            "http://www.whatwg.org/specs/web-apps/current-work/"><cite>HTML</cite></a>.
            Living Standard. URL: <a href=
            "http://www.whatwg.org/specs/web-apps/current-work/">http://www.whatwg.org/specs/web-apps/current-work/</a>
          </dd>
          <dt id="bib-JSON">
            [JSON]
          </dt>
          <dd rel="dcterms:requires">
            D. Crockford. <a href=
            "http://www.ietf.org/rfc/rfc4627.txt"><cite>The application/json
            Media Type for JavaScript Object Notation (JSON) (RFC
            4627)</cite></a>. July 2006. RFC. URL: <a href=
            "http://www.ietf.org/rfc/rfc4627.txt">http://www.ietf.org/rfc/rfc4627.txt</a>
          </dd>
          <dt id="bib-MIME-TYPES">
            [MIME-TYPES]
          </dt>
          <dd rel="dcterms:requires">
            N. Freed; N. Borenstein. <a href=
            "http://www.ietf.org/rfc/rfc2046.txt"><cite>Multipurpose Internet
            Mail Extensions (MIME) Part Two: Media Types (RFC 2046)</cite></a>.
            November 1996. RFC. URL: <a href=
            "http://www.ietf.org/rfc/rfc2046.txt">http://www.ietf.org/rfc/rfc2046.txt</a>
          </dd>
          <dt id="bib-RFC2119">
            [RFC2119]
          </dt>
          <dd rel="dcterms:requires">
            S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
            words for use in RFCs to Indicate Requirement Levels.</cite></a>
            March 1997. Internet RFC 2119. URL: <a href=
            "http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
          </dd>
          <dt id="bib-UNICODE">
            [UNICODE]
          </dt>
          <dd rel="dcterms:requires">
            <a href="http://www.unicode.org/versions/latest/"><cite>The Unicode
            Standard</cite></a>. URL: <a href=
            "http://www.unicode.org/versions/latest/">http://www.unicode.org/versions/latest/</a>
          </dd>
          <dt id="bib-UNICODE-SECURITY">
            [UNICODE-SECURITY]
          </dt>
          <dd rel="dcterms:requires">
            Mark Davis; Michel Suignard. <a href=
            "http://www.unicode.org/reports/tr36/"><cite>Unicode Security
            Considerations</cite></a>. URL: <a href=
            "http://www.unicode.org/reports/tr36/">http://www.unicode.org/reports/tr36/</a>
          </dd>
          <dt id="bib-URL">
            [URL]
          </dt>
          <dd rel="dcterms:requires">
            Anne van Kesteren. <a href="http://url.spec.whatwg.org/"><cite>URL
            Standard</cite></a>. Living Standard. URL: <a href=
            "http://url.spec.whatwg.org/">http://url.spec.whatwg.org/</a>
          </dd>
          <dt id="bib-css3-values">
            [css3-values]
          </dt>
          <dd rel="dcterms:requires">
            Håkon Wium Lie; Tab Atkins Jr.; Elika Etemad. <a href=
            "http://www.w3.org/TR/css3-values/"><cite>CSS Values and Units
            Module Level 3</cite></a>. 30 July 2013. W3C Candidate
            Recommendation. URL: <a href=
            "http://www.w3.org/TR/css3-values/">http://www.w3.org/TR/css3-values/</a>
          </dd>
        </dl>
      </section>
      <section id="informative-references" typeof="bibo:Chapter" resource=
      "#ref" rel="bibo:Chapter">
        <h3 aria-level="2" role="heading" id="h3_informative-references">
          <span class="secno">B.2</span> Informative references
        </h3>
        <dl class="bibliography" about="">
          <dt id="bib-css-device-adapt">
            [css-device-adapt]
          </dt>
          <dd rel="dcterms:references">
            Rune Lillesveen. <a href=
            "http://www.w3.org/TR/css-device-adapt/"><cite>CSS Device
            Adaptation</cite></a>. 15 September 2011. W3C Working Draft. URL:
            <a href=
            "http://www.w3.org/TR/css-device-adapt/">http://www.w3.org/TR/css-device-adapt/</a>
          </dd>
        </dl>
      </section>
    </section>
  </body>
</html>
