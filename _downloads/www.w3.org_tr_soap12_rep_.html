<!-- http://www.w3.org/TR/soap12-rep/ -->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Resource Representation SOAP Header Block</title><style type="text/css">
code           { font-family: monospace; }

div.constraint,
div.issue,
div.note,
div.notice     { margin-left: 2em; }

ol.enumar      { list-style-type: decimal; }
ol.enumla      { list-style-type: lower-alpha; }
ol.enumlr      { list-style-type: lower-roman; }
ol.enumua      { list-style-type: upper-alpha; }
ol.enumur      { list-style-type: upper-roman; }


div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
div.exampleWrapper { margin: 4px }
div.exampleHeader { font-weight: bold;
                    margin: 4px}
</style><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-REC.css" /></head><body><div class="head"><p><a href="http://www.w3.org/"><img src="http://www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72" /></a></p>
<h1><a name="title" id="title"></a>Resource Representation SOAP Header Block</h1>
<h2><a name="w3c-doctype" id="w3c-doctype"></a>W3C Recommendation 25 January 2005</h2><dl><dt>This version:</dt><dd>
      <a href="http://www.w3.org/TR/2005/REC-soap12-rep-20050125/">http://www.w3.org/TR/2005/REC-soap12-rep-20050125/</a> 
    </dd><dt>Latest version:</dt><dd>
      <a href="http://www.w3.org/TR/soap12-rep/">
	http://www.w3.org/TR/soap12-rep/</a>
    </dd><dt>Previous version:</dt><dd>
      <a href="http://www.w3.org/TR/2004/PR-soap12-rep-20041116/">
	http://www.w3.org/TR/2004/PR-soap12-rep-20041116/</a>
    </dd><dt>Editors:</dt><dd>Anish Karmarkar, Oracle Corp.</dd><dd>Martin Gudgin, Microsoft</dd><dd>Yves Lafon, W3C</dd></dl><p>Please refer to the <a href="http://www.w3.org/2005/01/soap12-rep-errata"><strong>errata</strong></a> for this document, which may
      include normative corrections.</p><p>See also <a href="http://www.w3.org/2003/03/Translations/byTechnology?technology=soap12-rep"><strong>translations</strong></a>.</p><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2005 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p></div><hr /><div>
<h2><a name="abstract" id="abstract"></a>Abstract</h2><p>
	This document describes the semantics and serialization of a SOAP
        header block for carrying resource representations in SOAP messages.
      </p></div><div>
<h2><a name="status" id="status"></a>Status of this Document</h2><p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/">W3C technical reports index</a> at http://www.w3.org/TR/.</em></p><p>
  This document is a Recommendation of the W3C. It has been reviewed by W3C Members and other interested parties and has been endorsed by the Director as a W3C Recommendation. It is a stable document and may be used as reference material or cited as a normative reference from another document. W3C's role in making the Recommendation is to draw attention to the specification and to promote its widespread deployment. This enhances the functionality and interoperability of the Web.</p><p>
  This document has been produced by the 
  <a href="http://www.w3.org/2000/xp/Group/">XML Protocol Working Group</a> (WG)
  as part of the W3C 
  <a href="http://www.w3.org/2002/ws/Activity"> Web Services Activity</a>. The English version of this specification is the only normative version. However, for translations of this document, see <a href="http://www.w3.org/2003/03/Translations/byTechnology?technology=soap12-rep">http://www.w3.org/2003/03/Translations/byTechnology?technology=soap12-rep</a>.
</p><p>
Please report errors in this document to <a href="mailto:xmlp-comments@w3.org">xmlp-comments@w3.org</a> (<a href="http://lists.w3.org/Archives/Public/xmlp-comments/">archive</a>). The errata list for this edition is available at <a href="http://www.w3.org/2005/01/soap12-rep-errata">http://www.w3.org/2005/01/soap12-rep-errata</a></p><p>
This document is based upon the <a href="http://www.w3.org/TR/2004/PR-soap12-rep-20041116/">Resource Representation SOAP Header Block Proposed Recommendation</a> of 16 November 2004. 
Feedback received during that review resulted in no changes. Evidence of interoperation between
 at least two implementations of this specification are documented in the <a href="http://www.w3.org/2000/xp/Group/4/08/implementation.html">Implementation Summary</a>.
Changes between these two versions are described in a <a href="diff-rrshb.html">diff document</a>.
</p><p>
This document has been produced under the 
<a href="http://www.w3.org/TR/2002/NOTE-patent-practice-20020124">24 January 2002 CPP</a> as amended 
by the <a href="http://www.w3.org/2004/02/05-pp-transition">W3C Patent Policy Transition Procedure</a>. 
An individual who has actual knowledge of a patent which the individual believes contains Essential Claim(s)
 with respect to this specification should disclose the information in accordance with section 6 of the 
<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">W3C Patent Policy</a>.
Patent disclosures relevant to this specification may be found on the Working Group's 
<a href="http://www.w3.org/2000/xp/Group/2/10/16-IPR-statements.html">patent disclosure page</a>.
</p><p>A list of current W3C Recommendations and other technical documents can be found at <a href="http://www.w3.org/TR/">http://www.w3.org/TR/</a>.</p></div><div class="toc">
<h2><a name="contents" id="contents"></a>Table of Contents</h2><p class="toc">1 <a href="#introduction">Introduction</a><br />
    1.1 <a href="#notations">Notational Conventions</a><br />
    1.2 <a href="#relations">Relation to other specifications</a><br />
        1.2.1 <a href="#SOAPRelation">Relationship to the SOAP Processing model</a><br />
2 <a href="#feature-name">SOAP Feature Name</a><br />
3 <a href="#module-name">SOAP Module Name</a><br />
4 <a href="#representation-header">Representation Header Block</a><br />
    4.1 <a href="#rep-introduction">Introduction</a><br />
    4.2 <a href="#rep-construct">Representation header block Constructs</a><br />
        4.2.1 <a href="#rep-representation">rep:Representation element</a><br />
        4.2.2 <a href="#rep-resource">resource attribute</a><br />
        4.2.3 <a href="#rep-reinsert">reinsert attribute</a><br />
        4.2.4 <a href="#rep-data">rep:Data element</a><br />
    4.3 <a href="#rep-extensibility">Extensibility of the Representation header block</a><br />
        4.3.1 <a href="#rep-soap-attributes">SOAP header block Attributes</a><br />
        4.3.2 <a href="#rep-media-type">Specifying the media type</a><br />
        4.3.3 <a href="#rep-http-headers">Extension example: HTTP resolver extension</a><br />
</p>
<h3><a name="appendices" id="appendices"></a>Appendices</h3><p class="toc">A <a href="#references">References</a><br />
B <a href="#acks">Acknowledgements</a> (Non-Normative)<br />
</p></div><hr /><div class="body"><div class="div1">
<h2><a name="introduction" id="introduction"></a>1 Introduction</h2><p>
		This document describes the semantics and serialization of a
                SOAP header block for carrying resource representations in SOAP messages.
	  </p><div class="div2">
<h3><a name="notations" id="notations"></a>1.1 Notational Conventions</h3><p>
	  The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
	  "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
	  document are to be interpreted as described in RFC 2119 <a href="#RFC2119">[RFC 2119]</a>.
	</p><p>
	  This specification uses a number of namespace prefixes throughout;
	  they are listed in <b>[<a href="#tabnsprefixes">Prefixes and Namespaces used in this specification.</a>]</b>.  Note that the
	  choice of any namespace prefix is arbitrary and not semantically
	  significant (see XML Infoset <a href="#">[XMLInfoSet]</a>).
	</p><table border="1"><caption id="tabnsprefixes">Prefixes and Namespaces used in this specification.</caption><tbody><tr><th rowspan="2">Prefix</th><th>Namespace</th></tr><tr><th>Notes</th></tr><tr><td rowspan="2">env</td><td>"http://www.w3.org/2003/05/soap-envelope"</td></tr><tr><td>
		A normative XML Schema <a href="#XMLSchemaP1">[XML Schema Part 1: Structures Second Edition]</a>, <a href="#XMLSchemaP2">[XML Schema Part 2: Datatypes Second Edition]</a> document for the
		"http://www.w3.org/2003/05/soap-envelope"
		namespace can be found at <a href="http://www.w3.org/2003/05/soap-envelope">http://www.w3.org/2003/05/soap-envelope</a>.
	      </td></tr><tr><td rowspan="2">rep</td><td>"http://www.w3.org/2004/08/representation"</td></tr><tr><td>
		A normative XML Schema <a href="#XMLSchemaP1">[XML Schema Part 1: Structures Second Edition]</a>, <a href="#XMLSchemaP2">[XML Schema Part 2: Datatypes Second Edition]</a> document for the
		"http://www.w3.org/2004/08/representation"
		namespace can be found at <a href="http://www.w3.org/2004/08/representation">http://www.w3.org/2004/08/representation</a>.
	      </td></tr><tr><td rowspan="2">xs</td><td>"http://www.w3.org/2001/XMLSchema"</td></tr><tr><td>
		The namespace of XML Schema data types (see <a href="#XMLSchemaP2">[XML Schema Part 2: Datatypes Second Edition]</a>).
	      </td></tr><tr><td rowspan="2">xmlmime</td><td>"http://www.w3.org/2004/11/xmlmime"</td></tr><tr><td>
		The namespace for representing MIME media-types in XML (see <a href="#xmlmime">[Assigning Media Types to Binary Data in XML]</a>).
	      </td></tr></tbody></table><p>
          All parts of this specification are normative, with the exception 
          of examples and sections explicitly marked as "Non-Normative".
        </p></div><div class="div2">
<h3><a name="relations" id="relations"></a>1.2 Relation to other specifications</h3><p>
    This document along with <a href="#XOP">[XML-binary Optimized Packaging]</a> and <a href="#MTOM">[SOAP Message Transmission Optimization Mechanism]</a>
    has been produced in conjunction with the development of
    requirements, embodied in the requirements document <a href="#ucr">[SOAP Optimized Serialization Use Cases and Requirements]</a>.
  </p><p>
    This document defines a SOAP Feature, and a SOAP Module that realizes 
    the SOAP Feature, as specified by SOAP 1.2 <a href="#W3C.soap-part1">[SOAP Version 1.2 Part 1: Messaging Framework]</a>
    <a href="http://www.w3.org/TR/soap12-part1/#soapfeature">
      3.1 SOAP Features</a> and <a href="#W3C.soap-part1">[SOAP Version 1.2 Part 1: Messaging Framework]</a>
    <a href="http://www.w3.org/TR/soap12-part1/#soapmodules">
      3.3 SOAP Modules</a>.
  </p><p>
    Note: The Resource Representation header block is designed to optimize well 
    when used with the SOAP Message Transmission Optimization Mechanism 
    <a href="#MTOM">[SOAP Message Transmission Optimization Mechanism]</a>.
  </p><p>
    Note: The Resource Representation header block is designed, but not 
    required, to be used in conjunction with the Assigning Media Types to 
    Binary Data in XML specification <a href="#xmlmime">[Assigning Media Types to Binary Data in XML]</a>.

  </p><div class="div3">
<h4><a name="SOAPRelation" id="SOAPRelation"></a>1.2.1 Relationship to the SOAP Processing model</h4><p>
             This feature makes no changes to the SOAP processing model.
	  </p></div></div></div><div class="div1">
<h2><a name="feature-name" id="feature-name"></a>2 SOAP Feature Name</h2><p>
        The Resource Representation header block defined by this document 
        embodies the SOAP feature <a href="#W3C.soap-part1">[SOAP Version 1.2 Part 1: Messaging Framework]</a> 
        <a href="http://www.w3.org/TR/soap12-part1/#soapfeature">
          3.1 SOAP Features</a> identified by the URI:
      </p><ul><li><p>"http://www.w3.org/2004/08/representation"</p></li></ul><p>
      The above SOAP feature URI can be used to identify the semantics and 
      serialization of the Resource Representation header block.
     </p></div><div class="div1">
<h2><a name="module-name" id="module-name"></a>3 SOAP Module Name</h2><p>
        The SOAP Module <a href="#W3C.soap-part1">[SOAP Version 1.2 Part 1: Messaging Framework]</a>
        <a href="http://www.w3.org/TR/soap12-part1/#soapmodules">
          3.3 SOAP Modules</a> that realizes the SOAP feature defined 
        in <a href="#feature-name"><b>2 SOAP Feature Name</b></a> is identified by the URI:
      </p><ul><li><p>"http://www.w3.org/2004/08/representation"</p></li></ul><p>
      The above SOAP Module URI can be used to identify the semantics and 
      serialization of the Resource Representation header block.
     </p></div><div class="div1">
<h2><a name="representation-header" id="representation-header"></a>4 Representation Header Block</h2><p>
	This section describes a SOAP header block, the Representation header
	block, that allows a SOAP message to carry representations of Web
	resources.
      </p><div class="div2">
<h3><a name="rep-introduction" id="rep-introduction"></a>4.1 Introduction</h3><p>
     The Representation header block is designed to allow applications to
     carry a representation of a Web resource in a SOAP message. Applications
     of this header include cases where the receiver has limited ability
     to get the representation using other means, for example because of
     access restrictions or because the overhead would be unacceptable. The
     Representation header block is also useful when multiple references to the
     same resource are required but duplication of the resource
     is undesirable. See UC2 and UC6 <a href="#ucr">[SOAP Optimized Serialization Use Cases and Requirements]</a> for details. 
   </p><p>
	  The meaning of the Representation header block, when present in a
	  SOAP message, is to make available the contained representation of
	  the resource it carries to the processing SOAP node. The SOAP node
	  MAY use this representation when dereferencing the URI of the
	  resource instead of making a network request to obtain a representation of 
	  the resource.
          Note that implementations MAY need to process a Representation header
          block before processing other header blocks that require
          dereferencing of a URI whose representation is carried in the
          Representation header block.
	</p><p>
    	 Multiple occurrences of the Representation header block MAY be present
	  in the same SOAP Message to carry representation of multiple Web
	  resources or multiple representations of the same Web resource.
	</p><p>
          Several occurrences of the Representation header block having the 
  	  same value for the <code>role</code> and <code>resource</code> 
          <em> attribute information item</em> 
          (see <a href="#rep-resource"><b>4.2.2 resource attribute</b></a>) MAY be present in the same SOAP
	  Message. Such Representation header blocks SHOULD NOT have the same 
	  metadata (such as media-type). If such Representation header blocks
	  have the same metadata then any one of them may be used.
        </p><p>
	  URIs that are character for character identical MUST be considered 
	  equal when using a representation header to resolve a web reference;
	  URIs that are considered equal according to the URI scheme of the 
	  URI SHOULD be considered equal.
	</p><p>
	  An example SOAP Envelope using the Representation header block is
	  given below.
	</p><div class="exampleOuter">
<div class="exampleHeader"><a name="rep-header-sample" id="rep-header-sample"></a>Example: Representation header block in a SOAP Envelope</div><div class="exampleInner"><pre>&lt;soap:Envelope xmlns:soap='http://www.w3.org/2003/05/soap-envelope' 
               xmlns:rep='http://www.w3.org/2004/08/representation' 
               xmlns:xmlmime='http://www.w3.org/2004/11/xmlmime'&gt;
  &lt;soap:Header&gt;
    &lt;rep:Representation resource='http://example.org/me.png'&gt;
      &lt;rep:Data xmlmime:contentType='image/png'&gt;/aWKKapGGyQ=&lt;/rep:Data&gt;
    &lt;/rep:Representation&gt;
  &lt;/soap:Header&gt;
  &lt;soap:Body&gt;
    &lt;x:MyData xmlns:x='http://example.org/mystuff'&gt;
      &lt;x:name&gt;John Q. Public&lt;/x:name&gt;
      &lt;x:img src='http://example.org/me.png'/&gt;
    &lt;/x:MyData&gt;
  &lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;</pre></div></div></div><div class="div2">
<h3><a name="rep-construct" id="rep-construct"></a>4.2 Representation header block Constructs</h3><div class="div3">
<h4><a name="rep-representation" id="rep-representation"></a>4.2.1 <code>rep:Representation</code> element</h4><p>
	    The <code>Representation</code> <em> element information item</em>
	    has:
	  </p><ul><li><p>
		A [local name] of <code>Representation</code>.
	    </p></li><li><p>
		A [namespace name] of
		"http://www.w3.org/2004/08/representation".
	    </p></li><li><p>
		One or more <em>attribute information items</em> amongst
		its [attributes] as follows:
	      </p><ul><li><p>
		    A mandatory <code>resource</code> <em> attribute information
		      item</em> (see <a href="#rep-resource"><b>4.2.2 resource attribute</b></a>).
		</p></li><li><p>
		    An optional <code>reinsert</code> <em> attribute information
		      item</em> (see <a href="#rep-reinsert"><b>4.2.3 reinsert attribute</b></a>).
		</p></li><li><p>
                  Zero or more namespace qualified <em>attribute information
                  items</em> whose [namespace name] is not
                  "http://www.w3.org/2004/08/representation".
		</p></li></ul></li><li><p>
		One or more <em>element information items</em> in its
		[children] property in order as follows:
	      </p><ol class="enumar"><li><p>
		    A mandatory <code>Data</code> <em> element information
		      item</em> (see <a href="#rep-data"><b>4.2.4 rep:Data element</b></a>).
		</p></li><li><p>
                    Zero or more <em>element information items</em> 
	            whose [namespace name] is not 
                    "http://www.w3.org/2004/08/representation".
		</p></li></ol></li></ul><p>
	    The <code>rep:Representation</code> <em> element information
	      item</em> contains a representation of a Web resource. The
	    value of the <code>resource</code> <em> attribute information
	      item</em> is the identifier of the Web resource. The value of
	    the <code>rep:Data</code> <em> element information item</em> is a
	    base64-encoded representation of the Web resource.
	  </p></div><div class="div3">
<h4><a name="rep-resource" id="rep-resource"></a>4.2.2 <code>resource</code> attribute</h4><p>
	    The <code>resource</code> <em> attribute information item</em>
	    has:
	  </p><ul><li><p>
		A [local name] of <code>resource</code>.
	    </p></li><li><p>
		An empty [namespace name].
	    </p></li><li><p>
		A [specified] property with a value of "true".
	    </p></li></ul><p>
		The type of the <code>resource</code> <em> attribute information item</em>
		is <code>xs:anyURI</code>. The value of the <code>resource</code>
		<em> attribute information item</em> identifies the Web
		resource whose representation is carried in the <code>rep:Representation</code>
		<em> element information item</em> parent of the <code>resource</code> <em> attribute information item</em>.
	  </p></div><div class="div3">
<h4><a name="rep-reinsert" id="rep-reinsert"></a>4.2.3 <code>reinsert</code> attribute</h4><p>
	    The <code>reinsert</code> <em> attribute information item</em>
	    has:
	  </p><ul><li><p>
		A [local name] of <code>reinsert</code>.
	    </p></li><li><p>
		An empty [namespace name].
	    </p></li><li><p>
		A [specified] property with a value of "true".
	    </p></li></ul><p>
	    The type of the <code>reinsert</code> <em> attribute information
	    item</em> is <code>xs:boolean</code>. When this attribute is
            specified on the Representation header block with a value of
	    "true", it indicates that a SOAP forwarding 
	    intermediary node processing the
            header block must reinsert the header block.  This means that when 
            used in conjunction with the <code>relay</code> attribute, defined 
            in <a href="#W3C.soap-part1">[SOAP Version 1.2 Part 1: Messaging Framework]</a> 
            <a href="http://www.w3.org/TR/soap12-part1/#soaprelay">
            5.2.4 SOAP Relay Attribute</a>, with a value of
            "true", the Representation header 
            block will always be relayed by a SOAP forwarding intermediary.
            When this attribute is specified on the Representation header block
            with a value of "false", the behavior of the SOAP
            node processing the header block is the same as that when the
            attribute is not specified, and normal SOAP processing rules
	    apply. The presence of this attribute has no effect on the 
	    processing of a Representation header by a SOAP endpoint.
	  </p></div><div class="div3">
<h4><a name="rep-data" id="rep-data"></a>4.2.4 <code>rep:Data</code> element</h4><p>
	    The <code>Data</code> <em> element information item</em> has:
	  </p><ul><li><p>
		A [local name] of <code>Data</code>.
	    </p></li><li><p>
		A [namespace name] of
		"http://www.w3.org/2004/08/representation".
	    </p></li><li><p>
                Zero or more namespace qualified <em>attribute information 
		items</em> whose [namespace name] is not 
		"http://www.w3.org/2004/08/representation".
	      </p></li><li><p>
		Any number of <em>character information item</em> in its
		[children] property. No other type of <em>information
		  item</em> in its [children] property.
	      </p></li></ul><p>
	    The type of a <code>rep:Data</code> <em> element information
	      item</em> is <code>xs:base64Binary</code>. The value of this
	    <em> element information item</em> is a base64-encoded
	    representation of the Web resource carried in the
	    <code>rep:Representation</code> <em> element information item</em>
	    parent of the <code>resource</code> <em> attribute information
	      item</em>. 
	  </p></div></div><div class="div2">
<h3><a name="rep-extensibility" id="rep-extensibility"></a>4.3 Extensibility of the Representation header block</h3><p>
	  The Representation header block is built to be extensible. This
	  section describes several possible usages of this extensibility.
	</p><div class="div3">
<h4><a name="rep-soap-attributes" id="rep-soap-attributes"></a>4.3.1 SOAP header block Attributes</h4><p>
	    Attributes defined in <a href="#W3C.soap-part1">[SOAP Version 1.2 Part 1: Messaging Framework]</a> <a href="http://www.w3.org/TR/soap12-part1/#soapenv">5. SOAP Message
	      Construct</a> for SOAP header blocks MAY be used with the
	    Representation header block.
	  </p><p>
	    Adding a <code>env:mustUnderstand</code> <em> attribute information
	      item</em> with a value of "true" in the
	    [attributes] property of the <code>rep:Representation</code>
	    <em> element information item</em> ensures that the SOAP receiver
	    is aware that the Web resource representation is available to it.
	  </p><p>
	    A <code>env:role</code> <em> attribute information item</em> in
	    the [attributes] property of the <code>rep:Representation</code>
	    <em> element information item</em> indicates the SOAP node for
	    which the Web resource representation is intended.
	  </p></div><div class="div3">
<h4><a name="rep-media-type" id="rep-media-type"></a>4.3.2 Specifying the media type</h4><p>
      An <code>xmlmime:contentType</code> <em> attribute information item</em> 
      (See <a href="#xmlmime">[Assigning Media Types to Binary Data in XML]</a>) MAY be used to convey the 
      media type of the representation conveyed by a header.  Media type 
      information can be useful in determining whether a given representation 
      is suitable for processing and if it is, how best to interpret the 
      representation provided.  If used, the <code>xmime:contentType</code> 
      <em> attribute information item</em> MUST appear within the 
      [attributes] property of the <code>rep:Data</code> 
	  <em> element information item</em>. If the media type identified by
	  the value of an <code>xmime:contentType</code> <em> attribute information
	  item</em> is a text based media type then the value of the <code>xmime:contentType</code> 
	  <em> attribute information item</em> SHOULD include a charset parameter.
	</p><p>
	  An example that uses the <code>xmime:contentType</code> <em> attribute information item</em> is shown in <a href="#rep-header-sample">Example</a>.
	</p></div><div class="div3">
<h4><a name="rep-http-headers" id="rep-http-headers"></a>4.3.3 Extension example: HTTP resolver extension</h4><p> A receiving SOAP node MAY act as a resolver, with all the rules 
      pertaining to HTTP caches, for some or all of the <em>http:</em> 
      scheme URIs for which representations have been provided. 
	    To enable this, one or more <em>element information
	      items</em> MAY be added to the [children] property of
	    the <code>rep:Representation</code>
	    <em> element information item</em> to transmit the information
	    needed at the HTTP level.
	  </p><p>
	   To avoid requiring that all SOAP senders understand the HTTP caching
	    mechanism, all the data required by a processor that wants to act
	    as a local cache needs to be carried along with the message. This
	    includes the complete request, reply as well as the time the 
	    original HTTP request has been sent and the time the HTTP response
	    has been received.
	  </p><div class="exampleOuter">
<div class="exampleHeader"><a name="http-extension" id="http-extension"></a>Example: HTTP extension</div><div class="exampleInner"><pre>&lt;soap:Envelope xmlns:soap='http://www.w3.org/2003/05/soap-envelope' 
               xmlns:rep='http://www.w3.org/2004/08/representation' 
               xmlns:xmlmime='http://www.w3.org/2004/11/xmlmime'&gt;
  &lt;soap:Header&gt;
    &lt;rep:Representation resource='http://example.org/me.png'&gt;

      &lt;rep:Data xmlmime:contentType='image/png'&gt;/aWKKapGGyQ=&lt;/rep:Data&gt;
      &lt;htx:env xmlns:htx="http://www.w3.org/2004/08/representation/http"&gt;
        &lt;htx:request&gt;
          &lt;htx:request-line name="GET" version="HTTP/1.1"&gt;
            /me.png
          &lt;/htx:request-line&gt;
          &lt;htx:header name="Host"&gt;
            example.org
          &lt;/htx:header&gt;
          &lt;htx:header name="Accept"&gt;
            image/png,image/jpeg,image/gif
          &lt;/htx:header&gt;
          &lt;htx:header name="Accept-Encoding"&gt;
            gzip,deflate,compress;q=0.9
          &lt;/htx:header&gt;
          &lt;htx:header name="Date"&gt;
            Fri, 13 Feb 2004 11:23:28 GMT
          &lt;/htx:header&gt;
          [...]
          &lt;htx:time&gt;
            Fri, 13 Feb 2004 11:23:28 GMT
          &lt;/htx:time&gt;    
        &lt;/htx:request&gt;
        &lt;htx:reply&gt;
          &lt;htx:status-line version="HTTP/1.1" status="200"&gt;
            OK
          &lt;/htx:status-line&gt;
        &lt;htx:header name="Content-Type"&gt;
          image/png
        &lt;htx:header&gt;
        &lt;htx:header name="Date"&gt;
          Fri, 13 Feb 2004 11:23:28 GMT
        &lt;/htx:header&gt;
        [...]
        &lt;htx:time&gt;
          Fri, 13 Feb 2004 11:23:32 GMT
        &lt;/htx:time&gt;    
        &lt;/htx:reply&gt;
      &lt;/htx:env&gt;
      
    &lt;/rep:Representation&gt;
  &lt;/soap:Header&gt;
  &lt;soap:Body&gt;
    &lt;x:MyData xmlns:x='http://example.org/mystuff'&gt;
      &lt;x:name&gt;John Q. Public&lt;/x:name&gt;
      &lt;x:img src='http://example.org/me.png'/&gt;
    &lt;/x:MyData&gt;
  &lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;</pre></div></div><p>
	    Note that if the clocks of the SOAP sender and the SOAP recipient
	    are not synchronized, all the expiration/age computed at the 
	    receiving side will not accurately reflect what could have been
	    computed at the SOAP sender side.
	  </p></div></div></div></div><div class="back"><div class="div1">
<h2><a name="references" id="references"></a>A References</h2><dl><dt class="label"><a name="W3C.soap-part1" id="W3C.soap-part1"></a>SOAP Version 1.2 Part 1: Messaging Framework</dt><dd>
     	<a href="http://www.w3.org/TR/2003/REC-soap12-part1-20030624/"><cite>SOAP 
	Version 1.2 Part 1: Messaging Framework</cite></a>, Marc Hadley, 
	Noah Mendelsohn, Jean-Jacques Moreau, <em>et. al.</em>, Editors. 
	World Wide Web Consortium, 24 June 2003. 
	This version is http://www.w3.org/TR/2003/REC-soap12-part1-20030624/. 
	The <a href="http://www.w3.org/TR/soap12-part1/">latest version</a> is
	available at http://www.w3.org/TR/soap12-part1/.</dd><dt class="label"><a name="XOP" id="XOP"></a>XML-binary Optimized Packaging</dt><dd>
        <a href="http://www.w3.org/TR/2005/REC-xop10-20050125/"><cite>XML-binary Optimized 
	Packaging</cite></a>, Mark Nottingham, Noah Mendelsohn, Martin Gudgin,
	and Hervé Ruellan, Editors. 
	World Wide Web Consortium, 
	25 January 2005. 
	This version is http://www.w3.org/TR/2005/REC-xop10-20050125/. 
	The <a href="http://www.w3.org/TR/xop10/">latest version</a> is 
	available at http://www.w3.org/TR/xop10/.</dd><dt class="label"><a name="MTOM" id="MTOM"></a>SOAP Message Transmission Optimization Mechanism</dt><dd>
        <a href="http://www.w3.org/TR/2005/REC-soap12-mtom-20050125/"><cite>SOAP Message 
	Transmission Optimization Mechanism</cite></a>, Hervé Ruellan,
	Noah Mendelsohn, Martin Gudgin, and Mark Nottingham, Editors. 
	World Wide Web Consortium, 
	25 January 2005. 
	This version is http://www.w3.org/TR/2005/REC-soap12-mtom-20050125/.
	The <a href="http://www.w3.org/TR/soap12-mtom/">latest version</a> is
	available at http://www.w3.org/TR/soap12-mtom/.</dd><dt class="label"><a name="ucr" id="ucr"></a>SOAP Optimized Serialization Use Cases and Requirements</dt><dd>
	<a href="http://www.w3.org/TR/2004/WD-soap12-os-ucr-20040608/"><cite>SOAP Optimized 
	Serialization Use Cases and Requirements</cite></a>, Tony Graham, 
	Mark Jones, and Anish Karmarkar, Editors. 
	World Wide Web Consortium, 08 June 2004. 
	This version is http://www.w3.org/TR/2004/WD-soap12-os-ucr-20040608/. 
	The <a href="http://www.w3.org/TR/soap12-os-ucr/">latest version</a>
	is available at http://www.w3.org/TR/soap12-os-ucr/.</dd><dt class="label"><a name="XMLInfoset" id="XMLInfoset"></a>XML Information Set (Second Edition)</dt><dd>
	<a href="http://www.w3.org/TR/2004/REC-xml-infoset-20040204"><cite>XML Information Set 
	(Second Edition)</cite></a>, Richard Tobin and John Cowan, Editors. 
	World Wide Web Consortium, 04 Feb 2004. 
	This version is http://www.w3.org/TR/2004/REC-xml-infoset-20040204. 
	The <a href="http://www.w3.org/TR/xml-infoset">latest version</a> is
	available at http://www.w3.org/TR/xml-infoset.</dd><dt class="label"><a name="XMLSchemaP1" id="XMLSchemaP1"></a>XML Schema Part 1: Structures Second Edition</dt><dd>
        <a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/"><cite>XML Schema Part 1: 
	Structures Second Edition</cite></a>, David Beech, Murray Maloney, Henry S. Thompson,
	and Noah Mendelsohn, Editors. 
	World Wide Web Consortium, 28 October 2004. 
	This version is http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/
	The <a href="http://www.w3.org/TR/xmlschema-1/">latest version</a> is
	available at http://www.w3.org/TR/xmlschema-1/.</dd><dt class="label"><a name="XMLSchemaP2" id="XMLSchemaP2"></a>XML Schema Part 2: Datatypes Second Edition</dt><dd>
	<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/"><cite>XML Schema Part 2:
	Datatypes Second Edition</cite></a>, Ashok Malhotra and Paul V. Biron, Editors. 
	World Wide Web Consortium, 28 October 2004. 
	This version is http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/. 
	The <a href="http://www.w3.org/TR/xmlschema-2/">latest version</a> is
	available at http://www.w3.org/TR/xmlschema-2/.</dd><dt class="label"><a name="RFC2119" id="RFC2119"></a>RFC 2119</dt><dd>
	<a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for 
	use in RFCs to Indicate Requirement Levels</cite></a>, S. Bradner, 
	Editor.
	IETF, March 1997. 
	This RFC is available at http://www.ietf.org/rfc/rfc2119.txt.</dd><dt class="label"><a name="RFC2396" id="RFC2396"></a>RFC 2396</dt><dd>
	<a href="http://www.ietf.org/rfc/rfc2396.txt"><cite>Uniform Resource 
	Identifiers (URI): Generic Syntax</cite></a>, T. Berners-Lee, 
	R. Fielding and L. Masinter, Editors.
	IETF, August 1998. 
	This RFC is available at http://www.ietf.org/rfc/rfc2396.txt.</dd><dt class="label"><a name="RFC2732" id="RFC2732"></a>RFC 2732</dt><dd>
	<a href="http://www.ietf.org/rfc/rfc2732.txt"><cite>Format for 
	Literal IPv6 Addresses in URL's</cite></a>, 
	R. Hinden, B. Carpenter and L. Masinter, Editors.
	IETF, December 1999. 
	This RFC is available at http://www.ietf.org/rfc/rfc2732.txt.</dd><dt class="label"><a name="xmlmime" id="xmlmime"></a>Assigning Media Types to Binary Data in XML</dt><dd>
	<a href="http://www.w3.org/TR/2004/WD-xml-media-types-20041102"><cite>Assigning Media
	Types to Binary Data in XML</cite></a>, 
	Ümit Yalçınalp and Anish Karmarkar, Editors. 
	World Wide Web Consortium, 02 November 2004. 
	This version is http://www.w3.org/TR/2004/WD-xml-media-types-20041102.
	The <a href="http://www.w3.org/TR/xml-media-types">latest version</a> 
	is available at http://www.w3.org/TR/xml-media-types.</dd></dl></div><div class="div1">
<h2><a name="acks" id="acks"></a>B Acknowledgements (Non-Normative)</h2><p>This specification is the work of the W3C XML Protocol Working Group.</p><p>Participants in the Working Group are (at the time of writing, and by
      alphabetical order): David Fallside (IBM),
Tony Graham (Sun Microsystems),
Martin Gudgin (Microsoft Corporation, formerly of DevelopMentor),
Marc Hadley (Sun Microsystems),
Gerd Hoelzing (SAP AG),
John Ibbotson (IBM),
Anish Karmarkar (Oracle),
Suresh Kodichath (IONA Technologies),
Yves Lafon (W3C),
Michael Mahan (Nokia),
Noah Mendelsohn (IBM, formerly of Lotus Development),
Jeff Mischkinsky (Oracle),
Jean-Jacques Moreau (Canon),
Mark Nottingham (BEA Systems, formerly of Akamai Technologies),
David Orchard (BEA Systems, formerly of Jamcracker),
Herve Ruellan (Canon),
Jeff Schlimmer (Microsoft Corporation),
Pete Wenzel (SeeBeyond),
Volker Wiechers (SAP AG).
</p><p>Previous participants were: Yasser alSafadi (Philips Research),
Bill Anderson (Xerox),
Vidur Apparao (Netscape),
Camilo Arbelaez (webMethods),
Mark Baker (Idokorro Mobile, Inc., formerly of Sun Microsystems),
Philippe Bedu (EDF (Electricite De France)),
Olivier Boudeville (EDF (Electricite De France)),
Carine Bournez (W3C),
Don Box (Microsoft Corporation, formerly of DevelopMentor),
Tom Breuel (Xerox),
Dick Brooks (Group 8760),
Winston Bumpus (Novell, Inc.),
David Burdett (Commerce One),
Charles Campbell (Informix Software),
Alex Ceponkus (Bowstreet),
Michael Champion (Software AG),
David Chappell (Sonic Software),
Miles Chaston (Epicentric),
David Clay (Oracle),
David Cleary (Progress Software),
Dave Cleary (webMethods),
Ugo Corda (Xerox),
Paul Cotton (Microsoft Corporation),
Fransisco Cubera (IBM),
Jim d'Augustine (Excelon Corporation),
Ron Daniel (Interwoven),
Glen Daniels (Macromedia),
Doug Davis (IBM),
Ray Denenberg (Library of Congress),
Paul Denning (MITRE Corporation),
Frank DeRose (TIBCO Software, Inc.),
Mike Dierken (DataChannel),
Andrew Eisenberg (Progress Software),
Brian Eisenberg (DataChannel),
Colleen Evans (Sonic Software),
John Evdemon (XMLSolutions),
David Ezell (Hewlett Packard),
James Falek (TIBCO Software, Inc.),
Eric Fedok (Active Data Exchange),
Chris Ferris (Sun Microsystems),
Daniela Florescu (Propel),
Dan Frantz (BEA Systems),
Michael Freeman (Engenia Software),
Dietmar Gaertner (Software AG),
Scott Golubock (Epicentric),
Mike Greenberg (IONA Technologies),
Rich Greenfield (Library of Congress),
Hugo Haas (W3C),
Mark Hale (Interwoven),
Randy Hall (Intel),
Bjoern Heckel (Epicentric),
Frederick Hirsch (Zolera Systems),
Erin Hoffmann (Tradia Inc.),
Steve Hole (MessagingDirect Ltd.),
Mary Holstege (Calico Commerce),
Jim Hughes (Fujitsu Limited),
Oisin Hurley (IONA Technologies),
Yin-Leng Husband (Hewlett Packard, formerly of Compaq),
Ryuji Inoue (Matsushita Electric Industrial Co., Ltd.),
Scott Isaacson (Novell, Inc.),
Kazunori Iwasa (Fujitsu Limited),
Murali Janakiraman (Rogue Wave),
Mario Jeckle (DaimlerChrysler Research and Technology),
Eric Jenkins (Engenia Software),
Mark Jones (AT&amp;T),
Jay Kasi (Commerce One),
Jeffrey Kay (Engenia Software),
Richard Koo (Vitria Technology Inc.),
Jacek Kopecky (Systinet),
Alan Kropp (Epicentric),
Julian Kumar (Epicentric),
Peter Lecuyer (Progress Software),
Tony Lee (Vitria Technology Inc.),
Michah Lerner (AT&amp;T),
Bob Lojek (Intalio Inc.),
Henry Lowe (OMG),
Brad Lund (Intel),
Matthew MacKenzie (XMLGlobal Technologies),
Murray Maloney (Commerce One),
Richard Martin (Active Data Exchange),
Alex Milowski (Lexica),
Kevin Mitchell (XMLSolutions),
Nilo Mitra (Ericsson),
Ed Mooney (Sun Microsystems),
Dean Moses (Epicentric),
Highland Mary Mountain (Intel),
Don Mullen (TIBCO Software, Inc.),
Rekha Nagarajan (Calico Commerce),
Raj Nair (Cisco Systems),
Masahiko Narita (Fujitsu Limited),
Mark Needleman (Data Research Associates),
Art Nevarez (Novell, Inc.),
Eric Newcomer (IONA Technologies),
Henrik Nielsen (Microsoft Corporation),
Conleth O'Connell (Vignette),
Kevin Perkins (Compaq),
Jags Ramnaryan (BEA Systems),
Andreas Riegg (DaimlerChrysler Research and Technology),
Vilhelm Rosenqvist (NCR),
Marwan Sabbouh (MITRE Corporation),
Waqar Sadiq (Vitria Technology Inc.),
Rich Salz (Zolera Systems),
Krishna Sankar (Cisco Systems),
George Scott (Tradia Inc.),
Shane Sesta (Active Data Exchange),
Lew Shannon (NCR),
John-Paul Sicotte (MessagingDirect Ltd.),
Miroslav Simek (Systinet),
Simeon Simeonov (Macromedia),
Aaron Skonnard (DevelopMentor),
Nick Smilonich (Unisys),
Seumas Soltysik (IONA Technologies),
Soumitro Tagore (Informix Software),
James Tauber (Bowstreet),
Anne Thomas Manes (Sun Microsystems),
Lynne Thompson (Unisys),
Patrick Thompson (Rogue Wave),
Jim Trezzo (Oracle),
Asir Vedamuthu (webMethods),
Randy Waldrop (WebMethods),
Fred Waskiewicz (OMG),
David Webber (XMLGlobal Technologies),
Ray Whitmer (Netscape),
Stuart Williams (Hewlett Packard),
Yan Xu (DataChannel),
Amr Yassin (Philips Research),
Susan Yee (Active Data Exchange),
Jin Yu (MartSoft Corp.).
</p><p>This document has its genesis as a separate section in the <a href="http://www.w3.org/TR/soap12-mtom/">SOAP Message Transmission
      Optimization Mechanism (MTOM)</a>
      document. The editors of the MTOM document, specifically Mark Nottingham 
      and Hervé Ruellan are gratefully acknowledged.</p><p>The people who have contributed to discussions on
<a href="mailto:xml-dist-app@w3.org">xml-dist-app@w3.org</a>
are also gratefully acknowledged.</p></div></div></body></html>
