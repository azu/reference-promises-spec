<!-- http://www.w3.org/TR/html-rdfa/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document w3p:REC" about="" property="dcterms:language" content="en">
<head>
    <title>HTML+RDFa 1.1</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <!--
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    <!-- script src='http://pandora.aptest.com/respec/js/require.js' data-main="http://pandora.aptest.com/respec/js/profile-w3c-common" async class='remove'></script -->
    
    

    <style type="text/css">
      .diff { font-weight:bold; color:#0a3; }
      table, thead, tr, td { padding: 5px; border-width: 1px; border-spacing: 0px; border-style: solid; border-collapse: collapse;}
      table.ruletable {border: 1px solid gray; border-spacing: 2px}
      table.ruletable tr {background-color: #DDDDFF;}
      table.ruletable tr th, table.ruletable tr td {border: 1px solid gray;}
      span.hilite { color: green; /* font-weight: bold */ }
    </style>
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}
</style><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;   
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;    
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.issue-title span, div.note-title span {
    text-transform: uppercase;
}
div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child { margin-top: 0 }
.issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}


</style><link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-REC"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
<body class="h-entry"><div class="head">
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="http://www.w3.org/Icons/w3c_home" alt="W3C"></a>
    
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">HTML+RDFa 1.1</h1>
  
    <h2 property="bibo:subtitle" id="subtitle">Support for RDFa in HTML4 and HTML5</h2>
  
  <h2 property="dcterms:issued" datatype="xsd:dateTime" content="2013-08-22T04:00:00.000Z" id="w3c-recommendation-22-august-2013"><abbr title="World Wide Web Consortium">W3C</abbr> Recommendation <time class="dt-published" datetime="2013-08-22">22 August 2013</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href="http://www.w3.org/TR/2013/REC-html-rdfa-20130822/">http://www.w3.org/TR/2013/REC-html-rdfa-20130822/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/html-rdfa/">http://www.w3.org/TR/html-rdfa/</a></dd>

      <dt>Previous version:</dt>
      <dd><a href="http://www.w3.org/TR/2013/PR-html-rdfa-20130625/">http://www.w3.org/TR/2013/PR-html-rdfa-20130625/</a></dd>
    
      <dt>Test suite:</dt>
      <dd><a href="http://rdfa.info/test-suite/">http://rdfa.info/test-suite/</a></dd>
    
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Manu Sporny" href="mailto:msporny@digitalbazaar.com">Manu Sporny</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://blog.digitalbazaar.com">Digital Bazaar, Inc.</a></span>
</dd>

    
      <dt>Authors:</dt>
      <dd class="p-author h-card vcard" rel="dcterms:contributor"><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Shane McCarron" href="mailto:shane@aptest.com">Shane McCarron</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://www.aptest.com/">Applied Testing and Technology, Inc.</a></span>
</dd>
<dd class="p-author h-card vcard" rel="dcterms:contributor"><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Ben Adida" href="http://adida.net/">Ben Adida</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://creativecommons.org/">Creative Commons</a></span>
</dd>
<dd class="p-author h-card vcard" rel="dcterms:contributor"><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Mark Birbeck" href="http://markbirbeck.com/">Mark Birbeck</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="https://github.com/sidewinderlabs">Sidewinder Labs</a></span>
</dd>
<dd class="p-author h-card vcard" rel="dcterms:contributor"><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Gregg Kellogg" href="http://greggkellogg.net/pages/about">Gregg Kellogg</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://kellogg-assoc.com/">Kellogg Associates</a></span>
</dd>
<dd class="p-author h-card vcard" rel="dcterms:contributor"><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Ivan Herman" href="http://www.ivan-herman.net/foaf#me">Ivan Herman</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a></span>
</dd>
<dd class="p-author h-card vcard" rel="dcterms:contributor"><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Steven Pemberton" href="http://homepages.cwi.nl/~steven/">Steven Pemberton</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://www.cwi.nl/">CWI</a></span>
</dd>
  </dl>

 
    <p>
      Please refer to the <a href="http://www.w3.org/2010/02/rdfa/errata.html"><strong>errata</strong></a> for this document, which may include some normative corrections.
    </p>
  
    <p>
      
        This document is also available in this non-normative format: 
      
      <a rel="alternate" href="diff-20130822.html">diff to previous version</a>.
    </p>
    
   
  
    <p>
      The English version of this specification is the only normative version. Non-normative
      <a href="http://www.w3.org/Consortium/Translation/">translations</a> may also be available.
    </p>
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2009-2013
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
      </p>
    
  
  <hr>
</div>
<section id="abstract" class="introductory" property="dcterms:abstract" datatype="" typeof="bibo:Chapter" resource="#abstract" rel="bibo:chapter"><h2>Abstract</h2>

  <p>This specification defines rules and guidelines for adapting the RDFa Core
  1.1 and RDFa Lite 1.1 specifications for use in HTML5 and XHTML5. The rules
  defined in this specification not only apply to HTML5 documents in non-XML
  and XML mode, but also to HTML4 and XHTML documents interpreted through the
  HTML5 parsing rules.</p>

</section><section id="sotd" class="introductory" typeof="bibo:Chapter" resource="#sotd" rel="bibo:chapter"><h2>Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other
          documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
          of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports
          index</a> at http://www.w3.org/TR/.</em>
        </p>
        
<!-- <p>This document has been reviewed by W3C Members, by software
developers, and by other W3C groups and interested parties, and is
endorsed by the Director as a W3C Recommendation. It is a stable
document and may be used as reference material or cited from another
document. W3C's role in making the Recommendation is to draw attention
to the specification and to promote its widespread deployment. This
enhances the functionality and interoperability of the Web.</p> -->

<!-- UNDER NO CIRCUMSTANCES IS THE FOLLOWING PARAGRAPH TO BE REMOVED OR EDITED WITHOUT TALKING TO IAN FIRST --><!-- UNDER NO CIRCUMSTANCES IS THE PRECEDING PARAGRAPH TO BE REMOVED OR EDITED WITHOUT TALKING TO IAN FIRST --><!-- context and rationale (required) -->

<p>This document has been reviewed by <abbr title="World Wide Web Consortium">W3C</abbr> Members, by software developers, 
and by other <abbr title="World Wide Web Consortium">W3C</abbr> groups and interested parties, and is endorsed by the 
Director as a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation. It is a stable document and may be used 
as reference material or cited from another document. <abbr title="World Wide Web Consortium">W3C</abbr>'s role in making 
the Recommendation is to draw attention to the specification and to promote 
its widespread deployment. This enhances the functionality and 
interoperability of the Web.</p>

<p>This specification is an extension to the HTML5 language. All normative
content in the HTML5 specification, unless specifically overridden by this
specification, is intended to be the basis for this specification.</p>

<div class="note"><div class="note-title" role="heading" aria-level="3"><span>Note</span></div><p id="pre-rec-warning" class="">There are two features in this 
specification, <code>@datetime</code> processing and <code>rdf:HTML</code>
literals, that are currently defined as non-normative features. The intent
is that these features will eventually become normative features once the
specification that describes the <code>@datetime</code> attribute [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>] 
and the specification that defines <code>rdf:HTML</code> [<cite><a class="bibref" href="#bib-RDF-CONCEPTS">RDF-CONCEPTS</a></cite>] 
become <abbr title="World Wide Web Consortium">W3C</abbr> Recommendations.
Implementers should implement these features now;
a 2nd (or later) edition of this specification will clarify the long-term 
stability of those features. Based on the discussion between the RDFa 
Working Group, the HTML Working Group, and the RDF Working Group, 
it is not expected that implementation changes will be necessary as 
HTML5 and RDF 1.1 advance to Recommendation.
</p></div>

<p>A <a href="http://rdfa.info/test-suite/">sample test harness</a> is
available for software developers. This set of tests is not intended to be
exhaustive.
A <a href="http://rdfa.info/">community-maintained website</a> contains more
information on further reading, developer tools, and software libraries
that can be used to extract and process RDFa data from web documents. The final 
<a href="http://www.w3.org/2010/02/rdfa/wiki/HTML5-ImplementationReport">implementation report</a> 
considered by the Director has been made available to the public.</p>


        <p>
          This document was published by the <a href="http://www.w3.org/2010/02/rdfa/">RDFa Working Group</a> as a Recommendation.
          
          
          If you wish to make comments regarding this document, please send them to 
          <a href="mailto:public-rdfa-wg@w3.org">public-rdfa-wg@w3.org</a> 
          (<a href="mailto:public-rdfa-wg-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="http://lists.w3.org/Archives/Public/public-rdfa-wg/">archives</a>).
          
          
          
          
            All comments are welcome.</p>
          
        
        
        <p>
          
            This document was produced by a group operating under the 
             
                <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
            
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/44350/status" rel="disclosure">public list of any patent disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes instructions for 
            disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the
            information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 class="introductory">Table of Contents</h2><ul class="toc"><li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>Introduction</a></li><li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">2. </span>Conformance</a><ul class="toc"><li class="tocline"><a href="#document-conformance" class="tocxref"><span class="secno">2.1 </span>Document Conformance</a></li><li class="tocline"><a href="#rdfa-processor-conformance" class="tocxref"><span class="secno">2.2 </span>RDFa Processor Conformance</a></li><li class="tocline"><a href="#user-agent-conformance" class="tocxref"><span class="secno">2.3 </span>User Agent Conformance</a></li></ul></li><li class="tocline"><a href="#extensions-to-rdfa-core-1.1" class="tocxref"><span class="secno">3. </span>Extensions to RDFa Core 1.1</a><ul class="toc"><li class="tocline"><a href="#additional-rdfa-processing-rules" class="tocxref"><span class="secno">3.1 </span>Additional RDFa Processing Rules</a></li><li class="tocline"><a href="#modifying-the-input-document" class="tocxref"><span class="secno">3.2 </span>Modifying the Input Document</a></li><li class="tocline"><a href="#specifying-the-language-for-a-literal" class="tocxref"><span class="secno">3.3 </span>Specifying the Language for a Literal</a></li><li class="tocline"><a href="#invalid-xmlliteral-values" class="tocxref"><span class="secno">3.4 </span>Invalid XMLLiteral Values</a></li><li class="tocline"><a href="#property-copying" class="tocxref"><span class="secno">3.5 </span>Property Copying</a><ul class="toc"><li class="tocline"><a href="#implementing-property-copying" class="tocxref"><span class="secno">3.5.1 </span>Implementing Property Copying</a></li></ul></li></ul></li><li class="tocline"><a href="#extensions-to-the-html5-syntax" class="tocxref"><span class="secno">4. </span>Extensions to the HTML5 Syntax</a></li><li class="tocline"><a href="#backwards-compatibility" class="tocxref"><span class="secno">5. </span>Backwards Compatibility</a><ul class="toc"><li class="tocline"><a href="#xmlns--prefixed-attributes" class="tocxref"><span class="secno">5.1 </span><code>@xmlns:</code>-Prefixed Attributes</a></li><li class="tocline"><a href="#conformance-criteria-for-xmlns--prefixed-attributes" class="tocxref"><span class="secno">5.2 </span>Conformance Criteria for <code>@xmlns:</code>-Prefixed Attributes</a></li><li class="tocline"><a href="#preserving-namespaces-via-coercion-to-infoset" class="tocxref"><span class="secno">5.3 </span>Preserving Namespaces via Coercion to Infoset</a></li><li class="tocline"><a href="#infoset-based-processors" class="tocxref"><span class="secno">5.4 </span>Infoset-based Processors</a><ul class="toc"><li class="tocline"><a href="#extracting-uri-mappings-from-infosets" class="tocxref"><span class="secno">5.4.1 </span>Extracting URI Mappings from Infosets</a></li><li class="tocline"><a href="#processing-rdfa-attributes" class="tocxref"><span class="secno">5.4.2 </span>Processing RDFa Attributes</a></li></ul></li><li class="tocline"><a href="#dom-level-1-and-level-2-based-processors" class="tocxref"><span class="secno">5.5 </span>DOM Level 1 and Level 2-based Processors</a><ul class="toc"><li class="tocline"><a href="#extracting-uri-mappings-via-dom-level-2" class="tocxref"><span class="secno">5.5.1 </span>Extracting URI Mappings via DOM Level 2</a></li><li class="tocline"><a href="#processing-rdfa-attributes-1" class="tocxref"><span class="secno">5.5.2 </span>Processing RDFa Attributes</a></li></ul></li></ul></li><li class="tocline"><a href="#about-this-document" class="tocxref"><span class="secno">A. </span>About this Document</a><ul class="toc"><li class="tocline"><a href="#history" class="tocxref"><span class="secno">A.1 </span>History</a></li><li class="tocline"><a href="#change-history" class="tocxref"><span class="secno">A.2 </span>Change History</a></li><li class="tocline"><a href="#acknowledgments" class="tocxref"><span class="secno">A.3 </span>Acknowledgments</a></li></ul></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">B. </span>References</a><ul class="toc"><li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">B.1 </span>Normative references</a></li><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">B.2 </span>Informative references</a></li></ul></li></ul></section>



<section class="informative" id="introduction">
<!--OddPage--><h2><span class="secno">1. </span>Introduction</h2><p><em>This section is non-normative.</em></p>

  <p>Today's web is built predominantly for human readers. Even as
  machine-readable data begins to permeate the web, it is typically
  distributed in a separate file, with a separate format, and very limited
  correspondence between the human and machine versions. As a result, web
  browsers can provide only minimal assistance to humans in parsing and
  processing web pages: browsers only see presentation information. RDFa is
  intended to solve the problem of marking up machine-readable data in HTML
  documents. RDFa provides a set of HTML attributes to augment visual data with
  machine-readable hints. Using RDFa, authors may turn their existing
  human-visible text and links into machine-readable data without repeating
  content.</p>
</section>

<section id="conformance" typeof="bibo:Chapter" resource="#conformance" rel="bibo:chapter"><!--OddPage--><h2><span class="secno">2. </span>Conformance</h2>
<p>
  As well as sections marked as non-normative, all authoring guidelines, diagrams, examples,
  and notes in this specification are non-normative. Everything else in this specification is
  normative.
</p>
<p>
  The key words <em class="rfc2119" title="MUST">MUST</em>, <em class="rfc2119" title="MUST NOT">MUST NOT</em>, <em class="rfc2119" title="REQUIRED">REQUIRED</em>, <em class="rfc2119" title="SHOULD">SHOULD</em>, <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em>, <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em>, <em class="rfc2119" title="MAY">MAY</em>,
  and <em class="rfc2119" title="OPTIONAL">OPTIONAL</em> in this specification are to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>].
</p>


<section id="document-conformance">
<h3><span class="secno">2.1 </span>Document Conformance</h3>

  <p>There are two types of document conformance criteria for HTML
  documents containing RDFa semantics; <strong>HTML+RDFa</strong> and
  <strong>HTML+RDFa Lite</strong>.
  </p>

  <p>The following conformance criteria apply to any HTML document
  including RDFa markup:</p>

  <ul>
    <li>All document conformance requirements stated as mandatory in the
    HTML5 specification <em class="rfc2119" title="MUST">MUST</em> be met.</li>

    <li>The appropriate
    <a href="#extensions-to-the-html5-syntax">Extensions to the HTML5 Syntax</a>,
    as described in this document, <em class="rfc2119" title="MUST">MUST</em> be considered valid and conforming.
    Note that there are fewer supported attributes if the RDFa Lite
    syntax [<cite><a class="bibref" href="#bib-RDFA-LITE">RDFA-LITE</a></cite>] is desired over the more advanced set of RDFa
    attributes outlined in RDFa Core.</li>

    <li>All HTML5 elements and attributes <em class="rfc2119" title="SHOULD">SHOULD</em> be used in a way that conforms
    to [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]. All RDFa attributes <em class="rfc2119" title="SHOULD">SHOULD</em> be used in a way that
    is conforms to [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>] and this document.</li>
  </ul>

<p>An example of a conforming HTML+RDFa document, with the RDFa portions 
highlighted in green:</p>

<div class="example"><div class="example-title"><span>Example 1</span>: Example of an HTML+RDFa 1.1 document</div><pre class="example">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;Example Document&lt;/title&gt;
  &lt;/head&gt;
  &lt;body <span class="hilite">vocab="http://schema.org/"</span>&gt;
    &lt;p <span class="hilite">typeof="Blog"</span>&gt;
      Welcome to my &lt;a <span class="hilite">property="url" href="http://example.org/"</span>&gt;blog&lt;/a&gt;.
    &lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div>

The following data will be extracted by a conforming RDFa processor, shown in
Turtle format [<cite><a class="bibref" href="#bib-TURTLE">TURTLE</a></cite>]:

<div class="example"><div class="example-title"><span>Example 2</span>: Turtle output of Example Document</div><pre class="example">[] a &lt;http://schema.org/Blog&gt;;
   &lt;http://schema.org/url&gt; &lt;http://example.org/&gt; .</pre></div>

<p>Non-XML mode HTML+RDFa 1.1 documents <em class="rfc2119" title="SHOULD">SHOULD</em> be labeled with the Internet
Media Type <code>text/html</code> as defined in
<a href="http://www.w3.org/TR/html5/iana.html#text/html">section 12.1</a>
of the HTML5 specification [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>].</p>
<p>XML mode XHTML5+RDFa 1.1 documents <em class="rfc2119" title="SHOULD">SHOULD</em> be labeled with the Internet Media
Type <code>application/xhtml+xml</code> as defined in
<a href="http://www.w3.org/TR/html5/iana.html#application/xhtml+xml">section 12.3</a>
of the HTML5 specification [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>], <em class="rfc2119" title="MUST NOT">MUST NOT</em> use a <code>DOCTYPE</code>
declaration for XHTML+RDFa 1.0 or XHTML+RDFa 1.1, and <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em> use the
<code>@version</code> attribute.
</p>

</section>

<section id="rdfa-processor-conformance">
  <h3><span class="secno">2.2 </span>RDFa Processor Conformance</h3>

  <p>The RDFa processor conformance criteria are listed below, all of
  which are mandatory:</p>
  <ul>
    <li>An RDFa processor <em class="rfc2119" title="MUST">MUST</em> implement all of the mandatory features
    specified in the RDFa Core 1.1 specification [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>].</li>
    <li>An RDFa processor <em class="rfc2119" title="MUST">MUST</em> support any mandatory features described in this
    specification.</li>
  </ul>
</section>

<section id="user-agent-conformance">
<h3><span class="secno">2.3 </span>User Agent Conformance</h3>

  <p>A user agent is considered to be a type of RDFa processor when the
  user agent stores or processes RDFa attributes and their values. The
  reason there are separate <em>RDFa Processor Conformance</em> and a
  <em>User Agent Conformance</em> sections is because one can be a valid
  HTML5 RDFa processor but not a valid HTML5 user agent (for example, by only
  providing a very small subset of rendering functionality).
  </p>

  <p>The user agent conformance criteria are listed below, all of which are
  mandatory:</p>

  <ul>
    <li>A user agent <em class="rfc2119" title="MUST">MUST</em> conform to all requirements listed in 
    <a href="http://www.w3.org/TR/html5/infrastructure.html#conformance-requirements">Section 2.2: Conformance Requirements</a> 
    of the HTML5 specification.
    </li>

    <li>A user agent <em class="rfc2119" title="MUST">MUST</em> implement all of the features required by this
    specification.</li>

    <li>A user agent <em class="rfc2119" title="MUST">MUST</em> implement all of the features required in the RDFa
    Core 1.1 specification, excluding those features which are specifically
    overridden by this specification as detailed in the <a href="#extensions-to-rdfa-core-1.1">Extensions to RDFa Core 1.1</a>.</li>
  </ul>

</section>
</section>

<section id="extensions-to-rdfa-core-1.1">
  <!--OddPage--><h2><span class="secno">3. </span>Extensions to RDFa Core 1.1</h2>

  <p>The RDFa Core 1.1 [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>] specification is the base document on
  which this specification builds.
  RDFa Core 1.1 specifies the attributes and syntax, in <a href="http://www.w3.org/TR/rdfa-core/#s_syntax">Section 5: Attributes and
  Syntax</a>, and processing model, in <a href="http://www.w3.org/TR/rdfa-core/#s_model">Section 7: Processing
  Model</a>, for extracting RDF from a web document. This section
  specifies changes to the attributes and processing model defined in
  RDFa Core 1.1 in order to support extracting RDF from HTML documents.</p>

  <p>The requirements and rules, as specified in RDFa Core and further
  extended in this document, apply to all HTML5 documents. An RDFa processor
  operating on both HTML and XHTML documents, specifically on their
  resulting DOMs or infosets, <em class="rfc2119" title="MUST">MUST</em> apply these processing rules
  for HTML4, HTML5 and XHTML5
  serializations, DOMs and/or infosets.</p>

<section id="additional-rdfa-processing-rules">
  <h3><span class="secno">3.1 </span>Additional RDFa Processing Rules</h3>
  <p>Documents conforming to the rules in this specification are processed
  according to [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>] with the following extensions:</p>
  <ol>
  <li>The default vocabulary URI is undefined.</li>
  <li>HTML+RDFa uses an additional initial context by default,
    <code>http://www.w3.org/2011/rdfa-context/html-rdfa-1.1</code>, which must
    be applied after the initial context for [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>]
    (<code>http://www.w3.org/2011/rdfa-context/rdfa-1.1</code>).</li> <li>The
    <a class="tref" title="base" href="http://www.w3.org/TR/rdfa-core/#T-base">base</a> can be set
    using the <code>base</code> element. For XHTML5+RDFa 1.1 documents,
    <a class="tref" title="base" href="http://www.w3.org/TR/rdfa-core/#T-base">base</a> can also be set using the <code>@xml:base</code>
    attribute.</li>
  <li>The
    <a class="tref" title="current-language" href="http://www.w3.org/TR/rdfa-core/#T-current-language">current language</a>
    can be set using either the <code>@lang</code> or <code>@xml:lang</code>
    attributes. When the <code>@lang</code> attribute and the
    <code>@xml:lang</code> attribute are specified on the same element, the
    <code>@xml:lang</code> attribute takes precedence. When both
    <code>@lang</code> and <code>@xml:lang</code> are specified on the same
    element, they <em class="rfc2119" title="MUST">MUST</em> have the same value. Further details related to setting the 
    <a class="tref" title="current-language" href="http://www.w3.org/TR/rdfa-core/#T-current-language">current language</a>
    can be found in section
    <a href="#specifying-the-language-for-a-literal" class="sec-ref"><span class="secno">3.3</span> <span class="sec-title">Specifying the Language for a Literal</span></a>.</li>
  <li>When determining which set of RDFa processing rules to use for documents
    served with the <code>application/xhtml+xml</code> media type, a conforming
    RDFa processor <em class="rfc2119" title="MUST">MUST</em> look at the value in the DOCTYPE declaration of the
    document. If a DOCTYPE declaration exists, then the
    processing rules are:
    <ul>
      <li>XHTML1+RDFa 1.0 for a DOCTYPE of <code>&lt;!DOCTYPE html PUBLIC "-//<abbr title="World Wide Web Consortium">W3C</abbr>//DTD XHTML+RDFa 1.0//EN" "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"&gt;</code>, or</li>
      <li>XHTML1+RDFa 1.1 for a DOCTYPE of <code>&lt;!DOCTYPE html PUBLIC "-//<abbr title="World Wide Web Consortium">W3C</abbr>//DTD XHTML+RDFa 1.1//EN" "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"&gt;</code>, or</li>
      <li>XHTML5+RDFa 1.1 for all other values of DOCTYPE.</li>
    </ul>
    Documents served as <code>application/xhtml+xml</code>, that don't contain
    a DOCTYPE declaration, and don't specify a <code>@version</code> attribute <em class="rfc2119" title="MUST">MUST</em> be interpreted
    as XHTML5+RDFa 1.1 documents.</li>
  <li>In
    <a href="http://www.w3.org/TR/rdfa-core/#PS-IRI-mappings"> Section 7.5:
    Sequence, processing step 3</a>, if the
    <a href="http://www.w3.org/TR/rdfa-core/#T-processor-graph">processor graph</a>
    feature is supported and if an
    <a href="http://www.w3.org/TR/rdfa-core/#T-iri-mapping">IRI mapping</a>
    overwrites a previously existing mapping in the
    <a href="http://www.w3.org/TR/rdfa-core/#T-local-list-of-iri-mappings">local list of IRI mappings</a>
    with a different value, the processor <em class="rfc2119" title="MUST">MUST</em> generate an appropriate
    <a href="http://www.w3.org/ns/rdfa.html">rdfa:PrefixRedefinition</a>
    warning and place the associated triples into the
    <a href="http://www.w3.org/TR/rdfa-core/#T-processor-graph">processor graph</a>. </li>
  <li>In
    <a href="http://www.w3.org/TR/rdfa-core/#PS-new-subject"> Section 7.5:
    Sequence, immediately after processing step 4</a>, if the
    <code>@property</code> attribute and the <code>@rel</code> and/or
    <code>@rev</code> attribute exists on the same element, the non-CURIE and
    non-URI <code>@rel</code> and <code>@rev</code> values are ignored. If, after
    this, the value of <code>@rel</code> and/or <code>@rev</code> becomes empty,
    then the processor <em class="rfc2119" title="MUST">MUST</em> act as if the respective attribute is not present.
    </li>
  <li>In <a href="http://www.w3.org/TR/rdfa-core/#PS-new-subject">Section 7.5, 
    processing step 5</a>, and <a href="http://www.w3.org/TR/rdfa-core/#PS-new-subject-and-object">
    processing step 6</a>, if no IRI is provided by a resource attribute 
    (e.g., <code>@about</code>, <code>@href</code>, <code>@resource</code>, or 
    <code>@src</code>), then first check to see if the element is the 
    <code>head</code> or <code>body</code> element. If it is, then set
    <a href="http://www.w3.org/TR/rdfa-core/#T-new-subject">new subject</a> 
    to
    <a href="http://www.w3.org/TR/rdfa-core/#T-parent-object">parent object</a>.
  </li>
  <li>In
    <a href="http://www.w3.org/TR/rdfa-core/#PS-current-object-literal">
    Section 7.5: Sequence, processing step 11</a>, the 
    <a href="http://www.w3.org/TR/html5/text-level-semantics.html#the-time-element">
    HTML5 <code>@datetime</code> attribute</a> 
    <em class="rfc2119" title="MUST">MUST</em> be utilized when generating 
    the current property value, unless <code>@content</code> is also 
    present on the same element. Otherwise, if <code>@datetime</code> is 
    present, the current property value must be generated as
    follows. The literal value is the value contained in the 
    <code>@datetime</code> attribute. If <code>@datatype</code> is 
    present, it is to be used as defined in the RDFa Core [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>] 
    processing rules. Otherwise, if the value of 
    <code>@datetime</code> lexically matches a valid
    <code>xsd:date</code>, <code>xsd:time</code>, <code>xsd:dateTime</code>,
    <code>xsd:duration</code>, <code>xsd:gYear</code>, or
    <code>xsd:gYearMonth</code> a typed literal must be generated, with its 
    datatype set to the matching xsd datatype. Otherwise, a plain literal 
    <em class="rfc2119" title="MUST">MUST</em> be generated, taking into account the 
    <a href="http://www.w3.org/TR/rdfa-core/#T-current-language">current language</a>.
    Implementers should note that the correct order of match testing should be:
    <code>xsd:duration</code>, <code>xsd:dateTime</code>, 
    <code>xsd:date</code>, <code>xsd:time</code>, 
    <code>xsd:gYearMonth</code>, and <code>xsd:gYear</code>.
    This feature is currently non-normative,
    <a href="#pre-rec-warning">see the note</a> on when it will become 
    normative.</li>
  <li>In
    <a href="http://www.w3.org/TR/rdfa-core/#PS-current-object-literal">
    Section 7.5: Sequence, processing step 11</a>, if the element is
    <code>time</code>, and the element does not have <code>@datetime</code>
    or <code>@content</code> attributes, the processor <em class="rfc2119" title="MUST">MUST</em> act as if there
    is a <code>@datetime</code> attribute containing exactly the elements 
    text value. This feature is currently non-normative,
    <a href="#pre-rec-warning">see the note</a> on when it will become 
    normative.</li>
  <li>In
    <a href="http://www.w3.org/TR/rdfa-core/#PS-new-subject"> Section 7.5:
    Sequence, step 11, immediately after sub-step 2</a>, if the
    <code>@datatype</code> attribute is present and evaluates to
    <code>http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML</code>, 
    the value of the HTML Literal is a string
    created by serializing all child nodes to text. This applies to all nodes 
    that are descendants of the <a title="current-element" href="http://www.w3.org/TR/rdfa-core/#T-current-element">current
    element</a>, not including the element itself. The HTML Literal is
    given a
    datatype of <code>http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML</code> 
    as defined in
    <cite><a href="http://www.w3.org/TR/rdf11-concepts/#section-html">
      Section 5.2: The rdf:HTML Datatype
    </a></cite> of [<cite><a class="bibref" href="#bib-RDF-CONCEPTS">RDF-CONCEPTS</a></cite>]. This feature is currently non-normative,
    <a href="#pre-rec-warning">see the note</a> on when it will become 
    normative.
  </li>
  <li>Once the
    <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>
    is generated following the processing steps defined in
    <a href="http://www.w3.org/TR/rdfa-core/#s_sequence">Section 7.5: Sequence</a> of
    the RDFa Core 1.1 specification [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>], and the steps in this
    section, perform the operations defined in
    <a href="#implementing-property-copying">Implementing Property Copying</a>.</li>
</ol>

<p>
The <code>@version</code> attribute is not supported in HTML5 and is
non-conforming. However, if an HTML+RDFa document contains the
<code>@version</code> attribute on the <code>html</code> element, a conforming
RDFa processor <em class="rfc2119" title="MUST">MUST</em> examine the value of this attribute. If the value matches
that of a defined version of RDFa, then the processing rules for that version
<em class="rfc2119" title="MUST">MUST</em> be used. If the value does not match a defined version, or there is no
<code>@version</code> attribute, then the processing rules for the most recent
version of RDFa 1.1 <em class="rfc2119" title="MUST">MUST</em> be used.
</p>

</section>

<section id="modifying-the-input-document">
  <h3><span class="secno">3.2 </span>Modifying the Input Document</h3>

  <p>RDFa's tree-based processing rules, outlined in
  <a href="http://www.w3.org/TR/rdfa-core/#s_sequence">Section 7.5: Sequence</a> of
  the RDFa Core 1.1 specification [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>], allow an input document to be
  automatically corrected, cleaned-up, re-arranged, or modified in any way that
  is approved by the host language prior to processing. Element nesting issues
  in HTML documents <em class="rfc2119" title="SHOULD">SHOULD</em> be corrected before the input document is
  translated into the DOM, a valid tree-based model, on which the RDFa
  processing rules will operate.</p>

  <p>Any mechanism that generates a data structure equivalent to the HTML5 or
  XHTML5 DOM, such as the html5lib library, <em class="rfc2119" title="MAY">MAY</em> be used as the mechanism to
  construct the tree-based model provided as input to the RDFa processing
  rules.</p>
</section>

<section id="specifying-the-language-for-a-literal">
  <h3><span class="secno">3.3 </span>Specifying the Language for a Literal</h3>

  <p>According to RDFa Core 1.1 the
  <a class="tref" title="current-language" href="http://www.w3.org/TR/rdfa-core/#T-current-language">current language</a>
  <em class="rfc2119" title="MAY">MAY</em> be specified by the host language. In order to conform
  to this specification, RDFa processors <em class="rfc2119" title="MUST">MUST</em> use the mechanism described in
  <em>The lang and xml:lang attributes</em> section of the [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]
  specification to determine the
  <a class="tref" title="language" href="http://www.w3.org/TR/html5/dom.html#global-attributes">language</a>
  of a node.</p>

  <p>If the final encapsulating MIME type for an HTML fragment is not decided 
on while editing, it is <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> that the author
  specify both <code>@lang</code> and <code>@xml:lang</code> where the value in
  both attributes is exactly the same.</p>

  <div class="note"><div class="note-title" role="heading" aria-level="4"><span>Note</span></div><p class="">The HTML5 specification takes the 
  <code>Content-Language</code> HTTP header into account when determining the
  language of an element. Some RDFa processor implementations, like those
  written in JavaScript, may not have 
  access to this header and will be non-conforming in the edge case where
  the language is only specified in the <code>Content-Language</code> HTTP 
  header. In these instances, RDFa document authors are urged to 
  set the language in the document via the <code>@lang</code>
  attribute on the <code>html</code> element in order to ensure
  that the document is interpreted correctly across all RDFa processors.
  </p></div>  

  </section>

  <section id="invalid-xmlliteral-values">
  <h3><span class="secno">3.4 </span>Invalid XMLLiteral Values</h3>

  <p>When generating literals of type XMLLiteral, the processor <em class="rfc2119" title="MUST">MUST</em> ensure
  that the output XMLLiteral is a namespace well-formed XML fragment. A
  namespace well-formed XML fragment has the following properties:</p>

  <ul>
    <li>The XML fragment, when placed inside of a single root element, <em class="rfc2119" title="MUST">MUST</em>
    validate as well-formed XML. The normative language that describes a
    well-formed XML document is specified in <a href="http://www.w3.org/TR/REC-xml/#sec-well-formed">Section 2.1 "Well-Formed
    XML Documents"</a> of the XML specification.</li>

    <li>The XML fragment, when placed inside of a single root element, <em class="rfc2119" title="MUST">MUST</em>
    retain all active namespace information. The currently active attributes
    declared using <code>@xmlns</code> and <code>@xmlns:</code> that are stored in the
    RDFa processor's current
    <a class="tref" title="evaluation-context" href="http://www.w3.org/TR/rdfa-core/#T-evaluation-context">evaluation context</a>
    in the
    <a class="tref" title="iri-mappings" href="http://www.w3.org/TR/rdfa-core/#T-iri-mapping">IRI mappings</a>
    <em class="rfc2119" title="MUST">MUST</em> be preserved in the generated XMLLiteral. The <em>PREFIX</em> value for
    <code>@xmlns:PREFIX</code> <em class="rfc2119" title="MUST">MUST</em> be entirely transformed into lower-case characters
    when preserving the value in the XMLLiteral. All active namespaces declared
    via <code>@xmlns</code>, <code>@xmlns:</code>, and <code>@prefix</code>
    <em class="rfc2119" title="MUST">MUST</em> be placed in each top-level element in the generated XMLLiteral,
    taking care to not overwrite pre-existing namespace values.</li>
  </ul>

  <p>An RDFa processor that transforms the XML fragment <em class="rfc2119" title="MUST">MUST</em> use the
  <a href="http://www.w3.org/TR/html5/syntax.html#coercing-an-html-dom-into-an-infoset">
  Coercing an HTML DOM into an infoset</a> algorithm, as specified in the HTML5
  specification, followed by the algorithm defined in the <a href="http://www.w3.org/TR/html5/the-xhtml-syntax.html#serializing-xhtml-fragments">Serializing
  XHTML Fragments</a> section of the HTML5 specification. If an error or
  exception occurs at any point during the transformation, the triple containing
  the XMLLiteral <em class="rfc2119" title="MUST NOT">MUST NOT</em> be generated.</p>

  <p>Transformation to a namespace well-formed XML fragment is required
  because an application that consumes XMLLiteral data expects that data to
  be a namespace well-formed XML fragment.</p>

  <p>The transformation requirement does not apply to plain text input data that are
  text-only, such as literals that contain a <code>@datatype</code> attribute
  with an empty value (<code>""</code>), or input data that contain only
  text nodes.</p>

  <p>An example transformation demonstrating the preservation of namespace
  values is provided below. The → symbol is used to denote that the line
  is a continuation of the previous line and is included purely for the
  purposes of readability:</p>
<div class="example"><div class="example-title"><span>Example 3</span>: Namespace preservation markup</div><pre class="example">&lt;p xmlns:ex="http://example.org/vocab#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;
 Two rectangles (the example markup for them are stored in a triple):
 &lt;svg <span class="hilite">xmlns</span>="<span class="hilite">http://www.w3.org/2000/svg</span>"
      property="ex:markup" datatype="rdf:XMLLiteral"&gt;
 →&lt;rect width="300" height="100" style="fill:rgb(0,0,255);stroke-width:1; stroke:rgb(0,0,0)"/&gt;
 →&lt;rect width="50" height="50" style="fill:rgb(255,0,0);stroke-width:2;stroke:rgb(0,0,0)"/&gt;&lt;/svg&gt;
&lt;/p&gt;</pre></div>
<p>The markup above <em class="rfc2119" title="SHOULD">SHOULD</em> produce the following triple, which preserves the
xmlns declaration in the markup by injecting the <code>@xmlns</code> attribute
in the <code>rect</code> elements:</p>

<div class="example"><div class="example-title"><span>Example 4</span>: Namespace preservation triple</div><pre class="example">&lt;&gt;
   &lt;http://example.org/vocab#markup&gt;
      """&lt;rect <span class="hilite">xmlns="http://www.w3.org/2000/svg"</span> width="300"
→height="100" style="fill:rgb(0,0,255);stroke-width:1; stroke:rgb(0,0,0)"/&gt;
→&lt;rect <span class="hilite">xmlns="http://www.w3.org/2000/svg"</span> width="50"
→height="50" style="fill:rgb(255,0,0);stroke-width:2;
→stroke:rgb(0,0,0)"/&gt;"""^^&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral&gt; .</pre></div>

<p>Since the <code>ex</code> and <code>rdf</code>
namespaces are not used in either <code>rect</code> element, they are not
preserved in the XMLLiteral.
</p>

<p>Similarly, compound document elements that reside in different
namespaces must have their namespace declarations preserved:</p>
<div class="example"><div class="example-title"><span>Example 5</span>: Namespace preservation for compound document elements</div><pre class="example">&lt;p xmlns:ex="http://example.org/vocab#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   <span class="hilite">xmlns:fb="http://www.facebook.com/2008/fbml"</span>&gt;
 This is how you markup a user in FBML:
 &lt;span property="ex:markup" datatype="rdf:XMLLiteral"&gt;
→&lt;span&gt;&lt;fb:user uid="12345"&gt;The User&lt;/fb:user&gt;&lt;/span&gt;
→&lt;/span&gt;
&lt;/p&gt;</pre></div>
<p>The markup above <em class="rfc2119" title="SHOULD">SHOULD</em> produce the following triple, which preserves the
<code>fb</code> namespace in the corresponding triple:</p>

<div class="example"><div class="example-title"><span>Example 6</span>: Namespace element preservation triple</div><pre class="example">&lt;&gt;
   &lt;http://example.org/vocab#markup&gt;
      """&lt;span <span class="hilite">xmlns:fb="http://www.facebook.com/2008/fbml"</span>&gt;
→&lt;fb:user uid="12345"&gt;&lt;/fb:user&gt;
→&lt;/span&gt;"""^^&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral&gt; .</pre></div>
</section>

<section id="property-copying">
  <h3><span class="secno">3.5 </span>Property Copying</h3>
  <p>There are times when authors will find that they have many resources on a 
  page that share a common set of properties. For example, several
  music events may have different performance times, but use
  the same location, band, and ticket prices. In this particular case, it is 
  beneficial to have a short-hand notation to instruct the RDFa processor 
  to include the location, band, and ticket price information without having 
  to repeat all of the markup that expresses the data.</p>
  <p>HTML+RDFa defines a <em>property copying</em> mechanism which allows 
    properties associated with a resource to be copied to another resource. 
    This mechanism can be activated by using the <code>rdfa:copy</code> 
    predicate.
    The feature is illustrated in the following two examples:</p>
  <div class="example"><div class="example-title"><span>Example 7</span>: Events with duplicate properties</div><pre class="example">&lt;div vocab="http://schema.org/"&gt;
  &lt;p typeof="MusicEvent"&gt;
   <span class="hilite">&lt;link property="image" href="Muse1.jpg"/&gt;
   &lt;link property="image" href="Muse2.jpg"/&gt;
   &lt;link property="image" href="Muse3.jpg"/&gt;
   &lt;span property="name"&gt;Muse&lt;/span&gt;</span> at the United Center.
   &lt;time property="startDate" datetime="2013-03-03"&gt;March 3rd 2013&lt;/time&gt;, 
   &lt;a property="location" href="#united"&gt;United Center, Chicago, Illinois&lt;/a&gt;
   ...
  &lt;/p&gt;

  &lt;p typeof="MusicEvent"&gt;
   <span class="hilite">&lt;link property="image" href="Muse1.jpg"/&gt;
   &lt;link property="image" href="Muse2.jpg"/&gt;
   &lt;link property="image" href="Muse3.jpg"/&gt;
   &lt;span property="name"&gt;Muse&lt;/span&gt;</span> at the Target Center.
   &lt;time property="startDate" datetime="2013-03-07"&gt;March 7th 2013&lt;/time&gt;, 
   &lt;a property="location" href="#target"&gt;Target Center, Minneapolis, Minnesota&lt;/a&gt;
   ...
  &lt;/p&gt;
&lt;/div&gt;</pre></div>

  <p>In this case, two music events are defined with <em>image</em>,
    <em>name</em>, <em>startDate</em>, and <em>location</em> properties. The 
    <em>image</em> and <em>name</em> values are identical for the two 
    events and are unnecessarily duplicated in the markup.
    Using RDFa's <em>property copying</em> feature, a <em>pattern</em> can be
    declared that expresses the common properties. This pattern can then be
    copied into other resources within the document:</p>
  <div class="example"><div class="example-title"><span>Example 8</span>: Copying common properties</div><pre class="example">&lt;div vocab="http://schema.org/"&gt;
  <span class="hilite">&lt;div resource="#muse" typeof="rdfa:Pattern"&gt;
    &lt;link property="image" href="Muse1.jpg"/&gt;
    &lt;link property="image" href="Muse2.jpg"/&gt;
    &lt;link property="image" href="Muse3.jpg"/&gt;
    &lt;span property="name"&gt;Muse&lt;/span&gt;
  &lt;/div&gt;</span>

  &lt;p typeof="MusicEvent"&gt;
    <span class="hilite">&lt;link property="rdfa:copy" href="#muse"/&gt;</span>
    Muse at the United Center.
    &lt;time property="startDate" datetime="2013-03-03"&gt;March 3rd 2013&lt;/time&gt;, 
    &lt;a property="location" href="#united"&gt;United Center, Chicago, Illinois&lt;/a&gt;
    ...
  &lt;/p&gt;

  &lt;p typeof="MusicEvent"&gt;
    <span class="hilite">&lt;link property="rdfa:copy" href="#muse"/&gt;</span>
    Muse at the Target Center.
    &lt;time property="startDate" datetime="2013-03-07"&gt;March 7th 2013&lt;/time&gt;, 
    &lt;a property="location" href="#target"&gt;Target Center, Minneapolis, Minnesota&lt;/a&gt;
    ...
  &lt;/p&gt;
&lt;/div&gt;</pre></div>

  <p>In this case, the common properties for all of the events are expressed in
    the first <code>div</code>. The common properties are copied into each
    event resource via the <code>rdfa:copy</code> predicate. The output for the
    previous two examples is the same:</p>
    
  <div class="example"><div class="example-title"><span>Example 9</span>: Turtle output of property copying example</div><pre class="example">@prefix schema: &lt;http://schema.org/&gt; .
@prefix xsd: http://www.w3.org/2001/XMLSchema#&gt; .

[] a schema:MusicEvent;
   schema:image &lt;Muse1.jpg&gt;, &lt;Muse2.jpg&gt;, &lt;Muse3.jpg&gt;;
   schema:name "Muse";
   schema:startDate "2013-03-03"^^xsd:date;
   schema:location &lt;#united&gt; .

[] a schema:MusicEvent;
   schema:image &lt;Muse1.jpg&gt;, &lt;Muse2.jpg&gt;, &lt;Muse3.jpg&gt;;
   schema:name "Muse";
   schema:startDate "2013-03-07"^^xsd:date;
   schema:location &lt;#target&gt; .</pre></div>
  
  <p>The copy process is iterative, so that resources may copy
  other resources that copy other resources. For example:</p>
  <div class="example"><div class="example-title"><span>Example 10</span>: Resources may copy other resources that copy other resources</div><pre class="example">&lt;div vocab="http://schema.org/"&gt;
  &lt;div typeof="Person"&gt;
    <span class="hilite">&lt;link property="rdfa:copy" href="#lennon"/&gt;
    &lt;link property="rdfa:copy" href="#band"/&gt;</span>
  &lt;/div&gt;
  &lt;p <span class="hilite">resource="#lennon" typeof="rdfa:Pattern"</span>&gt; 
    Name: &lt;span property="name"&gt;John Lennon&lt;/span&gt;
  &lt;p&gt;
  &lt;div <span class="hilite">resource="#band" typeof="rdfa:Pattern"</span>&gt;
    &lt;div property="band" typeof="MusicGroup"&gt;
      <span class="hilite">&lt;link property="rdfa:copy" href="#beatles"/&gt;</span>
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div <span class="hilite">resource="#beatles" typeof="rdfa:Pattern"</span>&gt;
    &lt;p&gt;Band: &lt;span property="name"&gt;The Beatles&lt;/span&gt;&lt;/p&gt;
    &lt;p&gt;Size: &lt;span property="size"&gt;4&lt;/span&gt; players&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div>

  <p>In the example above, the properties from <code>#lennon</code> and 
    <code>#band</code> are copied into the first resource. Then the
    properties from <code>#beatles</code> are copied into
    <code>#band</code>. Subsequently, those properties are again copied into 
    the first resource yielding the following output:</p>
  <div class="example"><div class="example-title"><span>Example 11</span>: Iterative copying example output in Turtle</div><pre class="example">@prefix schema: &lt;http://schema.org/&gt; .

[ a schema:Person;
  schema:name "John Lennon" ;
  schema:band [
    a schema:MusicGroup;
    schema:name "The Beatles";
    schema:size "4"
  ]
] .</pre></div>

  <p>Similar to
    <cite><a href="http://www.w3.org/TR/rdfa-core/#s_vocab_expansion">Vocabulary Expansion</a></cite>
    as defined in [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>], RDFa Property Copying operates on the
    <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>
    after document processing is complete.</p>
  
  <section id="implementing-property-copying">
    <h4><span class="secno">3.5.1 </span>Implementing Property Copying</h4>
      <p>Once the
        <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>
        is generated following the processing steps defined in
        <a href="http://www.w3.org/TR/rdfa-core/#s_sequence">Section 7.5: Sequence</a> of
        the RDFa Core 1.1 specification [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
        and the <a href="#extensions-to-the-html5-syntax">Extensions to the HTML5 Syntax</a> 
        defined in this specification, processors <em class="rfc2119" title="MUST">MUST</em> update the
        <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>
        using the following rules:</p>

      <ol>
        <li>Run the following rule for each <code>rdfa:copy</code> statement
        in the 
        <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>,
        and for each new <code>rdfa:copy</code> statement added as a result of
        property copying until no new triples are added to the
        <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>:
        <table class="ruletable"><tbody>
          <tr><th>Rule name</th><th>If output graph contains</th><th>then add</th></tr>
          <tr><td>pattern-copy</td><td>
            ?subject rdfa:copy ?target<br>
            ?target rdf:type rdfa:Pattern <br>
            ?target ?predicate ?object
          </td><td>
            ?subject ?predicate ?object
          </td></tr>
        </tbody></table>
        </li>
        <li>Finally, run this rule to remove utilized <code>rdfa:copy</code> 
          statements and <code>rdfa:Pattern</code> resources from the 
        <a class="tref" title="output-graph" href="http://www.w3.org/TR/rdfa-core/#T-output-graph">output graph</a>:
        <table class="ruletable"><tbody>
          <tr><th>Rule name</th><th>If output graph contains</th><th>then remove</th></tr>
          <tr><td>pattern-clean</td><td>
            ?subject rdfa:copy ?target<br>
            ?target rdf:type rdfa:Pattern<br>
            ?target ?predicate ?object
          </td><td>
            ?subject rdfa:copy ?target<br>
            ?subject rdf:type rdfa:Pattern<br>
            ?target ?predicate ?object
          </td></tr>
        </tbody></table>
        </li>
      </ol>

    <div class="note"><div class="note-title" role="heading" aria-level="5"><span>Note</span></div><p class="">Implementers should be aware that a simplistic implementation of
      the <em>pattern-copy</em> rule may lead to an infinite loop when 
      handling circular dependencies. A processor should cease
      the <em>pattern-copy</em> rule when no unique triples are generated.</p></div>

    <div class="note"><div class="note-title" role="heading" aria-level="5"><span>Note</span></div><p class="">Alternate rules may be used to update the output graph as 
    long as the end result is the same.</p></div>
  </section>

</section>

</section>

<section id="extensions-to-the-html5-syntax">
  <!--OddPage--><h2><span class="secno">4. </span>Extensions to the HTML5 Syntax</h2>

  <p>There are a few attributes that are added as extensions to the HTML5
  syntax in order to fully support RDFa:</p>

  <ul>
  <li>If HTML+RDFa Lite document conformance is desired, all RDFa attributes and
    valid values (including CURIEs), as listed in
    <a href="http://www.w3.org/TR/rdfa-lite/#the-attributes"> RDFa Lite 1.1, Section 2: The Attributes</a>,
    <em class="rfc2119" title="MUST">MUST</em> be allowed and validate as conforming when used in an HTML4, HTML5 or
    XHTML5 document. For the avoidance of doubt, the following RDFa attributes
    are allowed on all elements in the HTML5 content model: <code>@vocab</code>,
    <code>@typeof</code>, <code>@property</code>, <code>@resource</code>, and
    <code>@prefix</code>. All other attributes that RDFa may process, such as
    <code>@href</code> and <code>@src</code>, are only allowed when consistent
    with the content model for that element,
    as defined in the HTML5 specification.</li>
  <li>If HTML+RDFa document conformance is desired, all RDFa attributes and
    valid values (including CURIEs), as listed in
    <a href="http://www.w3.org/TR/rdfa-core/#rdfa-attributes">RDFa Core 1.1, Section 2.1: The RDFa Attributes</a>,
    <em class="rfc2119" title="MUST">MUST</em> be allowed and validate as conforming when used in an HTML4, HTML5 or
    XHTML5 document. For the avoidance of doubt, the following RDFa attributes
    are allowed on all elements in the HTML5 content model: <code>@vocab</code>,
    <code>@typeof</code>, <code>@property</code>, <code>@resource</code>,
    <code>@prefix</code>, <code>@content</code>, <code>@about</code>,
    <code>@rel</code>, <code>@rev</code>, <code>@datatype</code>, and
    <code>@inlist</code>. All other attributes that RDFa may process, such as
    <code>@href</code> and <code>@src</code>, are only allowed when consistent
    with the content model for that element,
    as defined in the HTML5 specification.</li>
  <li>If the <code>@property</code> RDFa attribute is present on the 
    <code>link</code> or <code>meta</code> elements, they <em class="rfc2119" title="MUST">MUST</em> be viewed as 
    conforming if used in the <code>body</code> of the document. 
    More specifically, 
    when <code>link</code> or <code>meta</code> elements contain the
    RDFa <code>@property</code> attribute and are used in the 
    <code>body</code> of an HTML5 document, they <em class="rfc2119" title="MUST">MUST</em> be considered 
    <a href="http://www.w3.org/TR/html5/dom.html#flow-content">flow content</a>.</li>
  <li>If the RDFa <code>@property</code> attribute is present on the <code>link</code>
    element, the <code>@rel</code> attribute is not required.</li>
  <li>If the RDFa <code>@resource</code> attribute is present on the <code>link</code>
    element, the <code>@href</code> attribute is not required.</li>
  <li>If the RDFa <code>@property</code> attribute is present on the <code>meta</code>
    element, neither the <code>@name</code>, <code>@http-equiv</code>, nor <code>@charset</code> attributes are required
    and the <code>@content</code> attribute <em class="rfc2119" title="MUST">MUST</em> be specified.</li>
  </ul>

</section>

<section id="backwards-compatibility">
  <!--OddPage--><h2><span class="secno">5. </span>Backwards Compatibility</h2>

  <p>RDFa Core 1.1 deprecates the usage of <code>@xmlns:</code> in RDFa 1.1
  documents. Web page authors <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em> use <code>@xmlns:</code> to express
  prefix mappings in RDFa 1.1 documents. Web page authors <em class="rfc2119" title="SHOULD">SHOULD</em> use
  the <code>@prefix</code> attribute to specify prefix mappings.</p>

  <p>However, there are times when XHTML+RDFa 1.0 documents are served by web
  servers using the <code>text/html</code> MIME type. In these instances, the
  HTML5 specification asserts that the document is processed according to the
  non-XML mode HTML5 processing rules. In these particular cases, it is
  important that the prefixes declared via <code>@xmlns:</code> are preserved
  for the RDFa processors to ensure backwards-compatibility with RDFa 1.0
  documents. The following sections elaborate upon the backwards compatibility
  requirements for RDFa processor implementations.</p>

  <section id="xmlns--prefixed-attributes">
    <h3><span class="secno">5.1 </span><code>@xmlns:</code>-Prefixed Attributes</h3>

    <p>The RDFa Core 1.1 [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>] specification deprecates the
    use of the <code>@xmlns:</code> mechanism to declare CURIE prefix mappings in
    favor of the <code>@prefix</code> attribute. However, there are instances 
    where its use is unavoidable. For example, publishing legacy documents as HTML5 or 
    supporting older XHTML+RDFa 1.0 documents that rely on the <code>@xmlns:</code>
    attribute.</p>

    <p>CURIE prefix mappings specified using attributes prepended with
    <code>@xmlns:</code> <em class="rfc2119" title="MUST">MUST</em> be processed using the algorithm defined in
    section 4.4.1:
    <a href="#extracting-uri-mappings-from-infosets">Extracting URI Mappings from Infosets</a>
    for infoset-based processors, or section 4.5.1:
    <a href="#extracting-uri-mappings-via-dom-level-2">Extracting URI Mappings from DOMs</a>
    for DOM Level 2-based processors. For CURIE prefix mappings using the
    <code>@prefix</code> attribute,
    <a href="http://www.w3.org/TR/rdfa-core/#PS-IRI-mappings">Section 7.5: Sequence, step 3</a>
    <em class="rfc2119" title="MUST">MUST</em> be used to process namespace values.</p>

    <p>Since CURIE prefix mappings have been specified using
    <code>@xmlns:</code>, and since HTML attribute names are case-insensitive,
    CURIE prefix names declared using the <code>@xmlns:</code>attribute-name
    pattern <code>xmlns:&lt;PREFIX&gt;="&lt;URI&gt;"</code> <em class="rfc2119" title="SHOULD">SHOULD</em> be specified
    using only lower-case characters. For example, the text
    "<code>@xmlns:</code>" and the text in <code>"&lt;PREFIX&gt;"</code> <em class="rfc2119" title="SHOULD">SHOULD</em>
    be lower-case only. This is to ensure that prefix mappings are interpreted
    in the same way between HTML (case-insensitive attribute names) and XHTML
    (case-sensitive attribute names) document types.</p>
  </section>

  <section id="conformance-criteria-for-xmlns--prefixed-attributes">
    <h3><span class="secno">5.2 </span>Conformance Criteria for <code>@xmlns:</code>-Prefixed Attributes</h3>

    <p>Since RDFa 1.0 documents may contain attributes starting with
    <code>@xmlns:</code> to specify CURIE prefixes, any attribute starting with
    a case-insensitive match on the text string "<code>@xmlns:</code>" <em class="rfc2119" title="MUST">MUST</em> be
    preserved in the DOM or other tree-like model that is passed to the RDFa
    Processor.
    For documents conforming to this specification, attributes with
    names that have a case insensitive prefix matching "<code>@xmlns:</code>"
    <em class="rfc2119" title="MUST">MUST</em> be considered conforming. Conformance checkers <em class="rfc2119" title="SHOULD">SHOULD</em>
    accept attribute names that have a case insensitive prefix matching
    "<code>@xmlns:</code>" as conforming. Conformance checkers <em class="rfc2119" title="SHOULD">SHOULD</em> generate
    warnings noting that the use of <code>@xmlns:</code> is deprecated.
    Conformance checkers <em class="rfc2119" title="MAY">MAY</em> report the use of xmlns: as an error.
    </p>

    <p>All attributes starting with a case insensitive prefix matching
    "<code>@xmlns:</code>" <em class="rfc2119" title="MUST">MUST</em> conform to the production rules outlined in
    Namespaces in XML [<cite><a class="bibref" href="#bib-XML-NAMES11">XML-NAMES11</a></cite>],
    <a href="http://www.w3.org/TR/xml-names11/#ns-decl">Section 3: Declaring Namespaces</a>.
    Documents that contain <code>@xmlns:</code> attributes that do not conform to
    Namespaces in XML <em class="rfc2119" title="MUST NOT">MUST NOT</em> be accepted as conforming.
    </p>
  </section>

  <section id="preserving-namespaces-via-coercion-to-infoset">
    <h3><span class="secno">5.3 </span>Preserving Namespaces via Coercion to Infoset</h3>

    <p>RDFa 1.0 documents may contain the <code>@xmlns:</code> pattern to
    declare prefix mappings, it is important that namespace information that
    is declared in non-XML mode HTML5 documents are mapped to an infoset
    correctly. In order to ensure this mapping is performed correctly, the
    "Coercing an HTML DOM into an infoset" rules defined in [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]
    must be extended to include the following rule:</p>

    <p>If the XML API is namespace-aware, the tool must ensure that
    ([<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">namespace
    name</a>], [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">local name</a>],
    [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">normalized
    value</a>]) namespace tuples are created when converting the non-XML mode
    DOM into an infoset. Given a standard <code>@xmlns:</code> definition,
    <code>xmlns:foo="http://example.org/bar#"</code>, the [namespace name]
    is <code>http://www.w3.org/2000/xmlns/</code>,
    the [local name] is <code>foo</code>, and the
    [normalized value] is <code>http://example.org/bar#</code>, thus the
    namespace tuple would be (<code>http://www.w3.org/2000/xmlns/</code>,
    <code>foo</code>, <code>http://example.org/bar#</code>).</p>

    <p>For example, given the following input text:</p>
    <div class="example"><div class="example-title"><span>Example 12</span></div><pre class="example">&lt;div xmlns:com="https://w3id.org/commerce#"&gt;</pre></div>

    <p>
    The <code>div</code> element above, when coerced from an HTML DOM into
    an infoset, should contain an attribute in the [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.element">namespace
    attributes</a>] list with a [namespace name] set to
    "<code>http://www.w3.org/2000/xmlns/</code>", a [local name] set to
    <code>com</code>, and a [normalized value] of
    "<code>https://w3id.org/commerce#</code>".
    </p>
  </section>

  <section id="infoset-based-processors">
    <h3><span class="secno">5.4 </span>Infoset-based Processors</h3>

    <p>While the intent of the RDFa processing instructions is to provide a
    set of rules that are as language and toolchain independent as possible, for
    the sake of clarity, detailed methods of extracting RDFa content from
    processors operating on an XML Information Set are provided below.</p>

  <section id="extracting-uri-mappings-from-infosets">
  <h4><span class="secno">5.4.1 </span>Extracting URI Mappings from Infosets</h4>

  <p>Extracting URI Mappings declared via <code>@xmlns:</code>
  while operating from within an infoset-based RDFa processor can be achieved
  using the following algorithm:</p>

  <p>While processing an element as described in [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
  <a href="http://www.w3.org/TR/rdfa-core/#s_sequence">Section 7.5: Sequence</a>,
  Step #2:</p>

  <ol>
    <li>For each attribute in the [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.element">namespace
    attributes</a>] list that has a [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">prefix</a>] value,
    create an [<a href="http://www.w3.org/TR/rdfa-core/#T-iri-mapping">IRI
    mapping</a>] by storing the [prefix] as the value to be mapped, and the
    [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">normalized
    value</a>] as the value to map.</li>

    <li>For each attribute in the [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.element">attributes</a>] list
    that has no value for [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">prefix</a>] and a
    [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">local
    name</a>] that starts with <code>@xmlns:</code>, create an [<a href="http://www.w3.org/TR/rdfa-core/#T-iri-mapping">IRI mapping</a>] by
    storing the [local name] part with the <code>@xmlns:</code> characters
    removed as the value to be mapped, and the [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">normalized
    value</a>] as the value to map.
    <div class="note"><div class="note-title" role="heading" aria-level="5"><span>Note</span></div><p class="">This step is unnecessary if the infoset coercion
    rules preserve namespaces specified in non-XML mode.</p></div></li>
  </ol>

  <p>For example, assume that the following markup is processed by an
  infoset-based RDFa processor:</p>
<div class="example"><div class="example-title"><span>Example 13</span></div><pre class="example">&lt;div xmlns:ps="https://w3id.org/payswarm#" ...</pre></div>

<p>After the markup is processed, there should exist a [URI mapping] in
the [local list of URI mappings] that contains a mapping from
<code>ps</code> to <code>https://w3id.org/payswarm#</code>.
</p>

</section>

<section id="processing-rdfa-attributes">
  <h4><span class="secno">5.4.2 </span>Processing RDFa Attributes</h4>

  <p>There are a number of non-prefixed attributes that are associated with
  RDFa Processing in HTML5. If an XML Information Set based RDFa processor is
  used to process these attributes, the following algorithm should be used to
  detect and extract the values of the attributes.</p>

  <p>While processing Infoset Attribute Information Items in Element Information
  Items as described in [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
  <a href="http://www.w3.org/TR/rdfa-core/#s_sequence">
    Section 7.5: Sequence, Step #4 through Step #9</a>:</p>

  <ol>
    <li>For each Attribute Information Item specific to RDFa in the infoset
    [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">attributes</a>]
    list that has a [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">prefix</a>] with
    no value, extract and use the [<a href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">normalized
    value</a>].</li>
  </ol>
</section>
</section>

<section id="dom-level-1-and-level-2-based-processors">
  <h3><span class="secno">5.5 </span>DOM Level 1 and Level 2-based Processors</h3>

  <p>Most DOM-aware RDFa processors are capable of accessing DOM Level 1
  [<cite><a class="bibref" href="#bib-DOM-LEVEL-1">DOM-LEVEL-1</a></cite>]
  methods to process attributes on elements. To discover all
  <code>@xmlns:</code>-specified CURIE prefix mappings, the
  <a href="http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-1950641247">
  Node.attributes</a>
  <a href="http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-1780488922">
  NamedNodeMap</a> can be iterated over. Each
  <a href="http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-637646024">
  Attr.name</a> that
  starts with the text string <code>@xmlns:</code> specifies a CURIE prefix
  mapping. The value to be mapped is the string after the <code>@xmlns:</code>
  substring in the Attr.name variable and the value to be mapped is
  the value of the Attr.value variable.</p>

  <p>The intent of the RDFa processing instructions are to provide a
  set of rules that are as language and toolchain independent as possible. If
  a developer chooses to not use the DOM1 environment mechanism outlined in
  the previous paragraph, they may use the following DOM2 [<cite><a class="bibref" href="#bib-DOM-LEVEL-2-CORE">DOM-LEVEL-2-CORE</a></cite>]
  environment mechanism.</p>

<section id="extracting-uri-mappings-via-dom-level-2">
  <h4><span class="secno">5.5.1 </span>Extracting URI Mappings via DOM Level 2</h4>

  <p>Extracting URI Mappings declared via <code>@xmlns:</code> while operating
  from within a DOM Level 2 based RDFa processor can be achieved using the
  following algorithm:</p>

  <p>While processing each DOM2 [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614">Element</a>]
  as described in [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
  <a href="http://www.w3.org/TR/rdfa-core/#s_sequence">
    Section 7.5: Sequence, Step #2</a>:</p>

  <ol>
    <li>For each [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614">Attr</a>]
    in the [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-1950641247">Node.attributes</a>]
    list that has a [<a href="http://www.w3.org/TR/DOM-Level-2-Core/glossary.html#dt-namespaceprefix">namespace
    prefix</a>] value of <code>@xmlns</code>, create an [<a href="http://www.w3.org/TR/rdfa-core/#T-iri-mapping">IRI mapping</a>] by
    storing the [<a href="http://www.w3.org/TR/DOM-Level-2-Core/glossary.html#dt-localname">local
    name</a>] as the value to be mapped, and the [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-F68D080">Node.nodeValue</a>]
    as the value to map.</li>

    <li>For each [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614">Attr</a>]
    in the [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-1950641247">Node.attributes</a>]
    list that has a [<a href="http://www.w3.org/TR/DOM-Level-2-Core/glossary.html#dt-namespaceprefix">namespace
    prefix</a>] value of null and a [<a href="http://www.w3.org/TR/DOM-Level-2-Core/glossary.html#dt-localname">local
    name</a>] that starts with <code>@xmlns:</code>, create an [<a href="http://www.w3.org/TR/rdfa-core/#T-iri-mapping">IRI mapping</a>] by
    storing the [local name] part with the <code>@xmlns:</code> characters
    removed as the value to be mapped, and the [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-F68D080">Node.nodeValue</a>]
    as the value to map.
    <div class="note"><div class="note-title" role="heading" aria-level="5"><span>Note</span></div><p class="">This step is unnecessary if the XML and non-XML
    mode DOMs are namespace consistent.</p></div></li>
  </ol>

  <p>For example, assume that the following markup is processed by a
  DOM2-based RDFa processor:</p>
  <div class="example"><div class="example-title"><span>Example 14</span></div><pre class="example">&lt;div xmlns:com="https://w3id.org/commerce#" ...</pre></div>
<p>After the markup is processed, there should exist a [URI mapping] in
the [local list of URI mappings] that contains a mapping from
<code>com</code> to <code>https://w3id.org/commerce#</code>.
</p>
</section>

<section id="processing-rdfa-attributes-1">
  <h4><span class="secno">5.5.2 </span>Processing RDFa Attributes</h4>

  <p>There are a number of non-prefixed attributes that are associated with
  RDFa processing in HTML5. If an DOM2-based RDFa processor is used to
  process these attributes, the following algorithm should be used to detect
  and extract the values of the attributes.</p>

  <p>While processing an element as described in [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
  <a href="http://www.w3.org/TR/rdfa-core/#PS-IRI-mappings">Section 5.5: Sequence,
  Step #3 through Step #9</a>:</p>

  <ol>
    <li>For each RDFa attribute in the [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-1950641247">Node.attributes</a>]
    list that has a [<a href="http://www.w3.org/TR/DOM-Level-2-Core/glossary.html#dt-namespaceprefix">namespace
    prefix</a>] that is null, extract and use [<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-F68D080">Node.nodeValue</a>]
    as the value.</li>
  </ol>

  <div class="note"><div class="note-title" role="heading" aria-level="5"><span>Note</span></div><p class="">When extracting values from <code>@href</code> and
  <code>@src</code>, web authors and developers should
  note that certain values <em class="rfc2119" title="MAY">MAY</em> be transformed if accessed via the DOM versus
  a non-DOM processor. The rules for modification of URL values can be
  found in the main HTML5 specification under
  <a href="http://www.w3.org/TR/html5/infrastructure.html#urls">
  Section 2.5: URLs</a>.
  </p></div>
  </section>
 </section>
</section>

<section class="appendix" id="about-this-document">
<!--OddPage--><h2><span class="secno">A. </span>About this Document</h2>

<section class="informative" id="history">

<h3><span class="secno">A.1 </span>History</h3><p><em>This section is non-normative.</em></p>

<p>In early 2004, Mark Birbeck published a document named "RDF in XHTML"
via the XHTML2 Working Group wherein he laid
the groundwork for what would eventually become RDFa (The Resource
Description Framework in Attributes).</p>

<p>In 2006, the work was co-sponsored by the Semantic Web Deployment Working
Group, which began to formalize a technology to express semantic data in
XHTML. This technology was successfully developed and reached consensus at
the <abbr title="World Wide Web Consortium">W3C</abbr>, later published as an official <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation. While HTML
provides a mechanism to express the structure of a document (title,
paragraphs, links), RDFa provides a mechanism to express the meaning in a
document (people, places, events).</p>

<p>The document, titled "RDF in XHTML: Syntax and Processing" [XHTML-RDFA],
defined a set of attributes and rules for
processing those attributes that resulted in the output of machine-readable
semantic data. While the document applied to XHTML, the attributes and
rules were always intended to operate across any tree-based structure
containing attributes on tree nodes (such as HTML4, SVG and ODF).</p>

<p>While RDFa was initially specified for use in XHTML, adoption by a
number of large organizations on the web spurred RDFa's use in non-XHTML
languages. Its use in HTML4, before an official specification was developed
for those languages, caused concern regarding document conformance.</p>

<p>Over the years, the members of the
<a href="http://rdfa.info/">RDFa Community</a> had discussed the possibility
of applying
the same attributes and processing rules outlined in the XHTML+RDFa
specification to all HTML family documents. By design, the possibility of a
unified semantic data expression mechanism between all HTML and XHTML
family documents was squarely in the realm of possibility.</p>

<p>An RDFa Working Group was created in 2010 to address the issues concerning
multiple language implementations of RDFa. The XHTML+RDFa document was split
into a base specification, called RDFa Core 1.1 [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>], and <em>thin</em>
specifications that layer above RDFa Core 1.1. The XHTML+RDFa 1.1 specification
[<cite><a class="bibref" href="#bib-XHTML-RDFA">XHTML-RDFA</a></cite>] is an example of such a <em>thin</em> specification. This
document, also a <em>thin</em> specification, is targeted at HTML4, HTML5 and
XHTML5.</p>

<p>This document describes the extensions to the RDFa Core 1.1
specification that permits the use of RDFa in all HTML family documents. By
using the attributes and processing rules described in the RDFa Core 1.1
specification and heeding the minor changes in this document, authors can
generate markup that produces the same semantic data output in
HTML4, HTML5 and XHTML5.</p>

</section>

<section class="informative" id="change-history">
<h3><span class="secno">A.2 </span>Change History</h3><p><em>This section is non-normative.</em></p>
<p>2009-10-15: First version of the RDFa for HTML4, HTML5 and XHTML5.</p>
<p>2010-03-04: Updated HTML5 coercion to infoset rules, preservation of
namespaces in infoset and DOM2-based processors, clarifying how to
extract RDFa attributes via infoset, how to extract RDFa attributes via DOM2.</p>
<p>2010-05-02: Inheritance of basic processing rules from RDFa 1.1 [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
instead of XHTML+RDFa 1.0 [<cite><a class="bibref" href="#bib-RDFA-SYNTAX">RDFA-SYNTAX</a></cite>], inclusion of the HTML Default
Vocabulary Terms, inclusion of a HTML 4.01 + RDFa 1.1 DTD for validation purposes.</p>
<p>2010-06-24: Inheritance of basic processing rules from RDFa 1.1 [<cite><a class="bibref" href="#bib-RDFA-CORE">RDFA-CORE</a></cite>],
instead of XHTML+RDFa 1.0 [<cite><a class="bibref" href="#bib-RDFA-SYNTAX">RDFA-SYNTAX</a></cite>], inclusion of the HTML Default
Vocabulary Terms, added HTML 4.01 + RDFa 1.1 DTD for validation purposes,
added normative definition of @version attribute.</p>
<p>2010-10-19: Removal of @version attribute, migrated HTML Vocabulary Terms to
RDFa Profile document, added statement to send comments to the HTML WG bug tracker.</p>
<p>2011-01-11: Removed decentralized extensibility issue markers, added
DOM Level 1 prefix mapping extraction algorithm.</p>
<p>2011-04-05: Moved all xmlns: rules into a section titled Backwards
Compatibility and brought spec in-line with latest RDFa Core 1.1 spec.</p>
<p>2011-05-12: Generated Last Call document, no substantive changes.</p>
<p>2011-12-30: Addition of normative dependency for RDFa Lite 1.1.
Addition of rules to allow <code>meta</code> and
<code>link</code> elements in flow and phrasing content as long as they
contain at least one RDFa-specific attribute. Added support for
<code>@datetime</code> and <code>value</code> processing.</p>
<p>2012-03-10: Clarification of where each RDFa attribute is allowed to be
used. Feature at risk warning for HTML4+RDFa DTD-based validation.</p>
<p>2012-09-10: Publishing control of the HTML+RDFa document is handed over
from the HTML WG to the newly re-chartered RDFa WG. DTD-based validation is
removed from the specification.</p>
<p>2012-12-13: Addition of new HTML-specific processing rules for dealing with
XHTML5 vs. HTML5 documents, xml:base, HTML Literals, property and rel/rev on
the same element, and more types for the datetime attribute.</p>
<p>2012-12-27: Added Property Copying section and special processing for
head and body.</p>
<p>2013-01-19: Removed @value processing, added @content overriding @datetime
if present, cleanup and prep for Last Call publication in RDFa WG.</p>
<p>2013-06-06: Applied all Last Call comments and editorial fixes in
preparation for Proposed Recommendation phase.</p>
<p>2013-08-07: Fixed invalid dates, bad grammar, updated status of document
for Recommendation publication.</p>
</section>

<section class="informative" id="acknowledgments">
<h3><span class="secno">A.3 </span>Acknowledgments</h3><p><em>This section is non-normative.</em></p>

<p>At the time of publication, the members of the RDFa Working Group were:</p>

<p>
Ivan Herman (staff contact), Shane McCarron, Gregg Kellogg,
Niklas Lindström, Steven Pemberton, Manu Sporny (chair), Ted Thibodeau, and
Stéphane Corlosquet.
</p>

<p>A great deal of thanks to everyone that provided feedback on the 
specification (most of whom are listed below):
</p>

<p>
Adam Powell, Alex Milowski, Andy Seaborne, Arto Bendiken, Austin William, BAI Xi, Benjamin Adrian, Benjamin Nowack, Bjoern Hoehrmann, Christian Langanke, Christoph Lange, Cindy Lewis, Corey Mwamba, Crisfer Inmobiliaria, Dan Brickley, Daniel Friesen, Dave Beckett, David Wood, D. Grant, Dominik Tomaszuk, Dominique Hazael-Massieux, Doug Schepers, Dr. Olaf , Edward O'Connor, Faye Harris, Felix Sasaki, Gavin Carothers, Grant Robertson, Guus Schreiber, Harry Halpin, Michael Hausenblas, Henri Bergius, Henri Sivonen, Henry Story, Holger Knublauch, Ian Hickson, Irene Celino, Alexander Kroener, Knud Möller, Philip Jägenstedt, Reto Bachmann-Gmür, Ivan Mikhailov, James Leigh, Jeff Sonstein, Jeni Tennison, Jens Haupert, Jochen Rau, John Breslin, John Cowan, John O'Donovan, Jonathan Rees, Julian Reschke, KANZAKI Masahide, Kingsley Idehen, Knud Hinnerk, Landong Zuo, Leif Halvard Silli, Liam R., Lin Clark, Maciej Stachowiak, Mark Nottingham, Markus Gylling, Martin Hepp, Martin McEvoy, Matthias Tylkowski, Darin McBeath, Melvin Carvalho, Michael Chan, Michael Hausenblas, Michael Steidl, Michael™ Smith, Mischa Tuffield, Misha Wolf, Nathan Rixham, Nathan Yergler, Nicholas Stimpson, Noah Mendelsohn, Paul Cotton, Paul Sparrow, Pete Cordell, Peter Frederick, Peter Mika, Peter Occil, Phil Archer, Reece Dunn, Richard Cyganiak, Robert Leif, Robert Weir, Ramanathan V. Guha, Sami Korhonen, Sam Ruby, Sandro Hawke, Sebastian Germesin, Sebastian Heath, Shelley Powers, Simon Grant, Simon Reinhardt, Stefan Schumacher, Tab Atkins Jr., Thomas Adamich, Thomas Baker, Thomas Roessler, Thomas Steiner, Tim Berners-Lee, Toby Inkster, Tom Adamich, Tantek Çelik, Ville Skyttä, Wayne Smith, and Will Clark
</p>

</section>
</section>
  

<div class="extLives"></div><section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" rel="bibo:chapter"><!--OddPage--><h2><span class="secno">B. </span>References</h2><section id="normative-references" typeof="bibo:Chapter" resource="#normative-references" rel="bibo:chapter"><h3><span class="secno">B.1 </span>Normative references</h3><dl class="bibliography" about=""><dt id="bib-DOM-LEVEL-1">[DOM-LEVEL-1]</dt><dd rel="dcterms:requires">Scott Isaacson; Steven B Byrne; Mike Champion; Ian Jacobs; Arnaud Le Hors; Gavin Nicol; Jonathan Robie; Robert S Sutor; Chris Wilson; Lauren Wood et al. <a href="http://www.w3.org/TR/DOM-Level-1/"><cite>Document Object Model (DOM) Level 1</cite></a>. 1 October 1998. W3C Recommendation. URL: <a href="http://www.w3.org/TR/DOM-Level-1/">http://www.w3.org/TR/DOM-Level-1/</a>
</dd><dt id="bib-DOM-LEVEL-2-CORE">[DOM-LEVEL-2-CORE]</dt><dd rel="dcterms:requires">Arnaud Le Hors; Philippe Le Hégaret; Lauren Wood; Gavin Nicol; Jonathan Robie; Mike Champion; Steven B Byrne et al. <a href="http://www.w3.org/TR/DOM-Level-2-Core/"><cite>Document Object Model (DOM) Level 2 Core Specification</cite></a>. 13 November 2000. W3C Recommendation. URL: <a href="http://www.w3.org/TR/DOM-Level-2-Core/">http://www.w3.org/TR/DOM-Level-2-Core/</a>
</dd>
<dt id="bib-HTML5">[HTML5]</dt><dd rel="dcterms:requires">Robin Berjon et al. <a href="http://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 6 August 2013. W3C Candidate Recommendation. URL: <a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a>
</dd>
<dt id="bib-RDFA-CORE">[RDFA-CORE]</dt><dd rel="dcterms:requires">Ben Adida; Mark Birbeck; Shane McCarron; Ivan Herman et al. <a href="http://www.w3.org/TR/2013/REC-rdfa-core-20130822/"><cite>RDFa Core 1.1 - Second Edition</cite></a>. 22 August 2013. W3C Recommendation. URL: <a href="http://www.w3.org/TR/rdfa-core/">http://www.w3.org/TR/rdfa-core/</a>
</dd>
<dt id="bib-RDFA-LITE">[RDFA-LITE]</dt><dd rel="dcterms:requires">Manu Sporny. <a href="http://www.w3.org/TR/2012/REC-rdfa-lite-20120607/"><cite>RDFa Lite 1.1</cite></a>. 7 June 2012. W3C Recommendation. URL: <a href="http://www.w3.org/TR/rdfa-lite/">http://www.w3.org/TR/rdfa-lite/</a>
</dd><dt id="bib-RFC2119">[RFC2119]</dt><dd rel="dcterms:requires">S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels.</cite></a> March 1997. Internet RFC 2119.  URL: <a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a> 
</dd><dt id="bib-XML-NAMES11">[XML-NAMES11]</dt><dd rel="dcterms:requires">Tim Bray; Dave Hollander; Andrew Layman; Richard Tobin et al. <a href="http://www.w3.org/TR/xml-names11/"><cite>Namespaces in XML 1.1 (Second Edition)</cite></a>. 16 August 2006. W3C Recommendation. URL: <a href="http://www.w3.org/TR/xml-names11/">http://www.w3.org/TR/xml-names11/</a>
</dd></dl></section><section id="informative-references" typeof="bibo:Chapter" resource="#informative-references" rel="bibo:chapter"><h3><span class="secno">B.2 </span>Informative references</h3><dl class="bibliography" about=""><dt id="bib-RDF-CONCEPTS">[RDF-CONCEPTS]</dt><dd rel="dcterms:references">Richard Cyganiak, David Wood, Editors. <cite><a href="http://www.w3.org/TR/rdf11-concepts/">RDF 1.1 Concepts and Abstract Syntax</a></cite> World Wide Web Consortium (work in progress). 23 July 2013. Last Call Working Draft.
</dd><dt id="bib-RDFA-SYNTAX">[RDFA-SYNTAX]</dt><dd rel="dcterms:references">Ben Adida; Mark Birbeck; Shane McCarron; Steven Pemberton et al. <a href="http://www.w3.org/TR/2008/REC-rdfa-syntax-20081014/"><cite>RDFa in XHTML: Syntax and Processing</cite></a>. 14 October 2008. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2008/REC-rdfa-syntax-20081014/">http://www.w3.org/TR/2008/REC-rdfa-syntax-20081014/</a>
</dd><dt id="bib-TURTLE">[TURTLE]</dt><dd rel="dcterms:references">Eric Prud'hommeaux, Gavin Carothers. <a href="http://www.w3.org/TR/turtle/"><cite>Turtle: Terse RDF Triple Language.</cite></a> 19 February 2013. W3C Candidate Recommendation. URL: <a href="http://www.w3.org/TR/turtle/">http://www.w3.org/TR/turtle/</a>
</dd><dt id="bib-XHTML-RDFA">[XHTML-RDFA]</dt><dd rel="dcterms:references">Shane McCarron. <a href="http://www.w3.org/TR/2013/REC-xhtml-rdfa-20130822/"><cite>XHTML+RDFa 1.1 - Second Edition</cite></a>. 22 August 2013. W3C Proposed Edited Recommendation. URL: <a href="http://www.w3.org/TR/xhtml-rdfa/">http://www.w3.org/TR/xhtml-rdfa/</a>
</dd></dl></section></section></body></html>
