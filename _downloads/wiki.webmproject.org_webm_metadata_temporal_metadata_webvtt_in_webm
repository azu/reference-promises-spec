<!-- http://wiki.webmproject.org/webm-metadata/temporal-metadata/webvtt-in-webm -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="chrome",g="tick",h="wtsrt_",l="tbsd_",m="tbnd_",n="start",p="_wtsrt",q="_tbnd",r="CSI/";(function(){function k(a){this.t={};this.tick=function(a,d,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),d];if(void 0==c)try{b.console.timeStamp(r+a)}catch(f){}};this[g](n,null,a)}var a;b.performance&&(a=b.performance.timing);var s=a?new k(a.responseStart):new k;b.jstiming={Timer:k,load:s};if(a){var d=a.navigationStart,f=a.responseStart;0<d&&f>=d&&(b.jstiming.srt=f-d)}if(a){var c=b.jstiming.load;0<d&&f>=d&&(c[g](p,void 0,d),c[g](h,p,f),c[g](l,h))}try{a=null,b[e]&&b[e].csi&&(a=Math.floor(b[e].csi().pageT),
c&&0<d&&(c[g](q,void 0,b[e].csi().startE),c[g](m,q,d))),null==a&&b.gtbExternal&&(a=b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[g](q,void 0,b.external.startE),c[g](m,q,d))),a&&(b.jstiming.pt=a)}catch(t){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/650fa6/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded)for(a=p[e],b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>


var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED_WITH_INDICATOR","siteNoticeUrlEnabled":null,"siteNoticeUrlAddress":null,"analyticsAccountId":"UA-16111505-8","baseUri":"","enableUniversalAnalytics":false,"name":"wiki","features":{"tabInEditorBubble":false,"copySiteProgressUpdates":true,"asyncPermanentDelete":false,"colorsAndFontsFix":true,"docosHideNotificationSettings":true,"siteNoticeUrl":true,"asyncPageKeyFix":true,"pdfEmbedSupport":false,"siteMapBottomPaginationButtonsFix":true,"plusBadge":false,"scaleDomainLogoAndUpdatePickerLayout":true,"hangoutEmbed":true,"analyticsTrackingForCorp":false,"freebirdFormEmbedDocTypeFix":false,"addShortcutToTextBoxDialog":true,"htmlEmbed":true,"removeOnepickExtraCloseButton":false,"newCountDownDialog":true,"pageTreeKeyboardFix":true},"domain":"webmproject.org","adsensePublisherId":null,"gvizVersion":1,"siteTitle":"wiki","signInUrl":"https://www.google.com/a/SelectSession?continue\u003dhttp://sites.google.com/a/webmproject.org/wiki/webm-metadata/temporal-metadata/webvtt-in-webm\u0026service\u003djotspot","pageSharingId":"jotspot_page","plusPageId":"","onepickBaseUrl":"https://docs.google.com","siteNoticeRevision":null,"termsUrl":"http://sites.google.com/site/sites/system/app/pages/meta/terms?apps\u003d1","enableAnalytics":true,"isPublic":true,"siteNoticeMessage":null,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":"UA-16111505-4"};



webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};


webspace.user = {"uid":"","renderMobile":false,"namespaceUser":false,"sessionIndex":"","primaryEmail":"guest","displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"hasWriteAccess":false,"domain":"","dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:28c32a56c407b3f6","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:2f539ef6e3dcd13c","revision":10,"title":"WebVTT in WebM","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"webvtt-in-webm","path":"/webm-metadata/temporal-metadata/webvtt-in-webm","isSiteRtlLocale":false,"parentPath":"/webm-metadata/temporal-metadata"};
webspace.page.breadcrumbs = [{"title":"WebM Metadata","dir":"ltr","path":"/webm-metadata","deleted":false},{"title":"Temporal Metadata","dir":"ltr","path":"/webm-metadata/temporal-metadata","deleted":false},{"title":"WebVTT in WebM","dir":"ltr","path":"/webm-metadata/temporal-metadata/webvtt-in-webm","deleted":false}];


webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/650fa6/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/650fa6/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/650fa6/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/650fa6/system/app/css/trogedit.css',
    '/_/rsrc/1410251938000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/650fa6/system/app/css/codeeditor.css',
    '/_/rsrc/1410251938000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/650fa6/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/650fa6/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.siteTemplateId = false;


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};



var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="WebVTT in WebM - wiki" />
<meta itemprop="name" content="WebVTT in WebM - wiki" />
<meta property="og:title" content="WebVTT in WebM - wiki" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="http://www.gstatic.com/sites/p/650fa6/system/app/themes/simple/standard-css-simple-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1410251938000/system/app/css/overlay.css?cb=simple%25150goog-ws-leftnone30middlestandard" />
<link rel="stylesheet" type="text/css" href="/_/rsrc/1410251938000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>WebVTT in WebM - wiki</title>
<meta itemprop="image" content="/_/rsrc/1347927089255/config/customLogo.gif?revision=6" />
<meta property="og:image" content="/_/rsrc/1347927089255/config/customLogo.gif?revision=6" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<script src="//www.gstatic.com/caja/5692m/caja.js"> </script>
<script src="http://www.gstatic.com/sites/p/650fa6/system/js/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="height:auto;">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="sites-chrome-header-valign-middle"><div class="sites-header-cell-buffer-wrapper"><h2><a href="http://wiki.webmproject.org/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="/_/rsrc/1347927089255/config/customLogo.gif?revision=6" alt="wiki" class="sites-logo sites-chrome-header-valign-middle " /></a><a href="http://wiki.webmproject.org/" dir="ltr" id="sites-chrome-userheader-title">wiki</a></h2></div></td><td class="sites-layout-searchbox sites-chrome-header-valign-middle"><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed"><div class="sites-embed-content sites-sidebar-nav"><ul jotId="navList" class="has-expander"><li class="topLevel nav-first "><div dir="ltr" style="padding-left: 19px;"><a href="/home" jotId="wuid:gx:49ccaf2645bc80cf" class="sites-navigation-link topLevel">Welcome to the WebM Wiki!</a></div></li><li class="topLevel parent " wuid="gx:55b3919f34c9f5f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/adaptive-streaming" jotId="wuid:gx:55b3919f34c9f5f8" class="sites-navigation-link topLevel">Adaptive Streaming</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/adaptive-streaming/instructions-to-playback-a-webm-dash-presentation" jotId="wuid:gx:485f129493182287" class="sites-navigation-link">Instructions to Playback a WebM DASH Presentation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/adaptive-streaming/webm-dash-specification" jotId="wuid:gx:7445b28a4d2be166" class="sites-navigation-link">WebM Dash Specification</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/adaptive-streaming/webm-vod-baseline-format" jotId="wuid:gx:27eeb0522193f773" class="sites-navigation-link">WebM VOD Baseline format</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/alpha-channel" jotId="wuid:gx:a11c7b37aa6f739" class="sites-navigation-link topLevel">Alpha Channel</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/community" jotId="wuid:gx:2d4a494811d46c79" class="sites-navigation-link topLevel">Community</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/eclipse-setup" jotId="wuid:gx:1b2a7523fb6b63e7" class="sites-navigation-link topLevel">Eclipse Setup</a></div></li><li class="topLevel parent " wuid="gx:14dd9380e792c273"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/encryption" jotId="wuid:gx:14dd9380e792c273" class="sites-navigation-link topLevel">Encryption</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/encryption/webm-encryption-rfc" jotId="wuid:gx:823b4d406ef0e7" class="sites-navigation-link">WebM Encryption RFC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:6e7b5f3e3fd3965c"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/ffmpeg" jotId="wuid:gx:6e7b5f3e3fd3965c" class="sites-navigation-link topLevel">FFmpeg</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/ffmpeg/building-with-libvpx" jotId="wuid:gx:51b8e31129f70952" class="sites-navigation-link">Compiling with libvpx support</a></div></li></ul></li><li class="topLevel parent " wuid="gx:7ba9af0241434064"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/future-codec-ideas" jotId="wuid:gx:7ba9af0241434064" class="sites-navigation-link topLevel">Future Codec Ideas</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/future-codec-ideas/vpxenc-command-line" jotId="wuid:gx:4e166ffd9fa0258a" class="sites-navigation-link">vpxenc command line</a></div></li></ul></li><li class="topLevel parent " wuid="gx:57865bb52500159b"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/hardware" jotId="wuid:gx:57865bb52500159b" class="sites-navigation-link topLevel">Hardware</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/hardware/devices" jotId="wuid:gx:2cc9ed4fe62cf7ce" class="sites-navigation-link">Devices with hardware support</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/hardware/socs" jotId="wuid:gx:63949bd2e0d7cd7" class="sites-navigation-link">SoCs Supporting VP8/VP9</a></div></li></ul></li><li class="topLevel parent " wuid="gx:6f2aaa5b7e6ba938"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/howtos" jotId="wuid:gx:6f2aaa5b7e6ba938" class="sites-navigation-link topLevel">HOWTOs</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/howtos/convert-png-frames-to-webm-video" jotId="wuid:gx:6d03c238ad7d1414" class="sites-navigation-link">Convert PNG frames to WebM video</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3b9e558b687a1964"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/software" jotId="wuid:gx:3b9e558b687a1964" class="sites-navigation-link topLevel">Software</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/software/webm" jotId="wuid:gx:30342c56dc63d6e1" class="sites-navigation-link">WebM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/software/webp" jotId="wuid:gx:3487a8a1ad8644e0" class="sites-navigation-link">WebP</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/vp8-implementations" jotId="wuid:gx:8b6cbf9cba59001" class="sites-navigation-link topLevel">VP8 Implementations</a></div></li><li class="topLevel parent " wuid="gx:1c12cf1d8d2f03da"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/vp9" jotId="wuid:gx:1c12cf1d8d2f03da" class="sites-navigation-link topLevel">VP9</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/vp9/known-issues" jotId="wuid:gx:21895e0b2631c0b7" class="sites-navigation-link">VP9 Known Issues</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/vp9/vp9-tips" jotId="wuid:gx:4269cf3507de1835" class="sites-navigation-link">VP9 Tips</a></div></li></ul></li><li class="topLevel parent " wuid="gx:1843175a534d35b6"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/webm-metadata" jotId="wuid:gx:1843175a534d35b6" class="sites-navigation-link topLevel">WebM Metadata</a></div><ul class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/webm-metadata/global-metadata" jotId="wuid:gx:48e9c0d3b2e1ce70" class="sites-navigation-link">Global Metadata</a></div></li><li class="parent " wuid="gx:2f539ef6e3dcd13c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="/webm-metadata/temporal-metadata" jotId="wuid:gx:2f539ef6e3dcd13c" class="sites-navigation-link">Temporal Metadata</a></div><ul class="has-expander"><li class=""><div class="current-bg" jotId="wuid:gx:28c32a56c407b3f6" dir="ltr" style="padding-left: 57px;">WebVTT in WebM</div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="/webm-metadata/temporal-metadata/webvtt-metadata" jotId="wuid:gx:4d267ca7c0455d04" class="sites-navigation-link">WebVTT Metadata</a></div></li></ul></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/system/app/pages/sitemap/hierarchy" jotId="wuid:gx:4c45b1312950fa02" class="sites-navigation-link topLevel">Sitemap</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/system/app/pages/recentChanges" jotId="wuid:gx:67637a2ab1f4f357" class="sites-navigation-link topLevel">Recent site activity</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_8005472978111356" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A dir="ltr" href="/webm-metadata">WebM Metadata</A>‎ &gt; ‎<A dir="ltr" href="/webm-metadata/temporal-metadata">Temporal Metadata</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">WebVTT in WebM</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><b style="font-family:Times New Roman;line-height:normal;text-align:-webkit-auto;font-size:medium"><h1 dir="ltr" style="text-align:center;margin-top:0pt;margin-bottom:0pt"><a name="TOC-Embedding-WebVTT-In-WebM"></a><span style="font-size:24px;font-family:Verdana;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap">Embedding WebVTT In WebM</span></h1><p dir="ltr" style="text-align:center;margin-top:0pt;margin-bottom:0pt"><span style="font-size:13px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">2012-02-01 (Revised)</span></p><p dir="ltr" style="text-align:center;margin-top:0pt;margin-bottom:0pt"><span style="font-size:13px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">by: </span><a href="mailto:matthewjheaney@google.com"><span style="font-size:13px;font-family:Verdana;color:rgb(17,85,204);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Matthew Heaney</span></a><span style="font-size:13px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> and </span><a href="mailto:fgalligan@google.com"><span style="font-size:13px;font-family:Verdana;color:rgb(17,85,204);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">Frank Galligan</span></a></p><h2 dir="ltr"><a name="TOC-Objective"></a><span style="font-size:19px;font-family:Verdana;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap">Objective</span></h2><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The purpose of this document is to specify a mechanism for embedding WebVTT in a WebM file.</span></b><div><span style="font-family:Times New Roman;line-height:normal;text-align:-webkit-auto;font-size:medium"><font face="Verdana"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font><h2 dir="ltr" style="font-weight:bold"><a name="TOC-Background"></a><span style="font-size:19px;font-family:Verdana;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap">Background</span></h2><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">WebVTT is a standard for subtitles, captions, and related timed metadata.  A web media text track comprises a set of </span><span style="font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap"><a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">cues</a></span><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">, each of which has an optional identifier, timestamp, optional settings, and the actual payload text. The cues are listed in a dedicated WebVTT file (having the .vtt file extension by convention) that is associated with a web media file using the </span><span style="font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">src</span><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> and </span><span style="font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">kind</span><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> attributes of the HTML5 </span><span style="font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">track</span><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> element.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">WebM is a media standard for web video.  Its container format is based on Matroska and there are separate tracks for video and audio.  There is interest in embedding the contents of a WebVTT file inside a WebM file, so that the video text track does not have to be carried out-of-band, separate from the video itself.</span></span><div><span style="text-align:-webkit-auto"><font face="Verdana" style="line-height:normal;font-family:Times New Roman;font-size:medium"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font><h2 dir="ltr" style="line-height:normal;font-family:Times New Roman;font-size:medium;font-weight:bold"><a name="TOC-Design-Ideas"></a><span style="font-size:19px;font-family:Verdana;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap">Design Ideas</span></h2><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Our goal is to embed the contents of a WebVTT file in a WebM file, in a way that preserves the information from each cue, and without too much disruption to the container standard.</span><br /><br /><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">A WebVTT cue is a set of lines of text comprising an optional identifier, a timestamp and optional settings, followed by the payload.  The payload is the text of the subtitle or caption, chapter title, or metadata.  </span><br /><br /></span><h3><a name="TOC-Why-using-SRT-is-not-a-viable-option"></a><span style="text-align:-webkit-auto">Why using SRT is not a viable option</span></h3><span style="text-align:-webkit-auto"><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">This format is actually very similar to the SubRip file format [SRT].  Matroska already supports embedded SRT subtitles as a track (see [MKVSRT]), by embedding just the SRT payload as the data portion of a block. However, this exact approach might not be suitable for WebVTT because:</span><br /><ul><li style="line-height:normal;list-style-type:disc;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">Timestamps are (optionally) annotated with additional settings, such as the position and orientation of the text.</span></li><li style="line-height:normal;list-style-type:disc;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline">WebVTT cue identifiers are optional; SRT cue identifiers are required. However, WebVTT cues can include arbitrary text – unlike SRT identifiers, which are numeric only. This means that Web VTT identifier values may be useful and must therefore be stored.</li><li style="line-height:normal;list-style-type:disc;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">The arrow symbol ("--&gt;") on the timestamp line of the cue is distinguished.  It is not allowed to appear on the cue identifier line, and must appear on the timestamp line, in order to determine whether the cue identifier is present.</span></li></ul><span style="line-height:normal;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap"><h3><a name="TOC-Storing-WebVTT-data-in-a-WebM-Track"></a><span style="text-align:-webkit-auto"><span style="line-height:normal;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">Storing WebVTT data in a WebM Track</span></span></h3>The contents of the WebVTT file is stored as its own WebM track.  The information that would appear as attributes of the HTML5 track tag can be embedded in WebM Track element as follows:</span><br /><ul style="line-height:normal;font-family:Times New Roman;font-size:medium;font-weight:bold"><li style="list-style-type:disc;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">The TrackType sub-element value is 0x11 for WebVTT SUBTITLES and CAPTIONS, and 0x21 for WebVTT DESCRIPTIONS, and METADATA.</span></li><li style="list-style-type:disc;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">The label attribute is stored as the Name sub-element.</span></li><li style="list-style-type:disc;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline"><span style="vertical-align:baseline;white-space:pre-wrap">The srclang attribute is stored as the Language sub-element.</span></li></ul><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Per the convention (see [MKVCODECID]) used for flavors of a particular video or audio codec, the CodecID for a WebVTT track is "D_WEBVTT/</span><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">kind"</span><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">, where </span><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">kind</span><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> is one of SUBTITLES, CAPTIONS, DESCRIPTIONS, or METADATA.</span></span></div><div><span style="text-align:-webkit-auto"><br /></span><h3><a name="TOC-Storing-WebVTT-cue-in-a-WebM-Block"></a><span style="text-align:-webkit-auto">Storing WebVTT cue in a WebM Block</span></h3><span style="text-align:-webkit-auto"><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The WebVTT cues are stored as the data portion of Block elements in the track, per the formatting described below. All WebVTT data stored within a WebM Block must be encoded as UTF-8. The timestamp of the WebM block and its duration are synthesized from the start and end times specified on the timestamp of the WebVTT cue.  A BlockGroup element (not a SimpleBlock) must be used to contain the Block element, in order to also use a BlockDuration element, which is necessary to losslessly encode the original timestamp of the WebVTT cue.</span></span></div><div><span style="line-height:normal;text-align:-webkit-auto"><font face="Verdana" size="3"><span style="white-space:pre-wrap"><br /></span></font></span></div><div><font size="3">If the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">WebVTT cue</a> includes a <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-identifier">WebVTT cue identifier</a> then the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-identifier">WebVTT cue identifier</a> is written to the WebM Block followed by a <a href="http://dev.w3.org/html5/webvtt/#webvtt-line-terminator">WebVTT line terminator</a>. If the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">WebVTT cue</a> does not have a <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-identifier">WebVTT cue identifier</a> then a <a href="http://dev.w3.org/html5/webvtt/#webvtt-line-terminator">WebVTT line terminator</a> is written to the WebM Block. The empty line is used to distinguish that there was no <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-identifier">WebVTT cue identifier</a> in the original <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">WebVTT cue</a>. </font></div><div><font size="3"><br /></font></div><div><font size="3">The <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-timings">WebVTT cue timings</a> is not written to the WebM Block. The start and end time of the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">WebVTT cue</a> is synthesized from the start time and duration of the WebM Block. </font></div><div><font size="3"><br /></font></div><div><font size="3">If the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">WebVTT cue</a> includes a <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-settings">WebVTT cue settings</a> then the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-settings">WebVTT cue settings</a> is written to the WebM Block followed by a <a href="http://dev.w3.org/html5/webvtt/#webvtt-line-terminator">WebVTT line terminator</a>. If the <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue">WebVTT cue</a> 
does not have a <a href="http://dev.w3.org/html5/webvtt/#webvtt-cue-settings">WebVTT cue settings</a> then a <a href="http://dev.w3.org/html5/webvtt/#webvtt-line-terminator">WebVTT line terminator</a> is written to the WebM Block.</font></div><div><font size="3"><br /></font></div><div><font size="3">The <a href="http://dev.w3.org/html5/webvtt/#cue-payload">cue payload</a> is then written to the WebM Block.</font></div><div><div style="text-align:-webkit-auto"><br /></div><h3><a name="TOC-General-Notes"></a>General Notes</h3><span style="text-align:-webkit-auto"><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Note that no WebVTT data is stored in the CodecPrivate element of the WebM Track header.  All WebVTT cues are stored as Block elements for the track.</span><br /><br /><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The timestamps for WebVTT cues can overlap in time.  This is how roll-up captions work: multiple cues are rendered simultaneously, and when the top cue expires, the other cues move up and a new cue appears at the bottom.  The WebM block timestamps must therefore be allowed to be monotonically increasing (a requirement already needed for the WebM container to support VP8 alt-ref frames), and the duration for a block must be allowed to overlap the start time of the next block.</span><br /><br /></span><h3><a name="TOC-WebVTT-Chapter-cues"></a><span style="text-align:-webkit-auto">WebVTT Chapter cues</span></h3><span style="text-align:-webkit-auto"><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">WebVTT chapter cues are used for navigation and so they are handled differently, because they must all be together and immediately available.  For this reason, WebVTT chapter cues should </span><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">not</span><span style="line-height:normal;font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> be embedded the same as for timed cues (a representation that would vitiate their use for navigation); instead they should be converted to Matroska chapters (see [</span><span style="line-height:normal;font-size:15px;font-family:Verdana;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">MKVCHAP]) and embedded that way.  Matroska chapters are a superset of WebVTT chapter cues and therefore the conversion is lossless.</span><br /><font face="Verdana" size="3" style="line-height:normal"><span style="white-space:pre-wrap"><br /></span></font></span><div><span style="font-family:Times New Roman;line-height:normal;text-align:-webkit-auto;font-size:medium"><font face="Verdana"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font><h2 dir="ltr" style="font-weight:bold"><a name="TOC-Alternatives-Considered"></a><span style="font-size:19px;font-family:Verdana;color:rgb(0,136,0);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Alternatives Considered</span></h2><br /><span style="font-weight:bold;font-size:15px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Representation of Block Payload</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The simplest method for storing the WebVTT cue would be to embed the entire cue as the data portion of the Block element.  However, we cannot do this, because it would then be impossible to change the block timestamps when the track is edited, as this would cause the timestamp of the cue (embedded as the block payload) to get out of sync with the timestamp of its enclosing block.  We must satisfy the design constraint that video editors be allowed to manipulate WebM tracks without necessarily having intimate knowledge of the track’s codec (here, WebVTT).</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">For this reason, the start and end timestamps of the cue need to be stripped from the timestamp line when embedding the WebVTT cue in the WebM block.  The arrow symbol remains (as it must, to determine whether a cue identifier is present), but there are no actual time values on the timestamp line.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">This should not cause too much pain for muxers, because they must parse WebVTT cues anyway in order to synthesize the time and duration of the WebM block.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Demuxers will have to hand the timestamp and block payload off to some WebVTT-aware component in order for it to be "decoded", but this no different from what any demuxer must do; the only thing different is the codec.</span><br /><br /><span style="font-weight:bold;font-size:15px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Placement of WebVTT Cues</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The WebVTT file content could be stored in the CodecPrivate element of the track. This could be useful for situations that require all of cues to be together, such as for chapter cues.  This storage location could also be used for the file-wide metadata that precedes the actual WebVTT cues (see below).</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">However, putting any payload in the CodecPrivate area would make the payload very brittle, in the sense that it can break too easily during editing or remuxing.</span><br /><br /><span style="font-weight:bold;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">SRT-style Embedding of Cue Payload</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">An alternative is for the muxer to fully parse each WebVTT cue, embed the payload the same as for SRT (the cue payload </span><span style="font-size:15px;font-family:Verdana;font-weight:normal;font-style:italic;vertical-align:baseline;white-space:pre-wrap">only</span><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"> as the data part of the Block element), and use the BlockAdditions element to store the cue identifier and cue settings.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The advantage of this approach is that the information associated with a cue would already be in binary form, so in principle this would make it simpler for parsers or other downstream clients that must also parse the WebVTT cues.  (But then again, they might also prefer to use the text as is, so perhaps this is not much of an advantage.)  There might be a storage penalty however, because Matroska elements do have a certain amount of overhead.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The disadvantage is that this ties WebM more closely to WebVTT, since any changes to the WebVTT standard would have to be matched with concomitant changes to the WebM standard; blob-style embedding avoids this.</span><br /><h2 dir="ltr" style="font-weight:bold"><a name="TOC-Outstanding-Issues"></a><span style="font-size:19px;font-family:Verdana;color:rgb(0,136,0);background-color:transparent;vertical-align:baseline;white-space:pre-wrap">Outstanding Issues</span></h2><br /></span><span style="line-height:normal;text-align:-webkit-auto;background-color:transparent;font-weight:bold;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">Live Chapter Cues</span><br style="font-family:Times New Roman;line-height:normal;text-align:-webkit-auto;font-size:medium" /></div><br /><font size="3">Live WebVTT chapter cues are used to mark the place in the stream where a special event has occurred (e.g. this is a live presentation of a football match, and the striker has just scored a goal, and so a chapter cue is inserted in the stream).</font></div><div><font size="3"><br /></font></div><div><font size="3">This may be better handled with standardized temporal metadata that would add a chapter point that references time in the past. This way no latency would have to be added for the purpose of a human adding a live chapter cue.  <br /></font><div><span style="font-family:Verdana;font-size:16px;line-height:normal;text-align:-webkit-auto;white-space:pre-wrap"><br /></span></div><div><span style="line-height:normal;text-align:-webkit-auto;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap"><br /></span></div><div><span style="font-family:Times New Roman;line-height:normal;text-align:-webkit-auto;font-size:medium"><span style="font-weight:bold;font-size:15px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">File-Wide Metadata</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">It has been proposed that file-wide metadata (see [DEV] or [CHANGE]) be stored at the top of the WebVTT file, and formatted as UNIX-style name-value pairs:</span><br /><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">WEBVTT</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Language=zh</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Kind=Caption</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Version=V1_ABC</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">License=CC-BY-SA</span><br /><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">1</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">00:00:15.000 --&gt; 00:00:17.950</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">first cue</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">File-wide metadata does not have a timestamp, so all the text (up to and excluding the linefeed separator that demarcates the file-wide metadata and the first cue) could be stored in the CodecPrivate sub-element of the Track element.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Note that a metadata cue [META] is the same as other WebVTT cues, with the difference that the text has no particular interpretation, except as generic text.</span><br /><br /><span style="font-weight:bold;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">Default Cue Settings</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The cue settings are attached to the timestamp line, and it has been suggested (see [DEV] or [CHANGE]) that the syntax be modified to allow for default cue settings to be specified.  The timestamp line retains the distinguished arrow symbol ("--&gt;"), but the actual timestamps are omitted:</span><br /><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">WEBVTT</span><br /><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">DEFAULTS --&gt; D:vertical A:end</span><br /><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">00:00.000 --&gt; 00:02.000</span><br /><span style="font-size:13px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">This is vertical and end-aligned.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Block elements must have a timestamp value, so it’s not clear how this cue should be embedded in the WebM stream. One idea is to use the start time of following cue, and embed the cue as a Block either within a BlockGroup that omits the BlockDuration element, or simply use a SimpleBlock element instead (possible here because no BlockDuration need be present).  </span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Another idea is to embed both the default settings cue in the same block as the following (normal) cue. This might complicate the demuxer, though, since there is no longer a one-to-one correspondence between a WebVTT cue and a WebM block.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Inline CSS and Comments could be handled similarly.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">The presence of default cue settings implies that the state of the subtitle rendering system depends on everything that has come before (at least, what default cue settings have come before).  One problem is that seeking into the middle of the stream will break the rendering, because the seek will skip over cues that potentially specify new default settings.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Assuming that seeking is desired, there are at least a couple of ways to handle this.  One way is to simply not write any default settings cues into the WebM track.  Instead, write the settings explicitly, in the normal way, on the same line as the timestamp.  If a cue overrides the default, then that value would be preserved; otherwise, write the current default value.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Another way is to write a default settings cue that is the union of all current defaults, whenever you write a block that is the target of a WebM Cue (typically a video keyframe).  A muxer will have to make similar arrangements anyway, to ensure that the WebVTT cues associated with a video frame are placed on the same cluster as the frame itself (similar to the same rule we have for audio).</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">In both cases, the muxer will have to a be WebVTT interpreter too, since each cue will need to be parsed to determine whether it specifies a default settings cue, and then actual default settings will need to be parsed.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Yet another possibility is that the default settings cues could be embedded separately, in a different part of the file, say in the CodecPrivate area.  During the demuxing phase, the original stream of cues could be reconstituted from the set of settings cues and the normal cues.  This still means more work for the muxer, however, because it must parse enough of the cue to determine what kind of cue it is, and then parse the settings too.  (No matter what, the muxer will need to parse the timestamp of the cue, in order to synthesize the timestamp of the block, so perhaps the extra parsing is not too much of a greater burden.)</span><br /><br /><span style="font-weight:bold;font-size:15px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">Metadata Format</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">WebVTT has explicit support for a metadata track, but it’s not clear exactly what WebVTT metadata looks like.  Is it name/value pairs?  In any event, WebM will probably have to standardize a few of the names, no matter how it is formatted.</span><br /><br /><span style="font-size:15px;font-family:Verdana;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">There might also be interest in supporting XMP (see [XMP1CORE] and [XMP2PROP]), RDF (see for example [RDF]), JSON, or some other stylized form of metadata the payload of a metadata cue.  For example, it might be possible to embed, say, the GPS coordinates of the video track using XMP as follows:</span><br /><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">--&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">&lt;x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="XMP Core 5.1.2"&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  &lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">     &lt;rdf:Description rdf:about=""</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">           xmlns:exif="http://ns.adobe.com/exif/1.0/"&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        &lt;exif:GPSLatitude&gt;42/1,50/1,5427/100&lt;/exif:GPSLatitude&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        &lt;exif:GPSLongitude&gt;</span><span style="font-size:11px;font-family:Courier New;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">73/1,45/1,2272/100</span><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">&lt;/exif:GPSLongitude&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        &lt;exif:GPSLatitudeRef&gt;N&lt;/exif:GPSLatitudeRef&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">        &lt;exif:GPSLongitudeRef&gt;W&lt;/exif:GPSLongitudeRef&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">     &lt;/rdf:Description&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">  &lt;/rdf:RDF&gt;</span><br /><span style="font-size:11px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">&lt;/x:xmpmeta&gt;</span><br /><br /><span style="font-size:15px;font-family:Verdana;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">(In this example, it’s not clear whether the markup needs to escaped using the standard ampersand sequence.)</span><br /><br /><span style="font-size:15px;font-family:Verdana;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">Of course if you’re only interest is in GPS data, then an XMP representation might have too much storage overhead, and a plain WebVTT metadata cue, using name/value pairs, might be adequate.  Following a Vorbis comment example (see "Geo Location fields" in [OGGCOMM]), it would look something like:</span><br /><br /><span style="font-size:13px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">--&gt;</span><br /><span style="font-size:13px;font-family:Courier New;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">GEO_LOCATION=42.84;-73.75</span><br /><br /><span style="font-size:15px;font-family:Verdana;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap">See [GEO] for more information about GPS microformat.</span></span><div><span style="font-family:Times New Roman;line-height:normal;text-align:-webkit-auto;font-size:medium"><font face="Verdana"><span style="font-size:15px;white-space:pre-wrap"><br /></span></font><h2 dir="ltr" style="font-weight:bold"><a name="TOC-References"></a><span style="font-size:19px;font-family:Verdana;color:rgb(0,136,0);vertical-align:baseline;white-space:pre-wrap">References</span></h2><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">[WEBVTT] WebVTT Living Standard (accessed 12 Jan 2012)</span><br /><span style="font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"><span style="white-space:pre"> </span></span><a href="http://dev.w3.org/html5/webvtt/" style="font-weight:bold"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://dev.w3.org/html5/webvtt/</span></a><br /><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[CHANGE]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://www.w3.org/WAI/PF/HTML/wiki/Media_WebVTT_Changes"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://www.w3.org/WAI/PF/HTML/wiki/Media_WebVTT_Changes</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[DEV]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://blog.gingertech.net/2011/06/27/recent-developments-around-webvtt/"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://blog.gingertech.net/2011/06/27/recent-developments-around-webvtt/</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[META]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://dev.w3.org/html5/webvtt/#webvtt-metadata-text"><span style="font-size:13px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://dev.w3.org/html5/webvtt/#webvtt-metadata-text</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[MKV]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://matroska.org/technical/specs/index.html"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://matroska.org/technical/specs/index.html</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[MKVSRT] SRT Subtitles</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://www.matroska.org/technical/specs/subtitles/srt.html"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://www.matroska.org/technical/specs/subtitles/srt.html</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[MKVCODECID]  Matroska Codec Specs</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://matroska.org/technical/specs/codecid/index.html"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://matroska.org/technical/specs/codecid/index.html</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[MKVCHAP]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://matroska.org/technical/specs/chapters/index.html"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://matroska.org/technical/specs/chapters/index.html</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[SRT] SubRip</span><br /><span style="font-size:15px;font-family:Arial;background-color:transparent;font-weight:normal;vertical-align:baseline;white-space:pre-wrap"><span style="white-space:pre"> </span></span><a href="http://en.wikipedia.org/wiki/SubRip" style="font-weight:bold"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://en.wikipedia.org/wiki/SubRip</span></a><br /><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[WEBM]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://www.webmproject.org/code/specs/container/"><span style="font-size:15px;font-family:Arial;color:rgb(0,0,153);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://www.webmproject.org/code/specs/container/</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">[XMP1CORE] XMP Specification, Part 1, Data Model, Serialization, and Core Properties</span><br /><p dir="ltr" style="font-weight:bold;margin-left:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMPSpecificationPart1.pdf"><span style="font-size:13px;font-family:Verdana;color:rgb(0,0,153);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMPSpecificationPart1.pdf</span></a></p><br /><span style="font-weight:bold;font-size:13px;font-family:Verdana;vertical-align:baseline;white-space:pre-wrap">[XMP2PROP] XMP Specification, Part 2, Additional Properties</span><br /><p dir="ltr" style="font-weight:bold;margin-left:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMPSpecificationPart2.pdf"><span style="font-size:13px;font-family:Verdana;color:rgb(0,0,153);font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/xmp/pdfs/XMPSpecificationPart2.pdf</span></a></p><br /><span style="font-weight:bold;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[RDF] Embedding RDF in WebVTT</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://ninsuna.elis.ugent.be/node/39"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://ninsuna.elis.ugent.be/node/39</span></a></p><br /><span style="font-weight:bold;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[OGGCOMM]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://wiki.xiph.org/VorbisComment"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://wiki.xiph.org/VorbisComment</span></a></p><br /><span style="font-weight:bold;font-size:15px;font-family:Arial;background-color:transparent;vertical-align:baseline;white-space:pre-wrap">[GEO]</span><br /><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><a href="http://en.wikipedia.org/wiki/Geo_(microformat)"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap">http://en.wikipedia.org/wiki/Geo_(microformat)</span></a></p><p dir="ltr" style="font-weight:bold;text-indent:36pt;margin-top:0pt;margin-bottom:0pt"><span style="font-size:15px;font-family:Arial;color:rgb(17,85,204);background-color:transparent;font-weight:normal;text-decoration:underline;vertical-align:baseline;white-space:pre-wrap"><a href="http://microformats.org/wiki/geo">http://microformats.org/wiki/geo</a></span></p><div style="font-weight:bold"><br /></div></span></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/webmproject.org/wiki/webm-metadata/temporal-metadata/webvtt-in-webm">Sign in</a>|<a class="sites-system-link" href="/system/app/pages/recentChanges">Recent Site Activity</a>|<a class="sites-system-link" href="/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="http://www.gstatic.com/sites/p/650fa6/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvmUZv0Ibksi09KQCxvIby5oLEZnv_0jHX-2m0xCJZoSKy3SmUwibgDuWWFNf6saiPevpY6BF5d5i7v9N42_6K3X31Qat4c19CUS68ADQ9e9F6MXfC6kF9oJ-HHatflr6hgtGP2/api/js?anon=true', true, true,
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('http://wiki.webmproject.org/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupNoticeManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
