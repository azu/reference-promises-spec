<!-- http://www.w3.org/TR/xmldsig-core1-explain/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <title>Functional Explanation of Changes in XML Signature 1.1</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    
          
<!--      <script src='../../../dap-dev/ReSpec.js/js/respec.js' -->
<!--              class='remove'></script> -->
     
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}


/* --- --- */
ol.algorithm { counter-reset:numsection; list-style-type: none; }
ol.algorithm li { margin: 0.5em 0; }
ol.algorithm li:before { font-weight: bold; counter-increment: numsection; content: counters(numsection, ".") ") "; }

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}
</style><link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-WG-NOTE"><!--[if lt IE 9]><script src='http://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
  <body><div class="head">
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="http://www.w3.org/Icons/w3c_home" alt="W3C"></a>
    
  </p>
  <h1 class="title" id="title">Functional Explanation of Changes in XML Signature 1.1</h1>
  
  <h2 id="w3c-working-group-note-11-april-2013"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note 11 April 2013</h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a href="http://www.w3.org/TR/2013/NOTE-xmldsig-core1-explain-20130411/">http://www.w3.org/TR/2013/NOTE-xmldsig-core1-explain-20130411/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/xmldsig-core1-explain/">http://www.w3.org/TR/xmldsig-core1-explain/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://www.w3.org/2008/xmlsec/Drafts/xmldsig-core1-explain/">http://www.w3.org/2008/xmlsec/Drafts/xmldsig-core1-explain/</a></dd>
    
    
    
    
    
      <dt>Previous version:</dt>
      <dd><a href="http://www.w3.org/TR/2012/NOTE-xmldsig-core1-explain-20121018/">http://www.w3.org/TR/2012/NOTE-xmldsig-core1-explain-20121018/</a></dd>
    
    
    <dt>Editor:</dt>
    <dd><span>Frederick Hirsch</span></dd>

    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 
        2013
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> 
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
      </p>
    
  
  <hr>
</div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
  <p>This document provides a summary of non-editorial changes in XML Signature
  1.1 from the XML Signature Second Edition Recommendation.</p>
    </section><section id="sotd" class="introductory"><h2>Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other
          documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
          of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports
          index</a> at http://www.w3.org/TR/.</em>
        </p>
        
      <p>In the case of any difference between this document and the 
 XML Signature 1.1 
specification [<cite><a class="bibref" href="#bib-XMLDSIG-CORE1">XMLDSIG-CORE1</a></cite>], the XML Signature 1.1 specification
        is authoritative.
      </p>
      <p>This Note has been updated since the previous publication to remove
        the text stating that <code>OCSPResponse</code> was added to XML Signature 1.1,
        as it has been removed from XML Signature 1.1. References have also
        been updated (<a href="Overview_diff.html">diff</a>).</p> 
    
        <p>
          This document was published by the <a href="http://www.w3.org/2008/xmlsec/">XML Security Working Group</a> as a Working Group Note.
          
          
          If you wish to make comments regarding this document, please send them to 
          <a href="mailto:public-xmlsec@w3.org">public-xmlsec@w3.org</a> 
          (<a href="mailto:public-xmlsec-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="http://lists.w3.org/Archives/Public/public-xmlsec/">archives</a>).
          
          
          
          
        All comments are welcome.
        
        
          </p><p>
            Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership.
            This is a draft document and may be updated, replaced or obsoleted by other documents at 
            any time. It is inappropriate to cite this document as other than work in progress.
          </p>
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/42458/status" rel="disclosure">public list of any patent disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes instructions for 
            disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the
            information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 class="introductory">Table of Contents</h2><ul class="toc"><li class="tocline"><a href="#sec-Introduction" class="tocxref"><span class="secno">1. </span>Introduction</a></li><li class="tocline"><a href="#sec-Changes" class="tocxref"><span class="secno">2. </span>Changes</a><ul class="toc"><li class="tocline"><a href="#sec-AlgorithmAdditions" class="tocxref"><span class="secno">2.1 </span>Algorithms Added</a></li><li class="tocline"><a href="#sec-AlgorithmChanges" class="tocxref"><span class="secno">2.2 </span>Algorithms Changed</a></li><li class="tocline"><a href="#sec-AlgorithmOther" class="tocxref"><span class="secno">2.3 </span>Other Algorithm-related Changes</a></li><li class="tocline"><a href="#sec-KeyInfoChanges" class="tocxref"><span class="secno">2.4 </span><code>KeyInfo</code> Changes</a><ul class="toc"><li class="tocline"><a href="#sec-GeneralKeyInfoChanges" class="tocxref"><span class="secno">2.4.1 </span>General Changes</a></li><li class="tocline"><a href="#sec-X509DataChanges" class="tocxref"><span class="secno">2.4.2 </span><code>X509Data</code> Changes</a></li></ul></li><li class="tocline"><a href="#sec-ClarificationChanges" class="tocxref"><span class="secno">2.5 </span>Clarifications</a></li><li class="tocline"><a href="#sec-SecurityConsiderationChanges" class="tocxref"><span class="secno">2.6 </span>Security Considerations Changes</a></li><li class="tocline"><a href="#sec-OtherChanges" class="tocxref"><span class="secno">2.7 </span>Other Changes</a></li></ul></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">A. </span>References</a><ul class="toc"><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">A.1 </span>Informative references</a></li></ul></li></ul></section>

    

    <section id="sec-Introduction">
      <!--OddPage--><h2><span class="secno">1. </span>Introduction</h2>
  <p>This document summarizes non-editorial changes in 
XML Signature 1.1 
 from the XML Signature Second Edition Recommendation.
</p>
    </section>
    <section id="sec-Changes">
      <!--OddPage--><h2><span class="secno">2. </span>Changes</h2>
    <section id="sec-AlgorithmAdditions">
      <h3><span class="secno">2.1 </span>Algorithms Added</h3>
<ul>
<li>Add Elliptic Curve signature algorithms:  <code>ECDSA-SHA1</code> (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>),
 <code>ECDSA-SHA256</code> (<em class="rfc2119" title="REQUIRED">REQUIRED</em>), 
 <code>ECDSA-SHA384</code> (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>), and <code>ECDSA-SHA512</code>
 (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>)</li> 
<li>Generally extend SHA beyond SHA-1
<ul>
<li>Add digest algorithms:  <code>SHA224</code>  (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>), <code>SHA256</code>
  (<em class="rfc2119" title="REQUIRED">REQUIRED</em>), <code>SHA384</code>  (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>), 
  <code>SHA512</code> (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>)</li> 
<li>Add RSA signing algorithms: <code>RSAwithSHA256</code> (<em class="rfc2119" title="REQUIRED">REQUIRED</em>), 
 <code>RSAwithSHA384</code> (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>),<code>RSAwithSHA512</code>
 (<em class="rfc2119" title="OPTIONAL">OPTIONAL</em>)</li></ul> 
</li><li>Update canonicalization algorithms to reflect existing practice
<ul>
<li> Add Exclusive XML Canonicalization 1.0 (omits comments) <em class="rfc2119" title="REQUIRED">REQUIRED</em>.</li>
<li> Add Exclusive XML Canonicalization 1.0 (with Comments)
  <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em>. </li>
</ul>
</li><li>Add XPath Filter 2.0 as <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> transform
  algorithm. (alternative to URI fragment 
  identifiers). </li>
</ul>
<p>For all algorithms added, algorithm identifiers and information
  were added to the specification.</p>
</section>
    <section id="sec-AlgorithmChanges">
      <h3><span class="secno">2.2 </span>Algorithms Changed</h3>
<ul>
<li>Discourage use of <code>SHA-1</code> but allow it for compatibility
<ul>
<li> <code>SHA-1</code> use is DISCOURAGED (but support is still <em class="rfc2119" title="REQUIRED">REQUIRED</em>).</li>
<li> Added text to <code>SHA-1</code> to state that use is DISCOURAGED (but still <em class="rfc2119" title="REQUIRED">REQUIRED</em>).</li>
<li> Added text to <code>HMAC-SHA1</code> to state that use is DISCOURAGED</li>
<li> Change so that <code>DSAwithSHA1</code> is only <em class="rfc2119" title="REQUIRED">REQUIRED</em> as
  Signature algorithm 
for Signature verification, but is <em class="rfc2119" title="OPTIONAL">OPTIONAL</em> for Signature
generation. Previously it was <em class="rfc2119" title="REQUIRED">REQUIRED</em> for both. </li>
<li> Added text to indicate that use of <code>RSA-SHA1</code>
  and <code>ECDSA-SHA1</code> is 
DISCOURAGED.</li>
</ul>
</li><li>Enable alternatives to <code>SHA-1</code>
<ul>
<li> Changed <code>HMAC-SHA256</code> to <em class="rfc2119" title="REQUIRED">REQUIRED</em></li>
<li> Changed <code>HMAC-SHA384</code>, <code>HMAC-SHA512</code> to
  <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> (from 
  <em class="rfc2119" title="OPTIONAL">OPTIONAL</em>).</li>
</ul>
</li><li>Discourage use of XPath transform by adding a note  that
  implementation requirements for XPath transform may be 
downgraded to optional in future version of specification. </li>
<li>Added minimum output length for <code>HMACOutputLength</code> parameter in
  <code>SignatureMethod</code></li>
</ul>
</section>
    <section id="sec-AlgorithmOther">
      <h3><span class="secno">2.3 </span>Other Algorithm-related Changes</h3>
<ul>
<li> Clarify DSA family with respect to FIPS 186-3. </li>
<li> Clarify RSA  SignatureValue computation.</li>
<li> Clarify inputs and outputs of algorithms, specifically  Canonical
  XML 1.0 and Canonical XML 1.1 canonicalization, Base64, 
  XPath filtering, and Enveloped 
Signature Transform, and XSLT Transform algorithms.</li>
<li> Add recommendation to use least expressive transform possible to
achieve result. </li>
</ul>
</section>
    <section id="sec-KeyInfoChanges">
      <h3><span class="secno">2.4 </span><code>KeyInfo</code> Changes</h3>
    <section id="sec-GeneralKeyInfoChanges">
      <h4><span class="secno">2.4.1 </span>General Changes</h4>
<ul>
<li><em class="rfc2119" title="REQUIRED">REQUIRED</em> support of KeyValue formats for DSA, RSA (<em class="rfc2119" title="REQUIRED">REQUIRED</em> now, no
  longer <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em>), and ECDSA</li>
<li>Add new KeyInfo child elements with corresponding URIs
<ul>
<li><code>ECKeyValue</code>, <code>ECParameters</code></li>
<li><code>DEREncodedKeyValue</code></li>
</ul></li>
<li>Add sections on how to use additional <code>KeyInfo</code> child  elements
<ul>
<li> Describe use of XML Encryption <code>EncryptedKey</code>
  and <code>DerivedKey</code> Elements</li> 
<li> Add <code>DEREncodedKeyValue</code> - new representation for
  public keys</li> 
<li> Add <code>KeyInfoReference</code> - alternative to <code>RetrievalMethod</code> access to a
<code>KeyInfo</code> element that does not require use of a <code>Transform</code></li>
</ul></li>
<li>Clarify for <code>RetrievalMethod</code> that
  a <code>Transform</code> is needed to obtain 
  content of <code>KeyInfo</code> referenced by <code>ID</code> 
</li>
<li>Encourage use of new <code>KeyInfoReference</code> element instead of
  <code>RetrievalMethod</code></li>
<li>Added profile of RFC 4050 with respect to ECDSA key formats.</li>
</ul>
</section>
    <section id="sec-X509DataChanges">
      <h4><span class="secno">2.4.2 </span><code>X509Data</code> Changes</h4>
<ul>
<li> Add <code>dsig11:X509Digest</code> to list of elements that may
  be included, to support reference via base64-encoded digest of a
  certificate</li>  
<li> Add that the  <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em> certificate encoding is BER or DER subset.</li>
<li> Deprecate and add note regarding use of <code>X509IssuerSerial</code> and
possible issue with schema validation when large serial numbers are
used. </li>
<li> Add note about the need to sign entire structure as a unit when
using <code>X509Data</code> in explicitly trusted scenarios.</li>
</ul>
</section>
</section>
    <section id="sec-ClarificationChanges">
      <h3><span class="secno">2.5 </span>Clarifications</h3>
<ul>
<li>Clarify that C14N is needed as part of <code>Reference</code> validation since changes
could occur in serialization after <code>Signature</code> generation.
</li>
<li> Clarify canonicalization, removing Normalization Form C
  material.</li>
</ul>
</section>

    <section id="sec-SecurityConsiderationChanges">
      <h3><span class="secno">2.6 </span>Security Considerations Changes</h3>
<ul>
<li>Note possible concerns with digest algorithm resistance to
  collisions and strongly recommending use of <code>SHA-256</code> in preference to
  <code>SHA-1</code> 
</li>
<li>Add new security consideration for implementations to limit
  information included in error responses for security algorithms.  </li>
<li> Add security considerations regarding DSA key sizes.</li>
</ul>
</section>
    <section id="sec-OtherChanges">
      <h3><span class="secno">2.7 </span>Other Changes</h3>
<ul>
<li>No DTD use, XML Schema authoritative, RELAX NG informative.</li>
<li>New 1.1 namespace for new 1.1 schema items</li>
</ul>
</section>
</section>


<section id="references" class="appendix"><!--OddPage--><h2><span class="secno">A. </span>References</h2><section id="informative-references"><h3><span class="secno">A.1 </span>Informative references</h3><dl class="bibliography"><dt id="bib-XMLDSIG-CORE1">[XMLDSIG-CORE1]</dt><dd>D. Eastlake; J. Reagle; D. Solo; F. Hirsch; T. Roessler; K. Yiu. <a href="http://www.w3.org/TR/2013/REC-xmldsig-core1-20130411/"><cite>XML Signature Syntax and Processing Version 1.1</cite></a>. 11 April 2013. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2013/REC-xmldsig-core1-20130411/">http://www.w3.org/TR/2013/REC-xmldsig-core1-20130411/</a>
</dd></dl></section></section></body></html>
