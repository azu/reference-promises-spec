<!-- http://www.w3.org/TR/css-will-change-1/ -->
<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Will Change Module Level 1</title>
  <link href=default.css rel=stylesheet type=text/css>
  <link href=http://www.w3.org/StyleSheets/TR/W3C-WD rel=stylesheet type=text/css>
</head>
<body class=h-entry>
<div class=head>
  <p><a href=http://www.w3.org/>
    <img alt=W3C height=48 src=http://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Will Change Module Level 1</h1>
  <h2 class="no-num no-toc no-ref heading settled heading" id=subtitle><span class=content>W3C First Public Working Draft,
    <span class=dt-updated><span class=value-title title=20140429>29 April 2014</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl><dt>This version:<dd><a class=u-url href=http://www.w3.org/TR/2014/WD-css-will-change-1-20140429/>http://www.w3.org/TR/2014/WD-css-will-change-1-20140429/</a><dt>Latest version:<dd><a href=http://www.w3.org/TR/css-will-change-1/>http://www.w3.org/TR/css-will-change-1/</a><dt>Editor’s Draft:<dd><a href=http://dev.w3.org/csswg/css-will-change/>http://dev.w3.org/csswg/css-will-change/</a>
    <dt>Feedback:</dt>
        <dd><a href="mailto:www-style@w3.org?subject=%5Bcss-will-change%5D%20feedback">www-style@w3.org</a>
            with subject line
            “<kbd>[css-will-change] <var>… message topic …</var></kbd>”(<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)<dt>Test Suite:<dd>None Yet<dt>Editors:
<dd class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://xanthir.com/contact/>Tab Atkins Jr.</a> (<span class="p-org org">Google Inc.</span>)</dl></div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled heading" id=abstract><span class=content>Abstract</span></h2>
<p class=p-summary data-fill-with=abstract>This document defines the <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> CSS property, which allows an author to inform the UA ahead of time of what kinds of changes they are likely to make to an element.  This allows the UA to optimize how they handle the element ahead of time, performing potentially-expensive work preparing for an animation before the animation actually begins.
<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</p>

<h2 class="no-num no-toc no-ref heading settled heading" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p><em>This section describes the status of this document at the time of
   its publication. Other documents may supersede this document. A list of
   current W3C publications and the latest revision of this technical report
   can be found in the <a href=http://www.w3.org/TR/>W3C technical reports
   index at http://www.w3.org/TR/.</a></em>

  <p>This document is a <b>First Public Working Draft</b>.

  <p>Publication as a First Public  Working Draft does not imply endorsement by the W3C
   Membership. This is a draft document and may be updated, replaced or
   obsoleted by other documents at any time. It is inappropriate to cite this
   document as other than work in progress.

  <p>The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public
   mailing list <a href=mailto:www-style@w3.org>www-style@w3.org</a> (see
   <a href=http://www.w3.org/Mail/Request>instructions</a>) is preferred
   for discussion of this specification. When sending e-mail, please put the
   text “css-will-change” in the subject, preferably like this:
   “[css-will-change] <em>…summary of comment…</em>”

  <p>This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a> (part of
   the <a href=http://www.w3.org/Style/>Style Activity</a>).

  <p>This document was produced by a group operating under the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential
   Claim(s)</a> must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section
   6 of the W3C Patent Policy</a>.</p>
</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref heading settled heading" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc>
	<li><a href=#intro><span class=secno>1</span> Introduction</a>
	<li><a href=#will-change><span class=secno>2</span> Hinting at Future Behavior: the <span class=property data-link-type=propdesc title=will-change>will-change</span> property</a>
	<li><a href=#conformance><span class=secno></span> Conformance</a>
		<ul class=toc>
		<li><a href=#conventions><span class=secno></span> Document conventions</a>
		<li><a href=#conformance-classes><span class=secno></span> Conformance classes</a>
		<li><a href=#partial><span class=secno></span> Partial implementations</a>
		<li><a href=#experimental><span class=secno></span> Experimental implementations</a>
		<li><a href=#testing><span class=secno></span> Non-experimental implementations</a></ul>
	<li><a href=#references><span class=secno></span> References</a>
		<ul class=toc>
		<li><a href=#normative><span class=secno></span> Normative References</a>
		<li><a href=#informative><span class=secno></span> Informative References</a></ul>
	<li><a href=#index><span class=secno></span> Index</a>
	<li><a href=#property-index><span class=secno></span> Property index</a></ul></div>




<h2 class="heading settled heading" data-level=1 id=intro><span class=secno>1 </span><span class=content>
Introduction</span><a class=self-link href=#intro></a></h2>

<p>	Modern CSS renderers perform a number of complex optimizations in order to render webpages quickly and efficiently.
	Unfortunately, employing these optimizations often has a non-trivial start-up cost,
	which can have a negative impact on the responsiveness of a page.

	<div class=example>
		For example, when using CSS 3D Transforms to move an element around the screen,
		the element and its contents might be promoted to a “layer”,
		where they can render independently from the rest of the page and be composited in later.
		This isolates the rendering of the content so that the rest of the page doesn’t have to be rerendered
		if the element’s transform is the only thing that changes between frames,
		and often provides significant speed benefits.

<p>		However, setting up the element in a fresh layer is a relatively expensive operation,
		which can delay the start of a <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-transforms/#propdef-transform title=transform>transform</a> animation by a noticeable fraction of a second.
	</div>

<p>	The <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> property defined in this specification allows an author to declare ahead-of-time what properties are likely to change in the future,
	so the UA can set up the appropriate optimizations some time before they’re needed.
	This way, when the actual change happens,
	the page updates in a snappy manner.

<h2 class="heading settled heading" data-level=2 id=will-change><span class=secno>2 </span><span class=content>
Hinting at Future Behavior: the <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> property</span><a class=self-link href=#will-change></a></h2>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-will-change>will-change<a class=self-link href=#propdef-will-change></a></dfn><tr><th>Value:<td class=prod>auto | <a class="production css-code" data-link-type=type href=#typedef-animateable-feature title="<animateable-feature>">&lt;animateable-feature&gt;</a>#<tr><th>Initial:<td>auto<tr><th>Applies to:<td>all elements<tr><th>Inherited:<td>no<tr><th>Media:<td>all<tr><th>Computed value:<td>specified value<tr><th>Percentages:<td>n/a</table>
<pre class=prod><dfn class=css-code data-dfn-type=type data-export="" id=typedef-animateable-feature>&lt;animateable-feature&gt;<a class=self-link href=#typedef-animateable-feature></a></dfn> = scroll-position | contents | <a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#identifier-value title="<custom-ident>">&lt;custom-ident&gt;</a></pre>
<p>	The <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> property provides a rendering hint to the user agent,
	stating what kinds of changes the author expects to perform on the element.
	This allows the user agent to perform ahead-of-time any optimizations necessary for rendering those changes smoothly,
	avoiding “jank” when the author does begin changing or animating that feature.

<p>	Values have the following meanings:

	<dl data-dfn-for=will-change data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=will-change data-dfn-type=value data-export="" id=valuedef-auto>auto<a class=self-link href=#valuedef-auto></a></dfn>
		<dd>
<p>			Expresses no particular intent;
			the user agent should apply whatever heuristics and optimizations it normally does.

		<dt><dfn class=css-code data-dfn-for=will-change data-dfn-type=value data-export="" id=valuedef-scroll-position>scroll-position<a class=self-link href=#valuedef-scroll-position></a></dfn>
		<dd>
<p>			Indicates that the author expects to animate or change the scroll position of the element in the near future.

			<p class=example>
				For example, browsers often only render the content in the "scroll window" on a scrollable element,
				and some of the content past that window,
				balancing memory and time savings from the skipped rendering against making scrolling look nice.
				A browser might take this value as a signal to expand the range of content around the scroll window that is rendered,
				so that longer/faster scrolls can be done smoothly.

		<dt><dfn class=css-code data-dfn-for=will-change data-dfn-type=value data-export="" id=valuedef-contents>contents<a class=self-link href=#valuedef-contents></a></dfn>
		<dd>
<p>			Indicates that the author expects to animate or change something about the element’s contents in the near future.

			<p class=example>
				For example, browsers often “cache” rendering of elements over time,
				because most things don’t change very often,
				or only change their position.
				However, if an element *does* change its contents regularly,
				producing and maintaining this cache is a waste of time.
				A browser might take this value as a signal to cache less aggressively on the element,
				or avoid caching at all and just continually re-render the element from scratch.

		<dt><dfn class=css-code data-dfn-for=will-change data-dfn-type=value data-export="" id=valuedef-custom-ident><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#identifier-value title="<custom-ident>">&lt;custom-ident&gt;</a><a class=self-link href=#valuedef-custom-ident></a></dfn>
		<dd>
<p>			Indicates that the author expects to animate or change the property with the given name on the element in the near future.

<p>			The <a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#identifier-value title="<custom-ident>">&lt;custom-ident&gt;</a> production used here excludes the keywords <span class=css data-link-type=maybe title=will-change>will-change</span>, <span class=css data-link-type=maybe title=none>none</span>, <span class=css data-link-type=maybe title=all>all</span>, <a class=css data-link-type=maybe href=#valuedef-auto title=auto>auto</a>, <a class=css data-link-type=maybe href=#valuedef-scroll-position title=scroll-position>scroll-position</a>, and <a class=css data-link-type=maybe href=#valuedef-contents title=contents>contents</a>,
			in addition to the keywords normally excluded from <a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#identifier-value title="<custom-ident>">&lt;custom-ident&gt;</a>.

<p class=note>			Note: Note that most properties will have no effect when specified,
			as the user agent doesn’t perform any special optimizations for changes in most properties.
			It is still <em>safe</em> to specify them, though;
			it’ll simply have no effect.

<p>			If any non-initial value of a property would create a stacking context on the element,
			specifying that property in <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> must create a stacking context on the element.

<p>			If any non-initial value of a property would cause the element to generate a containing block for fixed-position elements,
			specifying that property in <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> must cause the element to generate a containing block for fixed-position elements.

<p>			If a non-initial value of a property would cause rendering differences on the element
			(such as using a different anti-aliasing strategy for text),
			the user agent should use that alternate rendering when the property is specified in <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a>,
			to avoid sudden rendering differences when the property is eventually changed.

			<p class=example>
				For example, browsers often handle elements with <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-transforms/#propdef-transform title=transform>transform</a> set to a non-initial value very differently from normal elements,
				perhaps rendering them to their own “GPU layer”
				or using other mechanisms to make it easier to quickly make the sort of transformations that <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-transforms/#propdef-transform title=transform>transform</a> can produce.
				A browser might take a value of <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-transforms/#propdef-transform title=transform>transform</a> as a signal
				that it should go ahead and promote the element to its own layer immediately,
				before the element starts to be transformed,
				to avoid any delay involved in rerendering the old and new layers.
	</dl>


	<div class=example>
		For example, setting <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-color/#opacity title=opacity>opacity</a> to any value other than <span class=css data-link-type=maybe title=1>1</span> creates a stacking context on the element.
		Thus, setting <a class=css data-link-type=propdesc href=#propdef-will-change title=will-change>will-change: opacity</a> also creates a stacking context,
		even if <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-color/#opacity title=opacity>opacity</a> is <em>currently</em> still equal to <span class=css data-link-type=maybe title=1>1</span>.
	</div>

<p>	The <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> property has no <em>direct</em> effect on the element it is specified on,
	beyond the creation of stacking contexts and containing blocks as specified above.
	It is solely a rendering hint to the user agent,
	allowing it set up potentially-expensive optimizations for certain types of changes
	before the changes actually start occurring.

	<div class=note>
		Different browsers can use the information from <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> in different ways,
		and even a single browser might use it in different ways at different time.
		For example, a browser that promotes elements to their own “GPU layer”
		when they have <a class=css data-link-type=propdesc href=#propdef-will-change title=will-change>will-change: transform</a> specified
		might avoid doing that when there are <em>too many</em> elements declaring that,
		to avoid exhausting GPU memory.

<p>		Authors should avoid overusing this property,
		and shouldn’t apply it to an element unless it is known (or expected)
		that the element will change in the indicated way soon.
		For example, applying <a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> to an element from a static CSS stylesheet
		is probably an error;
		most of the time,
		<a class=property data-link-type=propdesc href=#propdef-will-change title=will-change>will-change</a> should be applied by scripting,
		some time shortly before starting an animation or other change,
		and should be promptly reset to its initial value of <a class=css data-link-type=maybe href=#valuedef-auto title=auto>auto</a>
		when the element stops changing.
	</div>

<h2 class="no-ref no-num heading settled heading" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled heading" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#rfc2119 title=rfc2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

<h3 class="no-ref heading settled heading" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled heading" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled heading" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled heading" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.

<h2 class="no-num no-ref heading settled heading" id=references><span class=content>
References</span><a class=self-link href=#references></a></h2>

<h3 class="no-num no-ref heading settled heading" id=normative><span class=content>
Normative References</span><a class=self-link href=#normative></a></h3>
<div data-fill-with=normative-references><dl><dt id=rfc2119 title=RFC2119><a class=self-link href=#rfc2119></a>[RFC2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dl></div>

<h3 class="no-num no-ref heading settled heading" id=informative><span class=content>
Informative References</span><a class=self-link href=#informative></a></h3>
<div data-fill-with=informative-references><dl></dl></div>

<h2 class="no-num no-ref heading settled heading" id=index><span class=content>
Index</span><a class=self-link href=#index></a></h2>
<div data-fill-with=index><ul class=indexlist>
<li>&lt;animateable-feature&gt;, <a href=#typedef-animateable-feature title="section 2">2</a>
<li>auto, <a href=#valuedef-auto title="section 2">2</a>
<li>contents, <a href=#valuedef-contents title="section 2">2</a>
<li>&lt;custom-ident&gt;, <a href=#valuedef-custom-ident title="section 2">2</a>
<li>scroll-position, <a href=#valuedef-scroll-position title="section 2">2</a>
<li>will-change, <a href=#propdef-will-change title="section 2">2</a>
</ul></div>

<h2 class="no-num no-ref heading settled heading" id=property-index><span class=content>
Property index</span><a class=self-link href=#property-index></a></h2>
<div data-fill-with=property-index><table class="proptable data"><thead><tr><th scope=col>Name<th scope=col>Value<th scope=col>Initial<th scope=col>Applies to<th scope=col>Inh.<th scope=col>%ages<th scope=col>Media<th scope=col>Computed value<tbody>
<tr><th scope=row><a class=css-code data-link-type=property href=#propdef-will-change title=will-change>will-change</a><td>auto | &lt;animateable-feature&gt;#<td>auto<td>all elements<td>no<td>n/a<td>all<td>specified value</table></div>


