<!-- http://www.w3.org/TR/ccxml/ -->
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

  <title>Voice Browser Call Control: CCXML Version 1.0</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <style type="text/css" xml:space="preserve">
/*<![CDATA[*/
    /**/
  body {
  font-family: sans-serif;
  margin-left: 10%;
  margin-right: 5%;
  color: black;
  background-color: white;
  }
  h1 { clear: both; margin-top: 2em }
  span.term { color: rgb(0,0,192); font-style: italic }
  pre { color: green }
  pre.example {
   font-family: "Courier New", monospace;
   white-space: pre;
   background-color: rgb(204,204,255);
   padding: 0.5em;
   border: none;
   margin-left: 0;
   font-size: 90%;
   width: 97%;
  }
  div.navbar { text-align: center }
  div.contents {
    background-color: rgb(204,204,255);
    border-bottom: medium none;
    border-left: medium none;
    border-right: medium none;
    border-top: medium none;
    margin-right: 5%;
    padding-bottom: 0.5em;
    padding-left: 0.5em;
    padding-right: 0.5em;
    padding-top: 0.5em
  }
  .tocline { list-style: none }
  table.exceptions { background-color: rgb(255,255,153) }
  p.example {font-style: italic; font-weight: bold}
  p.fig {text-align: center}
  .c1 { display: none }
  h2,h3,h4,h5,h5,h6 {
    font-weight: normal;
    color: rgb(0, 92, 160);
  }
  h2 { clear: both; }
  img {
     color: white;
     border: 0;
     }
  .issues {
        font-style: italic;
        color: green;
   }
   .note {
         font-style: italic;
         color: green;
    }
  .RFC2119 {
  text-transform: uppercase;
  font-style: italic;
  font-weight: bold;
  }

  .red {
        color: red;
   }



  table td, table td {
        font-size: x-small; 
        background-color: #cccccc; 
    text-align: left; 
    vertical-align: top
  }

  table th, table th {
        font-size: x-small;
        background-color: #dddddd;
    text-align: left; 
    vertical-align: top
  }



  table.object td, table.stats td {
        font-size: x-small; 
        background-color: #cccccc; 
    text-align: left; 
    vertical-align: top
  }

  table.object th, table.stats th {
        font-size: x-small;
        background-color: #dddddd;
    text-align: left; 
    vertical-align: top
  }

  table.event td, table.stats td {
        font-size: x-small; 
        background-color: #cccccc; 
    text-align: left; 
    vertical-align: top
  }

  table.event th, table.stats th {
        font-size: x-small;
        background-color: #dddddd;
    text-align: left; 
    vertical-align: top
  }

  table.element td, table.stats td {
        font-size: x-small; 
        background-color: #cccccc; 
    text-align: left; 
    vertical-align: top
  }

  table.element th, table.stats th {
        font-size: x-small;
        background-color: #dddddd;
    text-align: left; 
    vertical-align: top
  }
  td.title {
        color: #ff0000; 
        font-weight: bold
  }

  td.elementRowName { width: 40px }
  td.elementRowRequired { width: 40px }
  td.elementRowaAtributeConstraints { width: 40px }
  td.elementRowType { width: 40px }
  td.elementRowDefaultValues { width: 40px }
  td.elementRowValidValues { width: 40px }
  td.elementRowDescription { width: 500px }

  td.eventRowFieldName { width: 50px }
  td.eventRowRequired { width: 50px }
  td.eventRowType { width: 50px }
  td.eventRowDetails { width: 500px }

  td.objectRowFieldName { width: 50px }
  td.objectRowRequired { width: 50px }
  td.objectRowDetails { width: 500px }


                /**/
  /*]]>*/
  </style><!-- <link rel="stylesheet" type="text/css" href="default.css" title="Default" /> -->
  <!-- <link rel="stylesheet" type="text/css" href="changes.css" title="Changes" /> -->
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-REC" />
</head>

<body>
  <div class="head">
    <p><a href="http://www.w3.org/" shape="rect"><img height="48" alt="W3C" src="http://www.w3.org/Icons/w3c_home" width=
    "72" /></a></p>

    <h1 class="notoc" id="name">Voice Browser Call Control: CCXML Version 1.0</h1>

    <h2 class="notoc" id="date">W3C Recommendation 05 July 2011</h2>

    <dl>
      <dt>This version:</dt>

      <dd><a href="http://www.w3.org/TR/2011/REC-ccxml-20110705/">http://www.w3.org/TR/2011/REC-ccxml-20110705/</a></dd>

      <dt>Latest version:</dt>

      <dd><a href="http://www.w3.org/TR/ccxml/" shape="rect">http://www.w3.org/TR/ccxml/</a></dd>

      <dt>Previous version:</dt>

      <dd><a href="http://www.w3.org/TR/2011/PR-ccxml-20110510/">http://www.w3.org/TR/2011/PR-ccxml-20110510/</a></dd>

      <dt>Editor in Chief:</dt>

      <dd>RJ Auburn, Voxeo Corporation</dd>

      <dt>Editors:</dt>

      <dd>Paolo Baggia, Loquendo</dd>

      <dd>Mark Scott, Genesys</dd>

      <dt>Contributors:</dt>

      <dd>There are many valuable people who have helped create CCXML. Please see the complete list in the <a href=
      "#acknowledgements" shape="rect">Acknowledgments</a> section at the rear of the specification.</dd>
    </dl>
	<p>Please refer to the <a href="http://www.w3.org/2011/07/ccxml-errata"><strong>errata</strong></a> for this document, which may include some normative corrections.</p>

	<p>See also <a href=" http://www.w3.org/2003/03/Translations/byTechnology?technology=ccxml"> <strong>translations</strong></a>.</p>

    <p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright" shape="rect">Copyright</a> &copy;2011
    <a href="http://www.w3.org/" shape="rect"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>&reg;</sup>
    (<a href="http://www.csail.mit.edu/" shape="rect"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>,
    <a href="http://www.ercim.eu/" shape="rect"><acronym title=
    "European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/" shape=
    "rect">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer" shape=
    "rect">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks" shape="rect">trademark</a> and
    <a href="http://www.w3.org/Consortium/Legal/copyright-documents" shape="rect">document use</a> rules apply.</p>
  </div>
  <hr title="Separator from Header" />

  <h2 class="notoc" id="abstract">Abstract</h2>

  <p>This document describes CCXML, or the Call Control eXtensible Markup Language. CCXML is designed to provide telephony call
  control support for dialog systems, such as VoiceXML [<cite><a href="#ref-VoiceXML" shape="rect">VOICEXML</a></cite>]. While
  CCXML can be used with any dialog systems capable of handling media, CCXML has been designed to complement and integrate with a
  VoiceXML interpreter. Because of this there are many references to VoiceXML's capabilities and limitations. There are also
  details on how VoiceXML and CCXML can be integrated. However, it should be noted that the two languages are separate and are
  not required in an implementation of either language. For example, CCXML could be integrated with a more traditional
  Interactive Voice Response (IVR) system or a 3GPP Media Resource Function (MRF), and VoiceXML or other dialog systems could be
  integrated with other call control systems.</p>

  <h2 id="Status">Status of this Document</h2>

  <p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this
  document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href=
  "http://www.w3.org/TR/" shape="rect">W3C technical reports index</a> at http://www.w3.org/TR/.</em></p>

  <p>This is the 05 July 2011 Recommendation of "Call Control eXtensible Markup Language
  (CCXML) Version 1.0". There were no changes since the Proposed Recommendation document. </p>




<p>The W3C Membership and other interested parties are invited to review the document and send comments to the Working Group's public mailing list <a href="mailto:www-voice@w3.org">www-voice@w3.org</a> (<a href="http://lists.w3.org/Archives/Public/www-voice/">archive</a>). See <a href="http://www.w3.org/Mail/">W3C mailing list and archive usage guidelines</a>.</p>

  <p>This specification describes the Call Control XML (CCXML) markup language that is designed to provide telephony call control
  support for VoiceXML or other dialog systems.</p>

  <p>This document has been produced as part of the <a href="http://www.w3.org/Voice/Activity.html" shape="rect">Voice Browser
  Activity</a>. The authors of this document are participants in the <a href="http://www.w3.org/Voice/" shape="rect">Voice
  Browser Working Group</a>. For more information see the <a href="http://www.w3.org/Voice/#faq" shape="rect">Voice Browser
  FAQ</a>. </p>

  <p>During the Candidate Recommendation phase, four independently developed implementations were evaluated.  The entrance criteria for the Proposed Recommendation phase requires a minimum of two independently developed interoperable implementations for each required feature, two or more implementations of optional features that would impact interoperability, and a minimum of one implementation for each optional feature that has no impact on interoperability.  These requirements were met. For further details and complete results please see section 7 of the <a href="ccxml-ir/#results">CCXML Implementation Report</a>.  Comments received during the Candidate Recommendation period can be found in the <a href="http://www.w3.org/TR/2011/PR-ccxml-20110510/CCXML_DoC-2011-03-31.html">Disposition of Comments</a>.</p>
      
<p>This document has been reviewed by W3C Members, by software developers, and by other W3C groups and interested parties, and is endorsed by the Director as a W3C Recommendation. It is a stable document and may be used as reference material or cited from another document. W3C's role in making the Recommendation is to draw attention to the specification and to promote its widespread deployment. This enhances the functionality and interoperability of the Web.</p>

  <p>This document was produced by a group operating under the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/"
  shape="rect">5 February 2004 W3C Patent Policy</a>. W3C maintains a <a rel="disclosure" href=
  "http://www.w3.org/2004/01/pp-impl/34665/status" shape="rect">public list of any patent disclosures</a> made in connection with
  the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual
  knowledge of a patent which the individual believes contains <a href=
  "http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential" shape="rect">Essential Claim(s)</a> must disclose the
  information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure" shape=
  "rect">section 6 of the W3C Patent Policy</a>.</p>


  <h2 id="Convention">Conventions of this Document</h2>

  <p>In this document, the key words "must", "must not", "required", "shall", "shall not", "should", "should not", "recommended",
  "may", and "optional" are to be interpreted as described in <a href="#ref-RFC2119" shape="rect">[RFC2119]</a> and indicate
  requirement levels for compliant CCXML implementations.</p>

  <h2 class="notoc" id="Contents">Table of Contents</h2>

  <ul>
    <li class="tocline">1: <a href="#introduction" shape="rect">Introduction</a></li>

    <li class="tocline">2: <a href="#background" shape="rect">Motivation (Informative)</a></li>

    <li class="tocline">3: <a href="#concepts" shape="rect">Concepts and Architecture</a></li>

    <li style="list-style: none">
      <ul>
        <li class="tocline">3.1: <a href="#events" shape="rect">Event Processing</a></li>

        <li class="tocline">3.2: <a href="#conferencing" shape="rect">Conferencing</a></li>

        <li class="tocline">3.3: <a href="#ConceptsScripting" shape="rect">Scripting</a></li>

        <li class="tocline">3.4: <a href="#ConceptsScriptingDefinitions" shape="rect">Definitions</a></li>

        <li class="tocline">3.5: <a href="#SessionLifeCycle" shape="rect">Session Life-Cycle</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">3.5.1: <a href="#SessionLifeCycleStartup" shape="rect">Startup</a></li>

            <li class="tocline">3.5.2: <a href="#SessionLifeCycleShutdown" shape="rect">Shutdown</a></li>

            <li class="tocline">3.5.3: <a href="#SessionLifeCycleDiagrams" shape="rect">Session Life-Cycle Diagrams</a></li>
          </ul>
        </li>
      </ul>
    </li>

    <li class="tocline">4: <a href="#SimpleExamples" shape="rect">Simple Examples</a>

      <ul>
        <li class="tocline">4.1: <a href="#SimpleExamplesHelloWorld" shape="rect">Hello World</a></li>

        <li class="tocline">4.2: <a href="#SimpleExamplesAcceptReject" shape="rect">Accept or Reject a Call</a></li>

        <li class="tocline">4.3: <a href="#SimpleExamplesSimpleDialog" shape="rect">Simple Dialog</a></li>
      </ul>
    </li>

    <li class="tocline">5: <a href="#elements" shape="rect">CCXML Elements Listing</a></li>

    <li class="tocline">6: <a href="#control-flow" shape="rect">Document Control Flow and Execution</a></li>

    <li style="list-style: none">
      <ul>
        <li class="tocline">6.1: <a href="#flowOverview" shape="rect">Overview</a></li>

        <li class="tocline">6.2: <a href="#flowelements" shape="rect">Elements</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">6.2.1: <a href="#Ccxml" shape="rect">&lt;ccxml&gt;</a></li>

            <li class="tocline">6.2.2: <a href="#Meta" shape="rect">&lt;meta&gt;</a></li>

            <li class="tocline">6.2.3: <a href="#Metadata" shape="rect">&lt;metadata&gt;</a></li>

            <li class="tocline">6.2.4: <a href="#If" shape="rect">&lt;if&gt;</a></li>

            <li class="tocline">6.2.5: <a href="#Elseif" shape="rect">&lt;elseif&gt;</a></li>

            <li class="tocline">6.2.6: <a href="#Else" shape="rect">&lt;else&gt;</a></li>

            <li class="tocline">6.2.7: <a href="#Fetch" shape="rect">&lt;fetch&gt;</a></li>

            <li class="tocline">6.2.8: <a href="#Goto" shape="rect">&lt;goto&gt;</a></li>

            <li class="tocline">6.2.9: <a href="#Createccxml" shape="rect">&lt;createccxml&gt;</a></li>

            <li class="tocline">6.2.10: <a href="#Exit" shape="rect">&lt;exit&gt;</a></li>

            <li class="tocline">6.2.11: <a href="#Log" shape="rect">&lt;log&gt;</a></li>
          </ul>
        </li>

        <li class="tocline">6.3: <a href="#flowEvents" shape="rect">Events</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">6.3.1: <a href="#flowEventsOverview" shape="rect">Overview</a></li>

            <li class="tocline">6.3.2: <a href="#flowEventsFetchdone" shape="rect">fetch.done</a></li>

            <li class="tocline">6.3.3: <a href="#flowEventsErrorFetch" shape="rect">error.fetch</a></li>

            <li class="tocline">6.3.4: <a href="#flowEventsCCXMLExit" shape="rect">ccxml.exit</a></li>

            <li class="tocline">6.3.5: <a href="#flowEventsCCXMLLoaded" shape="rect">ccxml.loaded</a></li>

            <li class="tocline">6.3.6: <a href="#flowEventsCCXMLkill" shape="rect">ccxml.kill</a></li>

            <li class="tocline">6.3.7: <a href="#flowEventsCCXMLkill" shape="rect">ccxml.created</a></li>

            <li class="tocline">6.3.8: <a href="#flowEventsErrorCreateCCXML" shape="rect">error.createccxml</a></li>

            <li class="tocline">6.3.9: <a href="#error.unsupported" shape="rect">error.unsupported</a></li>
          </ul>
        </li>
      </ul>
    </li>

    <li class="tocline">7: <a href="#dialogs" shape="rect">Dialogs</a></li>

    <li style="list-style: none">
      <ul>
        <li class="tocline">7.1: <a href="#dialogsOverview" shape="rect">Overview</a></li>

        <li class="tocline">7.2: <a href="#dialogselements" shape="rect">Elements</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">7.2.1: <a href="#dialogprepare" shape="rect">&lt;dialogprepare&gt;</a></li>

            <li class="tocline">7.2.2: <a href="#dialogstart" shape="rect">&lt;dialogstart&gt;</a></li>

            <li class="tocline">7.2.3: <a href="#dialogterminate" shape="rect">&lt;dialogterminate&gt;</a></li>
          </ul>
        </li>

        <li class="tocline">7.3: <a href="#dialogEvents" shape="rect">Events</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">7.3.1: <a href="#dialogEventsOverview" shape="rect">Overview</a></li>

            <li class="tocline">7.3.2: <a href="#dialogEventsDialogStarted" shape="rect">dialog.started</a></li>

            <li class="tocline">7.3.3: <a href="#dialogEventsDialogExit" shape="rect">dialog.exit</a></li>

            <li class="tocline">7.3.4: <a href="#dialogEventsDialogDisconnect" shape="rect">dialog.disconnect</a></li>

            <li class="tocline">7.3.5: <a href="#dialogEventsDialogTransfer" shape="rect">dialog.transfer</a></li>

            <li class="tocline">7.3.6: <a href="#dialogEventsDialogTerminateTransfer" shape=
            "rect">dialog.terminatetransfer</a></li>

            <li class="tocline">7.3.7: <a href="#dialogEventsErrorDialog" shape="rect">error.dialog</a></li>

            <li class="tocline">7.3.8: <a href="#dialogEventsErrorDialogNotStarted" shape="rect">error.dialog.notstarted</a></li>

            <li class="tocline">7.3.9: <a href="#s739" shape="rect">blank</a></li>

            <li class="tocline">7.3.10: <a href="#dialogEventsErrorDialoguser" shape="rect">dialog.user.*</a></li>

            <li class="tocline">7.3.11: <a href="#dialogEventsDialogPrepared" shape="rect">dialog.prepared</a></li>

            <li class="tocline">7.3.12: <a href="#dialogEventsErrorDialogNotPrepared" shape=
            "rect">error.dialog.notprepared</a></li>
          </ul>
        </li>

        <li class="tocline">7.4: <a href="#dialog_class" shape="rect">Dialog Object Properties</a></li>

        <li class="tocline">7.5: <a href="#s7.5" shape="rect">Dialog Class</a></li>
      </ul>
    </li>

    <li class="tocline">8: <a href="#variables" shape="rect">Variables and Expressions</a></li>

    <li style="list-style: none">
      <ul>
        <li class="tocline">8.1: <a href="#variablesOverview" shape="rect">Overview</a></li>

        <li class="tocline">8.2: <a href="#varelements" shape="rect">Elements</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">8.2.1: <a href="#Assign" shape="rect">&lt;assign&gt; and &lt;var&gt;</a></li>

            <li class="tocline">8.2.2: <a href="#Script" shape="rect">&lt;script&gt;</a></li>
          </ul>
        </li>

        <li class="tocline">8.3: <a href="#session_variables" shape="rect">Session Variables</a></li>

        <li class="tocline">8.4: <a href="#application_variables" shape="rect">Application Variables</a></li>
      </ul>
    </li>

    <li class="tocline">9: <a href="#event-handling" shape="rect">Event Handling</a></li>

    <li style="list-style: none">
      <ul>
        <li class="tocline">9.1: <a href="#event-concepts" shape="rect">Overview</a></li>

        <li class="tocline">9.2: <a href="#eventelements" shape="rect">Elements</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">9.2.1: <a href="#eventprocessor" shape="rect">&lt;eventprocessor&gt;</a></li>

            <li class="tocline">9.2.2: <a href="#Transition" shape="rect">&lt;transition&gt;</a></li>

            <li class="tocline">9.2.3: <a href="#Send" shape="rect">&lt;send&gt;</a></li>

            <li class="tocline">9.2.4: <a href="#Move" shape="rect">&lt;move&gt;</a></li>

            <li class="tocline">9.2.5: <a href="#Cancel" shape="rect">&lt;cancel&gt;</a></li>
          </ul>
        </li>

        <li class="tocline">9.3: <a href="#s9.3" shape="rect">Events</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">9.3.1: <a href="#s9.3.1" shape="rect">error.notallowed</a></li>

            <li class="tocline">9.3.2: <a href="#s9.3.2" shape="rect">error.semantic</a></li>

            <li class="tocline">9.3.3: <a href="#s9.3.3" shape="rect">error.send.targetunavailable</a></li>

            <li class="tocline">9.3.4: <a href="#s9.3.4" shape="rect">error.send.targettypeinvalid</a></li>

            <li class="tocline">9.3.5: <a href="#s9.3.5" shape="rect">error.send.failed</a></li>

            <li class="tocline">9.3.6: <a href="#s9.3.6" shape="rect">send.successful</a></li>

            <li class="tocline">9.3.7: <a href="#s9.3.7" shape="rect">move.successful</a></li>

            <li class="tocline">9.3.8: <a href="#s9.3.8" shape="rect">cancel.successful</a></li>

            <li class="tocline">9.3.9: <a href="#s9.3.9" shape="rect">error.move</a></li>
          </ul>
        </li>

        <li class="tocline">9.4: <a href="#s9.4" shape="rect">Standard Events</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">9.4.1: <a href="#s9.4.1" shape="rect">Overview</a></li>

            <li class="tocline">9.4.2: <a href="#s9.4.2" shape="rect">Standard Event Attributes</a></li>

            <li style="list-style: none">
              <ul>
                <li class="tocline">9.4.2.1: <a href="#s9.4.2.1" shape="rect">Overview</a></li>

                <li class="tocline">9.4.2.2: <a href="#s9.4.2.2" shape="rect">Standard Event Attribute Table</a></li>
              </ul>
            </li>

            <li class="tocline">9.4.3: <a href="#s9.4.3" shape="rect">Connection Events</a></li>

            <li class="tocline">9.4.4: <a href="#s9.4.4" shape="rect">Language Events</a></li>

            <li class="tocline">9.4.5: <a href="#s9.4.5" shape="rect">Error Events</a></li>
          </ul>
        </li>

        <li class="tocline">9.5: <a href="#s9.5" shape="rect">Error Handling</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">9.5.1: <a href="#s9.5.1" shape="rect">Fetching &amp; compilation errors</a></li>

            <li class="tocline">9.5.2: <a href="#s9.5.2" shape="rect">Document Initialization Errors</a></li>

            <li class="tocline">9.5.3: <a href="#s9.5.3" shape="rect">Error In &lt;eventprocessor&gt; attributes</a></li>

            <li class="tocline">9.5.4: <a href="#s9.5.4" shape="rect">Error in &lt;transition&gt; attributes</a></li>

            <li class="tocline">9.5.5: <a href="#s9.5.5" shape="rect">Errors While Handling Error Events</a></li>

            <li class="tocline">9.5.6: <a href="#s9.5.6" shape="rect">Errors in hints attributes</a></li>
          </ul>
        </li>
      </ul>
    </li>

    <li class="tocline">10: <a href="#telephony" shape="rect">Telephony Operations and Resources</a></li>

    <li style="list-style: none">
      <ul>
        <li class="tocline">10.1: <a href="#overview" shape="rect">Overview</a></li><!-- <li class="tocline"> -->

        <li style="list-style: none">
          <ul>
            <li class="tocline">10.1.1: <a href="#s10.1.1" shape="rect">Concepts Background (INFORMATIVE)</a></li>
          </ul>
        </li>

        <li class="tocline">10.2: <a href="#Connection" shape="rect">Connections</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">10.2.1: <a href="#s10.2.1" shape="rect">Connection State</a></li>

            <li class="tocline">10.2.2: <a href="#connection.properties" shape="rect">Connection Object</a></li>

            <li class="tocline">10.2.3: <a href="#s10.2.3" shape="rect">Connection Events</a></li>

            <li class="tocline">10.2.4: <a href="#s10.2.4" shape="rect">Connection Operations</a></li>

            <li class="tocline">10.2.5: <a href="#s10.2.5" shape="rect">Connection Class</a></li>
          </ul>
        </li>

        <li class="tocline">10.3: <a href="#conferencing-elements" shape="rect">Conferences</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">10.3.1: <a href="#conference_class" shape="rect">Conference Object Properties</a></li>

            <li class="tocline">10.3.2: <a href="#s10.3.2" shape="rect">Conference Class</a></li>
          </ul>
        </li>

        <li class="tocline">10.4: <a href="#bridging" shape="rect">Bridges</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">10.4.1: <a href="#JoinOutcomes" shape="rect">&lt;join&gt; Outcomes</a></li>

            <li class="tocline">10.4.2: <a href="#invariantExamples" shape="rect">Invariant Examples</a></li>

            <li class="tocline">10.4.3: <a href="#MediaEndpoint" shape="rect">Media Endpoint Properties</a></li>
          </ul>
        </li>

        <li class="tocline">10.5: <a href="#s10.5" shape="rect">Elements</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">10.5.1: <a href="#Accept" shape="rect">&lt;accept&gt;</a></li>

            <li class="tocline">10.5.2: <a href="#Redirect" shape="rect">&lt;redirect&gt;</a></li>

            <li class="tocline">10.5.3: <a href="#Reject" shape="rect">&lt;reject&gt;</a></li>

            <li class="tocline">10.5.4: <a href="#Createcall" shape="rect">&lt;createcall&gt;</a></li>

            <li class="tocline">10.5.5: <a href="#Createconference" shape="rect">&lt;createconference&gt;</a></li>

            <li class="tocline">10.5.6: <a href="#Destroyconference" shape="rect">&lt;destroyconference&gt;</a></li>

            <li class="tocline">10.5.7: <a href="#Join" shape="rect">&lt;join&gt;</a></li>

            <li class="tocline">10.5.8: <a href="#Unjoin" shape="rect">&lt;unjoin&gt;</a></li>

            <li class="tocline">10.5.9: <a href="#Disconnect" shape="rect">&lt;disconnect&gt;</a></li>

            <li class="tocline">10.5.10: <a href="#Merge" shape="rect">&lt;merge&gt;</a></li>
          </ul>
        </li>

        <li class="tocline">10.6: <a href="#s10.6" shape="rect">Events</a></li>

        <li style="list-style: none">
          <ul>
            <li class="tocline">10.6.1: <a href="#eventsOverview" shape="rect">Overview</a></li>

            <li class="tocline">10.6.2: <a href="#s10.6.2" shape="rect">connection.alerting</a></li>

            <li class="tocline">10.6.3: <a href="#s10.6.3" shape="rect">connection.progressing</a></li>

            <li class="tocline">10.6.4: <a href="#s10.6.4" shape="rect">connection.connected</a></li>

            <li class="tocline">10.6.5: <a href="#s10.6.5" shape="rect">connection.disconnected</a></li>

            <li class="tocline">10.6.6: <a href="#s10.6.6" shape="rect">connection.redirected</a></li>

            <li class="tocline">10.6.7: <a href="#s10.6.7" shape="rect">connection.merged</a></li>

            <li class="tocline">10.6.8: <a href="#s10.6.8" shape="rect">connection.failed</a></li>

            <li class="tocline">10.6.9: <a href="#s10.6.9" shape="rect">error.connection</a></li>

            <li class="tocline">10.6.10: <a href="#s10.6.10" shape="rect">connection.signal</a></li>

            <li class="tocline">10.6.11: <a href="#s10.6.11" shape="rect">conference.created</a></li>

            <li class="tocline">10.6.12: <a href="#s10.6.12" shape="rect">conference.destroyed</a></li>

            <li class="tocline">10.6.13: <a href="#s10.6.13" shape="rect">conference.joined</a></li>

            <li class="tocline">10.6.14: <a href="#s10.6.14" shape="rect">conference.unjoined</a></li>

            <li class="tocline">10.6.15: <a href="#s10.6.15" shape="rect">error.conference.create</a></li>

            <li class="tocline">10.6.16: <a href="#s10.6.16" shape="rect">error.conference.destroy</a></li>

            <li class="tocline">10.6.17: <a href="#s10.6.17" shape="rect">error.conference.join</a></li>

            <li class="tocline">10.6.18: <a href="#s10.6.18" shape="rect">error.conference.unjoin</a></li>

            <li class="tocline">10.6.19: <a href="#s10.6.19" shape="rect">connection.merge.failed</a></li>

            <li class="tocline">10.6.20: <a href="#s10.6.20" shape="rect">error.connection.wrongstate</a></li>

            <li class="tocline">10.6.21: <a href="#s10.6.21" shape="rect">error.conference</a></li>

            <li class="tocline">10.6.22: <a href="#s10.6.22" shape="rect">connection.redirect.failed</a></li>

            <li class="tocline">10.6.23: <a href="#s10.6.23" shape="rect">connection.accept.failed</a></li>

            <li class="tocline">10.6.24: <a href="#s10.6.24" shape="rect">connection.reject.failed</a></li>
          </ul>
        </li>
      </ul>
    </li>

    <li class="tocline">11: <a href="#examples" shape="rect">Complex Examples</a></li>

    <li class="tocline">
      <ul>
        <li class="tocline">11.1: <a href="#s11.1" shape="rect">Calling Card Application</a></li>

        <li class="tocline">11.2: <a href="#s11.2" shape="rect">Conferencing application</a></li>

        <li class="tocline">11.3: <a href="#s11.3" shape="rect">Personal Assistant</a></li>
      </ul>
    </li>

    <li class="tocline">Appendix A - <a href="#related-work" shape="rect">Related Work</a></li>

    <li class="tocline">Appendix B - <a href="#dtd" shape="rect">CCXML DTD</a></li>

    <li class="tocline">Appendix C - <a href="#schema" shape="rect">CCXML Schema</a></li>

    <li class="tocline">Appendix D - <a href="#VoiceXMLIntegration" shape="rect">VoiceXML 2.0 Integration Details</a></li>

    <li class="tocline">Appendix E - <a href="#Appendix-TelephonyProtocolNames" shape="rect">Recommended Telephony Protocol
    Names</a></li>

    <li class="tocline">Appendix F - <a href="#changes" shape="rect">Changes</a></li>

    <li class="tocline">Appendix G - <a href="#acknowledgements" shape="rect">Acknowledgments</a></li>

    <li class="tocline">Appendix H - <a href="#Appendix-References" shape="rect">References</a></li>

    <li class="tocline">Appendix J - <a href="#conformance" shape="rect">Conformance</a></li>

    <li class="tocline">Appendix K - <a href="#basichttpio" shape="rect">Basic HTTP Event I/O Processor</a></li>

    <li class="tocline">Appendix L - <a href="#createsession" shape="rect">Session Creation Event I/O Processor</a></li>

    <li class="tocline">Appendix M - <a href="#AppM" shape="rect">MIME Type and File Suffix</a></li>
  </ul>

  <h2 id="introduction">1: Introduction</h2>

  <p>This document describes CCXML, the Call Control eXtensible Markup Language. CCXML provides declarative markup to describe
  telephony call control. CCXML is a language that can be used with a dialog system such as VoiceXML [<cite><a href=
  "#ref-VoiceXML" shape="rect">VOICEXML</a></cite>].</p>

  <p>CCXML can provide a complete telephony service application, comprised of Web server <acronym title=
  "Common Gateway Interface">CGI</acronym> compliant application logic, one or more CCXML documents to declare and perform call
  control actions, and to control one or more dialog applications that perform user media interactions</p>

  <p>Since platforms implementing CCXML may choose to use one of many telephony call control definitions (JAIN Call Control
  [<cite><a href="#ref_JSR021" shape="rect">JSR021</a></cite>], ECMA CSTA [<cite><a href="#ref_CSTA" shape=
  "rect">CSTA</a></cite>], S.100 [<cite><a href="#ref_S.100" shape="rect">S.100</a></cite>], etc.), the call control model in
  CCXML has been designed to be sufficiently abstract so that it can accommodate all major definitions. For relatively simple
  types of call control, this abstraction is straightforward. The philosophy in this regard has been to "make simple things
  simple to do." Outdial, transfer (redirect), two-party bridging, and many forms of multi-party conferences fall within this
  classification.</p>

  <p>Figure 1 shows the architecture of a telephony implementation consisting of four primary components:</p>

  <ul>
    <li>a caller (along with the telephone network),</li>

    <li>a dialog system (e.g. a VoiceXML implementation),</li>

    <li>a conference server used to mix media streams,</li>

    <li>and the CCXML implementation which manages the Connections between the first two components.</li>
  </ul>

  <p>The Telephony Web Application may or may not be integrated with the Voice Web Application.</p>

  <p>The Telephony Control and Dialog Control Interfaces may be implemented as an API or protocol.</p>

  <p>The components as shown in the figure below represent logical functions, and are not meant to imply any particular
  architecture.</p>

  <p class="fig"><img src="images/VoiceXML%2BCCXML.png" alt="CCXML architecture overview" /><br clear="none" />
  Figure 1</p>

  <h2 id="background">2: Motivation (Informative)</h2>

  <p>CCXML is designed to complement dialog systems such as VoiceXML by providing advanced telephony functions. It also can be
  used as a third-party call control manager in any telephony system. This document contains references to VoiceXML's
  capabilities and limitations, as well as details on how VoiceXML and CCXML can be integrated.</p>

  <p>The CCXML specification originated from the desire to handle call control requirements that were beyond the scope of the
  VoiceXML specification. The following requirements are addressed by this specification:</p>

  <ul>
    <li>Support for multi-party conferencing, with advanced conference and audio control. A conferencing application involves
    multiple participants, and is dependent upon call control to establish relationships between those participants.</li>

    <li>The ability to give each active call leg its own dedicated VoiceXML interpreter. For example, in VoiceXML, the second leg
    of a transferred call lacks a VoiceXML interpreter of its own, limiting the scope of possible applications.</li>

    <li>Sophisticated multiple-call handling and control, including the ability to place outgoing calls.</li>

    <li>Handling for a richer class of asynchronous events. Advanced telephony operations involve substantial amounts of signals,
    status events, and message-passing. VoiceXML 2.0 does not integrate asynchronous "external" events into its event-processing
    model.</li>

    <li>VoiceXML lacks the external interfaces required to interact with an outside call queue, or place calls on behalf of an
    external document server</li>
  </ul>

  <p>CCXML and VoiceXML implementations are not mutually dependent. A CCXML implementation may or may not support voice dialogs,
  or may support dialog languages other than VoiceXML.</p>

  <h2 id="concepts">3: Concepts and Architecture</h2>

  <p>A <a href="#def-ccxmlApplication" shape="rect">CCXML application</a> consists of a collection of CCXML documents that
  control and manage the objects listed below:</p>

  <ul>
    <li id="def-session">CCXML Session: A <a href="#def-session" shape="rect">CCXML session</a> is comprised of an executing
    CCXML document, or sequence of CCXML documents; each concurrently executing CCXML document is a separate session, and can be
    uniquely identified and referenced.</li>

    <li id="def-connection">Connection: <a href="#def-connection" shape="rect">Connections</a> can be "call legs" (real-world
    phone connections) or system resources to facilitate interaction with a <a href="#def-dialog" shape="rect">voice dialog</a>.
    Media streams between <a href="#def-connection" shape="rect">Connections</a>, or between <a href="#def-connection" shape=
    "rect">Connections</a> and <a href="#def-conference" shape="rect">Conference objects</a>, need to be tracked by the <a href=
    "#def-ccxmlInterpreter" shape="rect">CCXML interpreter</a> and will take real system resources, but do not need a dedicated
    identifier because they are identified by their endpoints. Ownership of <a href="#def-connection" shape=
    "rect">Connections</a> can be moved from one session to another using <code>&lt;move&gt;</code>.</li>

    <li id="def-conference">Conference object: A <a href="#def-conference" shape="rect">Conference Object</a> models a resource
    for mixing media streams. In order to accommodate the widest range of underlying telephony call control definitions, CCXML
    assumes a separate <a href="#def-conference" shape="rect">Conference Object</a>, realizing that this abstraction may not have
    a direct counterpart in all telephony platforms. See <code>&lt;createconference&gt;</code> and
    <code>&lt;destroyconference&gt;</code> for further information.</li>

    <li id="def-dialog">Dialog: When active, a Dialog may interact with other Connections or Conferences using one-way or two-way
    media streams, often under the control of dialog environment such as VoiceXML.</li>
  </ul>

  <p>CCXML programs manipulate these entities through elements defined in the CCXML language. They can also send and/or receive
  asynchronous events associated with these entities.</p>

  <p>CCXML programs directly manipulate <a href="#def-connection" shape="rect">Connection Objects</a> and <a href=
  "#def-conference" shape="rect">Conference Objects</a> with various elements in the language, such as
  <code>&lt;accept&gt;</code>, <code>&lt;createconference&gt;</code>, and <code>&lt;join&gt;</code>. CCXML may also receive
  events from <a href="#def-connection" shape="rect">Connection</a> and <a href="#def-conference" shape="rect">Conference
  Objects</a>, in the case of line signaling, line-status informational messages, or error and failure scenarios.</p>

  <p>CCXML programs can start and kill <a href="#def-dialog" shape="rect">Voice Dialogs</a> using language elements. It can
  receive events from <a href="#def-dialog" shape="rect">Voice Dialogs</a>, which may be standardized events such as
  <code>dialog.exit</code>, or application-specific ones. CCXML can support sending of an event to a <a href="#def-dialog" shape=
  "rect">Voice Dialog</a>.</p>

  <p>CCXML programs can create other <a href="#def-session" shape="rect">CCXML sessions</a> using
  <code>&lt;createccxml&gt;</code>. This is the only guaranteed control mechanism a <a href="#def-session" shape="rect">CCXML
  Session</a> ever wields over another. Any other interaction takes place through the event mechanism. <a href="#def-session"
  shape="rect">CCXML Sessions</a> can both send and receive events between one another.</p>

  <h3 id="events">3.1: Event Processing</h3>

  <p>Telephone applications need to receive and process large numbers of events in real-time. These events arrive from outside
  the program itself - either the underlying telephony platform, or from other sources of events.</p>

  <p>A CCXML program includes event handlers which are executed when certain events arrive. There are mechanisms for passing
  information back and forth between <a href="#def-dialog" shape="rect">Voice Dialogs</a> (such as VoiceXML) and CCXML, but the
  important points are that CCXML:</p>

  <ul>
    <li>lives on its own thread, and</li>

    <li>carries the burden of rapid asynchronous event handling</li>
  </ul>

  <p>Note: References to threads are meant as logical threads and do not imply any specific platform implementation.</p>

  <h3 id="conferencing">3.2: Conferencing</h3>

  <p>CCXML provides a powerful and flexible method of creating multi-party calls based on the following concepts:</p>

  <ul>
    <li>Call legs are audio sinks and sources which can be combined to form arbitrary networks.</li>

    <li>A conference is an audio stream that mixes together all the speakers' audio outputs. CCXML conference networks allow for
    <a href="#def-conference" shape="rect">conference objects</a>, which mix inputs into a single output channel.</li>

    <li>A conference's architecture may be modified dynamically, thus allowing for moderation, floor control, mute, etc.</li>

    <li>Media splitters, which take a single input channel and emit it over several outputs, may be used by an implementation to
    realize the CCXML model in a given network environment.</li>

    <li>Conferencing technology is implementation-dependent. CCXML implementations may not support all conferencing features
    mentioned above.</li>
  </ul>

  <h3 id="ConceptsScripting">3.3: Scripting</h3>

  <p>The computational semantics of CCXML language is based on the ECMAScript Compact Profile (ES-CP, also known as ECMA-327)
  [<cite><a href="#refECMA327" shape="rect">ECMA327</a></cite>]. ES-CP is a strict subset of the third edition of ECMA-262
  [<cite><a href="#ref_ECMAScript" shape="rect">ECMASCRIPT</a></cite>]. Execution efficiency is a primary goal of CCXML
  implementations, and ES-CP was chosen to ensure that CCXML implementations can operate in a variety of execution environments
  and without excessive execution overhead.</p>

  <p>The ES-CP document specification states:</p>

  <blockquote>
    'ECMAScript Compact Profile is a subset of ECMAScript 3rd Edition tailored to resource-constrained devices such as battery
    powered embedded devices. Therefore, special attention is paid to constraining ECMAScript features that require
    proportionately large amounts of system memory (both for storing and executing the ECMAScript language features) and
    continuous or proportionately large amounts of processing power.'
  </blockquote>

  <p>While CCXML implementations are not necessarily intended for battery powered embedded devices, it is intended to be used in
  large, real-time telephony platforms managing thousands of lines. The constraints of ES-CP emphasize CCXML's ongoing concern
  for execution efficiency.</p>

  <p>Even though ES-CP tends to be implemented using interpreters, CCXML does not require an interpretive implementation. ES-CP
  can be compiled to a target language such as C, and thus in turn to machine code, so that CCXML documents which are static can
  be rendered once in machine code. For example, a CCXML implementation, for optimization purposes, could translate and compile
  frequently used CCXML documents on their way from the document server to the CCXML execution environment in order to avoid
  multiplying interpretive overhead by the number of lines that execute the same document.</p>

  <p>The emphasis on efficiency in CCXML language is also shown by the avoidance of requirements which can only be implemented
  either by interpretation or by run-time evaluation.</p>

  <p>The choice of an implementation strategy is up to the CCXML implementer and CCXML language is aimed to allow a range of
  design choices in order to accommodate implementations on a wide variety of platforms.</p>

  <p>A CCXML implementation <em class="RFC2119">MUST</em> support the ECMAScript Compact Profile.</p>

  <h4 id="s3.3.1">3.3.1: Implementation Note: Line by line vs Batch ECMAScript execution</h4>
<div>
  <p >CCXML implementations <em class="RFC2119">MAY</em> provide different 
      levels of optimization in their ECMAScript interpreters and are expected to be deployed in performance critical environments. One such level of 
      optimization could be a decision to execute all the executable items 
      in a <code>&lt;transition&gt;</code> as if they were a single script instead of processing them 
      line by line as is the normal mode of execution. An example of this is the 
      following bit of CCXML Code:</p>

<pre class="example" xml:space="preserve">
&lt;assign name=&quot;x&quot; expr=&quot;3&quot;/&gt;
&lt;var name=&quot;x&quot;/&gt;</pre>

<p>In the case where the platform executes CCXML line by line the <code>&lt;assign&gt;</code> statement 
    will fail with an <code>error.semantic</code> event due to trying to assign to 
    an <code>undefined</code> variable. However on a platform where the actions are optimized into a single 
    ECMAScript execution block something like the following code would actually be executed instead:
    </p>
    
<pre class="example" xml:space="preserve">
x=3;
var x;</pre>

<p>Due to how ECMAScript <code>var</code> statements work, declarations are applied before 
    assignments no matter where they are placed in the code. This script 
    is actually allowed and the assignment to <code>x</code> will be completed without error.</p>
    <p>
    Due to this difference in behavior between line by line vs batch execution application developers 
    <em class="RFC2119">SHOULD NOT</em> depend on the ability to declare variables out of document order 
    and <em class="RFC2119">SHOULD</em> write code such that its behavior is the same whether executed line by line or in a batch.</p>

<p>
    A more complex situation can arise if you use the <code>&lt;var&gt;</code> element to declare 
    transition scoped variables by the same name as <code>session</code> or <code>application</code> 
    scoped variables inside of an <code>&lt;if&gt;</code> statement. An example of this would be: 
</p>

<pre class="example" xml:space="preserve">
&lt;if cond=&quot;id==session.id&quot;&gt;
    &lt;var name=&quot;id&quot; expr=&quot;&#x27;2&#x27;&quot;/&gt;
&lt;/if&gt;</pre>
    
  <p >If executed line by line this would end up executing every line in the script and declaring a transition scoped variable named <code>id</code> with a value of 2. 
      The <code>&lt;if&gt;</code> statement would evaluate to <code>true</code> due to auto scope searching when resolving the <code>id</code> reference into a session scoped variable
      and the next line would assign a new transition scoped variable by the name <code>id</code>. 
  However, if the CCXML implementation were to optimize this into a single 
  ecmascript chunk you may get something like the following scriptlet:</p>

<pre class="example" xml:space="preserve">
if(id==session.id) {
    var id = '2';
}</pre>

  <p >Due to the way ECMAScript treats var 
      declarations the initial ID will evaluate as <code>undefined</code> as ECMAScript adds 
      a implicit <code>var</code> declaration to the top of the script and changes the <code>var</code> 
      to an assignment leaving you with something that is executed as if it was written like this: </p>

<pre class="example" xml:space="preserve">
var id;
if(id==session.id) {
    id = '2';
}</pre>


  <p>This causes a different flow of execution and could cause unexpected program behavior as <code>id</code> in the <code>if</code> statement
       will now be <code>undefined</code> instead of being equal to <code>session.id</code>. 
      Application developers <em class="RFC2119">SHOULD</em> consider this bad programing practice and avoid creating scenarios where 
      applications create and depend on ambiguously scoped variables that use assignments inside conditional blocks with variable names 
      that are already in use by parent scopes.
      </p>

  <p>Based on years of implementation experience the CCXML working group believes that CCXML 
      application code that would be affected by these scenarios is very rare.  Any such code 
      likely relies on unusual ordering of variable declarations and assignment statements or 
      the use of confusing variable names and scopes; such code is discouraged due to its potential 
      for producing unintended results.
      </p>


</div>
  <h3 id="ConceptsScriptingDefinitions">3.4: Definitions</h3>

  <p>The following terms, which are used throughout this specification, are defined as:</p>

  <ul>
    <li>
      <p><strong>ECMAScript left-hand-side expression</strong> - defined in ECMA-262 [<cite><a href="#ref_ECMAScript" shape=
      "rect">ECMASCRIPT</a></cite>] 11.2; this is an expression which produces a result to which a value can be assigned; an
      expression which is valid as the left hand operand of an assignment (=) operator;</p>

      <p>Several examples of left-hand-side expressions are as follows (left-hand-side expression in red):</p>
      <pre class="example" xml:space="preserve">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;

&lt;script&gt;
var simpleVar;
var aaVar = Object();
<span class="red">simpleVar</span>            = 'Simple Expr';
<span class="red">aaVar[0]</span>          = 'Simple Expr';
<span class="red">aaVar['arrayKey']</span> = 'Simple Expr';
<span class="red">aaVar</span>             = {callingDevice: 'notSpecified', callCharacteristics: 'voiceUnitCall'};
&lt;/script&gt;

&lt;/ccxml&gt;
</pre>
    </li>

    <li>
      <p><strong>ECMAScript expression</strong> - defined in ECMA-262 [<cite><a href="#ref_ECMAScript" shape=
      "rect">ECMASCRIPT</a></cite>] 11.1; this is an expression which produces a value; an expression which is valid on the right
      hand side of an assignment operator;</p>

      <p>Several examples of ECMAScript expressions are as follows (ECMAScript expression in red):</p>
      <pre class="example" xml:space="preserve">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;

&lt;script&gt;
var simpleVar;
var aaVar = Object();
simpleVar = <span class="red">'hello world'</span>; // simple string expression
simpleVar = <span class="red">'hello world'.length</span>; // Calling a method that returns a 
                                  // number on the simple string object
simpleVar = <span class="red">5</span>; // Simple number expression
simpleVar = <span class="red">aaVar[0]</span>; // Associative Array position expression
simpleVar = <span class="red">aaVar['key']</span>; // Associative Array named value expression
simpleVar = <span class="red">myCoolFunction()</span>; // Function return expression
&lt;/script&gt;

&lt;/ccxml&gt;
</pre>
    </li>

    <li>
      <p><strong>ECMAScript variable name</strong> - defined in ECMA-262 [<cite><a href="#ref_ECMAScript" shape=
      "rect">ECMASCRIPT</a></cite>] 7.6; this is any valid sequence of characters, known as an identifier, which can be used as a
      variable name, a property name, or a function name; this does not include any qualifiers, such as array or property
      accessors;</p>

      <p>Several examples of ECMAScript variable names are as follows (ECMAScript variable name in red):</p>
      <pre class="example" xml:space="preserve">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;

&lt;script&gt;
var simpleVar;
var arrayVar = Object();
<span class="red">simpleVar</span>            = 'Simple Expr';
<span class="red">arrayVar</span>[0]          = 'Simple Expr';
<span class="red">arrayVar</span>['arrayKey'] = 'Simple Expr';
<span class="red">arrayVar</span>             = {callingDevice: 'notSpecified', callCharacteristics: 'voiceUnitCall'};
&lt;/script&gt;

&lt;/ccxml&gt;
</pre>
    </li>

    <li><strong>Empty ECMAScript object</strong> - an object returned by the <code>new Object()</code> ECMAScript expression; an
    object with no properties.</li>

    <li><strong>CCXML variable name</strong> - a variable name, with optional dot separated qualification, declared in a CCXML
    <code>&lt;var&gt;</code> element or defined within ECMAScript code using the <code>var</code> keyword.</li>

    <li><strong>Scope element</strong> - a CCXML element which defines a variable scope; <code>&lt;ccxml&gt;</code> and
    <code>&lt;transition&gt;</code> are CCXML scope elements. Variables which are defined within a scope element are not visible
    to variables defined in other scope elements.</li>

    <li>
      <strong>Time interval</strong> - CCXML uses the Cascading Style Sheets, Level 2 [ <cite><a href="#ref-css2" shape=
      "rect">CSS2</a></cite> ] time format. Time designations consist of a non-negative real number followed by a time unit
      identifier. The time unit identifiers are:

      <ul>
        <li><strong>ms</strong> : milliseconds</li>

        <li><strong>s</strong> : seconds</li>
      </ul>Examples include: "3s", "850ms", "0.7s", ".5s" and "+1.5s".
    </li>

    <li id="def-ccxmlApplication"><strong>CCXML Application/Program</strong> - A collection of CCXML documents that together
    create a complete application/program.</li>

    <li id="def-ccxmlInterpreter"><strong>CCXML Interpreter</strong> - The software that processes CCXML documents, executes
    commands and dispatches events. Also referred to as the "CCXML Platform".</li>

    <li id="def-ccxmlPlatform"><strong>CCXML Platform</strong> - An implementation of CCXML for a specific network and
    environment, generally including a CCXML Interpreter as a component.</li>

    <li><strong>CCXML Session</strong> - A single instance of a CCXML application. It can span multiple documents and phone
    calls. See <a href="#SessionLifeCycle" shape="rect">Section 3.5 Session Life-Cycle</a> for details.</li>

    <li><strong>CCXML Parent Session</strong> - The CCXML session that created the currently running session using the
    &lt;createccxml&gt; element.</li>

    <li><strong>Event</strong> - An action or occurrence to which an application can respond. Examples of events are incoming
    phone calls, dialog actions or user defined events. Events in CCXML are modeled as ECMAScript objects and can contain complex
    values. All events in CCXML have a standard set of properties as defined in section <a href="#s9.4.2">9.4.2: Standard Event
    Attributes</a>.</li>

    <li><strong>Associative array</strong> - An associative array (also known as a map, lookup table, or dictionary) is an
    abstract data type composed of a collection of keys and a collection of values, where each key is associated with one value.
    Associative arrays in ECMAScript are implemented using an Object with sub properties.</li>

    <li><strong>Class</strong> - CCXML Classes are ECMAScript Constructor objects (see section 4.2.1 of the ECMAScript
    specification for more information) to help in creating the appropriate type of object instances (such as connection,
    conference and dialog). The Constructor object may contain properties that are not inherited by children objects (such as
    Connection.states). The constructor object <em class="RFC2119">MAY</em> also contain a Prototype property to allow properties
    that are inherited. Platforms <em class="RFC2119">MAY</em> choose to add properties to classes. By convention, the properties
    <em class="RFC2119">MUST</em> begin with an underscore, "_", to identify them as platform-dependent. All defined objects in
    this specification must be initiated via one of these classes. An example would be <code>'MyConnection = new
    Connection()'.</code> 

    
    The Connection class <em class="RFC2119">MUST</em> initiate connection objects, the Dialog class
    <em class="RFC2119">MUST</em> initiate dialog objects and the Conference class <em class="RFC2119">MUST</em> initiate
    conference objects.</li>
  </ul>

  <h3 id="SessionLifeCycle">3.5: Session Life-Cycle</h3>

  <h4 id="SessionLifeCycleStartup">3.5.1: Startup</h4>

  <p>A CCXML session can be started for the following reasons:</p>

  <ul>
    <li>A new incoming phone call coming into the platform.</li>

    <li>A CCXML application executing a <code>&lt;createccxml&gt;</code>.</li>

    <li>An external session launch request coming into the platform.</li>
  </ul>

  <p>To create a CCXML session, the URI for the initial CCXML document must be known, along with any fetching parameters
  affecting how that CCXML document is retrieved. For incoming calls, the selection of the initial URI and fetching parameters is
  platform-dependent, and <em class="RFC2119">MAY</em> be based on information from the incoming call. Sessions created via
  <code>&lt;createccxml&gt;</code> and the session creation event I/O processor determine the initial URI and fetching parameters
  as stated in this specification.</p>

  <p>When a session is started due to an incoming call it has ownership of the new Connection that caused it to be created. The
  new CCXML session will be responsible for processing the Connection state events and performing the Connection actions. If the
  session was started because of a <code>&lt;createccxml&gt;</code>, it will start without ownership of any event endpoints. In
  the case of an external session launch the session will not own any event endpoints.</p>

  <p>A CCXML application can determine the reason its session was started by evaluating the contents of the
  <code>session.startupmode</code> session variable that is defined in the <a href="#session_variables" shape="rect">Session
  Variables</a> section.</p>

  <h4 id="SessionLifeCycleShutdown">3.5.2: Shutdown</h4>

  <p>A CCXML session can end in one of the following ways:</p>

  <ul>
    <li>The CCXML application executes an <code>&lt;exit&gt;</code>.</li>

    <li>An unhandled <code>"error.*"</code> event.</li>

    <li>An unhandled <code>"ccxml.kill"</code> event.</li>

    <li>A <code>"ccxml.kill.unconditional"</code> event.</li>
  </ul>

  <p>When a CCXML session ends, all active connections, conferences and dialogs that are owned by that session are automatically
  terminated by the platform.</p>

  <h4 id="SessionLifeCycleDiagrams">3.5.3: Session Life-Cycle Diagrams</h4>

  <p>The following diagrams illustrate the session life-cycle of several different scenarios. These diagrams do not show all
  possible scenarios but rather show some of the most common ones that CCXML applications may encounter.</p>

  <h5 id="SessionLifeCycleDiagrams1">3.5.3.1: session can live before and after active connections (or no connections at
  all)</h5>

  <p>A CCXML session does not necessarily need to have any connections associated with it. After starting, a session may acquire
  connections as a result of <code>&lt;createcall&gt;</code> or <code>&lt;move&gt;</code> requests.</p><img alt=
  "Session lifecycle diagram" src="lifecyclepics/1.png" />

  <h5 id="SessionLifeCycleDiagrams2">3.5.3.2: connection life shorter than session</h5>

  <p>In this example, the session is started due to an incoming call. A connection is typically shorter than a session. A session
  does not end when a connection terminates.</p><img alt="Session lifecycle diagram" src="lifecyclepics/2.png" />

  <h5 id="SessionLifeCycleDiagrams3">3.5.3.3: session ends, kills all active connections</h5>

  <p>When a session ends, any resources, including connections owned by that session are terminated.</p><img alt=
  "Session lifecycle diagram" src="lifecyclepics/3.png" />

  <h5 id="SessionLifeCycleDiagram4">3.5.3.4: session can have multiple sequential connections</h5>

  <p>A session can have multiple sequential connections</p><img alt="Session lifecycle diagram" src="lifecyclepics/4.png" />

  <h5 id="SessionLifeCycleDiagrams5">3.5.3.5: session can have multiple sequential connections and multiple concurrent
  connections</h5>

  <p>In addition to having multiple sequential connections, a session can have multiple concurrent connections.</p><img alt=
  "Session lifecycle diagram" src="lifecyclepics/5.png" />

  <h5 id="SessionLifeCycleDiagrams6">3.5.3.5: move a connection to a newly created session</h5>

  <p>A connection can be moved from one CCXML session to another session. In the figure below, CCXML session (1) creates a new
  CCXML session (2) via <code>&lt;createccxml&gt;</code>. Then, the connection is moved from the original CCXML session to the
  new session.</p><img alt="Session lifecycle diagram" src="lifecyclepics/6.png" />

  <h5 id="SessionLifeCycleDiagrams7">3.5.3.7: move a connection to a "master" session</h5>

  <p>A connection can be moved from one CCXML session to another session, such as a "master" session.</p><img alt=
  "Session lifecycle diagram" src="lifecyclepics/7.png" />

  <h5 id="SessionLifeCycleDiagrams8">3.5.3.8: optional "master" session for inbound call handling</h5>

  <p>Implementations <em class="RFC2119">MAY</em>, as a platform-specific optimization, choose to deliver more than one inbound
  call to a single "master" session. This can be viewed as equivalent to sessions handling incoming calls performing a
  <code>&lt;move&gt;</code>, as described in 3.5.3.7, of the new Connection (including the <code>connection.alerting</code>
  event) to the single "master" CCXML session.</p>

  <p>The default inbound call handling behavior for CCXML implementations is to create a new CCXML session and deliver the
  <code>connection.alerting</code> event to it. If a platform supports delivery of multiple inbound calls to a single session,
  the way this is configured is implementation specific.</p><img alt="Session lifecycle diagram" src="lifecyclepics/8.png" />

  <h5 id="SessionLifeCycleDiagrams9">3.5.3.9: <code>ccxml.kill.unconditional</code> event raised</h5>

  <p>If at anytime a <code>ccxml.kill.unconditional</code> event is raised by the underlying implementation, the CCXML session is
  immediately terminated and all active connections, conferences and dialogs that are owned by that session are automatically
  terminated by the platform.</p><img alt="Session lifecycle diagram" src="lifecyclepics/9.png" />

  <h5 id="SessionLifeCycleDiagrams10">3.5.3.10: Normal session shutdown requested by the platform</h5>

  <p>If at anytime the platform wishes to terminate a CCXML session it <em class="RFC2119">MUST</em> raise a
  <code>ccxml.kill</code> event to inform the CCXML application. The normal response to this event is for the CCXML application
  to perform any clean up and termination of current active connections, conferences or dialogs and then execute an
  <code>&lt;exit&gt;</code> element.</p>

  <p>If the CCXML application does not respond to the <code>ccml.kill</code> event in a timely manner the platform <em class=
  "RFC2119">MAY</em> then raise a <code>ccxml.kill.unconditional</code> event to immediately terminate the CCXML session and all
  active connections, conferences, and dialogs that are owned by the session.</p><img alt="Session lifecycle diagram" src=
  "lifecyclepics/10.png" />

  <h2 id="SimpleExamples">4: Simple Examples</h2>

  <h3 id="SimpleExamplesHelloWorld">4.1: Hello World</h3>

  <p>This simple CCXML document shows an example of a "hello world" application that is started due to an incoming call where the
  application simply assigns a value to a variable, prints a message to the platform log and exits:</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;eventprocessor&gt;  
    &lt;transition event="connection.alerting"&gt;
      &lt;var name="MyVariable" expr="'This is a CCXML Variable'"/&gt;
      &lt;log expr="'Hello World. I just made a variable: ' + MyVariable"/&gt;
      &lt;log expr="'Lets hang up on this incoming call.'"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;    
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
</pre>

  <h3 id="SimpleExamplesAcceptReject">4.2: Accept or Reject a Call</h3>

  <p>This CCXML document shows an example of how to process a incoming call event and answer or reject the call based on the
  phone number of the calling party:</p>
  <pre class="example" xml:space="preserve">
      &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;eventprocessor&gt;
  
    &lt;transition event="connection.alerting"&gt;
      &lt;log expr="'The number called is' + event$.connection.remote + '.'"/&gt;
      &lt;if cond="event$.connection.remote == 'tel:+18315551234'"&gt;
        &lt;log expr="'Go away! we do not want to answer the phone.'"/&gt;
        &lt;reject/&gt;
      &lt;else/&gt;
        &lt;log expr="'We like you! We are going to answer the call.'"/&gt;
        &lt;accept/&gt;
      &lt;/if&gt;
    &lt;/transition&gt;
    &lt;transition event="connection.connected"&gt;
      &lt;log expr="'Call was answered,Time to disconnect it.'"/&gt;
      &lt;disconnect/&gt;
    &lt;/transition&gt;
    &lt;transition event="connection.disconnected"&gt;
      &lt;log expr="'Call has been disconnected. Ending CCXML Session.'"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;
    
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;  
</pre>

  <h3 id="SimpleExamplesSimpleDialog">4.3: Simple Dialog</h3>

  <p>This is an example of running a simple VoiceXML dialog from CCXML. The application answers an incoming phone call and then
  connects it to a VoiceXML dialog that returns a value that is then logged to the platform:</p>

  <h4 id="SimpleExamplesSimpleDialogDialogCCXML">dialog.ccxml:</h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;!-- Lets declare our state var --&gt;
  &lt;var name="state0" expr="'init'"/&gt;
  
  &lt;eventprocessor statevariable="state0"&gt;
    &lt;!-- Process the incoming call --&gt;  
    &lt;transition state="init" event="connection.alerting"&gt;
      &lt;accept/&gt;      
    &lt;/transition&gt;
    &lt;!-- Call has been answered --&gt;  
    &lt;transition state="init" event="connection.connected"&gt;
      &lt;log expr="'Houston, we have liftoff.'"/&gt;
      &lt;dialogstart src="'dialog.vxml'"/&gt;
      &lt;assign name="state0" expr="'dialogActive'" /&gt;
   
    &lt;/transition&gt;
    &lt;!-- Process the incoming call --&gt;  
    &lt;transition state="dialogActive" event="dialog.exit"&gt;
      &lt;log expr="'Houston, the dialog returned [' + event$.values.input + ']'" /&gt;
      &lt;exit /&gt; 
    &lt;/transition&gt;
    &lt;!-- Caller hung up. Lets just go on and end the session --&gt;
    &lt;transition event="connection.disconnected"&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;
    &lt;!-- Something went wrong. Lets go on and log some info and end the call --&gt;
    &lt;transition event="error.*" &gt;
      &lt;log expr="'Houston, we have a problem: (' + event$.reason + ')'"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;
  &lt;/eventprocessor&gt;    
&lt;/ccxml&gt;
  
</pre>

  <h4 id="SimpleExamplesSimpleDialogDialogVxml">dialog.vxml:</h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
  &lt;form id="Form"&gt;
    &lt;field name="input" type="digits"&gt;
      &lt;prompt&gt;
        Please say some numbers ...
      &lt;/prompt&gt;
      &lt;filled&gt;                            
        &lt;exit namelist="input"/&gt;
      &lt;/filled&gt;
    &lt;/field&gt;
  &lt;/form&gt;
&lt;/vxml&gt;  
</pre>

  <h2 id="elements">5: CCXML Elements Listing</h2>

  <table class="plain" border="0" width="85%" summary="element, description">
    <tr>
      <td rowspan="1" colspan="1"><a href="#Accept" shape="rect">&lt;accept&gt;</a></td>

      <td rowspan="1" colspan="1">Accept an incoming phone call</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Assign" shape="rect">&lt;assign&gt;</a></td>

      <td rowspan="1" colspan="1">Assign a variable a value</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Cancel" shape="rect">&lt;cancel&gt;</a></td>

      <td rowspan="1" colspan="1">Cancel a CCXML event timer</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Ccxml" shape="rect">&lt;ccxml&gt;</a></td>

      <td rowspan="1" colspan="1">CCXML container element</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Createcall" shape="rect">&lt;createcall&gt;</a></td>

      <td rowspan="1" colspan="1">Make an outbound call</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Createccxml" shape="rect">&lt;createccxml&gt;</a></td>

      <td rowspan="1" colspan="1">Create a new CCXML session</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Createconference" shape="rect">&lt;createconference&gt;</a></td>

      <td rowspan="1" colspan="1">Create a multi-party audio conference</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Destroyconference" shape="rect">&lt;destroyconference&gt;</a></td>

      <td rowspan="1" colspan="1">Destroy a multi-party audio conference</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#dialogprepare" shape="rect">&lt;dialogprepare&gt;</a></td>

      <td rowspan="1" colspan="1">Prepare a dialog for execution</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#dialogstart" shape="rect">&lt;dialogstart&gt;</a></td>

      <td rowspan="1" colspan="1">Start a dialog session's execution</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#dialogterminate" shape="rect">&lt;dialogterminate&gt;</a></td>

      <td rowspan="1" colspan="1">Stop a dialog session's execution</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Disconnect" shape="rect">&lt;disconnect&gt;</a></td>

      <td rowspan="1" colspan="1">Terminate a phone connection</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Else" shape="rect">&lt;else&gt;</a></td>

      <td rowspan="1" colspan="1">Used in &lt;if&gt; statements</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Elseif" shape="rect">&lt;elseif&gt;</a></td>

      <td rowspan="1" colspan="1">Used in &lt;if&gt; statements</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#eventprocessor" shape="rect">&lt;eventprocessor&gt;</a></td>

      <td rowspan="1" colspan="1">Block of event-processing statements</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Exit" shape="rect">&lt;exit&gt;</a></td>

      <td rowspan="1" colspan="1">Ends execution of the CCXML session</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Fetch" shape="rect">&lt;fetch&gt;</a></td>

      <td rowspan="1" colspan="1">Preload a CCXML file</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Goto" shape="rect">&lt;goto&gt;</a></td>

      <td rowspan="1" colspan="1">Move execution to a new location</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#If" shape="rect">&lt;if&gt;</a></td>

      <td rowspan="1" colspan="1">Conditional logic</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Join" shape="rect">&lt;join&gt;</a></td>

      <td rowspan="1" colspan="1">Connect two audio sources</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Log" shape="rect">&lt;log&gt;</a></td>

      <td rowspan="1" colspan="1">Log to the platform debug log</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Merge" shape="rect">&lt;merge&gt;</a></td>

      <td rowspan="1" colspan="1">Merge two connections at the network level</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Meta" shape="rect">&lt;meta&gt;</a></td>

      <td rowspan="1" colspan="1">Override HTTP headers and provide document metadata</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Metadata" shape="rect">&lt;metadata&gt;</a></td>

      <td rowspan="1" colspan="1">Provide document metadata</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Move" shape="rect">&lt;move&gt;</a></td>

      <td rowspan="1" colspan="1">Move an event source to another ccxml session</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Redirect" shape="rect">&lt;redirect&gt;</a></td>

      <td rowspan="1" colspan="1">Redirect an incoming call to a new endpoint</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Reject" shape="rect">&lt;reject&gt;</a></td>

      <td rowspan="1" colspan="1">Reject an incoming phone call</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Script" shape="rect">&lt;script&gt;</a></td>

      <td rowspan="1" colspan="1">Run ECMA Script</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Send" shape="rect">&lt;send&gt;</a></td>

      <td rowspan="1" colspan="1">Generate an event</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Transition" shape="rect">&lt;transition&gt;</a></td>

      <td rowspan="1" colspan="1">A single event-processor block</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Unjoin" shape="rect">&lt;unjoin&gt;</a></td>

      <td rowspan="1" colspan="1">Disconnect two audio sources</td>
    </tr>

    <tr>
      <td rowspan="1" colspan="1"><a href="#Var" shape="rect">&lt;var&gt;</a></td>

      <td rowspan="1" colspan="1">Declare a variable</td>
    </tr>
  </table>

  <h2 id="control-flow">6: Document Control Flow and Execution</h2>

  <h3 id="flowOverview">6.1: Overview</h3>

  <p>A CCXML session begins with the execution of a CCXML document. The flow of the execution can be changed with the help of
  <code>&lt;if&gt;</code>, <code>&lt;elseif&gt;</code>, <code>&lt;else&gt;</code>, <code>&lt;fetch&gt;</code>, and
  <code>&lt;goto&gt;</code>. Most of a CCXML session's execution will take place within an <code>&lt;eventprocessor&gt;</code>,
  which processes a stream of incoming events.</p>

  <p>A CCXML session can consist of multiple CCXML documents, traversed by use of <code>&lt;goto&gt;</code> and
  <code>&lt;fetch&gt;</code>.</p>

  <p>A new CCXML session has a new session object (<code>session.*</code>). A CCXML session can contain multiple active
  connections.</p>

  <p>A CCXML session may launch a new CCXML session using <code>&lt;createccxml&gt;</code>. The new CCXML session executes in an
  independent context and variable space from the original CCXML session, completely independent of the lifetime of the original
  session. Sessions can communicate by sending messages via <code>&lt;send&gt;</code>.</p>

  <p>This media type <em class="RFC2119">should</em> be used for a XML document containing CCXML content, see Appendix M.</p>

  <h3 id="flowelements">6.2: Elements</h3>

  <p>This section details the CCXML elements for control flow and execution.</p>

  <h4 id="Ccxml">6.2.1: <code>&lt;ccxml&gt;</code></h4>

  <h5 id="s6.2.1.1">6.2.1.1: Overview</h5>

  <p>This is the parent element of a CCXML document and encloses the entire CCXML script in a document. When a
  <code>&lt;ccxml&gt;</code> is executed, its child elements are collected logically together at the beginning of the document
  and executed in document order before the target <code>&lt;eventprocessor&gt;</code>. This is called document
  initialization.</p>

  <p>The <code>&lt;ccxml&gt;</code> can designate the CCXML namespace. This can be achieved by declaring an <code>xmlns</code>
  attribute or an attribute with an " <code>xmlns</code> " prefix. See <a href="#ref_XMLNS" shape="rect">[XMLNS]</a> for details.
  Note that when the <code>xmlns</code> attribute is used alone, it sets the default namespace for the element on which it
  appears and for any child elements. The namespace URI for CCXML is "http://www.w3.org/2002/09/ccxml".</p>

  <h5 id="s6.2.1.2">6.2.1.2: <code>&lt;ccxml&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">version</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">1.0</td>

      <td class="elementRowDescription">The version of this CCXML document. The initial version number must be 1.0.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">xml:base</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">valid URI</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid URI</td>

      <td class="elementRowDescription">The base URI for this document as defined in <a href="#ref_XML-BASE">[XML-BASE]</a>. As
      in <a href="#ref_XML-BASE">[HTML]</a>, a URI which all relative references within the document take as their base.</td>
    </tr>
  </table>

  <h4 id="Meta">6.2.2: <code>&lt;meta&gt;</code></h4>

  <h5 id="s6.2.2.1">6.2.2.1: Overview</h5>

  <p>The <a href="#edef_metadata" class="eref" shape="rect"><code>&lt;metadata&gt;</code></a> and <a href="#edef_meta" class=
  "eref" shape="rect"><code>&lt;meta&gt;</code></a> are containers in which information about the document can be placed. The
  <a href="#edef_metadata" class="eref" shape="rect"><code>&lt;metadata&gt;</code></a> provides more general and powerful
  treatment of metadata information than <a href="#edef_meta" class="eref" shape="rect"><code>&lt;meta&gt;</code></a> by using a
  metadata schema.</p>

  <p>A <a name="edef_meta" id="edef_meta" class="edef" shape="rect"><code>&lt;meta&gt;</code></a> declaration associates a string
  to a declared meta property or declares " <code class="att">http-equiv</code> " content. Either a <code class="att">name</code>
  or <code class="att">http-equiv</code> attribute is <em class="RFC2119">REQUIRED</em>. It is an error to provide both
  <code class="att">name</code> and <code class="att">http-equiv</code> attributes. A <code class="att">content</code> attribute
  is <em class="RFC2119">REQUIRED</em>. The <code class="att">http-equiv</code> attribute has a special significance when
  documents are retrieved via <acronym title="Hyper Text Transfer Protocol">HTTP</acronym>. Although the preferred method of
  providing <acronym title="Hyper Text Transfer Protocol">HTTP</acronym> header information is by using <acronym title=
  "Hyper Text Transfer Protocol">HTTP</acronym> header fields, the " <code class="att">http-equiv</code> " content <em class=
  "RFC2119">MAY</em> be used in situations where the CCXML document author is unable to configure <acronym title=
  "Hyper Text Transfer Protocol">HTTP</acronym> header fields associated with their document on the origin server, for example,
  cache control information. Note that, as with <code>&lt;meta&gt;</code> in HTML documents <a href="#ref_HTML" shape=
  "rect">[HTML]</a>, <acronym title="Hyper Text Transfer Protocol">HTTP</acronym> servers and caches are <em class=
  "RFC2119">NOT REQUIRED</em> to introspect the contents of <a href="#edef_meta" class="eref" shape=
  "rect"><code>&lt;meta&gt;</code></a> in CCXML documents and thereby override the header values they would send otherwise.</p>

  <p>Informative: This is an example of how <a href="#edef_meta" class="eref" shape="rect"><code>&lt;meta&gt;</code></a> can be
  included in a CCXML document to specify a resource that provides additional metadata information and also indicate that the
  document <em class="RFC2119">MUST NOT</em> be cached.</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0"
       xmlns="http://www.w3.org/2002/09/ccxml"&gt;
       &lt;meta http-equiv="Cache-Control" content="no-cache"/&gt;
&lt;/ccxml&gt;
  
</pre>

  <p><code>&lt;meta&gt;</code> is an empty element.</p>

  <h5 id="s6.2.2.2">6.2.2.2: <code>&lt;meta&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">name</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <b>http-equiv</b>
      attribute</td>

      <td class="elementRowType">NMTOKEN</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">The NAME of the metadata property.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">http-equiv</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <b>name</b>
      attribute</td>

      <td class="elementRowType">NMTOKEN</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid HTTP header</td>

      <td class="elementRowDescription">The NAME of an HTTP response header.<br />
      This attribute has special significance when documents are retrieved via HTTP. The <b>http-equiv</b> content <i>may</i> be
      used in situations where the CCXML document author is unable to configure HTTP header fields associated with their document
      on the origin server.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">content</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">The value of the metadata property.</td>
    </tr>
  </table>

  <h4 id="Metadata">6.2.3: <code>&lt;metadata&gt;</code></h4>

  <h5 id="s6.2.3.1">6.2.3.1: Overview</h5>

  <p><a name="edef_metadata" id="edef_metadata" class="edef" shape="rect"><code>&lt;metadata&gt;</code></a> is a container in
  which information about the document can be placed using a metadata language. Although any metadata language can be used within
  <a href="#edef_metadata" class="eref" shape="rect"><code>&lt;metadata&gt;</code></a>, it is <em class=
  "RFC2119">recommended</em> that the Resource Description Format [RDF] be used in conjunction with the general metadata
  properties defined by the Dublin Core Metadata Initiative <a href="#ref-dc" shape="rect">[DC]</a>.</p>

  <p>RDF <a href="#ref-rdf-syntax" shape="rect">[RDF-SYNTAX]</a> is a declarative language and provides a standard way for using
  XML to represent metadata in the form of statements about properties and relationships of items on the Web. A <em class=
  "RFC2119">recommended</em> set of generally applicable metadata properties (e.g., " <code>title</code> ", "
  <code>creator</code> ", " <code>subject</code> ", " <code>description</code> ", " <code>copyrights</code> ", etc.) is the
  Dublin Core Metadata Element Set <a href="#ref-dc" shape="rect">[DC]</a>, used in the example below.</p>

  <p>Document properties declared with <a href="#edef_metadata" class="eref" shape="rect"><code>&lt;metadata&gt;</code></a> can
  use any metadata schema.</p>

  <p>Informative: This is an example of how <a href="#edef_metadata" class="eref" shape="rect"><code>&lt;metadata&gt;</code></a>
  can be included in a CCXML document using the Dublin Core version 1.0 RDF schema <a href="#ref-dc" shape="rect">[DC]</a>
  describing general document information such as title, description, date, and so on:</p>
  <pre xml:space="preserve" class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0"
       xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;metadata&gt;
   &lt;rdf:RDF
       xmlns:rdf = "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
       xmlns:dc = "http://purl.org/dc/elements/1.1/"&gt;
   &lt;!-- Metadata about CCXML document --&gt;
   &lt;rdf:Description rdf:about="http://www.example.com/meta.ccxml"
       dc:title="Hamlet-like Soliloquy"
       dc:description="Aldine's Soliloquy in the style of Hamlet"
       dc:publisher="W3C"
       dc:language="en"
       dc:date="2002-11-29"
       dc:rights="Copyright 2002 Aldine Turnbet"
       dc:format="application/ccxml+xml" &gt;
       &lt;dc:creator&gt;William Shakespeare&lt;/dc:creator&gt;
       &lt;dc:creator&gt;Aldine Turnbet&lt;/dc:creator&gt;
   &lt;/rdf:Description&gt;
  &lt;/rdf:RDF&gt;
 &lt;/metadata&gt;
&lt;/ccxml&gt;
</pre>

  <p>The following CCXML elements can occur within the content of <a href="#edef_metadata" class="eref" shape=
  "rect"><code>&lt;metadata&gt;</code></a> : <i>none</i> .</p>

  <h5 id="s6.2.3.2">6.2.3.2: <code>&lt;metadata&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">none</td>

      <td class="elementRowRequired"></td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType"></td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">none</td>
    </tr>
  </table>

  <h4 id="If">6.2.4: <code>&lt;if&gt;</code></h4>

  <h5 id="s6.2.4.1-if">6.2.4.1: Overview</h5>

  <p><code>&lt;if&gt;</code> is a container for conditionally executed elements. <code>&lt;else&gt;</code> and
  <code>&lt;elseif&gt;</code> can optionally appear within an <code>&lt;if&gt;</code> as immediate children, and serve to
  partition the elements within an <code>&lt;if&gt;</code>. <code>&lt;else&gt;</code> and <code>&lt;elseif&gt;</code> have no
  content. <code>&lt;else/&gt;</code> is a synonym for <code>&lt;elseif cond="true"/&gt;</code>.</p>

  <p>Each partition within an <code>&lt;if&gt;</code> is preceded by an element having a <code>cond</code> attribute. The initial
  partition is preceded by the <code>&lt;if&gt;</code> and subsequent partitions by <code>&lt;elseif&gt;</code>s (or
  <code>&lt;else&gt;</code>s). The first partition in document order with a <code>cond</code> that evaluates to <code>true</code>
  is selected. <code>&lt;else&gt;</code> always evaluate to <code>true</code>. A partition <em class="RFC2119">MAY</em> be
  empty.</p>

  <p>If an <code>&lt;if&gt;</code> has no immediate <code>&lt;elseif&gt;</code> or <code>&lt;else&gt;</code> children, the full
  contents of the <code>&lt;if&gt;</code> will be selected when the <code>cond</code> attribute is <code>true</code>.</p>

  <p><code>&lt;else&gt;</code> was chosen to match similar concepts in other languages, and supports examples such as</p>
  <pre class="example" xml:space="preserve">
&lt;if cond="..."&gt;
  &lt;!-- selected when &lt;if cond&gt; is true --&gt;
&lt;else/&gt;
    &lt;!-- selected when &lt;if cond&gt; is false --&gt;
&lt;/if&gt;
</pre>

  <p>However, <code>&lt;else&gt;</code> is a synonym for <code>&lt;elseif cond="true"/&gt;</code>, so an example such as</p>
  <pre class="example" xml:space="preserve">
&lt;if cond="..."&gt;
  &lt;!-- selected when &lt;if cond&gt; is true --&gt;
&lt;else/&gt;
  &lt;!-- selected when &lt;if cond&gt; is false --&gt;
&lt;else/&gt;
  &lt;!-- never selected --&gt;
&lt;/if&gt;
</pre>is also possible and <em class="RFC2119">MUST</em> be interpreted as
  <pre class="example" xml:space="preserve">
&lt;if cond="..."&gt;
  &lt;!-- selected when &lt;if cond&gt; is true --&gt;
&lt;elseif cond="true"/&gt;
  &lt;!-- selected when &lt;if cond&gt; is false --&gt;
&lt;elseif cond="true"/&gt;
  &lt;!-- never selected --&gt;
&lt;/if&gt;
</pre>

  <p>With this definition for <code>&lt;else&gt;</code>, CCXML provides familiar if/elseif/else semantics, but conforms to the
  rules of valid XML <a href="#ref_XML" shape="rect">[XML]</a> documents.</p>

  <h5 id="s6.2.4.2-if">6.2.4.2: <code>&lt;if&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">cond</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid ECMAScript expression</td>

      <td class="elementRowDescription">An ECMAScript expression which can be evaluated to true or false.</td>
    </tr>
  </table>

  <h4 id="Elseif">6.2.5: <code>&lt;elseif&gt;</code></h4>

  <h5 id="s6.2.5.1-elseif">6.2.5.1: Overview</h5>

  <p>An <code>&lt;elseif&gt;</code> partitions the content of an <code>&lt;if&gt;</code>, and provides a condition that
  determines the selection of the partition it begins. <code>&lt;elseif&gt;</code> can appear optionally as an immediate child of
  an <code>&lt;if&gt;</code>.</p>

  <h5 id="s6.2.5.2-elseif">6.2.5.2: <code>&lt;elseif&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">cond</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid ECMAScript expression</td>

      <td class="elementRowDescription">An ECMAScript expression which can be evaluated to true or false.</td>
    </tr>
  </table>

  <h4 id="Else">6.2.6: <code>&lt;else&gt;</code></h4>

  <h5 id="s6.2.6.1">6.2.6.1: Overview</h5>

  <p><code>&lt;else&gt;</code> is a synonym for <code>&lt;elseif cond="true"/&gt;</code>.</p>

  <h5 id="s6.2.6.2">6.2.6.2: <code>&lt;else&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">none</td>

      <td class="elementRowRequired"></td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType"></td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">else is a synonym for elseif cond="true".</td>
    </tr>
  </table>

  <h4 id="Fetch">6.2.7: <code>&lt;fetch&gt;</code></h4>

  <h5 id="s6.2.7.1">6.2.7.1: Overview</h5>

  <p><code>&lt;fetch&gt;</code> is used to asynchronously fetch content identified by the attributes of the
  <code>&lt;fetch&gt;</code>. The fetched content may be a CCXML document, script content or other document types supported by
  the CCXML platform. Content that has been acquired using <code>&lt;fetch&gt;</code> is accessible through other elements
  defined by CCXML and via the content attribute of the <code>fetch.done</code> event. Execution returns from the element
  immediately, and the CCXML application can continue on while the platform works to fetch the identified resource. When the
  fetch request has been completed, an event is generated against the session that initiated the fetch. If the requested content
  was fetched successfully, and in the case of CCXML content, was successfully parsed and validated, a <code>fetch.done</code>
  <em class="RFC2119">MUST</em> be generated. If the requested content failed to be fetched, an <code>error.fetch</code>
  <em class="RFC2119">MUST</em> be generated. Note that even if content is successfully fetched, errors in processing fetched
  content (for instance, a CCXML document with a syntax error) may result in an <code>error.fetch</code> being thrown.</p>

  <p>The fetch request is local to the session that initiated the <code>&lt;fetch&gt;</code>, and is referenced through a unique
  identifier generated by the CCXML platform. The application may obtain the unique identifier for a fetch request by providing
  an ECMAScript left-hand-side expression in the <code>fetchid</code> attribute when the fetch is performed. The fetch identifier
  can also be obtained as a property of the <code>fetch.done</code> event. The application uses the fetch identifier in any CCXML
  elements that reference fetched content, currently <code>&lt;goto&gt;</code> and <code>&lt;script&gt;</code>.</p>

  <p>Fetched content that could be referenced via a <code>fetchid</code> (eg, a CCXML or ECMAScript Document) that was fetched in
  <code>processed</code> mode has a lifetime that is limited to that of the document in which it is fetched. Therefore, following
  a transition to a new CCXML document using <code>&lt;goto&gt;</code>, content fetched in the scope of the current document is
  no longer accessible. Note that this should not be taken to preclude platform-level optimizations or caching of resources that
  are fetched multiple times.</p>

  <p>All other content is only accessible via the content attribute of the <code>fetch.done</code> event. If the application
  needs access to the content outside of the <code>fetch.done</code> event transition it is the responsibility of the application
  to save a reference in an appropriately scoped variable.</p>

  <p>Content referenced via <code>fetchid</code> (for example via <code>&lt;script&gt;</code> or <code>&lt;goto&gt;</code>)
  <em class="RFC2119">MUST</em> be fetched using <code>processed</code> mode.</p>

  <p>The use of <code>&lt;fetch&gt;</code> to obtain content does not compel the application to make use of that content.
  However, it is wasteful of system resources to fetch resources that are not used. Platforms are responsible for clearing out
  unused fetch resources, and may impose limits on the resources that can be fetched by a single session.</p>

  <p>The "http" URI scheme <em class="RFC2119">MUST</em> be supported by CCXML platforms, the "https" protocol <em class=
  "RFC2119">should</em> be supported and other URI protocols <em class="RFC2119">may</em> be supported.</p>

  <p>If the platform does not support the content type returned from a <code>&lt;fetch&gt;</code> request but the fetch does
  successfully complete (for example HTTP 2xx response code) the platform <em class="RFC2119">MUST</em> still throw a
  <code>fetch.done</code> event for the <code>fetchid</code>.</p>

  <p>If the platform implements a security model (such as Access Control for Cross-site Requests <a href="#ref-access-control"
  shape="rect">[ACCESS-CONTROL]</a>) and the request is denied due to the security model an <code>error.notallowed</code> event
  <em class="RFC2119">MUST</em> be thrown.</p>

  <p>INFORMATIVE NOTE: It is expected in future versions of CCXML additional forms of processed fetch modes will be added.
  Examples of these could be dom or e4x mappings of raw XML content.</p>

  <h5 id="s6.2.7.2">6.2.7.2: <code>&lt;fetch&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">next</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">must evaluate to a valid URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns the URI of the resource to be fetched.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">type</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">In processed mode "application/ccxml+xml". In raw mode "*/*".</td>

      <td class="elementRowValidValues">MIME Types formatted as per HTTP Accept header <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string setting the value of the HTTP
      Accept header to tell the application server what content type the application wishes to have returned.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">namelist</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML variable names. These variables must be
      submitted to the web server, with the same qualification as used in the namelist. When an ECMAScript variable is submitted
      to the web server, its value must be first converted into a string before being submitted.<br />
      If the variable is an ECMAScript Object, the mechanism by which it must be submitted is not currently defined. Instead of
      submitting ECMAScript Objects directly, the application developer may explicitly submit the properties of an Object. e.g.
      "date.month date.year".</td>
    </tr>

    <tr class="">
      <td class="elementRowName">method</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">get</td>

      <td class="elementRowValidValues">get<br />
      post</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the HTTP method to use. Values defined by the
        specification are:

        <dl>
          <dt>get</dt>

          <dd>This indicates that the "GET" method must be used to fetch the URI</dd>

          <dt>post</dt>

          <dd>This indicates that the "POST" method must be used while submitting the URI to the web server.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">fetchid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive an internally generated unique string identifier to be associated with the completion
      event. This identifier can be tested by the fetch completion event handler to distinguish among several outstanding fetch
      requests.<br />
      If this attribute is not specified, the fetch identifier can be acquired from the fetch completion event. Every fetch
      request must receive a unique fetch identifier, even if the request is for the same URI</td>
    </tr>

    <tr class="">
      <td class="elementRowName">timeout</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a character string in CSS2 <a href=
      "#ref-css2">[CSS2]</a> format</td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This interval
      begins when the fetch is executed. The fetch must fail if not completed at the end of this interval. A failed fetch must
      return the <b>error.fetch</b> event.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxage</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a valid time value for the HTTP 1.1 request
      <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content whose age must be no greater than the specified time in seconds (cf. 'max-age' in
      HTTP 1.1 <a href="#ref_RFC2616">[RFC2616]</a>). The document is not willing to use stale content, unless maxstale is also
      provided.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxstale</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a valid time value for the HTTP 1.1 request
      <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content that has exceeded its expiration time (cf. 'max-age' in HTTP 1.1 <a href=
      "#ref_RFC2616">[RFC2616]</a>). If maxstale is assigned a value, then the document is willing to accept content that has
      exceeded its expiration time by no more than the specified number of seconds.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">enctype</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Valid only when the value of the method is "post"<span >, otherwise ignored.</span></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">application/x-www-form-urlencoded</td>

      <td class="elementRowValidValues">valid media encoding type</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the media encoding type of the submitted
        document (when the value of the method is "post"). Values defined by the specification are:

        <dl>
          <dt>application/x-www-form-urlencoded</dt>

          <dd>This indicates that the ccxml variables specified in the namelist must be url encoded.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">mode</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">processed</td>

      <td class="elementRowValidValues">processed, raw</td>

      <td class="elementRowDescription">Controls what the CCXML platform should do with fetched content. If set to
      <code>processed</code> (the default) the CCXML platform <em class="RFC2119">MUST</em> attempt to parse and validate the
      returned content. If set to <code>raw</code> the platform <em class="RFC2119">MUST NOT</em> attempt to process the data and
      <em class="RFC2119">MUST</em> leave processing of the content to the application who can do what it wishes with the content
      via the <code>content</code> attribute of the <code>fetch.done</code> event</td>
    </tr>
  </table>

  <h4 id="Goto">6.2.8: <code>&lt;goto&gt;</code></h4>

  <h5 id="s6.2.8.1">6.2.8.1: Overview</h5>

  <p><code>&lt;fetch&gt;</code>, in conjunction with <code>&lt;goto&gt;</code>, is used to transfer execution to a different
  CCXML document in a multi-document CCXML application. The <code>&lt;fetch&gt;</code> tells the platform to find, load, and
  parse a given CCXML document. After the fetch completes, the CCXML application can then issue a <code>&lt;goto&gt;</code> to
  execute the now-fetched document.</p>

  <p>Below is a small snippet of code from the CCXML application's event handler. We execute a <code>&lt;fetch&gt;</code>
  operation, and continue on to assign to a state variable, and maybe handle more events. Eventually, the fetch completes, the
  CCXML platform services the event, and the application performs the <code>&lt;goto&gt;</code>.</p>
  <pre class="example" xml:space="preserve">
&lt;fetch next="'http://www.example.com/control.ccxml'"/&gt;
&lt;--control continues here-&gt;
&lt;assign name="state_var" expr="'fetch_wait'"/&gt;
&lt;/transition&gt;
&lt;!-- &hellip;&hellip;&hellip; --&gt;
&lt;transition state="fetch_wait" event="fetch.done"/&gt;
&lt;goto fetchid="event$.fetchid"/&gt;
&lt;/transition&gt;
</pre>

  <p>A <code>&lt;goto&gt;</code> transfers control to the document obtained through a fetch request, using the platform-generated
  unique identifier associated with that fetch request. The fetch completion event <em class="RFC2119">MUST</em> have arrived
  before the <code>&lt;goto&gt;</code> is executed, otherwise, an <code>error.semantic</code> event is generated. If the fetched
  content referenced by the fetch identifier is not a CCXML document, or the fetch identifier is invalid and does not correspond
  to any fetch request, this also results in an <code>error.semantic</code> event.</p>

  <p>When a <code>&lt;goto&gt;</code> is executed, the target document replaces the current document in its session. Event
  sources associated with this session are inherited by the target document. Execution of the current document terminates.</p>

  <h5 id="s6.2.8.2">6.2.8.2: <code>&lt;goto&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">fetchid</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid fetch id</td>

      <td class="elementRowDescription">An ECMAScript expression which returns the fetch identifier of a completed fetch request
      acquired either in a fetch with the fetchid attribute, or from the fetchid attribute of a <b>fetch.done</b> event.<br />
      If the attribute value is invalid, an <b>error.semantic</b> event must be thrown.</td>
    </tr>
  </table>

  <h5 id="s6.2.8.3">6.2.8.3: <code>&lt;fetch&gt;</code> and <code>&lt;goto&gt;</code> Example</h5>

  <p>The following code shows the use of the <code>&lt;fetch&gt;</code> and <code>&lt;goto&gt;</code> elements along with the
  <code>fetchid</code> attribute to handle more complex fetching situations:</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;

  &lt;!-- var to hold the value of the fetch 
          identifier that we care about --&gt;
  &lt;var name="myGoodFetchID"/&gt;

  &lt;eventprocessor&gt;  
    &lt;transition event="ccxml.loaded"&gt;
       &lt;!-- stick the value of the fetch 
               identifier in the myGoodFetchID var --&gt;
       &lt;fetch fetchid="myGoodFetchID" 
                 next="'http://www.example.com/goodfetch.ccxml'"/&gt;

       &lt;!-- do not bother saving the fetch id's for these, 
               we would just ignore them anyway --&gt;
       &lt;fetch next="'http://www.example.com/fakefetch1.ccxml'"/&gt;
       &lt;fetch next="'http://www.example.com/fakefetch2.ccxml'"/&gt;
    &lt;/transition&gt;

    &lt;transition event="fetch.done"&gt;
       &lt;if cond="myGoodFetchID == event$.fetchid"&gt;
          &lt;!-- only matched if we have fetched 
                  http://www.example.com/goodfetch.ccxml --&gt;
          &lt;goto fetchid="event$.fetchid"/&gt;
       &lt;/if&gt;
    &lt;/transition&gt;

    &lt;transition event="error.fetch"&gt;
          &lt;!-- Ignore bad fetches in this example --&gt;
    &lt;/transition&gt;

  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="Createccxml">6.2.9: <code>&lt;createccxml&gt;</code></h4>

  <h5 id="s6.2.9.1">6.2.9.1: Overview</h5>

  <p><code>&lt;createccxml&gt;</code> is used to create another CCXML session, which begins execution with the document
  identified by this element. The new CCXML session has no relation to its creator once spawned, and has a wholly separate
  lifetime and address space.</p>

  <p>Execution returns from the <code>&lt;createccxml&gt;</code> element immediately, and the CCXML interpreter can continue on
  while the new CCXML session is established and loads its initial document. If the new session is successfully established or a
  failure occurs an event is generated and is delivered to the session that executed the <code>&lt;createccxml&gt;</code>
  element.</p>

  <h5 id="s6.2.9.2">6.2.9.2 <code>&lt;createccxml&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">next</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">a valid URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns the URI of the resource to be fetched.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">namelist</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML variable names. These variables must be
      submitted to the web server, with the same qualification as used in the namelist. When an ECMAScript variable is submitted
      to the web server, its value must be first converted into a string before being submitted.<br />
      If the variable is an ECMAScript Object, the mechanism by which it must be submitted is not currently defined. Instead of
      submitting ECMAScript Objects directly, the application developer may explicitly submit the properties of an Object. e.g.
      "date.month date.year".</td>
    </tr>

    <tr class="">
      <td class="elementRowName">fetchparam</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript expression</td>

      <td class="elementRowDefaultValues">'none'</td>

      <td class="elementRowValidValues">'none', 'session-id', 'session'</td>

      <td class="elementRowDescription">
        Specifies parameters, in addition to those specified via 'namelist' (if present), that will be passed to the web server
        when fetching the CCXML document for the new session. Three values are legal for this attribute:

        <ul>
          <li><code>none</code> - No additional parameters should be passed with the fetch;</li>

          <li><code>session-id</code> - The 'session.id' property of the newly created session will be included when fetching the
          initial document;</li>

          <li><code>session</code> - The 'session.id' property and all properties of 'session.values' will be included when
          fetching the initial document. The evaluation of 'session.values' will occur after it has been populated as per the
          'parameter' attribute above, providing developers with a simple means of passing data both to the new CCXML session and
          to the web server.</li>
        </ul>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">parameters</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML variable names. Each named variable
      will be created as a property of 'session.values' in the newly created session. For instance, passing a variable named
      'foo' with value '123' will result in the 'session.values.foo' property evaluating to '123'; similarly, passing a variable
      named 'foo.bar' would result in a 'session.values.foo.bar' property. Variable values are passed in string form; the passing
      of ECMAScript objects is not currently defined.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">method</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">get</td>

      <td class="elementRowValidValues">get<br />
      post</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the HTTP method to use. Values defined by the
        specification are:

        <dl>
          <dt>get</dt>

          <dd>This indicates that the "GET" method must be used to fetch the URI</dd>

          <dt>post</dt>

          <dd>This indicates that the "POST" method must be used while submitting the URI to the web server.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">sessionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive an internally generated unique string identifier which identifies the newly created
      session.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">timeout</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a character string in CSS2 <a href=
      "#ref-css2">[CSS2]</a> format</td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This time interval
      must be interpreted by the new CCXML session as the maximum time it may wait for the completion of the fetch for the
      initial document specified by the <b>next</b> attribute. If the new CCXML session is unable to fetch the initial document
      within the <b>timeout</b> interval, an <b>error.createccxml</b> event <b><i>must</i></b> be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxage</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a valid time value for the HTTP 1.1 request
      <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content whose age must be no greater than the specified time in seconds (cf. 'max-age' in
      HTTP 1.1 <a href="#ref_RFC2616">[RFC2616]</a>). The document is not willing to use stale content, unless maxstale is also
      provided.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxstale</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a valid time value for the HTTP 1.1 request
      <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content that has exceeded its expiration time (cf. 'max-age' in HTTP 1.1 <a href=
      "#ref_RFC2616">[RFC2616]</a>). If maxstale is assigned a value, then the document is willing to accept content that has
      exceeded its expiration time by no more than the specified number of seconds.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">enctype</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Valid only when the value of the method is "post"<span >, otherwise ignored.</span></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">application/x-www-form-urlencoded</td>

      <td class="elementRowValidValues">valid media encoding type</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the media encoding type of the submitted
        document (when the value of the method is "post"). Values defined by the specification are:

        <dl>
          <dt>application/x-www-form-urlencoded</dt>

          <dd>This indicates that the ccxml variables specified in the namelist must be url encoded.</dd>
        </dl>
      </td>
    </tr>
  </table>

  <h4 id="Exit">6.2.10: <code>&lt;exit&gt;</code></h4>

  <h5 id="s6.2.10.1">6.2.10.1: Overview</h5>

  <p><code>&lt;exit&gt;</code> ends execution of the CCXML session. All pending events are discarded, and there is no way to
  restart CCXML execution.</p>

  <h5 id="s6.2.10.2">6.2.10.2 <code>&lt;exit&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">expr</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">undefined</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">A return ECMAScript expression (e.g. 0 or 'oops!'). If this attribute is omitted, the
      return value must be ECMAScript undefined. This value must be stored as a property of the exit event.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">namelist</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML unqualified variable names to be
      returned. These variable names and their associated values must be set as properties of the exit event.</td>
    </tr>
  </table>

  <p>A CCXML document executing the <code>&lt;exit&gt;</code> will generate a <code>ccxml.exit</code> event to the parent
  session. The exiting document will be identified on the exit event by its session ID.</p>

  <h4 id="Log">6.2.11: <code>&lt;log&gt;</code></h4>

  <h5 id="log-overview">6.2.11.1: Overview</h5>

  <p><code>&lt;log&gt;</code> allows an application to generate a logging or debug message which a developer can use to help in
  application development or post-execution analysis of application performance. The manner in which the message is displayed or
  logged is platform-dependent. The usage of label is platform-dependent. The use of <code>&lt;log&gt;</code> <em class=
  "RFC2119">SHOULD</em> have no other side-effects on interpretation. <code>&lt;log&gt;</code> is an empty element.</p>

  <h5 id="log-details">6.2.11.2 <code>&lt;log&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">label</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string which <i>must</i> be used, for
      example, to indicate the purpose of the log.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">expr</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression evaluating to a string to be logged.</td>
    </tr>
  </table>

  <h3 id="flowEvents">6.3: Events</h3>

  <h4 id="flowEventsOverview">6.3.1: Overview</h4>

  <p>CCXML allows operations such as document fetching, startup and shutdown to execute independently. CCXML events that describe
  these operations are defined below:</p>

  <h4 id="flowEventsFetchdone">6.3.2: <code>fetch.done</code> - Fetch Completion Event</h4>

  <p>This event is generated when a fetch request completes successfully. It is delivered to the document which issued the
  request.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">fetchid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The internally generated unique fetch identifier</td>
    </tr>

    <tr class="">
      <td class="eventRowName">uri</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The URI of the resource that was fetched. If the fetch resulted in one or more HTTP redirects
      (e.g. 302), the value of this property is set to the final target URI.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">statuscode</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">int</td>

      <td class="eventRowDetails">The numeric HTTP status code (eg 200, 202 etc) of the HTTP request.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">content</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">An ECMAScript representation of the fetched content. If the CCXML browser can not represent the
      content in ECMAScript (for example some content that was fetched in processed mode) this may be ECMAScript undefined. In
      raw mode it is expected that this attribute will contain a string representation of the fetched content.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">contenttype</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The returned content type from the web server.</td>
    </tr>
  </table>
  <hr />

  <h4 id="flowEventsErrorFetch">6.3.3: <code>error.fetch</code> - Fetch Error Event</h4>

  <p>This event is generated when a fetch request does not successfully complete. It is delivered to the document which issued
  the request.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">fetchid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The internally generated unique fetch identifier</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string description of the fetch error. Content of this field is platform-specific.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">statuscode</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">int</td>

      <td class="eventRowDetails">The numeric HTTP status code (eg 404,500 etc) of the failed HTTP request.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">uri</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The URI of the resource that was fetched. If the fetch resulted in one or more HTTP redirects
      (e.g. 302), the value of this property is set to the final target URI.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">content</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">An ECMAScript representation of the fetched content. If the CCXML browser can not represent the
      content in ECMAScript (for example some content that was fetched in processed mode) this may be ECMAScript undefined. In
      raw mode it is expected that this attribute will contain a string representation of the fetched content.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">contenttype</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The returned content type from the web server.</td>
    </tr>
  </table>
  <hr />

  <h4 id="flowEventsCCXMLExit">6.3.4: <code>ccxml.exit</code> - CCXML Document Exit Event</h4>

  <p>This event is generated when a CCXML session is terminated for any reason, if the terminated session has a parent session.
  This event is sent to the parent session and not the session that was terminated.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the exiting session. This must be the same value that was returned to the
      <b>sessionid</b> attribute of the <b>createccxml</b> which created this session.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">expr</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The value of the <b>exit</b> <i>expr</i> attribute. If this attribute is omitted in the
      <b>exit</b>, the value must be ECMAScript undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">values.*</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">Return values from the ccxml session. This would be the values of each of the objects listed in
      the CCXML exit element's namelist.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">Reason that the session ended. Possible values are:<br />
      "exit" - Session ended due to a &lt;exit&gt; element<br />
      "error" - Session ended due to an unhandled error event<br />
      "kill" - Session ended due to ccxml.kill* event</td>
    </tr>
  </table>
  <hr />

  <h4 id="flowEventsCCXMLLoaded">6.3.5: <code>ccxml.loaded</code> - CCXML Document Loaded Event</h4>

  <p>This event is thrown once the document is parsed and ready for execution (document initialization occurs between the fetched
  and loaded events). The CCXML platform <em class="RFC2119">MUST</em> generate this event when the CCXML document is first
  loaded, both at session startup and after transferring control to a new document with the <code>&lt;goto&gt;</code>. This event
  would be processed after the platform had executed the document initialization including executing any elements under the
  <code>&lt;ccxml&gt;</code> and before events such as connection.alerting which may have triggered creation of the session.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the session on which this document is executing.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">parent</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the session which issued the <b>createccxml</b> to start this document. If
      this document was started directly by the CCXML platform the value is ECMAScript undefined.</td>
    </tr>
  </table>
  <hr />

  <h4 id="flowEventsCCXMLkill">6.3.6: <code>ccxml.kill</code> - CCXML kill Event</h4>

  <p>The <code>kill</code> event can be used by the platform to terminate a session without an explicit
  <code>&lt;exit&gt;</code>. There are two versions of this event: catchable, and non-catchable.</p>

  <p>The <code>ccxml.kill</code> event can be caught, typically to perform a clean-up operation at the end of a session. If the
  event is caught the session will not be terminated unless an <code>&lt;exit&gt;</code> element is processed. If the event is
  not caught the session will be terminated and all active connections, conferences and dialogs that are owned by that session
  will be automatically terminated by the platform.</p>

  <p>Unlike other events, the <code>ccxml.kill.unconditional</code> event is the only event that cannot be caught by an
  application; it will unconditionally terminate the session and all active connections, conferences and dialogs that are owned
  by that session will be automatically terminated by the platform.</p>

  <p>Note that while the normal cause of a <code>ccxml.kill</code> or <code>ccxml.kill.unconditional</code> event being queued to
  a session is that the platform wishes to terminate the session, it is legal for any event I/O processor to generate a
  <code>ccxml.kill</code> or <code>ccxml.kill.unconditional</code> event. For instance, it is legal for one CCXML session to
  unconditionally kill another session by sending a <code>ccxml.kill.unconditional</code> event using <code>&lt;send&gt;</code>.
  Note, however, that platforms may impose rules that prevent one session from arbitrarily killing another (to prevent malicious
  applications, for instance).</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">
          <span >false</span>
          </td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the session <span >who has sent the event</span>.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string describing the reason the platform sent the kill event. Content of this field is
      platform-specific, and is only for informative purposes.</td>
    </tr>
  </table>
  <hr />

  <h4 id="flowEventsCcxmlCreated">6.3.7: <code>ccxml.created</code> - CCXML Session Create Completion Event</h4>

  <p>This event is generated when a <code>&lt;createccxml&gt;</code> request completes successfully. It is delivered to the
  document which issued the request and indicates that the new session has retrieved the specified initial CCXML document, parsed
  and has begun execution of it by sending the <code>ccxml.loaded</code> event to the new session.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the newly created CCXML session. This must be the same identifier as was
      returned on the <b>sessionid</b> attribute of the <b>createccxml</b> request that created the session.</td>
    </tr>
  </table>
  <hr />

  <h4 id="flowEventsErrorCreateCCXML">6.3.8: <code>error.createccxml</code> - CCXML Session Create Failed Event</h4>

  <p>This event is generated when a <code>&lt;createccxml&gt;</code> request fails to complete. It is delivered to the document
  which issued the request and indicates that the new session has not been created.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the failing CCXML session. This is the same identifier as was returned on the
      <b>sessionid</b> attribute of the <b>createccxml</b> request that created the session.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string description of the error encountered. Content of this field is platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="error.unsupported">6.3.9: <code>error.unsupported</code> - CCXML Unsupported Operation</h4>

  <p>This event is generated when an operation that is not supported by the platform is executed.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string description of the error encountered. Content of this field is platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h2 id="dialogs">7: Dialogs</h2>

  <h3 id="dialogsOverview">7.1: Overview</h3>

  <p>CCXML does not provide any mechanism for interacting with callers but relies on separate dialog environments such as
  VoiceXML [<cite><a href="#ref-VoiceXML" shape="rect">VOICEXML</a></cite>]. Whenever interaction with a caller is required, a
  CCXML session can create a separate dialog to perform that interaction. After the dialog interaction is complete, an
  asynchronous event is sent to the CCXML session which can use any results returned by the dialog environment to decide what
  should happen next.</p>

  <p>Dialogs initiated by CCXML sessions are not tied to any single dialog language or technology. Any dialog system which
  fulfils CCXML's requirements <em class="RFC2119">MAY</em> be used for interaction with the caller. Examples of dialog systems
  include VoiceXML, SALT, traditional <acronym title=
  "Interactive Voice Response">IVR</acronym>, 3GPP <acronym title="Media Resource Function">MRF</acronym> as well as simple media
  handling systems for fax, media playback and recording, DTMF detection, answer-machine detectors, etc. A CCXML platform
  <em class="RFC2119">MAY</em> support interaction with several dialog systems with the selection of the particular technology
  being based on the MIME type specified when the dialog is initiated.</p>

  <p>All CCXML elements that manipulate dialogs are asynchronous with control returning immediately to the CCXML session after
  the operation is initiated. The CCXML session is notified when the dialog operation successfully completes, or fails, by an
  asynchronous event. Execution of a <code>&lt;dialogprepare&gt;</code> or <code>&lt;dialogstart&gt;</code> without preparation
  creates a Dialog Object immediately, allowing the Dialog Object to be accessed following the
  <code>&lt;dialogprepare&gt;/&lt;dialogstart&gt;</code>, within the same transition. However, existence of the Dialog Object
  does not guarantee anything about the success of the <code>&lt;dialogprepare&gt;/&lt;dialogstart&gt;</code> request.</p>

  <p>A CCXML program initiates a dialog using the <code>&lt;dialogstart&gt;</code> element. Execution of this element connects a
  dialog environment to a connection and instructs it to start interacting with the caller. For some dialog environments it may
  take some time to initialize the dialog environment and thus the use of the <code>&lt;dialogstart&gt;</code> element alone may
  cause the caller to hear silence, or "dead air". To avoid this situation CCXML provides an ability to ready a dialog
  environment prior to connecting and starting it, this is done using the <code>&lt;dialogprepare&gt;</code> element. Any dialog
  that has been either started with <code>&lt;dialogstart&gt;</code>, or prepared with <code>&lt;dialogprepare&gt;</code> can be
  terminated using the <code>&lt;dialogterminate&gt;</code> element. CCXML implementations <em class="RFC2119">MUST</em> support
  the <code>&lt;dialogprepare&gt;</code>, <code>&lt;dialogstart&gt;</code>, and <code>&lt;dialogterminate&gt;</code> elements
  though the exact behavior may vary depending on the dialog environments supported.</p>

  <p>The following examples illustrate the valid use patterns for these three elements. Firstly the normal case of preparing a
  dialog, starting it, then optionally terminating it before normal completion. This example illustrates the use of
  <code>&lt;dialogprepare&gt;</code> to ready a dialog while the call is left in alerting state. When the alerting notification
  arrives the script executes a <code>&lt;dialogprepare&gt;</code> to prepare a dialog and associate it with the connection. When
  the dialog is prepared the script executes an <code>&lt;accept&gt;</code> to connect the call and then when the connection
  transitions to connected state, a <code>&lt;dialogstart&gt;</code> element is used to execute the previously prepared
  dialog.</p>
  <pre class="example" xml:space="preserve">
      &lt;transition event=&quot;connection.alerting&quot;&gt;
          &lt;dialogprepare dialogid=&quot;preparedId&quot; src=&quot;...&quot; connectionid=&quot;event$.connectionid&quot;/&gt;
      &lt;/transition&gt;
      &lt;transition event=&quot;dialog.prepared&quot;&gt;
          &lt;accept connectionid=&quot;event$.connectionid&quot;/&gt;
      &lt;/transition&gt;

      &lt;transition event=&quot;connection.connected&quot; &gt;
          &lt;dialogstart prepareddialogid=&quot;preparedId&quot; 
                          connectionid=&quot;event$.connectionid&quot;/&gt;
      &lt;/transition&gt;

<i>      (optionally)</i>
      &lt;transition event=&quot;???&quot;&gt;
          &lt;dialogterminate dialogid=&quot;...&quot; /&gt;
      &lt;/transition&gt;
</pre>

  <p>The next example shows a single step dialog invocation without dialog preparation. In this case a connection in alerting
  state is accepted and, when the transition to connected state occurs, a <code>&lt;dialogstart&gt;</code> element is used to
  start the dialog.</p>
  <pre class="example" xml:space="preserve">
&lt;transition event="connection.alerting"&gt;
    &lt;accept connectionid="event$.connectionid"/&gt;
&lt;/transition&gt;
    
&lt;transition event="connection.connected"&gt;
    &lt;dialogstart src="..." connectionid="event$.connectionid"/&gt;
&lt;/transition&gt;
    
<i>(optionally)</i>
&lt;transition event="???"&gt;
    &lt;dialogterminate dialogid="..." /&gt;
&lt;/transition&gt;
</pre>

  <p>This next example shows the preparation of a dialog for an outbound call:</p>
  <pre class="example" xml:space="preserve">
&lt;transition event=&quot;...&quot;&gt;
  &lt;dialogprepare src=&quot;...&quot; dialogid=&quot;preparedId&quot;&gt; &lt;!-- no connectionid --&gt; &lt;/transition&gt; &lt;transition event=&quot;dialog.prepared&quot; &gt;
  &lt;createcall dest=&quot;...&quot; joinid=&quot;event$.dialogid&quot;&gt; &lt;!-- use joinid --&gt; &lt;/transition&gt; &lt;transition event=&quot;connection.connected&quot;&gt;
  &lt;dialogstart prepareddialogid=&quot;preparedId&quot;
               connectionid=&quot;event$.connectionid&quot;/&gt;
&lt;/transition&gt;
</pre>

  <p>The final example shows the case where a dialog which has been previously prepared is cancelled before a
  <code>&lt;dialogstart&gt;</code> has been issued. A dialog may be terminated when it is in the prepared state or while it is
  being prepared such as might be the case if the caller hangs up at some arbitrary point. In this case the
  <code>&lt;dialogterminate&gt;</code> may be executed before or after the <code>dialog.prepared</code> event is processed.</p>
  <pre class="example" xml:space="preserve">
&lt;transition event=&quot;connection.connected&quot;&gt;
  &lt;dialogprepare dialogid=&quot;preparedId&quot; src=&quot;...&quot; connectionid=&quot;event$.connectionid&quot;/&gt;
&lt;/transition&gt;
&lt;transition event=&quot;connection.disconnected&quot; &gt;
  &lt;dialogterminate dialogid=&quot;preparedId&quot; /&gt; 
&lt;/transition&gt;
</pre>

  <p>It is possible for Dialogs to exist that are not joined to a Connection or a Conference. For example, this could be due to a
  Connection disconnecting, or due to the application performing an <code>&lt;unjoin/&gt;</code> operation.</p>

  <h3 id="dialogselements">7.2: Elements</h3>

  <h4 id="dialogprepare">7.2.1: <code>&lt;dialogprepare&gt;</code></h4>

  <h5 id="s7.2.1.1">7.2.1.1: Overview</h5>

  <p><code>&lt;dialogprepare&gt;</code> is used to get an appropriate dialog handler ready to process, it is used as the
  precursor to a <code>&lt;dialogstart&gt;</code> request. The element includes a URI reference to the initial document for the
  dialog. The new dialog is prepared on a separate logical execution thread (this may be a thread, process, or system depending
  upon platform implementation) and does not block the processing of further events by the CCXML session. The use of the
  <code>&lt;dialogprepare&gt;</code> element is entirely optional, applications may choose to simply use
  <code>&lt;dialogstart&gt;</code> without prior preparation.</p>

  <p>Optionally the new dialog may be associated with a connection by specifying the <code>connectionid</code> attribute, or with
  a conference by specifying the <code>conferenceid</code> attribute.</p>

  <p>When preparation of the dialog completes successfully a <code>dialog.prepared</code> event <em class="RFC2119">MUST</em> be
  posted to the event queue of the CCXML session. If however the dialog cannot be prepared for any reason, an
  <code>error.dialog.notprepared</code> event <em class="RFC2119">MUST</em> be posted. However should the dialog be terminated
  using <code>&lt;dialogterminate&gt;</code> while it is being prepared the platform <em class="RFC2119">MUST</em> only post a
  <code>dialog.exit</code> event.</p>

  <p>CCXML implementations <em class="RFC2119">MUST</em> support dialog preparation though the processing carried out as part of
  a <code>&lt;dialogprepare&gt;</code> request is dialog manager specific. In the case of a dialog manager that does not support
  preparation, the CCXML implementation <em class="RFC2119">MUST</em> as a minimum, note the values provided in the
  <code>&lt;dialogprepare&gt;</code> attributes, create a Dialog object, and return a new unique value to the location defined by
  the <code>dialogid</code> attribute and throw a <code>dialog.prepared</code> event.</p>

  <p>The CCXML session selects what it believes to be the appropriate dialog manager based on the MIME type specified by the
  <code>type</code> attribute without retrieving the resource specified by the <code>src</code> URI. If, when the dialog manager
  retrieves the content, it finds the MIME type, as specified by the <acronym title="Hyper Text Transfer Protocol">HTTP</acronym>
  headers, differs from that specifed by the <code>type</code> attribute, it <em class="RFC2119">MUST</em> raise an
  <code>error.dialog.notprepared</code> event with a <code>reason</code> indicating the type mismatch. The dialog manager
  <em class="RFC2119">MUST NOT</em> ignore the type mismatch or render the resource as a different type based on the
  <acronym title="Hyper Text Transfer Protocol">HTTP</acronym> headers or on inspection of the document data. Refer to the W3C
  guidelines for client handling of MIME types [<cite><a href="#ref-TAG-MIMEtypes" shape="rect">MIME-TAG</a></cite>] for further
  information.</p>

  <h5 id="s7.2.1.2">7.2.1.2: <code>&lt;dialogprepare&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">src</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">a Dialog URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string identifying the URI of the
      dialog document that the dialog interpreter must prepare.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">type</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">application/voicexml+xml</td>

      <td class="elementRowValidValues">a Valid MIME Type</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that specifies the MIME type of the document, and as a result
        determines which dialog manager environment must actually be used. Values defined by the specification are:

        <dl>
          <dt>application/voicexml+xml</dt>

          <dd>This MIME type would request a VoiceXML interpreter instance.</dd>

          <dt>audio/x-wav</dt>

          <dd>This MIME type would request a dialog manager that merely plays wave files.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">namelist</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML variable names. These variables must be
      submitted to the web server, with the same qualification as used in the namelist. When an ECMAScript variable is submitted
      to the web server, its value must be first converted into a string before being submitted.<br />
      If the variable is an ECMAScript Object, the mechanism by which it is submitted is not currently defined. Instead of
      submitting ECMAScript Objects directly, the application developer may explicitly submit the properties of an Object. e.g.
      "date.month date.year".</td>
    </tr>

    <tr class="">
      <td class="elementRowName">parameters</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of one or more whitespace separated CCXML variable names. These variables are sent
      to the dialog environment as a list of name/value pairs. Names are sent exactly as they are specified; values are formed by
      converting the referenced ECMAScript variable to string form (which is undefined for objects). The dialog environment
      determines how passed parameters will be handled</td>
    </tr>

    <tr class="">
      <td class="elementRowName">dialogid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive a dialog identifier value for the launched dialog interpreter instance. If the
      attribute value is invalid, an <code>error.semantic</code> event <em class="RFC2119">MUST</em> be thrown</td>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with conferenceid</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An Optional ECMAScript expression which returns the identifier of a connection. If
      specified, the dialog being prepared <em class="RFC2119">MUST</em> be joined to the referenced connection as specified by
      the <code>mediadirection</code> attribute. Note that if the referenced connection is already bridged to another media
      endpoint, those existing bridges may be affected according to the rules specified in section 10.4 even prior to
      <code>&lt;dialogstart&gt;</code> being performed If the attribute value is invalid an <code>error.semantic</code> event
      <em class="RFC2119">must</em> be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">conferenceid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with connectionid</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Conference IDs</td>

      <td class="elementRowDescription">An Optional ECMAScript expression which returns the identifier of a conference bridge. If
      specified, the dialog being prepared <em class="RFC2119">MUST</em> be joined to the referenced conference as specified by
      the <code>mediadirection</code> attribute. If the attribute value is invalid an <code>error.semantic</code> event
      <em class="RFC2119">must</em> be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">mediadirection</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">both</td>

      <td class="elementRowValidValues">both dialogtransmit dialogreceive</td>

      <td class="elementRowDescription">
        An ECMAScript expression that defines the direction of the media flow between the Dialog and the Connection or
        Conference. The following values must be used:

        <dl>
          <dt>both</dt>

          <dd>Specifies a full duplex connection where the media flows in both directions.</dd>

          <dt>dialogtransmit</dt>

          <dd>The dialog transmits media to the Connection or Conference but does not receive any media streams.</dd>

          <dt>dialogreceive</dt>

          <dd>The dialog receives media from the Connection or Conference but does not transmit any media streams.</dd>
        </dl>The bridge does not take place until a subsequent <code>&lt;dialogstart&gt;</code> is executed, but this attribute
        may be provided as guidance to the dialog environment for preparation. If no value is specified, the dialog environment
        must make no assumptions as to the bridging type. For more information about connections and bridges, refer to <a href=
        "#telephony">Section 10</a> .
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxage</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid time value for the HTTP 1.1 request <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content whose age is no greater than the specified time in seconds (cf. 'max-age' in HTTP
      1.1 <a href="#ref_RFC2616">[RFC2616]</a>). The document is not willing to use stale content, unless maxstale is also
      provided.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxstale</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid time value for the HTTP 1.1 request <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content that has exceeded its expiration time (cf. 'max-stale' in HTTP 1.1 <a href=
      "#ref_RFC2616">[RFC2616]</a>). If maxstale is assigned a value, then the document is willing to accept content that has
      exceeded its expiration time by no more than the specified number of seconds.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">enctype</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Valid only when the value of the method is "post"<span >, otherwise ignored.</span></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">application/x-www-form-urlencoded</td>

      <td class="elementRowValidValues">valid media encoding type</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the media encoding type of the submitted
        document (when the value of the method is "post"). Values defined by the specification are:

        <dl>
          <dt>application/x-www-form-urlencoded</dt>

          <dd>This indicates that the ccxml variables specified in the namelist must be url encoded.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">method</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">get</td>

      <td class="elementRowValidValues">get post</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the HTTP method to use. Values defined by the
        specification are:

        <dl>
          <dt>get</dt>

          <dd>This indicates that the "GET" method must be used by the dialog manager.</dd>

          <dt>post</dt>

          <dd>This indicates that the "POST" method must be used by the dialog manager.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform for implementing the dialog operation. Note: The meaning of these hints is specific to the
      implementing platform and protocol. Platforms that do not support hints <em class="RFC2119">MAY</em> ignore this attribute.
      See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements when hints are supported by the implementing
      platform.</td>
    </tr>
  </table>

  <h4 id="dialogstart">7.2.2: <code>&lt;dialogstart&gt;</code></h4>

  <h5 id="start">7.2.2.1: Overview</h5>

  <p><code>&lt;dialogstart&gt;</code> is used to start a dialog and associate the dialog with a connection or conference. (See
  <a href="#telephony" shape="rect">Section 10</a> for a discussion of connections and bridges). The element <em class=
  "RFC2119">MUST</em> include either a URI reference to the initial document for the dialog or the identity of a previously
  prepared dialog. The dialog executes on a separate logical execution thread (this may be a thread, process, or system depending
  upon platform implementation) and does not block the processing of further events by the CCXML session.</p>

  <p>If the dialog cannot be started for any reason, an <code>error.dialog.notstarted</code> event <em class="RFC2119">MUST</em>
  be posted to the event queue of the CCXML session that processed the <code>&lt;dialogstart&gt;</code> request, otherwise a
  <code>dialog.started</code> event <em class="RFC2119">MUST</em> be posted to indicate that the dialog has started successfully.
  When the dialog completes, a <code>dialog.exit</code> event <em class="RFC2119">MUST</em> be posted.</p>

  <p>If the <code>connectionid</code> attribute of <code>&lt;dialogstart&gt;</code> is specified, and if the dialog language
  allows access to telephony variables such as ANI, DNIS and UUI, values of these variables <em class="RFC2119">MUST</em> be
  propagated from the specified connection to the dialog application.</p>

  <p>If the <code>prepareddialogid</code> attribute is specified and any attribute values conflict with the values specified in
  the <code>&lt;dialogprepare&gt;</code> element this <em class="RFC2119">MUST</em> result in the throwing of an
  <code>error.dialog.notstarted</code> event.</p>

  <p>Dialogs <em class="RFC2119">MAY</em> only be started on connections while they are in the ALERTING or CONNECTED states. For
  connections in the ALERTING state media <em class="RFC2119">MAY</em> not be sent or received by the connection making the
  bridge effectively full-duplex, half-duplex or silent depending on the underlying telephony environment and the restrictions
  imposed by it.</p>

  <p>It is not possible to start a dialog that is not joined to a connection or a conference. For dialogs prepared using
  <code>&lt;dialogprepare&gt;</code> with neither <code>connectionid</code> nor <code>conferenceid</code> specified and dialogs
  being started directly without preparation, if neither <code>connectionid</code> nor <code>conferenceid</code> are specified
  then execution of the <code>dialogstart</code> <em class="RFC2119">MUST</em> fail, with an <code>error.dialog.notstarted</code>
  event generated.</p>

  <p>The CCXML session selects the appropriate dialog manager based on the MIME type specified by the <code>type</code> attribute
  without retrieving the resource specified by the <code>src</code> URI. If, when the dialog manager retrieves the content, it
  finds the MIME type, as specified by the <acronym title="Hyper Text Transfer Protocol">HTTP</acronym> headers, differs from
  that specifed by the <code>type</code> attribute, it <em class="RFC2119">MUST</em> raise an
  <code>error.dialog.notstarted</code> event with a <code>reason</code> indicating the type mismatch. The dialog manager
  <em class="RFC2119">MUST NOT</em> ignore the type mismatch or render the resource as a different type based on the
  <acronym title="Hyper Text Transfer Protocol">HTTP</acronym> headers or on inspection of the document data. Refer to the W3C
  guidelines for client handling of MIME types [<cite><a href="#ref-TAG-MIMEtypes" shape="rect">MIME-TAG</a></cite>] for further
  information.</p>

  <h5 id="s7.2.2.2">7.2.2.2: <code>&lt;dialogstart&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">src</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the
      <code>prepareddialogid</code> attribute.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">a valid Dialog URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string identifying the URI of the
      dialog document that the dialog interpreter must load and begin execution upon startup.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">prepareddialogid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <code>src</code>,
      <code>type</code>, <code>parameters, maxage, maxstale, enctype, method</code> or <code>namelist</code> attributes.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">a valid dialogid</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a dialog identifier of a dialog previously
      prepared by the execution of a <code>&lt;dialogprepare&gt;</code> element.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">type</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the
      <code>prepareddialogid</code> attribute.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">application/voicexml+xml</td>

      <td class="elementRowValidValues">a Valid MIME Type</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that specifies the MIME type of the document, and as a result
        determines which dialog manager environment must actually be used. Values defined by the specification are:

        <dl>
          <dt>application/voicexml+xml</dt>

          <dd>This MIME type would request a VoiceXML interpreter instance.</dd>

          <dt>audio/x-wav</dt>

          <dd>This MIME type would request a dialog manager that merely plays wave files.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">namelist</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the
      <code>prepareddialogid</code> attribute.</td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML variable names. These variables must be
      submitted to the web server, with the same qualification as used in the <code>namelist</code>. When an ECMAScript variable
      is submitted to the web server, its value must be first converted into a string before being submitted.<br />
      If the variable is an ECMAScript Object, the mechanism by which it is submitted is not currently defined. Instead of
      submitting ECMAScript Objects directly, the application developer may explicitly submit the properties of an Object. e.g.
      "<code>date.month date.year</code>".</td>
    </tr>

    <tr class="">
      <td class="elementRowName">parameters</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the
      <code>prepareddialogid</code> attribute.</td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of one or more whitespace separated CCXML variable names. These variables are sent
      to the dialog environment as a list of name/value pairs. Names are sent exactly as they are specified; values are formed by
      converting the referenced ECMAScript variable to string form (which is undefined for objects). The dialog environment
      determines how passed parameters will be handled</td>
    </tr>

    <tr class="">
      <td class="elementRowName">dialogid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive a dialog identifier value for the launched dialog interpreter instance. This identifier
      may be used on future invocations of <code>&lt;dialogterminate&gt;</code>. If the attribute value is invalid, an
      <code>error.semantic</code> event <em class="RFC2119">MUST</em> be thrown</td>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with <code>conferenceid</code>.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An Optional ECMAScript expression which returns the identifier of a connection. If
      specified, the dialog being started MUST be joined to the referenced connection as specified by the
      <code>mediadirection</code> attribute.<br />
      If the dialog was previously prepared using a <code>&lt;dialogprepare&gt;</code> element with a <code>connectionid</code>
      or <code>conferenceid</code> specified, and this attribute is also specified, execution of the
      <code>&lt;dialogstart&gt;</code> <em class="RFC2119">MUST</em> fail with an <code>error.dialog.notstarted</code> event.
      Note that if the referenced connection is already bridged to another media endpoint, those existing bridges may be affected
      according to the rules specified in section 10.4 even prior to <code>&lt;dialogstart&gt;</code> being performed If the
      attribute value is invalid an <code>error.semantic</code> event <em class="RFC2119">must</em> be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">conferenceid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with connectionid.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Conference IDs</td>

      <td class="elementRowDescription">An Optional ECMAScript expression which returns the identifier of a conference bridge. If
      specified, the dialog being started MUST be joined to the referenced conference as specified by the
      <code>mediadirection</code> attribute.<br />
      If the dialog was previously prepared using a <code>&lt;dialogprepare&gt;</code> element with a <code>connectionid</code>
      or <code>conferenceid</code> specified, and this attribute is also specified, execution of the
      <code>&lt;dialogstart&gt;</code> <em class="RFC2119">MUST</em> fail with an <code>error.dialog.notstarted</code> event. If
      the attribute value is invalid an <code>error.semantic</code> event <em class="RFC2119">must</em> be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">mediadirection</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">If used in conjunction with <code>prepareddialogid</code>, the bridge type must
      match that used on the previous <code>&lt;dialogprepare&gt;</code> element.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">both</td>

      <td class="elementRowValidValues">both dialogtransmit dialogreceive</td>

      <td class="elementRowDescription">
        An ECMAScript expression that defines the direction of the media flow between the Dialog and the Connection or
        Conference. The following values must be used:

        <dl>
          <dt>both</dt>

          <dd>Specifies a full duplex connection where the media flows in both directions.</dd>

          <dt>dialogtransmit</dt>

          <dd>The dialog transmits media to the Connection or Conference but does not receive any media streams.</dd>

          <dt>dialogreceive</dt>

          <dd>The dialog receives media from the Connection or Conference but does not transmit any media streams.</dd>
        </dl>If both the <b>mediadirection</b> and the <code>prepareddialogid</code> are specified and the bridge type specified
        by the <b>mediadirection</b> attribute does not match that used on the previous <code>&lt;dialogprepare&gt;</code>
        element, an <b>error.dialog.notstarted</b> event must be raised. If no value for the <b>mediadirection</b> attribute was
        specified on the previous <code>&lt;dialogprepare&gt;</code> element, any <code>mediadirection</code> type option may be
        specified.
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxage</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with prepareddialogid.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid time value for the HTTP 1.1 request <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content whose age is no greater than the specified time in seconds (cf. 'max-age' in HTTP
      1.1 <a href="#ref_RFC2616">[RFC2616]</a>). The document is not willing to use stale content, unless maxstale is also
      provided.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxstale</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with prepareddialogid.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid time value for the HTTP 1.1 request <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. This indicates that
      the document is willing to use content that has exceeded its expiration time (cf. 'max-stale' in HTTP 1.1 <a href=
      "#ref_RFC2616">[RFC2616]</a>). If maxstale is assigned a value, then the document is willing to accept content that has
      exceeded its expiration time by no more than the specified number of seconds.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">enctype</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Valid only when the value of the method is "post"<span >, otherwise ignored</span>. Must not be used with
      prepareddialogid.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">application/x-www-form-urlencoded</td>

      <td class="elementRowValidValues">valid media encoding type</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the media encoding type of the submitted
        document (when the value of the method is "post"). Values defined by the specification are:

        <dl>
          <dt>application/x-www-form-urlencoded</dt>

          <dd>This indicates that the ccxml variables specified in the namelist must be url encoded.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">method</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">Must not be used with <code>prepareddialogid</code>.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">get</td>

      <td class="elementRowValidValues">get post</td>

      <td class="elementRowDescription">
        An ECMAScript expression which returns a character string that indicates the HTTP method to use. Values defined by the
        specification are:

        <dl>
          <dt>get</dt>

          <dd>This indicates that the "GET" method must be used by the dialog manager.</dd>

          <dt>post</dt>

          <dd>This indicates that the "POST" method must be used by the dialog manager.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform for implementing the dialog operation. Note: The meaning of these hints is specific to the
      implementing platform and protocol. Platforms that do not support hints <em class="RFC2119">MAY</em> ignore this attribute.
      See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements when hints are supported by the implementing
      platform.</td>
    </tr>
  </table>

  <h4 id="dialogterminate">7.2.3: <code>&lt;dialogterminate&gt;</code></h4>

  <h5 id="s7.2.3.1">7.2.3.1: Overview</h5>

  <p>A CCXML document may decide that it wants to terminate a currently executing dialog, to throw away a previously prepared
  dialog, or to terminate the preparation of a dialog. This is accomplished using the <code>&lt;dialogterminate&gt;</code>
  element. When the CCXML interpreter encounters a <code>&lt;dialogterminate&gt;</code> element, it <em class="RFC2119">MUST</em>
  send a terminate request to the specified dialog.</p>

  <p>A dialog terminated due to the processing of a <code>&lt;dialogterminate&gt;</code> element <em class="RFC2119">MAY</em>
  still return data to the CCXML application using a <code>dialog.exit</code> event if the value of the <code>immediate</code>
  attribute is <code>false</code> or unspecified. The details of the data returned are dialog environment specific.</p>

  <p>If the <code>immediate</code> attribute is set to <code>true</code> the dialog <em class="RFC2119">MUST NOT</em> return data
  to the CCXML application and the CCXML interpreter <em class="RFC2119">MUST</em> post a <code>dialog.exit</code> event
  immediately.</p>

  <p>The platform <em class="RFC2119">MUST</em> tear down any existing bridges to the dialog and send a
  <code>conference.unjoined</code> to the CCXML document once the media paths have been freed.</p>

  <h5 id="s7.2.3.2">7.2.3.2: <code>&lt;dialogterminate&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">dialogid</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">valid dialog ID</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string identifying the dialog. This
      dialogid was returned in the variable identified by the <b>dialogid</b> attribute of previous
      <code>&lt;dialogstart&gt;</code> or <code>&lt;dialogprepare&gt;</code> request or the value in a <b>dialog.started</b> or
      <b>dialog.prepared</b> event. If the attribute value is invalid, an <code>error.semantic</code> event <em class=
      "RFC2119">MUST</em> be thrown</td>
    </tr>

    <tr class="">
      <td class="elementRowName">immediate</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript <span >Boolean </span> Expression</td>

      <td class="elementRowDefaultValues">false</td>

      <td class="elementRowValidValues">true false</td>

      <td class="elementRowDescription">
        An ECMAScript <span >Boolean</span> expression which returns a character string, that identifies the termination style of the dialog. Valid
        values are:

        <dl>
          <dt>true</dt>

          <dd>This indicates that the dialog must be terminated immediately.</dd>

          <dt>false</dt>

          <dd>This indicates that the dialog must be terminated in a normal fashion.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform for implementing the dialog operation. Note: The meaning of these hints is specific to the
      implementing platform and protocol. Platforms that do not support hints <em class="RFC2119">MAY</em> ignore this attribute.
      See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements when hints are supported by the implementing
      platform.</td>
    </tr>
  </table>

  <h3 id="dialogEvents">7.3: Events</h3>

  <h4 id="dialogEventsOverview">7.3.1: Overview</h4>

  <p>The majority of communication between CCXML interpreter sessions and dialogs is by way of events. Dialog environments post
  events to the CCXML interpreter event queue and a CCXML application MAY send an event to a dialog. How this is handled on the
  dialog side is dialog manager and CCXML interpreter dependent. On the CCXML side it is done by using <code>&lt;send&gt;</code>
  and passing in the <code>dialogid</code> that was received as a result of processing a <code>&lt;dialogstart&gt;</code> or a
  <code>&lt;dialogprepare&gt;</code>.</p>

  <p>The following are the CCXML events related to dialogs:</p>

  <h4 id="dialogEventsDialogStarted">7.3.2: <code>dialog.started</code></h4>

  <p>The <code>dialog.started</code> event <em class="RFC2119">MUST</em> be thrown when a dialog is successfully started. The
  fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is bridged (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is bridged (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a connection the value must be undefined.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsDialogExit">7.3.3: <code>dialog.exit</code></h4>

  <p>The <code>dialog.exit</code> event <em class="RFC2119">MUST</em> be thrown when a dialog terminates either normally or
  following a <code>&lt;dialogterminate&gt;</code> request. Termination of a dialog always results in a single
  <code>dialog.exit</code> event; if normal dialog termination and a <code>&lt;dialogterminate&gt;</code> occur simultaneously,
  the <code>dialog.exit</code> event will reflect the condition that the platform processes first. For example, if a
  <code>dialog.exit</code> event is thrown based on normal termination, and the platform subsequently processes a
  <code>&lt;dialogterminate&gt;</code> request made by the application, it will discard the <code>&lt;dialogterminate&gt;</code>
  and will not generate a second <code>dialog.exit</code> event. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is bridged (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is bridged (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">values.*</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">Return values from the dialog. In VoiceXML this would be the values of each of the objects
      listed in the exit element's namelist.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsDialogDisconnect">7.3.4: <code>dialog.disconnect</code></h4>

  <p>The <code>dialog.disconnect</code> event represents a request by a dialog to disconnect the Connection or Conference with
  which it is presently associated. The actual handling of this event is determined entirely by the running CCXML application,
  which may disconnect the associated Connection, detach the dialog from the Connection/Conference, or elect to ignore the
  <code>dialog.disconnect</code> event altogether. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is bridged (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is bridged (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">values.*</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">Return values from the dialog. In VoiceXML this would be the values of each of the objects
      listed in the dialog element's namelist.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsDialogTransfer">7.3.5: <code>dialog.transfer</code></h4>

  <p>The <code>dialog.transfer</code> event represents a request by a dialog to transfer the Connection or Conference with which
  it is presently associated to a new destination. The actual handling of this event is determined entirely by the running CCXML
  application, which may perform a <code>&lt;redirect&gt;</code> on the associated Connection, use
  <code>&lt;createcall&gt;</code> and <code>&lt;join&gt;</code> to establish a bridged transfer, handle the transfer request in
  some other way, or elect to ignore the <code>dialog.transfer</code> event altogether. The properties of the
  <code>dialog.transfer</code> event reflect the information dialog environments are most likely to supply when requesting a
  transfer, but are up to the running CCXML application to interpret. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is bridged (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is bridged (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">type</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string value specifying the transfer type.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">uri</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">a valid URI</td>

      <td class="eventRowDetails">A URI describing the destination to which this call must be transferred. The format of this
      information is protocol and platform specific but might consist of a telephone URI <a href="#ref_RFC3966">RFC3966</a> or a
      SIP URI <a href="#ref_RFC3261">RFC3261</a> .</td>
    </tr>

    <tr class="">
      <td class="eventRowName">values.*</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">Properties returned from the dialog processor relating to the dialogs transfer request.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">maxtime</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string in CSS2 format that specifies the maximum amount of time the transfer may stay
      connected. If the amount of time is unlimited the value must be 0s.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connecttimeout</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string in CSS2 format that specifies the maximum amount of time to spend while attempting to
      connect the call.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">aai</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A string of application-to-application information to be passed to the destination party when
      establishing the transfer.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsDialogTerminateTransfer">7.3.6: <code>dialog.terminatetransfer</code></h4>

  <p>The <code>dialog.terminatetransfer</code> event represents a request by a dialog to terminate an ongoing transfer for
  example due to a "hotword" recognition. The actual handling of this event is determined entirely by the running CCXML
  application, which may terminate the outgoing call leg and return the media stream of the original call to the dialog using the
  <code>&lt;join&gt;</code> element, handle the terminate transfer request in some other way, or elect to ignore the
  <code>dialog.terminatetransfer</code> event altogether. The properties of the <code>dialog.terminatetransfer</code> event
  reflect the information dialog environments are most likely to supply when terminating a transfer, but are up to the running
  CCXML application to interpret. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is bridged (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is bridged (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">
          <span >false</span>
          </td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the dialog wants the transfer to be terminated. Content of this
      field is platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsErrorDialog">7.3.7: <code>error.dialog</code></h4>

  <p>The <code>error.dialog</code> event <em class="RFC2119">MUST</em> be thrown when there was an unspecified error with the
  dialog (for example the dialog server crashed).</p>

  <p>The platform <em class="RFC2119">MUST</em> implicitly tear down any existing bridges to the dialog and send a
  <code>conference.unjoined</code> to the CCXML document once the media paths have been freed. The fields available in the event
  are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog was connected to (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog was being connected to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog was connected to (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog was being connected to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the dialog had an error. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsErrorDialogNotStarted">7.3.8: <code>error.dialog.notstarted</code></h4>

  <p>The <code>error.dialog.notstarted</code> event <em class="RFC2119">MUST</em> be thrown when the processing of a
  <code>&lt;dialogstart&gt;</code> element fails because the dialog cannot be started for some reason. The fields available in
  the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection could not be started (usually
      the <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog was being connected to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection could not be started (usually
      the <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog was being connected to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the dialog could not be started. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s739">7.3.9: blank</h4>

  <p>This section is intentionally left blank.</p>

  <h4 id="dialogEventsErrorDialoguser">7.3.10: <code>dialog.user.*</code></h4>

  <p>The <code>dialog.user.*</code> (where * is the name of the user defined event) <em class="RFC2119">MUST</em> be thrown when
  a dialog sends a user/application-defined event. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">
          <span >false</span>
          
          </td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event. 
      
      NOTE that dialog property in this event is optional because there is not a 
      standard way to raise this event from a dialog system such
       as [<cite><a href="#ref-VoiceXML" shape="rect">VOICEXML</a></cite>]
      while a basichttp implementation is allowed.
      </td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is bridged (usually the
      <b>connectionid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a conference the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is bridged (usually the
      <b>conferenceid</b> that was specified in the <b>dialogstart</b> or <b>dialogprepare</b>).<br />
      If the dialog is bridged to a connection the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">values.*</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">Return values from the dialog for the user event.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsDialogPrepared">7.3.11: <code>dialog.prepared</code></h4>

  <p>The <code>dialog.prepared</code> event <em class="RFC2119">MUST</em> be thrown when a dialog has been successfully prepared
  following the execution of a <code>&lt;dialogprepare&gt;</code> element. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection is prepared (usually the
      <b>connectionid</b> that was specified in the <b>dialogprepare</b>).<br />
      If the dialog was prepared without a connection, the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection is prepared (usually the
      <b>conferenceid</b> that was specified in the <b>dialogprepare</b>).<br />
      If the dialog was prepared without a conference , the value must be undefined.</td>
    </tr>
  </table>
  <hr />

  <h4 id="dialogEventsErrorDialogNotPrepared">7.3.12: <code>error.dialog.notprepared</code></h4>

  <p>The <code>error.dialog.notprepared</code> event <em class="RFC2119">MUST</em> be thrown when the processing of a
  <code>&lt;dialogprepare&gt;</code> element fails. The fields available in the event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">dialogid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the dialog.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">dialog</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the dialog object identified by the <b>dialogid</b> property
      of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the dialog could not be prepared. Content of this field is
      platform-specific.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the connection to which the dialog connection was attempting to be prepared
      (usually the <b>connectionid</b> that was specified in the <b>dialogprepare</b>).<br />
      If the dialog was prepared without a connection, the value must be undefined.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The identifier of the conference to which the dialog connection was attempting to be prepared
      (usually the <b>conferenceid</b> that was specified in the <b>dialogprepare</b>).<br />
      If the dialog was prepared without a conference, the value must be undefined.</td>
    </tr>
  </table>
  <hr />

  <h3 id="dialog_class">7.4: Dialog Object Properties</h3>

  <p>An instance of the Dialog object is associated with each dialog created by <code>&lt;dialogstart&gt;</code> or
  <code>&lt;dialogprepare&gt;</code> and referenced in the <code>session.dialogs</code> associative array.</p>

  <p>The Dialog Object is an extension of the <a href="#MediaEndpoint" shape="rect">Media Endpoint</a> Object as defined in
  section 10.4.3.</p>

  <table class="object" summary="object table">
    <tr class="objectHeader">
      <th>Dialog Properties</th>

      <th>Required</th>

      <th>Definitions</th>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">dialogid</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property is the ECMAScript string value of the Dialog Identifier, which uniquely
      identifies each instance of the Dialog class.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">type</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">An ECMAScript string value that specifies the MIME type of the document that loaded the
      dialog</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">src</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">An ECMAScript string value identifying the initial URI of the dialog document.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">input</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">As defined by the Media Endpoint Object in 10.4.3.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">outputs</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">As defined by the Media Endpoint Object in 10.4.3.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">objecttype</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property states the type of this object which must be 'dialog'.</td>
    </tr>
  </table>
  <hr />

  <h3 id="s7.5">7.5: Dialog class</h3>

  <p>All dialog objects MUST be initiated via the Dialog class. The Dialog class currently has no defined properties.</p>

  <h2 id="variables">8: Variables and Expressions</h2>

  <h3 id="variablesOverview">8.1: Overview</h3>

  <p>CCXML expressions are valid ECMAScript [ <cite><a href="#ref_ECMAScript" shape="rect">ECMASCRIPT</a></cite> ] expressions,
  assignable to variables with valid ECMAScript names. For further details please see <a href="#ConceptsScripting" shape=
  "rect">section 3.4</a>.</p>

  <p>Many CCXML elements have multiple attributes that are ECMAScript expressions. The CCXML language does not guarantee a
  specific order of evaluation of these expressions. Also, some elements such as <code>&lt;transition&gt;</code> may or may not
  evaluate all attributes. Hence, attributes containing expressions with side-effects can lead to implementation specific
  behavior. It is <em class="RFC2119">RECOMMENDED</em> that applications do not use ECMAScript expressions with side-effects in
  attributes.</p>

  <p>If the implementation is unable to evaluate an ECMAScript expression it <em class="RFC2119">MUST</em> throw an
  <code>error.semantic</code> event.</p>

  <h3 id="varelements">8.2: Elements</h3>

  <h4>8.2.1: <code id="Assign">&lt;assign&gt;</code> and <code id="Var">&lt;var&gt;</code></h4>

  <h5 id="s8.2.1.1">8.2.1.1: Overview</h5>

  <p>Variables are declared using the <code>&lt;var&gt;</code> element and are initialized with the results of evaluating the
  <em class="RFC2119">OPTIONAL</em> <code>expr</code> attribute as an ECMAScript expression. If the <code>expr</code> attribute
  is not present in the <code>&lt;var&gt;</code> declaration, the variable is initialized to ECMAScript <code>undefined</code>.
  The values of variables <em class="RFC2119">MAY</em> be subsequently changed with <code>&lt;assign&gt;</code>.</p>

  <p>Variables are declared explicitly by <code>&lt;var&gt;</code> :</p>
  <pre class="example" xml:space="preserve">
&lt;var name="sessionid" /&gt;
&lt;var name="currentstate" expr="'initial'" /&gt;
</pre>

  <p>Variables declared without an explicit initial value <em class="RFC2119">MUST</em> be initialized to the ECMAScript value
  <code>undefined</code> by the implementation.</p>

  <p>It is illegal to make an assignment to a variable that has not been explicitly declared using <code>&lt;var&gt;</code> or a
  <code>var</code> statement within a <code>&lt;script&gt;</code>. Attempting to assign to an undeclared variable causes an
  <code>error.semantic</code> event to be thrown. Please see <a href="#s9.5" shape="rect">Section 9.5</a> for a detailed
  description of error events.</p>

  <p>Note that when an ECMAScript object, e.g. "<code>obj</code>", has been properly initialized then its properties, for
  instance "<code>obj.prop1</code>", can be assigned without explicit declaration. An attempt to declare ECMAScript object
  properties such as "<code>obj.prop1</code>" results in an <code>error.semantic</code> event being thrown.</p>

  <p>CCXML uses an ECMAScript scope chain (please see <a href="#ConceptsScriptingDefinitions" shape="rect">section 3.4</a> ) to
  allow variables to be declared at different levels of hierarchy in an application. For instance, a variable declared at ccxml
  (document) scope can be referenced anywhere within that document, whereas a local variable declared in a
  <code>&lt;transition&gt;</code> is only available within that element.</p>

  <p>The implementation <em class="RFC2119">MUST</em> define four scopes - <code>session</code>, <code>application</code>,
  <code>ccxml</code> and <code>transition</code>. The relationship between these scopes is shown below.</p>

  <p class="fig"><img src="images/scope-4.png" alt="Variable Scoping" /><br clear="none" />
  Variable Scoping</p>

  <p>A description of the scopes is provided in the table below.</p>

  <table border="1" width="90%" summary="scope, details">
    <tr>
      <th width="20%" align="center" rowspan="1" colspan="1">Scope Name</th>

      <th width="80%" align="left" rowspan="1" colspan="1">Details</th>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1"><code>session</code></td>

      <td width="80%" align="left" rowspan="1" colspan="1">This scope is opened by CCXML implementation before interpretation of
      a new session starts and exists until the session exits. Variables within this scope are provided by CCXML implementation
      and are read-only. Any attempt to modify the session object or it's properties by the application MUST result in an
      error.semantic event to be thrown by the platform.</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1"><code>application</code></td>

      <td width="80%" align="left" rowspan="1" colspan="1">This scope is opened by CCXML implementation before interpretation of
      a new session starts and exists until the session exits. Variables within this scope cannot be explicitly declared using
      &lt;var&gt; element or var statement within a &lt;script&gt;. They can be created only by assigning a value to a property
      of the application object (application.varname = value;). Unlike in the session scope, variables in this scope can be
      modified by CCXML programs. They are visible to documents within the CCXML application.</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1"><code>ccxml</code></td>

      <td width="80%" align="left" rowspan="1" colspan="1">This scope is opened by CCXML implementation for each CCXML document
      when it is loaded and exists while the document is loaded. Variables within this scope are declared with &lt;var&gt; and
      &lt;script&gt; elements that are children of &lt;ccxml&gt;. They are initialized in document order when the document is
      loaded. They exist while the document is loaded. They are visible only within that document. Variables in this scope can be
      also created without an explicit declaration by assigning a value to a property of the ccxml object (ccxml.varname =
      value;).</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1"><code>transition</code></td>

      <td width="80%" align="left" rowspan="1" colspan="1">Each &lt;transition&gt; element has a scope that exists while the
      implementation is processing the executable content within that &lt;transition&gt;, and which is visible to the elements of
      that &lt;transition&gt;. Variables with transition scope are declared by &lt;var&gt; and &lt;script&gt; child elements of
      &lt;transition&gt;. The child &lt;var&gt; and &lt;script&gt; elements of &lt;transition&gt; are initialized in document
      order when the executable content is executed. Variables in this scope can be also created without an explicit declaration
      by assigning a value to a property of the transition object (transition.varname = value;).</td>
    </tr>
  </table>

  <p>The implementation <em class="RFC2119">MUST</em> instantiate a variable within the scope of the closest containing scope
  element. The fully-qualified name of a variable is the name of the variable's scope object prepended with a dot to the name of
  the variable. The implementation <em class="RFC2119">MUST</em> allow reference to variables by their fully qualified names. The
  implementation <em class="RFC2119">MUST</em> allow reference to variables without requiring use of their fully qualified names.
  In the case of like-named variables declared in different scopes, the implementation <em class="RFC2119">MUST</em> reference
  the variable in the closest containing scope, unless the fully-qualified variable name is used.</p>

  <p>The implementation <em class="RFC2119">MUST</em> resolve variables by searching the enclosing <code>transition</code> scope
  first (if applicable) followed by the <code>ccxml</code> scope, the <code>application</code> scope and then the
  <code>session</code> scope, unless the variable reference is qualified with a scope prefix.</p>

  <p>If the variable includes a scope prefix, the implementation <em class="RFC2119">MUST</em> resolve the variable by searching
  the named scope.</p>

  <p>If a variable is declared more than once, the implementation <em class="RFC2119">MUST</em> evaluate the <code>expr</code>
  attribute of each subsequent declaration, and assign the result to the variable declared by the first
  <code>&lt;var&gt;</code>.</p>

  <p>Variables can be assigned new values using <code>&lt;assign&gt;</code> :</p>
  <pre class="example" xml:space="preserve">
        &lt;assign name="currentstate" expr="'cleanup'" /&gt;
</pre>

  <p>The implementation <em class="RFC2119">MUST</em> evaluate the ECMAScript expression contained in the <code>expr</code>
  attribute of <code>&lt;assign&gt;</code>, and assign the results to the variable referenced in the <code>name</code>
  attribute.</p>

  <p>The variable naming convention is as in ECMAScript, but names beginning with the underscore character ("_") and names ending
  with a dollar sign ("$") are reserved for internal use. CCXML variables <em class="RFC2119">MUST NOT</em> contain ECMAScript
  reserved words. They <em class="RFC2119">MUST</em> also follow ECMAScript rules for referential correctness. For example,
  variable names must be unique and their declaration <em class="RFC2119">MUST NOT</em> include a dot - "<code>var x.y</code>" is
  an illegal declaration in ECMAScript. Variable names which violate naming conventions or ECMAScript rules <em class=
  "RFC2119">MUST</em> cause an '<code>error.semantic</code>' event to be thrown.</p>

  <h5 id="s8.2.1.2">8.2.1.2: <code>&lt;var&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">name</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">String</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Valid ECMAScript Variable name</td>

      <td class="elementRowDescription">Indicates the name of the variable. It <b>must</b> be a valid ECMAScript variable name.
      However, it <b>must not</b> contain a scope prefix. The scope in which the variable is defined must be determined from the
      position in the document at which the variable is defined.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">expr</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">undefined</td>

      <td class="elementRowValidValues">Valid ECMAScript Expression</td>

      <td class="elementRowDescription">Indicates the new value of the variable. This will be the initial value. It <b>must</b>
      be a valid ECMAScript expression.</td>
    </tr>
  </table>

  <h5 id="s8.2.1.3">8.2.1.3: <code>&lt;assign&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">name</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive the result of the <b>expr</b> attribute.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">expr</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Valid ECMAScript Expression</td>

      <td class="elementRowDescription">Indicates the new value of the variable. It <b>must</b> be a valid ECMAScript
      expression.</td>
    </tr>
  </table>

  <h4 id="Script">8.2.2: <code>&lt;script&gt;</code></h4>

  <h5 id="s8.2.2.1">8.2.2.1: Overview</h5>

  <p><code>&lt;script&gt;</code> encloses computations written in the ECMAScript Compact Profile [<cite><a href="#refECMA327"
  shape="rect">ECMA327</a></cite>] scripting language. The ECMAScript Compact Profile is a strict subset of the third edition of
  ECMA-262 [<cite><a href="#ref_ECMAScript" shape="rect">ECMASCRIPT</a></cite>]. It has been designed to meet the needs of
  resource-constrained environments. Special attention has been paid to constraining ECMAScript features that require
  proportionately large amounts of system memory, and continuous or proportionately large amounts of processing power. In
  particular, it is designed to facilitate prior compilation for execution in a lightweight environment. For specific details on
  what ECMAScript functions are not supported please take a look at ECMA-327 specification [<cite><a href="#refECMA327" shape=
  "rect">ECMA327</a></cite>].</p>

  <p>An implementation <em class="RFC2119">MUST</em> support the ECMAScript Compact Profile and <em class="RFC2119">MAY</em>
  support the full ECMA-262 ECMAScript specification.</p>

  <p>The example <code>&lt;script&gt;</code> below defines a function that computes the greatest common factor of two
  integers:</p>
  <pre class="example" xml:space="preserve">
&lt;script&gt;
&lt;![CDATA[
function gcd(a, b)
{
 var t;
 if (a &lt; 1 || b &lt; 1)
   return -1;
 do
  {
   t = a % b;
   a = b;
   b = t;
  }
 while (b &gt; 1);
 return (b == 0) ? a : b;
}
]]&gt;
&lt;/script&gt;
</pre>

  <p>An implementation <em class="RFC2119">MUST</em> support <code>&lt;script&gt;</code> within the <code>&lt;ccxml&gt;</code>
  element and in executable content. <code>&lt;transition&gt;</code> and <code>&lt;if&gt;</code> contain executable content. The
  implementation <em class="RFC2119">MUST</em> evaluate <code>&lt;script&gt;</code> in a <code>&lt;ccxml&gt;</code> immediately
  after the document is loaded, along with any <code>&lt;var&gt;</code> and <code>&lt;assign&gt;</code> elements, in document
  order. When used as a child of the <code>&lt;ccxml&gt;</code> element, <code>&lt;script&gt;</code> cannot be used to execute
  dynamically fetched content obtained using <code>&lt;fetch&gt;</code>. The implementation <em class="RFC2119">MUST</em>
  evaluate <code>&lt;script&gt;</code> in executable content as it is processed.</p>

  <p>The ECMAScript contained within the <code>&lt;script&gt;</code> can declare variables with the ECMAScript <code>var</code>
  statement. Variables declared in this manner are declared in the scope of the closest containing scope CCXML element. They are
  known from the point of declaration to the end of the containing scope. The implementation <em class="RFC2119">MUST</em> allow
  reference to these variables from CCXML and from ECMAScript, using either the fully-qualified variable name, or the declared
  name.</p>

  <p>If the implementation is unable to run the script referenced it <em class="RFC2119">MUST</em> throw an
  <code>error.semantic</code> event.</p>

  <p><i>INFORMATIVE NOTE: The <code>&lt;script&gt;</code> element's resource loading model is a bit different than the rest of
  CCXML for a number of reasons. Because CCXML and ECMAScript applications can be CPU intensive to compile we define
  <code>&lt;script&gt;</code>'s src attribute (defining the URI of the document to load) to be a static string instead of a
  dynamically valued ECMAScript result. This allows implementations to load ECMAScript content at CCXML document load time and
  perform compiling and/or caching of the resulting ECMAScript code. We do however recognize that there are cases where a CCXML
  application needs to load a dynamic ECMAScript resource, for this reason applications can use the the
  <code>&lt;fetch&gt;</code> element to asynchronously load a resource and then execute it by referencing it's
  <code>fetchid</code> in the the <code>&lt;script&gt;</code> element.</i></p>

  <h5 id="S8_2_2_2">8.2.2.2: <code>&lt;script&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">src</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <b>fetchid</b>
      attribute.</td>

      <td class="elementRowType">Valid URI</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">a valid URI</td>

      <td class="elementRowDescription">A URI which references a resource which is the script content, and which must be resolved
      when the CCXML document is compiled.<br />
      Note that the value of the <b>src</b> attribute must not be an ECMAScript expression in order to allow it to be resolved at
      compile-time. If the ECMAScript script referenced can not be loaded at the CCXML document loading and parsing phase it
      should be considered a Fetching &amp; compilation error as defined in section 9.5.1.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">fetchid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <b>src</b>
      attribute<span >, otherwise ignored</span>.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">valid fetch ID</td>

      <td class="elementRowDescription">An ECMAScript expression which returns the fetch identifier of a completed fetch request,
      acquired either in a fetch with the fetchid attribute, or from the fetchid attribute of a <b>fetch.done</b> event. If the
      fetch identifier is invalid, has not completed, or the fetched content is not valid ECMAScript, an <b>error.semantic</b>
      event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">timeout</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute is only valid in conjunction with the <b>src</b> attribute<span >, otherwise ignored</span>.</td>

      <td class="elementRowType">Character string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Character string in CSS2 <a href="#ref-css2">[CSS2]</a> format</td>

      <td class="elementRowDescription">The character string must be interpreted as a time interval. This interval must begin
      when the script is requested; If the script has not been fetched at the end of this interval, an <b>error.fetch</b>
      <span >or <b>error.createccxml</b> </span>
       event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxage</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute is only valid in conjunction with the <b>src</b> attribute<span >, otherwise ignored</span>.</td>

      <td class="elementRowType">Character string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid time value for the HTTP 1.1 request <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string must be interpreted as a time interval. This indicates that the
      document is willing to use content whose age must be no greater than the specified time in seconds (cf. 'max-age' in HTTP
      1.1 <a href="#ref_RFC2616">[RFC2616]</a>). The document is not willing to use stale content, unless maxstale is also
      provided.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">maxstale</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute is only valid in conjunction with the <b>src</b> attribute<span >, otherwise ignored</span>.</td>

      <td class="elementRowType">Character string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid time value for the HTTP 1.1 request <a href="#ref_RFC2616">[RFC2616]</a></td>

      <td class="elementRowDescription">The character string must be interpreted as a time interval. This indicates that the
      document is willing to use content that has exceeded its expiration time (cf. 'max-stale' in HTTP 1.1 <a href=
      "#ref_RFC2616">[RFC2616]</a>). If maxstale is assigned a value, then the document is willing to accept content that has
      exceeded its expiration time by no more than the specified number of seconds.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">charset</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">Character string</td>

      <td class="elementRowDefaultValues">UTF-8</td>

      <td class="elementRowValidValues">valid character encoding type</td>

      <td class="elementRowDescription">A character string that indicates the character encoding type of the script. <b>UTF-8</b>
      and <b>UTF-16</b> encodings of ISO/IEC 10646 <b>must</b> be supported (as in <a href="#ref_XML">[XML]</a> ) and other
      encodings, as defined in the <a href="#ref_IANA">[IANA]</a> , <i>may</i> be supported.</td>
    </tr>
  </table>

  <h3 id="session_variables">8.3: Session Variables</h3>

  <p>Every CCXML session has a set of standard ECMAScript variables that are available to the program during execution called
  session variables. The session variables are defined by the CCXML implementation when the CCXML session is created and are
  read-only to the running script and cannot be modified by the CCXML program. New session variables cannot be declared by CCXML
  programs.</p>

  <p>Session variable values visible to a CCXML application reflect the state of the executing CCXML session, current as of the
  occurrence of the event being processed. For example, when an application processes a Connection event such as
  <code>connection.alerting</code>, the value of the state property of the corresponding Connection object will be updated by the
  CCXML implementation so that if the CCXML program's event handler evaluates the state variable, it will evaluate to
  <code>ALERTING</code>, since <code>connection.alerting</code> always results in a transition to the <code>ALERTING</code>
  state. This is true even if the underlying connection is actually <code>DISCONNECTED</code>, in which case a
  <code>connection.disconnected</code> event would be queued. It is the responsibility of the CCXML implementation to control and
  update the session changes as they occur in the CCXML session. It is assumed that session changes are visible to the CCXML
  program as they occur. However, it is permissible for a CCXML implementation to <i>optimize</i> session changes by
  "lazy-binding" values as they are accessed or evaluated by a CCXML program, so as to minimize processing time. For example, an
  implementation might only update the current Connection states when a CCXML program evaluates the variable during execution
  time versus continually updating the Connection states inside ECMAScript scope as state changes. Regardless of when session
  variables are updated to reflect changes, the CCXML implementation is <em class="RFC2119">REQUIRED</em> to provide the correct
  values when accessed by a CCXML program.</p>

  <p>Variables defined in the session scope are subject to the parent scope chain delegation model but do not have a parent scope
  defined.</p>

  <p>The following are the list of standard session variables:</p>

  <dl>
    <dt><code>session.startupmode</code></dt>

    <dd>
      String that indicates the startup mode that the script was started as:

      <table cellpadding="2" cellspacing="2" border="1" width="100%" align="center" summary="session mode list">
        <tr>
          <th width="20%" align="center" rowspan="1" colspan="1">Value<br clear="none" /></th>

          <th width="80%" align="center" rowspan="1" colspan="1">Details<br clear="none" /></th>
        </tr>

        <tr>
          <td align="center" rowspan="1" colspan="1"><code>newcall</code></td>

          <td align="left" rowspan="1" colspan="1">Session was started due to a new incoming call.</td>
        </tr>

        <tr>
          <td align="center" rowspan="1" colspan="1"><code>external</code></td>

          <td align="left" rowspan="1" colspan="1">Session was started due to a external session launch request.</td>
        </tr>

        <tr>
          <td align="center" rowspan="1" colspan="1"><code>createccxml</code></td>

          <td align="left" rowspan="1" colspan="1">Session was started due to a <code>&lt;createccxml&gt;</code> request.</td>
        </tr>
      </table>
    </dd>

    <dt><code>session.id</code></dt>

    <dd>A globally unique string that indicates the session identifier of the executing CCXML session.</dd>

    <dt><code>session.uri</code></dt>

    <dd>URI that was used when creating the current CCXML session. If the interpreter fetched multiple documents as a result of
    one or more HTTP redirects (e.g. 302), the value of this session variable is set to the URI of the final target.
    <code>session.uri</code> includes the query string used when fetching the document, if one is present.</dd>

    <dt><code>session.parentid</code></dt>

    <dd>String that indicates the session identifier of the parent of the CCXML session that created this session. In the case
    the current session has no parent, the value of the variable will be ECMAScript undefined. Once a new CCXML session is
    created, the new session and its parent are completely independent.</dd>

    <dt><code>session.connections</code></dt>

    <dd>
      Associative Array which contains a list of the Connection objects that the session is currently using. The array is
      associative and each key in the array is the connection identifier for the Connection. For example,
      <code>session.connections["1234"]</code> would return the Connection object for connection ID 1234. The following example
      demonstrates the use of the <code>session.connections</code> variable:
      <pre class="example" xml:space="preserve">
&lt;transition state="in_vxml_session" event="connection.disconnected"&gt;
  &lt;if cond="session.connections['1234'].connectionid==event$.connid"&gt;
    &lt;--  if the disconnect is on the first connection, do something --&gt;
  &lt;else/&gt;
    &lt;exit/&gt;
  &lt;/if&gt;
&lt;/transition&gt;
</pre>
    </dd>

    <dt><code>session.conferences</code></dt>

    <dd>An Associative array which contains a list of the Conference objects for which the session is attached using
    <code>&lt;createconference&gt;</code> For example, <code>session.conferences["1234"]</code> would return the Conference
    object for conference id 1234.</dd>

    <dt><code>session.dialogs</code></dt>

    <dd>Associative Array which contains a list of the Dialog objects that the session is currently using. The array is
    associative and each key in the array is the dialog identifier for the Dialog. For example,
    <code>session.dialogs["1234"]</code> would return the Dialog object for dialog id 1234.</dd>

    <dt><code>session.ioprocessors</code></dt>

    <dd>Associative Array which contains a list of external event I/O access URIs which are available to the current session. The
    array is associative and each key in the array is the type of the event I/O processor. For example,
    <code>session.ioprocessors["basichttp"]</code> would return the access URI (e.g.
    <code>http://www.example.com/ccxml/basichttp</code>) for the "basichttp" type event I/O processor.</dd>

    <dt><code>session.values</code></dt>

    <dd>Associative array which contains a list of session parameters passed on session creation. For sessions created using
    <code>&lt;createccxml&gt;</code>, <code>session.values</code> contains variables passed using the '<code>parameters</code>'
    attribute of <code>&lt;createccxml&gt;</code>. Other session creation mechanisms, such as the HTTP-based session creation I/O
    processor defined in Appendix L, define other mechanisms for populating this variable.</dd>
  </dl>

  <h3 id="application_variables">8.4: Application Variables</h3>

  <p>CCXML provides application variables which, like session variables, persists across the <a href="#def-ccxmlApplication"
  shape="rect">CCXML application</a>. Application variables differ from session variables in that they can be modified by CCXML
  programs.</p>

  <p>The application object is initialized by the CCXML implementation. Application variables that are properties of the
  application object are not explicitly declared. 
  By default, application variables have the value ECMAScript undefined. Variables in the application scope are subject to the
  parent scope chain delegation model and have session as their parent scope. For example:</p>
  <pre xml:space="preserve">
      &lt;assign name="application.userid" expr="'user001'"/&gt;
      &lt;assign name="application.obj" expr="new Object()"/&gt;
      &lt;assign name="application.obj.prop1" expr="'value of prop1'"/&gt;
      &lt;assign name="application.obj.prop2" expr="'value of prop2'"/&gt;
</pre>

  <p>Application variables are visible within documents which form the <a href="#def-ccxmlApplication" shape="rect">CCXML
  application</a>. For example, a document in a CCXML application could assign an application variable a value using
  <code>&lt;assign name="application.userid" expr="'user001'"/&gt;</code>, and a later document in the CCXML application could
  reference <code>application.userid</code> to retrieve the value 'user001'.</p>

  <p>Application developers should be careful in their use of application variables since they are visible to <b>all</b> CCXML
  documents within a CCXML application.</p>

  <h2 id="event-handling">9: Event Handling</h2>

  <p>This section contains information on <code>&lt;eventprocessor&gt;</code>, <code>&lt;send&gt;</code>,
  <code>&lt;cancel&gt;</code>, <code>&lt;transition&gt;</code> and <code>&lt;move&gt;</code>.</p>

  <h3 id="event-concepts">9.1: Overview</h3>

  <p>Event Handling is one of the most powerful features of CCXML. CCXML events can be delivered at any time and from a variety
  of sources. This flexible event-handling mechanism is essential for many telephony applications.</p>

  <p>Every CCXML session can send and receive events. These might be in response to a previous action by the CCXML session (e.g.,
  an outbound-call request, which generates an event to indicate when the call goes off-hook), or on the initiative of some
  external source (e.g., an incoming call to be answered). Events can be generated by the telephony system (as in the two
  previous examples), other CCXML sessions (which emit events via <code>&lt;send&gt;</code>), Dialogs, or external sources. CCXML
  sessions can also send events to themselves.</p>

  <p>There is a core set of telephony-related events (derived from the JCC event model for connection objects; see the JAIN Call
  Control API (JCC) <a href="#ref_JSR021" shape="rect">[JSR021]</a> for more information) that a browser <em class=
  "RFC2119">MUST</em> support. Implementers <em class="RFC2119">MAY</em> define and support any platform-specific events they
  like. In addition, users/programmers may use <code>&lt;send&gt;</code> to send arbitrary events to internal or external
  destinations, or may send arbitrary events to CCXML documents from internal or external sources and may specify transition
  handlers to handle these events.</p>

  <p>The transmission and reception of events both external and internal is controlled by a logical component in the platform
  called the "Event I/O Processor". A platform <em class="RFC2119">MAY</em> support more than one type of Event I/O Processor and
  each of them may support a different format of external events (For example: SOAP, JMS, SIP, Simple HTTP or any other event
  transmission approaches). For incoming events the Event I/O Processor is responsible for accepting the incoming event and
  transforming it into an ECMAScript event object that can be accessed by CCXML. For outgoing events the Event I/O Processor is
  responsible for deciding the serialization and transport formats. The operation and behavior of Event I/O Processors is
  platform dependent; however, this specification defines a Basic HTTP Event I/O Processor (Appendix K) that defines event
  transmission over HTTP. External Event I/O processors and new events created using <code>&lt;send&gt;</code> will typically
  generate application-specific events with different names than those of the standard events in this specification; however, it
  is legal for external sources and for events created using <code>&lt;send&gt;</code> to generate standard events. For instance,
  it is useful to be able to generate a <code>ccxml.kill</code> event to attempt graceful termination of a session from an
  external context, or from another CCXML session. Platforms <em class="RFC2119">SHOULD</em> reject any standard events that do
  not contain all of the mandatory properties defined in this specification, and <em class="RFC2119">SHOULD</em> notify the
  sender of the rejection (for instance with an <code>error.send</code> event).</p>

  <p>Each running CCXML interpreter has a queue, into which it places incoming events. Events are generally queued on a first-in,
  first-out (FIFO) basis; however, certain classes of events are queued differently, as described in the paragraphs below. A
  CCXML programmer can only gain access to these queued events by using the <code>&lt;eventprocessor&gt;</code> element with
  associated <code>&lt;transition&gt;</code> elements.</p>

  <p>An event can be delivered to a CCXML session using a <code>&lt;send&gt;</code> element in which case an optional delay may
  be specified. If a delay is specified, the event is not delivered to the target CCXML session until the delay time has elapsed.
  When the delay has elapsed, the event is queued as if it had just occurred, using standard queueing rules.</p>

  <p>There are three types of events that, when delivered to a CCXML session, are handled differently. All
  <code>ccxml.kill</code> and <code>ccxml.kill.*</code> events are placed at the head of the event queue rather than the tail so
  that they are processed in preference to all other events. All <code>error.*</code> events are placed at the head of the queue
  but behind any <code>error.*</code>, <code>ccxml.kill</code>, or <code>ccxml.kill.*</code> events that are already on the
  queue. <code>ccxml.loaded</code> events are always placed at the head of the queue.</p>

  <p>An <code>&lt;eventprocessor&gt;</code> is interpreted by an implicit Event Handler Interpretation Algorithm (EHIA). The
  EHIA's main loop removes the first event from the CCXML session's event queue, and then selects from the set of
  <code>&lt;transition&gt;</code>s contained in the <code>&lt;eventprocessor&gt;</code>. A <code>&lt;transition&gt;</code> always
  indicates a set of patterns to match event names, <em class="RFC2119">MAY</em> indicate a required current value of the
  ECMAScript state variable specified in the <code>&lt;eventprocessor&gt;</code>, and <em class="RFC2119">MAY</em> indicate a
  further ECMAScript conditional expression to be evaluated. The <code>&lt;transition&gt;</code> that accepts the type for the
  just-removed event, is in the specified state, has a satisfied conditional expression, and appears first in the
  <code>&lt;eventprocessor&gt;</code> in document order, is the selected <code>&lt;transition&gt;</code>.</p>

  <p>Once selected, an object representing the event being processed is created at transition scope, and the elements inside the
  <code>&lt;transition&gt;</code> are executed in document order. If an ECMAScript evaluation error occurs during the execution
  of an element within a <code>&lt;transition&gt;</code>, <code>error.semantic</code> <em class="RFC2119">MUST</em> be raised for
  that element, and successive elements within that <code>&lt;transition&gt;</code> <em class="RFC2119">MUST NOT</em> be
  executed; Note that while an element that references an invalid connection, dialog, or conference identifier also causes the
  platform to raise <code>error.semantic</code>, these scenarios <em class="RFC2119">MUST NOT</em> terminate execution of the
  <code>&lt;transition&gt;</code> in which that element is contained.</p>

  <p>At most one <code>&lt;transition&gt;</code> will be chosen. If no <code>&lt;transition&gt;</code> meets all the criteria,
  none are selected and the event is simply dropped; the EHIA loop then starts over again, removing the event at the head of the
  queue. The only exception to this rule is when <code>ccxml.kill</code>, <code>ccxml.kill.*</code> and <code>error.*</code>
  events are received; in this case, the CCXML interpreter will end the session if there are no <code>&lt;transition&gt;</code>s
  that match the <code>ccxml.kill</code>, <code>ccxml.kill.*</code> and <code>error.*</code> events explicitly.</p>

  <p>Any events that arrive while an event is already being processed are just placed on the queue for later. If the event queue
  is empty, and the EHIA wants to process an event, execution pauses until an event arrives.</p>

  <p>During the processing of an event by the EHIA, the state of any ECMAScript objects exposed by a platform, such as the
  Connection object, <em class="RFC2119">must</em> reflect the state of the CCXML session immediately following the occurrence of
  the event. For instance, if a '<code>connection.alerting</code>' event is being processed against a connection with ID 1234,
  then <code>session.connections['1234'].state</code> would have a value of <code>Connection.ALERTING</code>. This is true even
  if the actual connection has already been terminated, with a '<code>connection.disconnected</code>' event queued (but not yet
  processed) against the session. It is <em class="RFC2119">required</em> that the ECMAScript context for the session is updated
  prior to the selection of a matching <code>&lt;transition&gt;</code>, since the <code>&lt;transition&gt;</code> might contain
  an ECMAScript conditional expression, the value of which depends on the state changes caused by the event.</p>

  <p>Elements inside an <code>&lt;transition&gt;</code> <em class="RFC2119">SHOULD</em> run "quickly", without blocking
  execution. This will allow events to be rapidly processed. CCXML applications should be aware of this and should keep
  calculations such as large ECMAScript functions within a transition to a minimum.</p>

  <p>The only way for CCXML execution to leave an <code>&lt;eventprocessor&gt;</code> is via an explicit
  <code>&lt;goto&gt;</code> or <code>&lt;exit&gt;</code> inside a <code>&lt;transition&gt;</code> or an unhandled error or
  <code>ccxml.kill</code> event .</p>

  <p>An <code>&lt;eventprocessor&gt;</code> <em class="RFC2119">MAY</em> also declare a state variable attribute. An
  <code>&lt;eventprocessor&gt;</code>'s state variable must be declared in the ccxml scope using a <code>&lt;var&gt;</code> or a
  <code>&lt;script&gt;</code>. The <code>&lt;eventprocessor&gt;</code> can be considered, and programmed as, a
  finite-state-automaton, with the state variable indicating the automaton's current state or node, and the
  <code>&lt;transition&gt;</code>s, driven by incoming events, moving the machine to a new state and creating side effects along
  the way. If a state variable is not defined in the <code>&lt;eventprocessor&gt;</code>'s <code>statevariable</code> attribute a
  default variable named "<code>state$</code>" defined at the ccxml scope will be used instead. The initial value will be
  ECMAScript '<code>undefined</code>'.</p>

  <h3 id="eventelements">9.2: Elements</h3>

  <h4 id="eventprocessor">9.2.1: <code>&lt;eventprocessor&gt;</code></h4>

  <h5 id="s9.2.1.1">9.2.1.1: Overview</h5>

  <p>The <code>&lt;eventprocessor&gt;</code> acts as a container for <code>&lt;transition&gt;</code>s. A valid CCXML document
  <em class="RFC2119">MUST</em> only have a single <code>&lt;eventprocessor&gt;</code>.</p>

  <h5 id="s9.2.1.2">9.2.1.2: <code>&lt;eventprocessor&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">statevariable</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">string</td>

      <td class="elementRowDefaultValues">state$</td>

      <td class="elementRowValidValues">ECMAScript Variable name</td>

      <td class="elementRowDescription">This is a CCXML variable name, which is the name of the <b>eventprocessor</b>'s state
      variable. This variable must be defined using the <b>var</b> or the <b>script</b> element in the <b>ccxml</b> scope.</td>
    </tr>
  </table>

  <p><code>&lt;eventprocessor&gt;</code> <em class="RFC2119">MUST</em> contain only <code>&lt;transition&gt;</code> elements.</p>

  <h4 id="Transition">9.2.2: <code>&lt;transition&gt;</code></h4>

  <h5 id="s9.2.2.1">9.2.2.1: Overview</h5>

  <p>The content of a <code>&lt;transition&gt;</code> specifies the actions to be taken when it is selected. The
  <code>&lt;transition&gt;</code> are examined by the EHIA in document order.<br clear="none" /></p>

  <p>In order to be selected, a <code>&lt;transition&gt;</code> <em class="RFC2119">MUST</em> satisfy three criteria:</p>

  <ol>
    <li>If a state attribute is specified on the <code>&lt;transition&gt;</code> the current value of the associated state
    variable (as specified in the parent <code>&lt;eventprocessor&gt;</code>) <em class="RFC2119">MUST</em> be equal to one of
    the values specified in the state attribute of the <code>&lt;transition&gt;</code>. If no <code>state</code> attribute is
    specified on the <code>&lt;transition&gt;</code>, this criteria is met regardless of the value of the
    <code>statevariable</code>.</li>

    <li>the expression specified by the <code>&lt;transition&gt;</code> 's <code>cond</code> attribute <em class=
    "RFC2119">MUST</em> evaluate to <code>true</code>, if that attribute is present</li>

    <li>the current event's <code>name</code> property <em class="RFC2119">MUST</em> match the pattern specified by the
    <code>&lt;transition&gt;</code>'s <code>event</code> attribute, if that attribute is present</li>
  </ol>

  <p>A <code>&lt;transition&gt;</code> with none of the attributes, <code>state</code>, <code>cond</code>, or <code>event</code>,
  will always be selected when encountered by the EHIA.</p>

  <p>The contents of the received event object <em class="RFC2119">MUST</em> be available via the transition scoped read-only
  <code>event$</code> ECMAScript variable. This variable is accessible from the <code>&lt;transition&gt;</code> <code>cond</code>
  attribute to allow CCXML Applications to conditionally select <code>&lt;transition&gt;</code>'s based on the contents of the
  event.</p>

  <h5 id="s9.2.2.2">9.2.2.2: <code>&lt;transition&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">state</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">This indicates the current possible value of the variable associated with the
      statevariable attribute of the parent <code>&lt;eventprocessor&gt;</code>. More than one value may be specified, separated
      by whitespace.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">event</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">string</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">This is a pattern used to match event names as specified in Section 9.2.2.3.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">cond</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Boolean Expression</td>

      <td class="elementRowDefaultValues">true</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript Boolean expression. If this attribute is present, it must evaluate to true
      for the <b>transition</b> to be selected.</td>
    </tr>
  </table>

  <h5 id="s9.2.2.3">9.2.2.3: <code>&lt;transition&gt;</code> Event Matching</h5>

  <p>The event attribute of a <code>&lt;transition&gt;</code> specifies a pattern used to match event names. Each character in
  the pattern specified by <code>event</code> must match the corresponding character in the event name, except for the asterisk
  ('*') character, which acts as a wildcard that matches any substring of zero or more characters in the event name. Patterns are
  dot-separated strings of arbitrary length. Event names are case-insensitive.</p>

  <p><b>Pattern match examples</b></p>

  <table width="90%" summary="attribute, details" border="1">
    <tbody>
      <tr>
        <th align="center" width="20%" rowspan="1" colspan="1">Pattern<br clear="none" /></th>

        <th align="center" width="80%" rowspan="1" colspan="1">Matches</th>
      </tr>

      <tr>
        <td align="center" width="20%" rowspan="1" colspan="1"><code>*</code><br clear="none" /></td>

        <td align="left" width="80%" rowspan="1" colspan="1">any event name<br clear="none" /></td>
      </tr>

      <tr>
        <td align="center" width="20%" rowspan="1" colspan="1"><code>error.*</code><br clear="none" /></td>

        <td align="left" width="80%" rowspan="1" colspan="1"><code>error.fetch, error.dialog.notstarted</code><br clear=
        "none" /></td>
      </tr>

      <tr>
        <td align="center" width="20%" rowspan="1" colspan="1"><code>error.*.*</code><br clear="none" /></td>

        <td align="left" width="80%" rowspan="1" colspan="1"><code>error.dialog.notstarted</code></td>
      </tr>

      <tr>
        <td align="center" width="20%" rowspan="1" colspan="1"><code>err*</code><br clear="none" /></td>

        <td align="left" width="80%" rowspan="1" colspan="1">any event name starting with "err"</td>
      </tr>
    </tbody>
  </table>

  <h4 id="Send">9.2.3: <code>&lt;send&gt;</code></h4>

  <h5 id="S9_2_3_1">9.2.3.1: Overview</h5>

  <p><code>&lt;send&gt;</code> is used to send messages containing events or other information directly to another CCXML
  Interpreter or other external systems using an Event I/O Processor.</p>

  <p>The event target of <code>&lt;send&gt;</code> is specified using the <code>target</code> and <code>targettype</code>
  attributes. These attributes control how the platform should dispatch the event to its final destination.</p>

  <p>The <code>target</code> attribute specifies the unique identifier of the event target that the Event I/O Processor should
  send the event to. This can be the value of a CCXML Session ID or a Dialog ID if you wish to send an event to one of these
  respective targets. In the case where you are using some other Event I/O Processor this attribute should be able to describe
  how to connect to the event destination (for example a SIP URI for SIP-INFO messages or a HTTP URI for Web Services). If the
  value of the <code>target</code> attribute is not supported, invalid or unreachable by the Event I/O Processor the Platform
  <em class="RFC2119">MUST</em> throw a <code>error.send.targetunavailable</code> event.</p>

  <p>The <code>targettype</code> attribute controls what Event I/O Processor the event should be sent to. The default value of
  this attribute is '<code>ccxml</code>'. If the event <code>targettype</code> specified is not supported the platform <em class=
  "RFC2119">MUST</em> throw a <code>error.send.targettypeinvalid</code> event.</p>

  <p>A platform <em class="RFC2119">MUST</em> support the following values for the <code>targettype</code> attribute:</p>

  <table cellpadding="2" cellspacing="2" border="1" width="100%" align="center" summary="send targettype values">
    <tr>
      <th width="20%" align="center" rowspan="1" colspan="1">Value<br clear="none" /></th>

      <th width="80%" align="center" rowspan="1" colspan="1">Details<br clear="none" /></th>
    </tr>

    <tr>
      <td align="center" rowspan="1" colspan="1"><code>ccxml</code></td>

      <td align="left" rowspan="1" colspan="1">CCXML Session Event Processor.</td>
    </tr>

    <tr>
      <td align="center" rowspan="1" colspan="1"><code>dialog</code></td>

      <td align="left" rowspan="1" colspan="1">Dialog Event Processor.</td>
    </tr>

    <tr>
      <td align="center" rowspan="1" colspan="1"><code>basichttp</code></td>

      <td align="left" rowspan="1" colspan="1">Basic HTTP Event I/O engine (See Appendix K).</td>
    </tr>
  </table>

  <p>Platforms <em class="RFC2119">MAY</em> support other types of Event I/O Processors, for example: Web-services, SIP or basic
  HTTP GET. However, platforms <em class="RFC2119">SHOULD</em> name the Event I/O Processor beginning with "<code>x-</code>" to
  signify that they are platform dependent.</p>

  <p><code>&lt;send&gt;</code> also specifies the content of the message to be sent. <code>&lt;send&gt;</code> <em class=
  "RFC2119">MUST</em> specify message content in one of two ways (the following mechanisms are mutually exclusive):</p>

  <ul>
    <li>
      <code>name</code> attribute with an <em class="RFC2119">OPTIONAL</em> <code>namelist</code>

      <ul>
        <li>The <code>name</code> attribute specifies an ECMAScript expression that returns the name of the event.</li>

        <li>The <code>namelist</code> attribute specifies a space separated list of CCXML ECMAScript variables to be included
        with the message.</li>
      </ul>
      <pre class="example" xml:space="preserve">
&lt;var name="target" expr="'tel:+18005551212'"/&gt;
&lt;var name="content" expr="'http://www.example.com/mycontent.txt'"/&gt;
&lt;send target="target" 
         targettype="'x-messaging'" 
         name="'fax.SEND'" 
         namelist="content"/&gt;
</pre>
    </li>

    <li>Inline XML content that specifies the contents of the message being sent.
      <pre class="example" xml:space="preserve">
&lt;send target="'csta://csta-server.example.com/'" targettype="'x-csta'"
xmlns:csta="http://www.ecma-international.org/standards/ecma-323/csta/ed3"&gt;
 &lt;csta:MakeCall&gt;
  &lt;csta:callingDevice&gt;22343&lt;/csta:callingDevice&gt;
 
&lt;csta:calledDirectoryNumber&gt;18005551212&lt;/csta:calledDirectoryNumber&gt;
 &lt;/csta:MakeCall&gt;
&lt;/send&gt;
</pre>
    </li>
  </ul>

  <p>When inline XML is specified, the content of the <code>&lt;send&gt;</code> is parsed but <em class="RFC2119">MUST</em> be
  ignored by the sending CCXML Interpreter until the <code>&lt;send&gt;</code> is executed. XML namespace binding within the
  <code>&lt;send&gt;</code> element <em class="RFC2119">MUST</em> be preserved in the message sent to the
  <code>&lt;send&gt;</code> target. This may result in XML namespace declarations being added to the message contents in order to
  resolve XML namespace prefixes whose associated namespace declarations were not contained in the message contents in the
  original CCXML document. It is the responsibility of the Event I/O Processor responsible for forwarding events to the
  <code>&lt;send&gt;</code> target to parse the incoming message and remove the namespace bindings, if required by the
  <code>&lt;send&gt;</code> target.</p>

  <p>The sending CCXML Interpreter <em class="RFC2119">MUST NOT</em> alter the content of the <code>&lt;send&gt;</code> other
  than by adding namespace declarations for unresolved namespace bindings. The data contained within a <code>&lt;send&gt;</code>
  <em class="RFC2119">MUST</em> be sent to the destination specified in the <code>target</code> attribute of
  <code>&lt;send&gt;</code> using the Event I/O Processor specified by the <code>targettype</code> attribute.</p>

  <p>The mechanism by which the content of the message is made available to the target depends on both the
  <code>targettype</code> and the way in which the content is specified:</p>

  <ul>
    <li>When <code>&lt;send&gt;</code> is used with the <code>name</code> and <code>namelist</code> attributes, and the
    <code>targettype</code> is "<code>ccxml</code>", the mapping from <code>namelist</code> variables to event object properties
    is well defined. Each variable listed in the <code>namelist</code> attribute is added as a property of the event object.
    Qualified variables retain their qualification and are mapped into nested properties of the event object. If a variable is an
    ECMAScript Object, then all properties of the variable are mapped into nested properties of the event object.</li>

    <li>When <code>&lt;send&gt;</code> is used with inline XML content, and the <code>targettype</code> is "<code>ccxml</code>",
    the mapping of that XML content to event object properties is implementation-specific, and outside the scope of this
    specification.</li>

    <li>When <code>&lt;send&gt;</code> is used with the <code>name</code> and <code>namelist</code> attributes, and the
    <code>targettype</code> is "<code>basichttp</code>", each variable in the <code>namelist</code> is sent to the web server as
    defined in Appendix K</li>

    <li>When <code>&lt;send&gt;</code> is used with either <code>name</code> and <code>namelist</code> attributes or inline XML
    content, and the <code>targettype</code> is "<code>dialog</code>" or a platform extension, the mechanism by which
    <code>namelist</code> variables or XML content are made available to the event target is implementation-specific, and outside
    the scope of this specification.</li>
  </ul>

  <p>Although the full set of requirements for the Event I/O Processor is not within the scope of this specification, an event
  processor sending an event to a CCXML Interpreter is required to generate an event which can be processed in a CCXML Session.
  See Section 9.1 for details regarding the processing of incoming events by an CCXML Interpreter.</p>

  <p>When a message is successfully sent to the target, a <code>send.successful</code> event <em class="RFC2119">MUST</em> be
  thrown. Note that this does not mean that the target processed the message successfully. It is up to the target to generate
  events specific to the message. These events are application specific.</p>

  <p>If the send request fails, an event signifying the error <em class="RFC2119">MUST</em> be returned to the CCXML Session. The
  failure events are documented at the end of this section.</p>

  <p>Events generated by <code>&lt;send&gt;</code> will have their <code>eventid</code>, <code>eventsource</code> and
  <code>eventsourcetype</code> attributes derived from the execution of the <code>&lt;send&gt;</code> element.
  <code>eventid</code> will match the value returned via <code>sendid</code>. <code>eventsource</code> will be the ccxml session
  id. <code>eventsourcetype</code> will be set to the string '<code>ccxml</code>'.</p>

  <h5 id="S9_2_3_2">9.2.3.2: <code>&lt;send&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">target</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid target URI</td>

      <td class="elementRowDescription">An ECMAScript expression returning the target location of the event. The <b>target</b>
      attribute specifies the unique identifier of the event target that the Event I/O Processor must send the event to.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">targettype</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">ccxml</td>

      <td class="elementRowValidValues">ccxml<br />
      dialog<br />
      basichttp</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string that specifies the type of the
      Event I/O Processor that the event must be dispatched to.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">sendid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive an internally generated unique string identifier to be associated with the event being
      sent.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">delay</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">'0s'</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a character string in CSS2 <a href=
      "#ref-css2">[CSS2]</a> format</td>

      <td class="elementRowDescription">The character string returned must be interpreted as a time interval. The <b>send</b>
      element must return immediately, but the event must not be dispatched until the delay interval elapses. Timers are useful
      for a wide variety of programming tasks, and can be implemented using this attribute.<br />
      <b>Note:</b> The delayed event queue for sending events must be maintained locally. Any events waiting to be sent must be
      purged when the session that issued this request terminates.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">name</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with inline content</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a character string that indicates the event name
      being generated. The event name <i>may</i> include alphanumeric characters,
      <span >
          "_" (underscore)
          </span>
       and the "." (dot) character. The first character
      <em class="RFC2119">MUST NOT</em> be a dot or a digit.<br />
      event names are case-insensitive.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">namelist</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with inline content</td>

      <td class="elementRowType">Var List</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">List of ECMAScript Variable names</td>

      <td class="elementRowDescription">A list of zero or more whitespace separated CCXML variable names to be included with the
      event. Values for these variables are evaluated when the <code>&lt;send&gt;</code> element is processed See section 9.2.3.1
      for details on how these variables are made available to the target.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform to configure the Event I/O Processor. The meaning of these hints is specific to the implementing
      platform and the Event I/O Processor. Note: The meaning of these hints is specific to the implementing platform and
      protocol. Platforms that do not support hints <em class="RFC2119">MAY</em> ignore this attribute. See <a href=
      "#s9.5.6">Section 9.5.6</a> for additional requirements when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h5 id="S9_2_3_3">9.2.3.3: <code>&lt;send&gt;</code> Examples</h5>

  <p>In this example we send the current CCXML session a <code>hello.jack</code> event that contains a single field. We catch the
  event, log the field and exit:</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;eventprocessor&gt;  
    &lt;transition event="ccxml.loaded"&gt;
      &lt;var name="jacksvar" 
              expr="'I am Jack\'s complete lack of surprise.'"/&gt;
      &lt;send target="session.id" targettype="'ccxml'"
       name="'hello.jack'" namelist="jacksvar"/&gt;
    &lt;/transition&gt;
    &lt;transition event="hello.jack"&gt;
      &lt;log expr="event$.jacksvar"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;    
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <p>In this example we send a event to our parent and then exit:</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;eventprocessor&gt;  
    &lt;transition event="ccxml.loaded"&gt;
      &lt;var name="jacksvar" 
              expr="'I am Jack\'s inflamed sense of rejection.'"/&gt;
      &lt;send target="session.parentid" name="'hello.jack'"
       targettype="'ccxml'" namelist="jacksvar"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <p>In this example we catch a <code>dialog.transfer</code> request and just return a error event back to the dialog:</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;eventprocessor&gt;  
    &lt;transition event="dialog.transfer"&gt;
      &lt;var name="reason" expr="'I am a jack's unsupported transfer.'"/&gt;
      &lt;send target="event$.dialogid" name="error.unsupported.transfer"
       targettype="'dialog'" namelist="reason"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <p>In this example we send the current CCXML session an event that contains an ECMAScript Object and a qualified variable. We
  catch the event, log some properties resulting in the string "<code>1, 2, 3, 4</code>", and exit:</p>
  <pre class="example" xml:space="preserve">
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;eventprocessor&gt;  
    &lt;transition event="ccxml.loaded"&gt;
      &lt;var name="obj1"/&gt;
      &lt;assign name="obj1.prop1" expr="'1'"/&gt;
      &lt;assign name="obj1.prop2.a" expr="'2'"/&gt;
      &lt;assign name="obj1.prop2.b" expr="'3'"/&gt;
      &lt;var name="obj2"/&gt;
      &lt;assign name="obj2.prop1" expr="'4'"/&gt;
      &lt;send target="session.id" targettype="'ccxml'"
       name="'my.complex.event'" namelist="obj1 obj2.prop1"/&gt;
    &lt;/transition&gt;
    &lt;transition event="my.complex.event"&gt;
      &lt;log expr="event$.obj1.prop1 + ', ' + event$.obj1.prop2.a + ', ' +
                 event$.obj1.prop2.b + ', ' + event$.obj2.prop1"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;    
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
    
</pre>

  <h4 id="Move">9.2.4: <code>&lt;move&gt;</code></h4>

  <h5 id="s9.2.4.1">9.2.4.1: Overview</h5>

  <p><code>&lt;move&gt;</code> is used to move an event source (such as a Connection object) to an executing CCXML session. When
  an event source is moved to a session, events originating from that source <em class="RFC2119">MUST</em> be delivered to that
  session's currently executing CCXML document. The <code>event</code> OR the <code>source</code> attribute <em class=
  "RFC2119">MUST</em> be specified. If neither attribute is specified or both attributes are specified, an
  <code>error.fetch</code> event <em class="RFC2119">MUST</em> be thrown.</p>

  <p>Support for the <code>&lt;move&gt;</code> element is optional in CCXML platforms. Even if <code>&lt;move&gt;</code> is
  supported platforms <em class="RFC2119">MAY</em> only support it between a restricted set of CCXML sessions. If
  <code>&lt;move&gt;</code> is unsupported the CCXML platform <em class="RFC2119">MUST</em> raise an <code>error.move</code>
  event.</p>

  <p>A <code>&lt;move&gt;</code> attempt <em class="RFC2119">MUST</em> fail under any of the following conditions:</p>

  <ul>
    <li>The referenced event source does not exist, or does not belong to the session executing the
    <code>&lt;move&gt;</code>;</li>

    <li>The referenced event source is immovable - the CCXML session itself and various external event I/O processors are
    examples of this;</li>

    <li>The referenced event source is currently bridged to another object through an implicit or explicit join;</li>

    <li>The session to which the event source is being moved does not exist, or cannot accept the event source that is being
    moved;</li>

    <li>The <code>event</code> attribute is used to identify the event source, but refers to multiple event sources (such as
    <code>connection.merge.failed</code>);</li>
  </ul>

  <p>A <code>&lt;move&gt;</code> attempt <em class="RFC2119">MAY</em> fail for causes other than the above, which may or may not
  be platform specific</p>

  <p>In the event of a <code>&lt;move&gt;</code> failure, an <code>error.move</code> event <em class="RFC2119">MUST</em> be
  generated to indicate that the <code>&lt;move&gt;</code> attempt was unsuccessful. Otherwise, a <code>move.successful</code>
  event <em class="RFC2119">MUST</em> be generated against the session that performed the <code>&lt;move&gt;</code> to indicate
  that the request has completed successfully.</p>

  <p>Since each CCXML session has an event queue, it is possible that a session executing a <code>&lt;move&gt;</code> will
  already have events in its queue from the event source that is being moved. As an example, this situation could easily occur
  with <code>connection.alerting</code> and <code>connection.disconnected</code> if the incoming connection is abandoned before a
  CCXML platform initiates processing. Any such events <em class="RFC2119">MUST</em> be removed from the queue of the session
  performing the <code>&lt;move&gt;</code>, and placed into the queue of the session that the event source is being moved to.
  Each event moved in this manner <em class="RFC2119">MUST</em> be inserted into the queue of the target session as if it was a
  new event occurring in the context of that session. The order in which events are queued is the order in which they appear in
  the event queue of the session performing the <code>&lt;move&gt;</code>. If the <code>event</code> attribute is specified, then
  the referenced event <em class="RFC2119">MUST</em> be placed into the queue of the target session before other queued events
  from the event source are inserted. Note that queueing rules governing the order in which the inserted events will be processed
  continue to apply.</p>

  <p>Like all CCXML elements, <code>&lt;move&gt;</code> executes asynchronously. As such, there is a period of time during which
  events generated by the event source being moved cannot be processed either by the session performing the
  <code>&lt;move&gt;</code>, or by the target session. If the <code>&lt;move&gt;</code> fails, then these events remain in the
  queue of the session that attempted the <code>&lt;move&gt;</code>, and <em class="RFC2119">MUST</em> be processed normally.
  However, while the <code>&lt;move&gt;</code> is being performed, events from event sources other than the one being moved
  <em class="RFC2119">MUST</em> continue to be processed according to the EHIA. As such, a failed <code>&lt;move&gt;</code>
  request may result in events being processed in a different order than if no <code>&lt;move&gt;</code> operation was performed.
  Note that the relative ordering of events from the event source being moved is not changed even as a result of such a
  failure.</p>

  <h5 id="s9.2.4.2">9.2.4.2: <code>&lt;move&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">source</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <b>event</b>
      attribute.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">(valid connection or dialog ID)</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a connection ID or dialog ID. The event source
      associated with this identifier must be moved to the target session.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">event</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">This attribute must not be specified in conjunction with the <b>source</b>
      attribute.</td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns an event object.</td>

      <td class="elementRowDescription">The event source from which the event object originated, if any, must be moved to the
      target session. The event must also be sent to the target session to provide a notification.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">sessionid</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid CCXML session id</td>

      <td class="elementRowDescription">An ECMAScript expression that identifies the session to which the event source must be
      moved.</td>
    </tr>
  </table>

  <h4 id="Cancel">9.2.5: <code>&lt;cancel&gt;</code></h4>

  <h5 id="s9.2.5.1">9.2.5.1: Overview</h5>

  <p>When a CCXML program uses <code>&lt;send&gt;</code> to send an event and includes a <code>delay</code> attribute, the
  <code>&lt;cancel&gt;</code> command will cancel the pending event, if possible.</p>

  <p>The cancel operation cancels a pending event by removing it from the delayed event queue of the CCXML session that initiated
  the <code>&lt;send&gt;</code>, preventing it from ever being delivered. If the delay has expired and the event has already been
  removed from the delayed event queue, the <code>&lt;cancel&gt;</code> request <em class="RFC2119">MUST</em> fail and an
  <code>error.notallowed</code> event <em class="RFC2119">MUST</em> be delivered to the event queue of the CCXML session that
  executed the <code>&lt;cancel&gt;</code>
  <span > with the <code>id</code> property populated with the <code>sendid</code> of the event that the <code>&lt;cancel&gt;</code> was requested for.</span>
   Otherwise, a <code>cancel.successful</code> event <em class="RFC2119">MUST</em> be
  delivered to indicate that the <code>&lt;cancel&gt;</code> was successful, and that the cancelled event was not delivered.
  Sessions are only permitted to cancel their own delayed events; they may not cancel the delayed events of other sessions.</p>

  <h5 id="s9.2.5.2">9.2.5.2: <code>&lt;cancel&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">sendid</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A valid event identifier</td>

      <td class="elementRowDescription">An ECMAScript expression which returns the value of the event identifier that was
      received when the <b>send</b> command was issued.</td>
    </tr>
  </table>

  <h3 id="s9.3">9.3: Events</h3>

  <h4 id="s9.3.1">9.3.1: <code>error.notallowed</code></h4>

  <p>This error event <em class="RFC2119">MUST</em> be thrown when the execution of an element causes an invalid operation to be
  performed on a session and/or connection. The fields available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected session.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">id</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID, if specified in the element being executed, of the affected connection, dialog,
      session, <span >event,</span> or conference.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation was denied. Content of this field is
      platform-specific.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">tagname</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">This property must be set to the ECMAScript string value of the name of the element that
      produced the error (ie <b>accept</b>, <b>reject</b>, etc).</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.2">9.3.2: <code>error.semantic</code></h4>

  <p>This error event <em class="RFC2119">MUST</em> be thrown when there is a semantic error in a CCXML element ( e.g. passing an
  incorrect value for an attribute, etc.).</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">This property must be set to the ECMAScript string value of the printable error message
      associated with this error. Content of this field is platform-specific.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">tagname</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">This property must be set to the ECMAScript string value of the name of the element that
      produced the error (ie <b>accept</b>, <b>reject</b>, etc).</td>
    </tr>

    <tr class="">
      <td class="eventRowName">attributelist.*</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">If available in the interpreter, this property must be an object whose properties are the names
      of the attributes of the element in error. The value of each attribute property must be the corresponding string value of
      the attribute.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">scope</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">Identifies the scope and impact of the semantic error; this attribute <em class=
      "RFC2119">MUST</em> be set to one of the following string values:<br />
      transition - ECMAScript evaluation error, terminating the execution of the transition in which the error occurred.<br />
      element - Error at element scope, resulting in the affected element not being executed correctly but not terminating the
      execution of other elements within the transition.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.3">9.3.3: <code>error.send.targetunavailable</code></h4>

  <p>This error event <em class="RFC2119">MUST</em> be thrown when CCXML could not send the event to the target listed in
  <code>&lt;send&gt;</code> due to it currently being unavailable. The fields available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sendid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation was denied. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.4">9.3.4: <code>error.send.targettypeinvalid</code></h4>

  <p>This error event <em class="RFC2119">MUST</em> be thrown when the <code>targettype</code> attribute specified in a
  <code>&lt;send&gt;</code> is not valid.</p>

  <p>The fields available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sendid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation was denied. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.5">9.3.5: <code>error.send.failed</code></h4>

  <p>This error event <em class="RFC2119">MUST</em> be thrown when a <code>&lt;send&gt;</code> could not be completed for a
  reason not covered by another <code>error.send.*</code> event <span >(for example, due to an invalid event name specified on &lt;send&gt;)</span>.</p>

  <p>The fields available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sendid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation was denied. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.6">9.3.6: <code>send.successful</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be thrown when an event is successfully delivered to the specified receiver.
  Receipt of the event does not imply the event has been processed by the receiver but simply that it has been sent without
  error. The fields available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sendid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the send request as returned in the <b>sendid</b> attribute of the <b>send</b>
      element.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.7">9.3.7: <code>move.successful</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be thrown when an event source is successfully moved to a CCXML session. The fields
  available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sourceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the event source that has been moved as specified either directly via the
      <b>source</b> attribute or indirectly via the <b>event</b> attribute of the <b>move</b> element.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.8">9.3.8: <code>cancel.successful</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be thrown when the sending of an event has been successfully cancelled. The fields
  available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sendid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the send event that has been cancelled as specified in the <b>sendid</b> attribute of
      the <b>cancel</b> element.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.3.9">9.3.9: <code>error.move</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be thrown when a move request performed by a session fails to complete
  successfully. The fields available in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">sourceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the event source referenced either directly via the <b>source</b> attribute or
      indirectly via the <b>event</b> attribute of the <b>move</b> element.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">sessionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the target session to which it was attempted to move the event source.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason for which the <b>move</b> request failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h3 id="s9.4">9.4: Standard Events</h3>

  <h4 id="s9.4.1">9.4.1: Overview</h4>

  <p>CCXML can generate arbitrarily-named events. While any event name is possible, there is a small set of well-known events
  that are generated as a matter of course, and which any telephone application should handle. There are three kinds of these
  events: connection events, language events and error events.</p>

  <p>The first, and larger set, is present so a CCXML session can keep abreast of events happening with the telephone network.
  CCXML is designed to be neutral with respect to the telephony layer, so the event set must be very generic and capable of
  describing the behavior of a wide variety of systems (e.g., <a href="#ref_Q931" shape="rect">[Q931]</a>, <a href="#ref_SS7"
  shape="rect">[SS7]</a>, VoIP, etc).</p>

  <h4 id="s9.4.2">9.4.2: Standard Event Attributes</h4>

  <h5 id="s9.4.2.1">9.4.2.1: Overview</h5>

  <p>All events received in a CCXML session must have a number of standard fields. It is the responsibility of the Event I/O
  Processor that delivered the event to make sure that they are present.</p>

  <h5 id="s9.4.2.2">9.4.2.2: Standard Event Attribute Table</h5>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">name</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">This property <em class="RFC2119">MUST</em> be set to the ECMAScript string value of the event
      name.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">eventid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The unique identifier for the event. This <em class="RFC2119">MUST</em> match the <b>sendid</b>
      attribute of <b>send</b>, if the event was generated by a CCXML document.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">eventsource</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The unique identifier of the event source. If the event source can receive events, you can use
      this identifier in the <b>target</b> of <b>send</b>.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">eventsourcetype</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The name of the Event I/O Processor that sent this event. If the event source can receive
      events, you can use this in the <b>targettype</b> attribute of <b>send</b>.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s9.4.3">9.4.3: Connection Events</h4>

  <h5 id="s9.4.3.1">9.4.3.1: Overview</h5>

  <p>CCXML applications are notified of Connection activities by events, which often reflect Connection state changes.
  Applications may also take actions which change the state of a Connection and which cause other events to be generated.</p>

  <p>Connection events and their properties are specified in sections <a href="#s10.6" shape="rect">10.6: Events</a>, and
  <a href="#s10.2.3" shape="rect">10.2.3: Connection Events</a></p>

  <h4 id="s9.4.4">9.4.4: Language Events</h4>

  <p>Language Events are a general class of responses that occur as a result of the execution of elements within a CCXML
  document. These events may be further categorized as follows:</p>

  <ul class="noindent">
    <li>Document Control: These events are detailed in <a href="#flowEvents" shape="rect">section 6.3</a></li>

    <li>Dialog Control: These events are detailed in <a href="#dialogEvents" shape="rect">section 7.3</a></li>

    <li>
      <p>Event Handling Control: These events are detailed in <a href="#s9.3" shape="rect">section 9.3</a></p>
    </li>

    <li>Call Control: These events are detailed in <a href="#telephony" shape="rect">section 10</a></li>
  </ul>

  <h4 id="s9.4.5">9.4.5: Error Events</h4>

  <h5 id="s9.4.5.1">9.4.5.1: Overview</h5>

  <p>CCXML uses its event handling mechanism to notify a CCXML document of errors that occur during execution. An error
  notification takes the form of an error event that is added to the event queue of the CCXML document where the error occurred.
  All error events are named with the prefix <code>"error."</code> so that a properly defined <code>&lt;transition&gt;</code> can
  filter out error events.</p>

  <p>Here is an example of a <code>&lt;transition&gt;</code> that can be used to filter out and report error events:</p>
  <pre class="example" xml:space="preserve">
&lt;transition event="error.*"&gt;
  &lt;log expr="'an error has occurred (' + event$.reason+ ')'" /&gt;
  &lt;exit/&gt;
&lt;/transition&gt;
</pre>

  <p>All error events have a set of properties in common, shown in the following table:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">This property is set to the ECMAScript string value of the printable error message associated
      with this error</td>
    </tr>
  </table>
  <hr />

  <h3 id="s9.5">9.5: Error Handling</h3>

  <p>Due to the nature of CCXML's event handling mechanism, some error scenarios are treated differently. These scenarios are
  described below.</p>

  <h5 id="s9.5.1">9.5.1: Fetching &amp; compilation errors</h5>

  <p>Errors that occur in trying to load and compile a CCXML document, such as the inability to fetch the CCXML page or
  statically referenced ECMAScript content, XML parsing or validation errors (Including checks for mutually exclusive attributes
  or any other constraints as defined in the this specification, it's attribute tables, schema or DTD), compilation errors or
  other errors that occur as a result of trying to fetch and run a CCXML page prior to document initialization. The handling of
  fetching errors is dependent on the context of the fetch; if the fetch was triggered by a running CCXML document using
  <code>&lt;createccxml&gt;</code> or <code>&lt;fetch&gt;</code>, then an <code>error.createccxml</code> or
  <code>error.fetch</code> (respectively) <em class="RFC2119">MUST</em> be thrown to the initiating session. If an error occurs
  fetching the initial CCXML document for a session created to handle an incoming call, the CCXML session created for the
  incoming call <em class="RFC2119">MUST</em> be terminated; the incoming call <em class="RFC2119">SHOULD</em> be rejected. If
  the session is created through other means (such as the Session Creation Event I/O Processor), the session <em class=
  "RFC2119">MUST</em> be terminated; the creator of the session <em class="RFC2119">SHOULD</em> be notified.</p>

  <h5 id="s9.5.2">9.5.2: Document Initialization Errors</h5>

  <p>Errors that occur during documentation initialization (elements that occur in the CCXML document before
  <code>&lt;eventprocessor&gt;</code>) occur outside of CCXML's event handling mechanism. These errors <em class=
  "RFC2119">MUST</em> cause the CCXML thread of execution to terminate and notify the platform of the document error.</p>

  <h5 id="s9.5.3">9.5.3: Error In <code>&lt;eventprocessor&gt;</code> attributes</h5>

  <p>An <code>&lt;eventprocessor&gt;</code> contains <code>&lt;transition&gt;s</code> that comprise CCXML's event handling
  mechanism. Since errors in <code>&lt;eventprocessor&gt;</code> attribute evaluation could keep the EHIA from correctly
  processing an event, these errors <em class="RFC2119">MUST</em> cause the CCXML thread of execution to terminate and notify the
  platform of the document error.</p>

  <h5 id="s9.5.4">9.5.4: Error in <code>&lt;transition&gt;</code> attributes</h5>

  <p><code>&lt;transition&gt;</code> attributes specify when the elements contained by the <code>&lt;transition&gt;</code> should
  be executed. Since errors in <code>&lt;transition&gt;</code> attribute evaluation could keep the
  <code>&lt;transition&gt;</code> from correctly handling the error event, these errors <em class="RFC2119">MUST</em> cause the
  CCXML thread of execution to terminate and notify the platform of the document error.</p>

  <h5 id="s9.5.5">9.5.5: Errors While Handling Error Events</h5>

  <p>If an error occurs during the handling of an error event another error event will be raised and posted to the front of the
  event queue. In many cases this may be perfectly acceptable and the CCXML application may be able to successfully recover from
  the error. In some situations however this can lead to an infinite loop in the CCXML session. Implementations <em class=
  "RFC2119">MAY</em> choose to include some form of loop detection and to terminate the CCXML session when a loop is
  detected.</p>

  <h5 id="s9.5.6">9.5.6: Errors in hints attributes</h5>

  <p>Several elements within this specification define a <code>hints</code> attribute. Platforms that do not support
  <code>hints</code> on an element <em class="RFC2119">MAY</em> ignore this attribute. If a platform supports the
  <code>hints</code> attribute on an element, the attribute is specified, and ECMAScript evaluation of the value of the hint
  fails or the ECMAScript expression does not resolve to an ECMAScript object, <code>error.semantic</code> <em class=
  "RFC2119">MUST</em> be raised for that element and successive elements within the <code>&lt;transition&gt;</code> containing
  that element <em class="RFC2119">MUST NOT</em> be executed. Additional processing of hints by the implementing platform is
  platform-specific.</p>

  <h2 id="telephony">10: Telephony Operations and Resources</h2>

  <p>This section contains information on <code>&lt;accept&gt;</code>, <code>&lt;createcall&gt;</code>,
  <code>&lt;createconference&gt;</code>, <code>&lt;destroyconference&gt;</code>, <code>&lt;disconnect&gt;</code>,
  <code>&lt;join&gt;</code>, <code>&lt;merge&gt;</code>, <code>&lt;redirect&gt;</code>, <code>&lt;reject&gt;</code>, and
  <code>&lt;unjoin&gt;</code>.</p>

  <h3 id="overview">10.1: Overview</h3>

  <p>The primary goal of CCXML is to provide call control throughout the duration of a call. Call control includes handling
  incoming calls, placing outgoing calls, bridging (or conferencing) multiple call legs, and ultimately disconnecting calls.</p>

  <p>In CCXML call control occurs through three major concepts: Connections, Conferences and Bridges.</p>

  <p>A Connection is an object modeling a resource by which two independent unidirectional media streams, and optionally any
  associated network signaling traffic, can be controlled by a CCXML session. This corresponds roughly to a "call leg" as the
  term is used informally. The picture below illustrates the media streams associated with the Connection <i>c1</i>.</p>

  <p><img alt="Connection" src="images/connection.png" /></p>

  <p>A Bridge occurs when the input and/or output media streams of Connections or Conferences are linked or "joined" together.
  The picture below depicts the result of a full duplex <code>&lt;join&gt;</code> between the connections <i>c1</i> and
  <i>c2</i>.</p>

  <p><img alt="bridge" src="images/bridge.png" /></p>

  <p>A Conference is an object that controls the mixing of media streams for two or more Connections through Bridges.In the
  picture below, the connections <i>c1</i> and <i>c2</i> are joined in a full duplex mode to the conference <i>C1</i>.</p>

  <p><img alt="conference" src="images/conference.png" /></p>

  <p>These concepts are discussed in greater detail in the sections below.</p>

  <h4 id="s10.1.1">10.1.1 Concepts Background (INFORMATIVE)</h4>

  <p>The goals of the CCXML call model are to focus on relatively simple types of call control and to be sufficiently abstract so
  that the call model can be implemented using all major telephony definitions such as JAIN Call Control(JCC) <a href=
  "#ref_JSR021" shape="rect">[JSR021]</a>, <a href="#ref_CSTA" shape="rect">[CSTA]</a>, and <a href="#ref_S.100" shape=
  "rect">[S.100]</a>. The JCC call model meets these requirements by providing an event model for connections which abstracts
  away many of the differences between telephone networks (e.g., <a href="#ref_Q931" shape="rect">[Q931]</a>, <a href="#ref_SS7"
  shape="rect">[SS7]</a>, VoIP, etc). Additionally, this call model is small and easily-understood so that concrete example
  programs can be written.</p>

  <p>JCC was designed to be a cross-platform high-level event set to describe as generic a phone model as possible. The JCC call
  model consists of Addresses, Calls, Connections, and Providers. In the context of CCXML, it was felt that the Address, Call,
  and Provider objects would add more complexity than value, so these were omitted as explicitly visible objects. Instead the
  behavior of Connections became the focus.</p>

  <p>The CCXML call model therefore is based on the behavior of Connections. A call is received or initiated under control of a
  CCXML session through the properties of a Connection.</p>

  <p>Note that the JCC model is designed for endpoint devices only.</p>

  <h3 id="Connection">10.2 Connections</h3>

  <p>The CCXML call model is based on the behavior of Connections.</p>

  <p>Each Connection has one input by which it receives a media stream from another Connection or Conference.</p>

  <p>Each Connection has one output media stream that can be directed to the inputs of multiple Connections and/or
  Conferences.</p>

  <p>If a network call is active on a Connection (in the <code>CONNECTED</code>, <code>PROGRESSING</code> or
  <code>ALERTING</code> state), the media stream received from the network is the Connection output, and the Connection input
  media stream is transmitted to the network.</p>

  <p>Dialogs are also modeled internally as a Connection for the purposes of media interaction. The Dialog object behaves as if
  it was a Connection object and can be joined to other resources in the same way as any other Connection. A Dialog will not
  however be listed in the session.connections session variable.</p>
  <pre class="example" xml:space="preserve">
&lt;dialogstart connectionid="c1" src="'example.vxml'" duplex="'full'"&gt;
</pre>

  <p><img alt="dialogstart" src="images/dialogstart.png" /></p>

  <p>For a Connection created by <code>&lt;dialogstart&gt;</code> , the Connection input and output media streams are available
  to the Dialog resource.</p>

  <h4 id="s10.2.1">10.2.1: Connection State</h4>

  <p>The state of a Connection Object reflects events that are generated, either a result of actions that occur within the
  telephony network, or as a result of actions performed by the CCXML application. The following state diagram shows the major
  aspects of Connection behavior, but omits some detail in favor of clarity (e.g. the <code>ERROR</code> state).</p>
  <!-- <img src="images/CallState-20070912.png" alt="Connection state diagram" width="759" height="578" />  -->
  <!-- <img src="images/CallState-20080221.png" alt="Connection state diagram" width="759" height="578" />  -->
  <img src="images/CallState-20081113.png" alt="Connection state diagram" width="759" height="578" />

  <p>The list of valid states that a connection can be in is:</p>

  <ul>
    <li><code>ALERTING</code></li>

    <li><code>PROGRESSING</code></li>

    <li><code>CONNECTED</code></li>

    <li><code>FAILED</code></li>

    <li><code>DISCONNECTED</code></li>

    <li><code>ERROR</code></li>

    <li><code>CREATED</code></li>
  </ul>

  <p>Connection Objects are created when a incoming call arrives to the platform via a <code>connection.alerting</code> event or
  via the execution of <code>&lt;createcall&gt;</code>.</p>

  <p>Connection Objects are automatically destroyed by the platform after they have reached the <code>DISCONNECTED</code>,
  <code>FAILED</code> or <code>ERROR</code> states. Platforms are responsible for deciding when to remove unused Connection
  Objects, however platforms MUST maintain a Connection Object at least through the <code>&lt;transition&gt;</code> for the
  corresponding <code>connection.disconnected</code>, <code>connection.failed</code>, <code>connection.redirected</code>,
  <code>connection.merged</code> or <code>error.connection</code> event</p>

  <p>The <code>PROGRESSING</code> and <code>ALERTING</code> states have reflexive transitions. This is intended to model
  protocols which have additional states at these points, and which may exchange messages such as <code>PROCEEDING</code>,
  <code>ALERTING</code>, <code>FACILITY</code>, or <code>NOTIFY</code>. Platforms <em class="RFC2119">MAY</em> choose to
  implement additional states which may be reflected in the <code>substate</code> property of the Connection object.</p>

  <h4 id="connection.properties">10.2.2: Connection Object</h4>

  <p>An instance of the Connection Object is associated with each telephony event source. Each instance is uniquely identified by
  its connection identifier. All Connection instances have a set of properties in common, shown in the following table.
  Properties that are not indicated as required only appear on an instance of the Connection object if they have a value. Other
  properties will always be present.</p>

  <p>The Connection Object is an extension of the <a href="#MediaEndpoint" shape="rect">Media Endpoint</a> Object as defined in
  section 10.4.3.</p>

  <table class="object" summary="object table">
    <tr class="objectHeader">
      <th>Connection Properties</th>

      <th>Required</th>

      <th>Definitions</th>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">connectionid</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property is the ECMAScript string value of the Connection Identifier, which uniquely
      identifies each instance of the Connection object.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">state</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property identifies the current state of the Connection instance; the value of this
      property is one of the constants defined in <a href="#s10.2.5">section 10.2.5</a>.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">substate</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">This property is a protocol-dependent property which allows further refinement of the state of
      a Connection, if desired.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">local</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">This property is a URI which addresses the interpreter platform; for an incoming call, this is
      the called URI; for a redirected incoming call, this is also the most recent redirection, and the prior values are
      contained in the "redirect" property; for an outgoing call, this is the calling URI.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">remote</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">This property is a URI which addresses the remote device; for an incoming call, this is the
      calling URI; for a redirected incoming call, this is the requester of the most recent redirection, and prior values are
      contained in the "redirect" property; for an outgoing call, this is the called URI.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">protocol</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">
        This property is a reference to an object defining protocol information for the protocol used on this connection; the
        referenced object defines information which applies to all connections using this protocol, and it has at least two
        properties:

        <div align="left">
          <ul>
            <li><b>name</b> - the name of the connection protocol; the name <em class="RFC2119">MAY</em> also be a property on
            the connection instance referencing protocol specific information; if no further protocol specific information is
            available, then <b><i>Connection.protocol[Connection.protocol.name]</i></b> is undefined; (see Appendix E for a
            suggested set of protocol names)</li>

            <li><b>version</b> - the version of the connection protocol</li>
          </ul>

          <div align="center">
            For example, the assignment of protocol-dependent user-to-user information to a variable <b><i>tmp</i></b> from a
            Connection instance referenced by the variable <b><i>cx</i></b> would be:<br />
            <b><i>&lt;assign name="tmp" expr="cx.protocol[cx.protocol.name].uui"/&gt;</i></b>
          </div>
        </div>
      </td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">redirect</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">
        This property is an array representing the connection redirection paths; the first element,
        <b><i>Connection.redirect[0]</i></b>, is the original number, with each subsequent element representing the target as of
        subsequent redirections. Each element of the array <em class="RFC2119">MAY</em> define any of the following four
        properties:

        <ul>
          <li><b>uri</b> - this element's path</li>

          <li><b>pi</b> - presentation information</li>

          <li><b>si</b> - screening information</li>

          <li><b>reason</b> - this is the reason for the redirect for example, "unknown", "user busy", "no reply", "deflection
          during alerting", "deflection immediate response", "mobile subscriber not reachable"</li>
        </ul>
      </td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">aai</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">This property is the application-to-application information passed during connection
      setup.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">originator</td>

      <td class="objectRowRequired">false</td>

      <td class="objectRowDetails">This property is set to either "local" or "remote" and indicates the originator of the
      connection; for an incoming call, this property is set to "remote"; for an outgoing call, it is set to "local";<br />
      For example, the assignment of the originating URI to a variable <b><i>uri</i></b> from a Connection instance referenced by
      the variable <b><i>cx</i></b> would be:<br />
      <b><i>&lt;assign name="uri" expr="cx[cx.originator]"/&gt;</i></b><br /></td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">input</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">As defined by the Media Endpoint Object in 10.4.3.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">outputs</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">As defined by the Media Endpoint Object in 10.4.3.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">objecttype</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property states the type of this object which must be 'connection'.</td>
    </tr>
  </table>
  <hr />

  <p>Platforms <em class="RFC2119">MAY</em> choose to add properties to Connection instances. By convention, the properties
  <em class="RFC2119">MUST</em> begin with an underscore, "_", to identify them as platform-dependent.</p>

  <h4 id="s10.2.3">10.2.3: Connection Events</h4>

  <p>CCXML applications are notified of Connection activities by events, which often reflect Connection state changes.
  Applications may also take actions which change the state of a Connection and which cause other events to be generated.</p>

  <p>In addition to the standard event attributes detailed in <a href="#s9.4.2" shape="rect">Section 9.4.2</a>, all Connection
  events have a set of properties in common, shown in the following table. Fields that are not indicated as required only appear
  on the event object if they have a value. Other fields will always be present.</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">connectionid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection associated with this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">protocol</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The platform protocol ID of the Connection protocol.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">info</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An object which provides additional platform or protocol dependent information</td>
    </tr>

    <tr class="">
      <td class="eventRowName">connection</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the Connection object identified by the connectionid property
      of this event.</td>
    </tr>
  </table>
  <hr />

  <p>Platforms <em class="RFC2119">MAY</em> choose to add properties to events. By convention, the properties <em class=
  "RFC2119">MUST</em> begin with an underscore, "_", to identify them as platform-dependent.</p>

  <h4 id="s10.2.4">10.2.4: Connection Operations</h4>

  <p>CCXML defines a number of elements, specified in detail in section 10.5, that are used to interact with Connection Objects.
  Execution of these elements <em class="RFC2119">MUST NOT</em> immediately change the state of the Connection Object; Connection
  Objects change their state once the event corresponding to the event transition is handed. Elements, such as
  <code>&lt;accept&gt;</code> or <code>&lt;disconnect&gt;</code>, do not actually change the state of the connection but instead
  issue requests to the platform to process the corresponding command that will in turn raise the events that chance the
  connection state. The sole exception to this is <code>&lt;createcall&gt;</code>, which creates a Connection Object immediately,
  with its '<code>state</code>' property set to <code>CREATED</code>, allowing the Connection Object to be accessed following the
  <code>&lt;createcall&gt;</code>, within the same transition. However, existence of the Connection Object does not guarantee
  anything about the success of the <code>&lt;createcall&gt;</code> request.</p>

  <p>When elements are used to request an action against a Connection Object, a corresponding event is always generated to
  indicate the result of executing that request. For instance, when the <code>&lt;accept&gt;</code> element is used to answer an
  incoming call, a '<code>connection.connected</code>' event indicates that the call was accepted successfully, whereas a
  '<code>connection.failed</code>' indicates that the call could not be accepted. The events that can be generated by elements
  that act on connections, and the circumstances under which those events occur, are summarized in the table below. Note that the
  <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code> elements are not included, since these apply to both Connections and
  Conferences, and are discussed in detail in Section 10.4 on Bridges.</p>

  <p>There are two common events that can be generated by any of the connection-affecting elements:</p>

  <ul>
    <li>If the element cannot be evaluated, for example if the referenced <code>connectionid</code> contained an invalid
    ECMAScript expression, then an '<code>error.semantic</code>' event is thrown - as is the case for all CCXML elements. The
    <code>error.semantic</code> event <em class="RFC2119">MUST NOT</em> change the state of the associated Connection
    Object(s).</li>

    <li>If the element cannot be executed because the current state of the referenced Connection Object (or Objects, in the case
    of <code>&lt;merge&gt;</code>) is not valid for the requested action, then an '<code>error.connection.wrongstate</code>'
    event is thrown. Note that an <code>error.connection.wrongstate</code> event is thrown based on the state of the Connection
    Object, which in turn reflects the events that have been processed by the CCXML application; it is not based on the actual
    real-time state of the underlying connection, which could change at any time.</li>
  </ul>

  <p>It is important to note that because CCXML is fully asynchronous, and because events can occur on the underlying
  communications network at any time, that connection-related events can occur that are not related to application actions. The
  most common of these is <code>connection.disconnected</code>, which can be triggered by a user-initiated hangup, and which can
  occur in any state during which the call is active.</p>

  <p>Finally, once an event is emitted by a Connection Object that transitions to a final state (such as
  <code>DISCONNECTED</code>), further events <em class="RFC2119">MUST NOT</em> be generated by that Connection Object. Thus, even
  if an application has performed an <code>&lt;accept&gt;</code> and expects to receive one of <code>connection.connected</code>,
  '<code>connection.accept.failed</code>', or <code>'connection.failed'</code>, it could receive a
  <code>'connection.disconnected'</code> instead. Since this event is associated with a transition to the
  <code>DISCONNECTED</code> state, no further events will be generated; thus the application will not receive any event as a
  result of having performed an <code>&lt;accept&gt;</code>.</p>

  <p>The following table shows the events that reflect the outcome of the connection-oriented elements defined by CCXML, for this
  reason the table omits the event generated by the underling network (i.e. <code>connection.alerting</code> and
  <code>connection.signal</code>):</p>

  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" style="border-collapse:collapse" summary=
  "action/event/reason mappings">
    <tr>
      <td width="95" valign="top" style="width:71.6pt;border:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt" rowspan="1"
      colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">Element</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border:solid windowtext 1.0pt; border-left:none;padding:0cm 5.4pt 0cm 5.4pt" rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">Event</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border:solid windowtext 1.0pt; border-left:none;padding:0cm 5.4pt 0cm 5.4pt" rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">Reason</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="4" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">(any)</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">error.semantic</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">A semantic error in the application, such as the use of an invalid
        ECMAScript expression, preventing the element from being executed. The intended target Connection Object state is
        unchanged by this event.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">error.connection.wrongstate</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">An element was used on a Connection Object in a state that is not valid
        for that element. For instance, performing an <code>&lt;accept&gt;</code> on a Connection Object in the CONNECTED state
        would result in this event. The state of the Connection Object is unchanged by this event.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.disconnected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The connection has disconnected; no further events, including events for
        any pending requests, will be generated. The Connection Object is now in the DISCONNECTED state. Properties of this event
        allow the cause of the disconnection to be determined.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">error.connection</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">A platform operational error has occurred on the connection; no further
        events, including events for any pending requests, will be generated. The Connection Object is now in the ERROR
        state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="3" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">&lt;accept&gt;</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.connected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">A connection in the ALERTING state was successfully accepted by the
        platform. This event is associated with a transition to the CONNECTED state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.accept.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The <code>&lt;accept&gt;</code> request failed to complete &ndash; the
        event&rsquo;s reason property may indicate why the request failed. The state of the Connection Object is unchanged by
        this event. Example situations that could result in this event include performing <code>&lt;accept&gt;</code> twice (by
        the time the second <code>&lt;accept&gt;</code> is processed, the underlying connection would already have been
        accepted), or performing <code>&lt;accept&gt;</code> after performing a &lt;reject&gt;.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The <code>&lt;accept&gt;</code> request failed to complete &ndash; the
        event&rsquo;s reason property may indicate why the request failed. This differs from connection.accept.failed in that the
        state of the Connection Object changes to FAILED. This event would typically occur if an error occurred during the
        process of trying to accept the call.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="3" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">&lt;redirect&gt;</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.redirected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The &lt;redirect&gt; request completed successfully; the call was
        redirected to the specified destination. This event is associated with a transition to the DISCONNECTED
        state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.redirect.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The &lt;redirect&gt; request failed to complete &ndash; the
        event&rsquo;s reason property may indicate why the request failed. This can happen for any number of common reasons
        &ndash; redirect target status (busy, no answer, etc), invalid destination number, insufficient resources, and others.
        This event does not change the state of the call; a CCXML application might well try to redirect to an alternate number,
        or perform some other action.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The &lt;redirect&gt; request failed to complete, but terminated the
        connection in the process of attempting the redirection. The Connection Object transitions to the FAILED
        state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="3" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">&lt;reject&gt;</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.disconnected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">A connection in the ALERTING state was either declined successfully (as
        a result of the &lt;reject&gt; request), OR was withdrawn before the rejection was performed. The properties of the
        connection.disconnected event must be consulted to determine the actual cause. In either case, the Connection Object
        transitions to the DISCONNECTED state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.reject.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The &lt;reject&gt; request failed to complete &ndash; the event&rsquo;s
        reason property may indicate why the request failed. The state of the Connection Object is unchanged by this request.
        Similarly to connection.accept.failed, this event can be caused by performing an <code>&lt;accept&gt;</code> followed by
        a &lt;reject&gt;.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The &lt;reject&gt; request failed to complete &ndash; the event&rsquo;s
        reason property may indicate why the request failed. Unlike connection.reject.failed, the state of the Connection Object
        changes to FAILED.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="4" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">&lt;createcall&gt;</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.progressing</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">An outbound connection is progressing; properties of the event may
        provide additional information about the progress of the outbound connection. This event does not imply final success or
        failure of an outbound connection, and does not change connection state &ndash; the Connection Object remains in the
        PROGRESSING state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.connected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The <code>&lt;createcall&gt;</code> request completed successfully,
        resulting in the establishment of a connection. The Connection Object transitions to the CONNECTED
        state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The <code>&lt;createcall&gt;</code> request was unsuccessful in
        establishing an outgoing connection. This can happen for any number of common reasons &ndash; target status (busy, no
        answer, etc), invalid destination number, insufficient resources, and others. Properties of the connection.failed event
        provide more information as to why the connection attempt failed. The Connection Object transitions to the FAILED
        state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.disconnected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The <code>&lt;createcall&gt;</code> request was abandoned at the request
        of the application (using &lt;disconnect&gt;). The Connection Object transitions to the DISCONNECTED state. This event is
        technically the result of the &lt;disconnect&gt; request, but is listed here because it is a possible outcome of the
        <code>&lt;createcall&gt;</code> caused by the application. Note also that a network-triggered connection.disconnected is
        not possible when establishing an outbound call, as this would trigger a connection.failed event.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="2" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">&lt;disconnect&gt;</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.disconnected</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">A connection in the PROGRESSING or CONNECTED states was disconnected
        successfully at the request of the application, or as a result of network-initiated disconnection occurred. The
        properties of the event indicate the actual reason for the disconnection. This event is associated with a transition to
        the DISCONNECTED state.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">The &lt;disconnect&gt; request failed to complete successfully,
        resulting in a transition to the FAILED state. This could reflect an error in the disconnection process (such as the lack
        of a disconnect acknowledgement from the network).</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="95" rowspan="2" valign="top" style=
      "width:71.6pt;border:solid windowtext 1.0pt; border-top:none;padding:0cm 5.4pt 0cm 5.4pt" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">&lt;merge&gt;</span></font></p>
      </td>

      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.merged</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">Two connections were merged successfully as requested by the
        application. One connection.merged event is received on each of the two connections that were merged. Both Connection
        Objects transition to the DISCONNECTED state when their respective connection.merged events are
        processed.</span></font></p>
      </td>
    </tr>

    <tr>
      <td width="174" valign="top" style=
      "width:130.8pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">connection.merge.failed</span></font></p>
      </td>

      <td width="327" valign="top" style=
      "width:245.2pt;border-top:none;border-left: none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt; padding:0cm 5.4pt 0cm 5.4pt"
      rowspan="1" colspan="1">
        <p class="MsoNormal"><font size="2" color="navy" face="Arial"><span style=
        "font-size: 10.0pt;font-family:Arial;color:navy">A &lt;merge&gt; request failed to complete successfully &ndash; the
        event&rsquo;s reason property may indicate why the request failed. The states of the involved Connection Objects are left
        unchanged.</span></font></p>
      </td>
    </tr>
  </table>

  <h5 id="s10.2.5">10.2.5: Connection Class</h5>

  <p>All connection objects <em class="RFC2119">MUST</em> be initiated via the Connection class. The Connection class <em class=
  "RFC2119">MUST</em> be read-only and provide the properties defined below.</p>

  <p>The following table lists the constants that correspond to the possible values of the <code>state</code> property of the
  connection object.</p>

  <table summary="List of Connection State Constants">
    <thead>
      <tr>
        <th rowspan="1" colspan="1">Constant</th>

        <th rowspan="1" colspan="1">Value</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td rowspan="1" colspan="1">Connection.ALERTING</td>

        <td rowspan="1" colspan="1">0</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.PROGRESSING</td>

        <td rowspan="1" colspan="1">1</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.CONNECTED</td>

        <td rowspan="1" colspan="1">2</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.FAILED</td>

        <td rowspan="1" colspan="1">3</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.DISCONNECTED</td>

        <td rowspan="1" colspan="1">4</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.ERROR</td>

        <td rowspan="1" colspan="1">5</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.CREATED</td>

        <td rowspan="1" colspan="1">6</td>
      </tr>
    </tbody>
  </table>

  <p>The following table lists the values of each index in the array of Connection states. This array <em class=
  "RFC2119">MUST</em> be read-only. Each connection state constant can be used to index into this array to return the
  human-readable string corresponding to that constant.</p>

  <table summary="Connection states array details">
    <thead>
      <tr>
        <th rowspan="1" colspan="1">Constant</th>

        <th rowspan="1" colspan="1">Value</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td rowspan="1" colspan="1">Connection.states[0]</td>

        <td rowspan="1" colspan="1">ALERTING</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.states[1]</td>

        <td rowspan="1" colspan="1">PROGRESSING</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.states[2]</td>

        <td rowspan="1" colspan="1">CONNECTED</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.states[3]</td>

        <td rowspan="1" colspan="1">FAILED</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.states[4]</td>

        <td rowspan="1" colspan="1">DISCONNECTED</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.states[5]</td>

        <td rowspan="1" colspan="1">ERROR</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">Connection.states[6]</td>

        <td rowspan="1" colspan="1">CREATED</td>
      </tr>
    </tbody>
  </table>

  <p>The following example logs the current state of the connection object:</p>
  <pre xml:space="preserve">
&lt;transition event="connection.*"&gt;
   &lt;log expr="Connection.states[event$.connection.state]"/&gt;
&lt;/transition&gt;
</pre>

  <h3 id="conferencing-elements">10.3: Conferences</h3>

  <p>CCXML applications can use <code>&lt;createconference&gt;</code> to create a new conference, or to attach to an existing
  conference. The CCXML application can connect or disconnect existing connections/conferences/dialogs to the new conference
  using <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code> (as described in <a href="#bridging" shape="rect">Section
  10.4</a>). When a session no longer requires the use of a conference, it uses <code>&lt;destroyconference&gt;</code> to detach
  from the conference. Asynchronous events will be sent to the CCXML document upon completion of each of these operations.</p>

  <p>Each Conference Object has one logical output and multiple inputs. The actual output streams of a Conference Object are
  derived by mixing all its input streams, less any contributed audio of an individual Connection, Conference Object who receives
  that output. The output of a Conference Object can be directed to the inputs of multiple Connections and/or Conference Object
  (as a result of bridging).</p>

  <p>Some telephony call control definitions do not define a separate Conference Object, instead defining a conference simply as
  a call with more than two parties. In order to accommodate the widest range of underlying telephony API's, CCXML requires
  explicit use of a Conference Object whenever two or more audio streams are mixed.</p>

  <p>Unlike connections and dialogs, which are local to a single session (but can be moved between sessions using
  <code>&lt;move&gt;</code>), conferences are global across all sessions, and can be bridged with the
  connections/conferences/dialogs of any session. Conferences can be named in order to facilitate the use of that conference in
  other sessions. Assigning a name using the <code>confname</code> attribute allows other sessions to access the created
  conference by performing a <code>&lt;createconference&gt;</code> with the same value for <code>confname</code>. Conferences
  continue to exist so long as at least one session exists that has attached to the conference using
  <code>&lt;createconference&gt;</code> without a corresponding <code>&lt;destroyconference&gt;</code>. When a session
  terminates, it implicitly detaches from any conferences to which it is still attached. Note that it is not necessary for a
  session to share a conference by assigning it a name in order for other sessions to make use of that conference. Other sessions
  may still establish bridges to a conference using <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code>, regardless of
  whether or not they have accessed the conference using <code>&lt;createconference&gt;</code>; only the conference ID is
  required for this. Because conferences are global, it is not legal to perform a <code>&lt;move&gt;</code> against a
  conference.</p>

  <p>NOTE: A simple two-party call does not require the use of a conference object. This is discussed in <a href="#bridging"
  shape="rect">Section 10.4</a>.</p>

  <h4 id="conference_class">10.3.1: Conference Object Properties</h4>

  <p>An instance of the Conference class is associated with each Conference Object created by
  <code>&lt;createconference&gt;</code> and referenced in the <code>session.conferences</code> associative array.</p>

  <table class="object" summary="object table">
    <tr class="objectHeader">
      <th>Conference Properties</th>

      <th>Required</th>

      <th>Definitions</th>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">conferenceid</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property is the ECMAScript string value of the Conference Identifier, which uniquely
      identifies each instance of the Conference class.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">bridges</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property is an ECMAScript associative array containing the identifiers of all
      connections/dialogs within the session that are currently bridged with the conference. Connections/dialogs owned by other
      sessions and joined to the same conference are not visible</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">conferencename</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property is the ECMAScript string value of the conference name that was passed in
      &lt;createconference&gt;. If no name was provided the value is ECMAScript <code>undefined</code>.</td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">objecttype</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">This property states the type of this object which must be 'conference'.</td>
    </tr>
  </table>
  <hr />

  <h3 id="s10.3.2">10.3.2: Conference class</h3>

  <p>All conference objects <em class="RFC2119">MUST</em> be initiated via the Conference class. The Conference class currently
  has no defined properties.</p>

  <h3 id="bridging">10.4: Bridges</h3>

  <p>A "bridge" is a relationship between the input and/or output streams of Connection, Dialog, and Conference Objects. The
  bridge concept and the details of its behavior are fundamental to CCXML Dialogs and Connections are equivalent with respect to
  establishing and terminating bridges; the term "Media Endpoint" is used as a common term to refer both to Connections and
  Dialogs from the perspective of bridging operations.</p>

  <p>There are two main ways in which CCXML applications can manipulate bridges:</p>

  <ul>
    <li>Implicitly, using the <code>&lt;createcall&gt;</code> (with '<code>joinid</code>') and
    <code>&lt;dialogprepare&gt;/&lt;dialogstart&gt;</code> (with '<code>connectionid</code>'/'<code>conferenceid</code>')
    elements;</li>

    <li>Explicitly, via the <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code> elements.</li>
  </ul>

  <p>Even in the simplest case of a network party interacting with a dialog, two Media Endpoints are <em class=
  "RFC2119">REQUIRED</em>, and a bridge is established between them implicitly by the action of <code>&lt;dialogstart&gt;</code>.
  More complex situations, such as two-party calls, two-party calls with "hotword" recognition, conference control, and
  "coaching" scenarios, all involve the use of multiple Media Endpoint and explicit control of one or more bridges between them
  by using <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code>.</p>

  <p>The nature of bridges, and the behavior of <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code>, is concerned with the
  mapping between the media stream inputs and outputs of Media Endpoints and Conferences:</p>

  <ul>
    <li>Each Media Endpoint has one input, and 0 or more outputs. If a network call is active on a Media Endpoint, the media
    stream received from the network is the Media Endpoint input, and the Media Endpoint output media stream is transmitted to
    the network. For a Media Endpoint created by <code>&lt;dialogstart&gt;</code>, the Media Endpoint input media stream is
    available to a recognizer under control of the CCXML session, and the Media Endpoint output media stream can be sourced from
    a resource (such as a Text To Speech engine) under control of the CCXML session.</li>

    <li>The output of a Media Endpoint or Conference can be directed to the inputs of one or more Media Endpoints and/or
    Conferences. This is sometimes called "splitting" media streams. Not all environments/implementations will necessarily
    support "splitting" a media stream in this manner. In such environments, a request to establish a bridge that requires the
    presence of splitting may fail.</li>

    <li>A Media Endpoint input can come from the output of only one Media Endpoint or Conference.</li>

    <li>A Conference input can have multiple inputs from the outputs of Media Endpoints or Conferences.</li>

    <li>If a new bridge requires a Media Endpoint to "listen", and the Media Endpoint is already listening to a different source,
    this existing stream relationship is torn down automatically.</li>
  </ul>

  <p>Bridges can be either one-way, in which the media stream flows only from party A to party B (such that B can hear A, but A
  cannot hear B), or two-way, in which the media stream flows in both directions between the parties involved.
  <code>&lt;join&gt;</code> has a <code>duplex</code> attribute to distinguish between two-way bridges and one-way bridges. For
  example, <code>&lt;join&gt;</code>ing Media Endpoint A to Media Endpoint B with <code>duplex=full</code> will direct the A
  output to the B input, and the B output to the A input, creating a simple two-party call. If instead the same
  <code>&lt;join&gt;</code> is done with <code>duplex=half</code>, it will direct the B output to the A input, and will not have
  any effect on the B input. Similarly, <code>&lt;dialogprepare&gt;</code>/<code>&lt;dialogstart&gt;</code> have the
  '<code>mediadirection</code>' attribute and <code>&lt;createcall&gt;</code> has the '<code>joindirection</code>' attribute for
  controlling what kind of bridge is established.</p>

  <p>For "hotword" recognition on a two-party call, a two-way (full duplex) bridge must be established between two network
  Connections, and a one-way (half duplex) bridge must be established from one of the network Connections to a Dialog used to
  perform the recognition. There are several ways this arrangement can be achieved, depending on the initial states of the
  Connections and Dialogs. For example, if the network party on Connection A is initially interacting with Dialog D (i.e., a full
  duplex bridge exists between them), all that is needed then is to do a <code>&lt;join&gt;</code> of Connection A to Connection
  B (the other network party) with <code>duplex=full</code>. This example highlights an important and subtle aspect of the
  behavior of <code>&lt;join&gt;</code> when one, or both, of the Connections being joined is already in one or more established
  bridges.</p>

  <p>Note that <code>&lt;join&gt;</code> <em class="RFC2119">MUST NOT</em> be used to add a Media Endpoint to an existing
  two-party bridge in order to create a 3-way Conference Instead, this functionality can be achieved by first using
  <code>&lt;createconference&gt;</code> to create a Conference object and then <code>&lt;join&gt;</code>ing all three Media
  Endpoints to this Conference. If a two-way bridge exists between A and B, and A is then <code>&lt;join&gt;</code>ed full duplex
  to C, the result will be a two-party bridge between A and C and a one-way bridge from A to B.</p>

  <p>CCXML applications <em class="RFC2119">MUST</em> only establish bridges on Media Endpoints that are owned by the session
  running that application. As such, a session cannot bridge a Media Endpoint that it owns to a Media Endpoint that is owned by
  another session, nor can it establish a bridge between two Media Endpoints owned by another session. Since Conferences are
  global, however, a session <em class="RFC2119">MAY</em> bridge a Media Endpoint that it owns to any Conference</p>

  <p>Asynchronous events are used to notify the CCXML application upon the completion of bridging operations performed by that
  application. Such events are also used to notify the application of changes to existing bridges that were not requested by the
  application - such as a <code>&lt;destroyconference&gt;</code> terminating a conference that a local connection has a bridge
  to. However, the execution of bridging operations and completion notification varies depending on how the bridging operation
  was performed:</p>

  <ul>
    <li>Implicit bridges created using <code>&lt;dialogprepare&gt;/&lt;dialogstart&gt;</code> (by specifing
    '<code>connectionid</code>' or '<code>conferenceid</code>') are established when the dialog is started. No bridging events
    are generated; the '<code>dialog.started</code>' event indicates that the dialog was started and the bridge is in place. If
    the specified bridge cannot be established, then the dialog <em class="RFC2119">MUST</em> not be started, and an
    <code>error.dialog.notstarted</code> event is generated. Note that a session could still receive a
    <code>conference.joined</code> event when a dialog is implicitly joined to a conference; this event is generated by the
    conference.</li>

    <li>Implicit bridges created using <code>&lt;createcall&gt;</code> (with '<code>joinid</code>') are physically realized as
    soon as a platform is capable of doing so; however, the inability to establish the bridge immediately upon execution of a
    <code>&lt;createcall&gt;</code> does not constitute an error. Prior to the point in time at which the call enters the
    <code>CONNECTED</code> state, it may not be possible to establish the requested bridge, or it may only be possible to
    establish the bridge one direction. As a result, when using <code>&lt;createcall&gt;</code> with '<code>joinid</code>', an
    event <em class="RFC2119">MUST</em> be generated when the requested bridge operation is completed. This event is independent
    of connection-related events such as '<code>connection.connected</code>', and may occur before or after such events depending
    on when the bridge is actually realized. If the bridge is established successfully, the '<code>conference.joined</code>'
    event is generated. If the requested bridge cannot be established even after the connection reaches the
    <code>CONNECTED</code> state, or if some other issue prevents the bridge from being established, an
    '<code>error.conference.join</code>' event will be generated. Referencing a dialog that has been prepared but not started in
    '<code>joinid</code>' always result in an error, and thus an '<code>error.conference.join</code>' event. Note that the call
    itself <em class="RFC2119">MUST</em> proceed independently of whether or not the bridge can be established. For instance, it
    is possible to receive both an '<code>error.conference.join</code>' event and a '<code>connection.connected</code>' event for
    a single call initiated using <code>&lt;createcall&gt;</code>.</li>

    <li>Explicit bridges creation requests using <code>&lt;join&gt;</code> are performed immediately independently, of the state
    of the underlying resource. Requests to terminate existing bridges using <code>&lt;unjoin&gt;</code> are also performed
    immediately. CCXML applications can use <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code> at any time, except in the
    case of dialogs, where <code>&lt;join&gt;</code> and <code>&lt;unjoin&gt;</code> can only be used on dialogs that have been
    started. For instance, a CCXML application can join two connections where one (or even both) of the connections is in the
    <code>ALERTING</code> state, providing early media on the <code>ALERTING</code> connection. If the CCXML implementation does
    not support a requested <code>&lt;join&gt;</code> due to the current state of an underlying entity, then this will result in
    an <code>error.conference.join</code> event with the '<code>reason</code>' field set appropriately.</li>
  </ul>

  <h4 id="JoinOutcomes">10.4.1: &lt;join&gt; Outcomes</h4>

  <p>As an aid to understanding, the outcomes of all possible <code>&lt;join&gt;</code> operations are shown diagrammatically
  below for three different initial conditions:</p>

  <ol>
    <li>a single Connection A, that is not currently in a bridge, represented graphically as: (A)</li>

    <li>two Connections A and B, with a half duplex bridge (A output to B input), represented graphically as: A -----&gt; B</li>

    <li>two Connections A and B, with a full duplex bridge (A output to B input &amp; B output to A input), represented
    graphically as: A &lt;====&gt; B</li>
  </ol>For the initial condition in which a single Connection A is not currently in a bridge, there are four possible
  <code>&lt;join&gt;</code> s:<br clear="none" />
  <br clear="none" />

  <table cellspacing="2" cellpadding="2" width="90%" summary="connection audio table" border="1">
    <tbody>
      <tr>
        <td align="center" rowspan="1" colspan="1">initially</td>

        <td align="center" rowspan="1" colspan="1"><code>(A)(B)</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to B half</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;----- B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to B full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to A half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to A full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>
    </tbody>
  </table><br clear="none" />
  For the initial condition in which a half duplex bridge exists from Connection A to Connection B (A output to B input), there
  are twelve possible <code>&lt;join&gt;</code> s:<br clear="none" />
  <br clear="none" />

  <table cellspacing="2" cellpadding="2" width="90%" summary="connection audio table" border="1">
    <tbody>
      <tr>
        <td align="center" rowspan="1" colspan="1">initially</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to B half</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;----- B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to B full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to A half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to A full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to C half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A &lt;----- C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to C full</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A &lt;====&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to A half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A -----&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to A full</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A &lt;====&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to C half</td>

        <td align="center" rowspan="1" colspan="1"><code>(A) &amp; B &lt;----- C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to C full</td>

        <td align="center" rowspan="1" colspan="1"><code>(A) &amp; B &lt;====&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to B half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; B -----&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to B full</td>

        <td align="center" rowspan="1" colspan="1"><code>(A) &amp; B &lt;====&gt; C</code></td>
      </tr>
    </tbody>
  </table><br clear="none" />
  For the initial condition in which a full duplex bridge exists between two Connections A and B (A output to B input &amp; B
  output to A input), there are twelve possible <code>&lt;join&gt;</code> s:<br clear="none" />
  <br clear="none" />

  <table cellspacing="2" cellpadding="2" width="90%" summary="connection audio table" border="1">
    <tbody>
      <tr>
        <td align="center" rowspan="1" colspan="1">initially</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to B half</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;----- B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to B full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to A half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to A full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to C half</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A &lt;----- C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join A to C full</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A &lt;====&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to A half</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B &amp; A -----&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to A full</td>

        <td align="center" rowspan="1" colspan="1"><code>A -----&gt; B &amp; A &lt;====&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to C half</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;----- B &amp; B &lt;----- C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join B to C full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;----- B &amp; B &lt;====&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to B half</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;====&gt; B &amp; B -----&gt; C</code></td>
      </tr>

      <tr>
        <td align="center" rowspan="1" colspan="1">join C to B full</td>

        <td align="center" rowspan="1" colspan="1"><code>A &lt;----- B &amp; B &lt;====&gt; C</code></td>
      </tr>
    </tbody>
  </table><br clear="none" />

  <p>In summary, <code>&lt;join&gt;</code> behavior always respects three invariants:</p>

  <ol>
    <li>The media stream relationship specified in the <code>&lt;join&gt;</code> is established between the two
    Connections/Conferences referenced in the <code>&lt;join&gt;</code>. In particular, any existing stream relationship between
    these two Connections/Conferences is torn down automatically if it conflicts with the specified relationship.</li>

    <li>If the relationship specified in the <code>&lt;join&gt;</code> requires a Connection to "listen" and the Connection is
    already listening to a different source, this existing stream relationship is torn down automatically.</li>

    <li>Any existing stream relationship that does not present a conflict according to invariant #1 or invariant #2 is
    preserved.</li>
  </ol>

  <h4 id="invariantExamples">10.4.2: Invariant Examples</h4>

  <p>To illustrate some typical invocations of <code>&lt;join&gt;</code> invariants a few example scenarios are presented below.
  In the first scenario, connection <i>c1</i> is bridged to a conference <i>C1</i>, via a <code>&lt;join&gt;</code> where the
  <code>duplex</code> mode is <code>full</code>.</p>
  <pre class="example" xml:space="preserve">
After &lt;join id1="'C1'" id2="'c1'" duplex="'full'"&gt;
</pre>
  <pre class="example" xml:space="preserve">
Session object properties
session.connections['c1'].input == 'C1'
session.connections['c1'].outputs.length == 1
session.connections['c1'].outputs[0] == 'C1'
session.conferences['C1'].bridges['c1'] == 'c1'
</pre>

  <p><img alt="invariant2-before" src="images/invariant2-before.png" /></p>

  <p>If <i>c1</i> then became a participant in a <code>&lt;dialogstart&gt;</code> where <i>d1</i> represents a connection to a
  dialog and the <code>mediadirection</code> is both, the original picture would change as follows:</p>
  <pre class="example" xml:space="preserve">
After &lt;dialogstart connectionid="'c1'" src="'example.vxml'" mediadirection="'both'"&gt;
</pre>
  <pre class="example" xml:space="preserve">
session.connections['c1'].input == 'd1'
session.connections['c1'].outputs.length == 2
session.connections['c1'].outputs[0] == 'C1'
session.connections['c1'].outputs[1] == 'd1'
session.conferences['C1'].bridges['c1'] == 'c1'
session.dialogs['d1'].input == 'c1'
session.dialogs['d1'].outputs[0] == 'c1'
session.dialogs['d1'].outputs.length == 1
</pre>

  <p><img alt="invariant2-after" src="images/invariant2-after.png" /></p>

  <p>The <code>&lt;dialogstart&gt;</code> required <i>c1</i> to "listen" to <i>d1</i>, however, <i>c1</i> was already in an
  established bridge listening to <i>C1</i>. Consequently, the full duplex bridge between <i>c1</i> and <i>C1</i> is changed to a
  half duplex, where <i>c1</i> is not allowed to "listen" to <i>C1</i> and a full duplex bridge is established between <i>c1</i>
  and <i>d1</i>.</p>

  <p>In this second scenario, <i>c1</i> and <i>c2</i> have been joined into a conference, <i>C1</i>.</p>
  <pre class="example" xml:space="preserve">
After &lt;join id1="'C1'" id2="'c1'" duplex="'full'"&gt; 
and:  &lt;join id1="'C1'" id2="'c2'" duplex="'full'"&gt;
</pre>
  <pre class="example" xml:space="preserve">
session.connections['c1'].input == 'C1'
session.connections['c1'].outputs.length == 1
session.connections['c1'].outputs[0] == 'C1'
session.connections['c2'].input == 'C1'
session.connections['c2'].outputs.length == 1
session.connections['c2'].outputs[0] == 'C1'
session.conferences['C1'].bridges['c1'] == 'c1'
session.conferences['C1'].bridges['c2'] == 'c2'
</pre>

  <p><img alt="invariant1-before" src="images/conference.png" /></p>

  <p>If a <code>&lt;join&gt;</code> is then executed that specifies <i>c2</i> and <i>C1</i> as participants and the duplex mode
  is half, the bridge between <i>c2</i> and <i>C1</i> will be re-established with <i>C1</i> able to "listen" to <i>c2</i>, but
  <i>c2</i> no longer able to "listen" to <i>C1</i>.</p>
  <pre class="example" xml:space="preserve">
After &lt;join id1="C1" id2="c2" duplex="'half'"&gt;
</pre>
  <pre class="example" xml:space="preserve">
session.connections['c1'].input == 'C1'
session.connections['c1'].outputs.length == 1
session.connections['c1'].outputs[0] == 'C1'
session.connections['c2'].input == undefined
session.connections['c2'].outputs.length == 1
session.connections['c2'].outputs[0] == 'C1'
session.conferences['C1'].bridges['c1'] == 'c1'
session.conferences['C1'].bridges['c2'] == 'c2'
</pre>

  <p><img alt="invariant1-after" src="images/invariant1-after.png" /></p><br clear="none" />

  <p>In this third scenario, there are three connections c1, c2 and c3. Connections c1 and c2 are connected with a half duplex
  bridge, connection 3 is not bridged at this point.</p>
  <pre class="example" xml:space="preserve">
After &lt;join id1="'c1'" id2="'c2'" duplex="'half'"&gt;
Session object properties
</pre>
  <pre class="example" xml:space="preserve">
session.connections['c1'].input == 'c2'
session.connections['c1'].outputs.length == 0

session.connections['c2'].input == undefined
session.connections['c2'].outputs.length == 1
session.connections['c2'].outputs[0] == 'c1'

session.connections['c3'].input == undefined
session.connections['c3'].outputs.length == 0
</pre>

  <p><img alt="invariant3-before" src="images/invariant3-before.png" /></p>

  <p>A full bridge is established between connections c2 and c3, connection c1 is still receiving from c2.</p>
  <pre class="example" xml:space="preserve">
After &lt;join id1="'c2'" id2="'c3'" duplex="'full'"&gt;
</pre>
  <pre class="example" xml:space="preserve">
session.connections['c1'].input == 'c2'
session.connections['c1'].outputs.length == 0

session.connections['c2'].input == 'c3'
session.connections['c2'].outputs.length == 2
session.connections['c2'].outputs[0] == 'c1'
session.connections['c2'].outputs[1] == 'c3'

session.connections['c3'].input == 'c2'
session.connections['c3'].outputs.length == 1
session.connections['c3'].outputs[0] == 'c2'
</pre>

  <p><img alt="invariant3-after" src="images/invariant3-after.png" /></p>

  <h4 id="MediaEndpoint">10.4.3: Media Endpoint Properties</h4>

  <p>Connection and Dialog objects all have a common set of base properties relating to media input/output. The standard set of
  media endpoint properties are defined below:</p>

  <table class="object" summary="object table">
    <tr class="objectHeader">
      <th>Media Endpoint Properties</th>

      <th>Required</th>

      <th>Definitions</th>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">input</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">The identifier (connectiondid/conferenceid/dialogid) of the single media endpoint (connection,
      dialog or conference) providing the input stream to this media endpoint or undefined if there is no input stream. This
      property <em class="RFC2119">MUST</em> be updated each time a <b><i>&lt;join&gt;/&lt;unjoin&gt;</i></b> or any other media
      operation changes the media source to this media endpoint.<br />
      If the media endpoint does not have a media source the value <em class="RFC2119">MUST</em> be ECMAScript undefined.<br />
      For example the creation of a half duplex bridge<br />
      <b><i>&lt;join id1="con1" id2="con2" duplex="'half'" /&gt;</i></b><br />
      Result<br />
      session.connections[con1].input = "con2"<br />
      session.connections[con2].input = undefined<br /></td>
    </tr>

    <tr class="">
      <td class="objectRowFieldName">outputs</td>

      <td class="objectRowRequired">true</td>

      <td class="objectRowDetails">An array containing the identifiers of all media endpoints to which the output stream of this
      media endpoint is sent. If the media endpoint does not have any media destinations the length of the array <em class=
      "RFC2119">MUST</em> be 0.<br />
      For example the creation of a half duplex bridge<br />
      <b><i>&lt;join id1="con1" id2="con2" duplex="'half'" /&gt;</i></b><br />
      Result<br />
      session.connections[con1].outputs.length = 0<br />
      session.connections[con2].outputs.length = 1<br /></td>
    </tr>
  </table>
  <hr />

  <h3 id="s10.5">10.5: Elements</h3>

  <h4 id="Accept">10.5.1: <code>&lt;accept&gt;</code></h4>

  <h5 id="s10.5.1.1">10.5.1.1: Overview</h5>

  <p>The execution of an <code>&lt;accept&gt;</code> <em class="RFC2119">MUST</em> cause the underlying platform to signal the
  telephony system to connect the specified Connection to the CCXML platform. The CCXML document <em class="RFC2119">MAY</em>
  then initiate interactive dialog sessions with the incoming caller, or perform other telephony operations (e.g., place outgoing
  calls, join calls, etc).</p>

  <h5 id="s10.5.1.2">10.5.1.2: <code>&lt;accept&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">event$.connectionid if defined, ECMAScript undefined otherwise</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that must be the identifier of a
      Connection on which the incoming call is signaled. If the <b>connectionid</b> attribute is omitted, the interpreter must
      accept using the id indicated in the current event being processed.<br />
      If the attribute value is invalid or there is no valid default value, an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network accepting the connection. This information <i>may</i> consist of
      protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h4 id="Redirect">10.5.2: <code>&lt;redirect&gt;</code></h4>

  <h5 id="s10.5.2.1">10.5.2.1: Overview</h5>

  <p>When a CCXML document executes a <code>&lt;redirect&gt;</code> within the <code>&lt;transition&gt;</code> block, this
  <em class="RFC2119">MUST</em> cause the underlying platform to signal the telephony system to send the call to a specified
  destination. The use of <code>&lt;redirect&gt;</code> is only valid when a call is in the <code>ALERTING</code> and
  <code>CONNECTED</code> states.</p>

  <p>If the call is currently joined, it <em class="RFC2119">MUST</em> be unjoined before the redirect is performed and a
  <code>conference.unjoined</code> event <em class="RFC2119">MUST</em> be generated. Note the platform is not required to
  generate the <code>conference.unjoined</code> or <code>connection.redirected</code> in any particular order.</p>

  <h5 id="s10.5.2.2">10.5.2.2: <code>&lt;redirect&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">event$.connectionid if defined, ECMAScript undefined otherwise</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of a Connection on
      which a call is active or on which an incoming call is being signaled. This call must be redirected. If the
      <b>connectionid</b> attribute is omitted, the interpreter must redirect using the id indicated in the current event being
      processed.<br />
      If the attribute value is invalid or there is no valid default value, an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">dest</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A Valid URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the address where the call should
      be redirected to. A platform <em class="RFC2119">MUST</em> support a telephone URI, as described in <a href=
      "#ref_RFC3966">[RFC3966]</a> and <em class="RFC2119">MAY</em> support other URI schemes such as "sip:" or "h323:".</td>
    </tr>

    <tr class="">
      <td class="elementRowName">reason</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the reason the call is being
      redirected.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network redirecting the connection. This information <i>may</i> consist of
      protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <p>If the platform is unable to redirect the call this <em class="RFC2119">MUST</em> result in the generation of an
  <code>connection.redirect.failed</code> event.</p>

  <h4 id="Reject">10.5.3: <code>&lt;reject&gt;</code></h4>

  <h5 id="s10.5.3.1">10.5.3.1: Overview</h5>

  <p>The execution of an <code>&lt;reject&gt;</code> <em class="RFC2119">MUST</em> cause the underlying platform to signal the
  telephony system to reject the incoming Connection from the platform.</p>

  <h5 id="s10.5.3.2">10.5.3.2: <code>&lt;reject&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">event$.connectionid if defined, ECMAScript undefined otherwise</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of a Connection on
      which an incoming call is being signaled. This call must be rejected. If the <b>connectionid</b> attribute is omitted, the
      interpreter must reject using the id indicated in the current event being processed.<br />
      If the attribute value is invalid or there is no valid default value, an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">reason</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the reason the call is being
      rejected.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network rejecting the connection. This information <i>may</i> consist of
      protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h4 id="Createcall">10.5.4: <code>&lt;createcall&gt;</code></h4>

  <h5 id="s10.5.4.1">10.5.4.1: Overview</h5>

  <p>A CCXML document is able to instruct the platform to attempt to place an outgoing call with <code>&lt;createcall&gt;</code>.
  This element <em class="RFC2119">MUST</em> instruct the platform to allocate a Connection and attempt to place an outgoing call
  to a specified address. The CCXML interpreter <em class="RFC2119">MUST</em> receive an asynchronous event when the call attempt
  is completed. An <code>&lt;eventprocessor&gt; &lt;transition&gt;</code> block can handle this event and perform further call
  control, such as conferencing. If the call was successfully placed, the transition block can also initiate a dialog interaction
  with the called party.</p>

  <p>The execution of <code>&lt;createcall&gt;</code> <em class="RFC2119">MUST</em> result in the generation of one or more
  <code>connection.progressing</code> events (depending on platform support for call progress) followed by a
  <code>connection.connected</code> event on success, or zero or more <code>connection.progressing</code> events followed by a
  <code>connection.failed</code> event on failure.</p>

  <h5 id="s10.5.4.2">10.5.4.2: <code>&lt;createcall&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">dest</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">A Valid URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the target of the outbound
      telephone call. A platform <em class="RFC2119">MUST</em> support a telephone URI, as described in <a href=
      "#ref_RFC3966">[RFC3966]</a> and <em class="RFC2119">MAY</em> support other URI schemes such as "sip:" or "h323:" or a SIP
      URI as described in <a href="#ref_RFC3261">[RFC3261]</a>.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive the identifier of the Connection on which the outgoing call is attempted.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">aai</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string of application-to-application information
      to be passed to the destination endpoint when establishing the connection.<br />
      <b>Note:</b> Even if an implementation platform accepts the <b>aai</b> data, certain protocols and network elements
      <i>may</i> prevent the transmission to the target endpoint. If the platform does not support the transmission of <b>aai</b>
      data it <i>must</i> raise a <b>connection.progressing</b> event and indicate that the use of <b>aai</b> is not
      supported.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">callerid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string defining the caller identity to be used
      when making the outbound connection. The format of this information is protocol and platform specific but might consist of
      a telephone URI, as described in <a href="#ref_RFC3966">[RFC3966]</a> or a SIP URI as described in <a href=
      "#ref_RFC3261">[RFC3261]</a>.<br />
      <b>Note:</b> An implementation platform is not <i>required</i> to use the specified data and certain protocols and network
      elements <i>may</i> prevent its use. If the platform does not support the specification of <b>callerid</b> it <i>must</i>
      raise a <b>connection.progressing</b> event and indicate that the use of <b>callerid</b> is not supported.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform when establishing the outbound connection. This information <i>may</i> consist of protocol-specific
      parameters, protocol selection guidelines, or routing hints.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">timeout</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression which returns a character string in CSS2 <a href=
      "#ref-css2">[CSS2]</a> format</td>

      <td class="elementRowDescription">The character string returned is interpreted as a time interval. This interval begins
      when <b>createcall</b> is executed. The <b>createcall</b> must fail if not completed by the end of this interval. A
      completion is defined as the call getting to a CONNECTED state as signaled by a <b>connection.connected</b> event. A failed
      <b>createcall</b> must return the <b>connection.failed</b> event.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">joinid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">(valid connection, conference, or dialog ID)</td>

      <td class="elementRowDescription">An ECMAScript expression that identifies a connection, conference, or dialog ID that the
      new call must be joined to. This is equivalent, from the perspective of the CCXML application, to performing a &lt;join&gt;
      immediately following the &lt;createcall&gt;. However, platforms may use knowledge about the connection/conference/dialog
      to which the new call will be connected to optimize the call creation process. If the attribute value is invalid an
      <code>error.semantic</code> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">joindirection</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints">
      <span >This attribute is only valid in conjunction with the <code>joinid</code>
      attribute, otherwise ignored.</span>
      
      </td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">both</td>

      <td class="elementRowValidValues">both<br />
      calltransmit<br />
      callreceive</td>

      <td class="elementRowDescription">
        An ECMAScript expression that defines the direction of the media flow between the newly created connection, and the
        existing connection/conference/dialog referenced by joinid:

        <dl>
          <dt>both</dt>

          <dd>Specifes a full duplex connection where the media flows in both directions.</dd>

          <dt>calltransmit</dt>

          <dd>The new connection transmits media to the referenced connection/conference/dialog but does not receive any media
          streams.</dd>

          <dt>callreceive</dt>

          <dd>The new connection receives media from the referenced connection/conference/dialog but does not transmit any media
          streams.</dd>
        </dl>
      </td>
    </tr>
  </table>

  <h5 id="s10.5.5.3">10.5.4.3: <code>&lt;createcall&gt;</code> examples</h5>

  <p>The following example illustrates the simplest use of <code>&lt;createcall&gt;</code> .</p>
  <pre class="example" xml:space="preserve">
&lt;createcall dest="'tel:1235551234'"/&gt;
</pre>

  <p>This example illustrates the use of several attributes of <code>&lt;createcall&gt;</code>. A SIP URI is provided as the
  originators caller id, a selection of protocol specific parameters are provided (<code>callingDevice</code> and
  <code>callCharacteristics</code>) and a string of application specific data is provided to be presented to the remote endpoint.
  The connection ID for the new connection is returned in the variable "<code>myConidVar</code>".</p>
  <pre class="example" xml:space="preserve">
&lt;var name="myConidVar"/&gt;
&lt;createcall
 dest="'sip:+1-212-555-1212:1234@gateway.com;'"
 callerid="'sip:j.doe@big.com'"
 connectionid="myConidVar"
 aai="'This is application specific data'"
 hints="var tmp = {callingDevice: 'notSpecified', callCharacteristics: 'voiceUnitCall'}; tmp"/&gt;
</pre>

  <h4 id="Createconference">10.5.5: <code>&lt;createconference&gt;</code></h4>

  <h5 id="Createconference-Overview">10.5.5.1: Overview</h5>

  <p>A CCXML document can attempt to create or attach to a Conference Object using <code>&lt;createconference&gt;</code>. This
  element instructs the implementation to allocate a Conference Object using the specified options. The successful execution of
  <code>&lt;createconference&gt;</code> <em class="RFC2119">MUST</em> result in the generation of a
  <code>conference.created</code> event. If for any reason the implementation is unable to create the Conference Object using the
  specified options it <em class="RFC2119">MUST</em> fail with a <code>error.conference.create</code> event.</p>

  <p>Since conferences are global in scope, it is possible that other sessions will establish or terminate bridges to a
  Conference created by an application. Sessions that have created or attached to a Conference using
  <code>&lt;createconference&gt;</code> receive notifications of any bridges that are created or destroyed, through the
  '<code>conference.joined</code>' and '<code>conference.unjoined</code>' events. However, if a session establishes or terminates
  a bridge between a Connection that it owns and a Conference that it has created/attached to, it will only receive one such
  event - not one event each for the Connection and for the Conference.</p>

  <p>It is legal for a session to perform a <code>&lt;createconference&gt;</code> multiple times with the same value for the
  '<code>confname</code>' parameter. The same conference ID will be returned in each case, allowing this to be used as a
  mechanism for looking up conference IDs.</p>

  <h5 id="s10.5.5.2">10.5.5.2: <code>&lt;createconference&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">conferenceid</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Left Hand Side Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">ECMAScript Variable</td>

      <td class="elementRowDescription">An ECMAScript left hand side expression evaluating to a previously defined variable. The
      value of the attribute must receive the conference identifier. A conference identifier <b><i>must</i></b> be globally
      unique, so that conferences can be uniquely addressed and possibly connected to.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">confname</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">valid conference URI</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the name of the conference. The
      conference name corresponds to the conference identifier that will be returned in the variable specified in the
      <b>conferenceid</b> attribute.<br />
      If the named conference does not exist, the platform <i>must</i> create a conference object as requested and return the
      value of the conference identifier to the variable specified in the <b>conferenceid</b> attribute. If a conference already
      exists the platform <i>must</i> return the conference identifier of the previously created conference.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">reservedtalkers</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns the number of guaranteed speaker slots the
      conference mixer must reserve. If the conference already exists, then this attribute <i>must</i> be ignored.<br />
      If the conference mixer is unable to reserve this many speaker slots, the <b>createconference</b> <i>must</i> fail with a
      <b>error.conference.create</b> event.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">reservedlisteners</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns the number of guaranteed listener slots the
      conference mixer must reserve. If the conference already exists, then this attribute <i>must</i> be ignored.<br />
      If the conference mixer is unable to reserve this many listener slots, the <b>createconference</b> <i>must</i> fail with a
      <b>error.conference.create</b> event.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform when creating the conference.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h4 id="Destroyconference">10.5.6: <code>&lt;destroyconference&gt;</code></h4>

  <h5 id="Destroyconference-Overview">10.5.6.1: Overview</h5>

  <p>A CCXML document is able to instruct the platform to attempt to detach from an existing Conference Object using
  <code>&lt;destroyconference&gt;</code>. This destroys the conference if no other sessions are attached to it. The target
  Conference Object is identified using the <code>conferenceid</code> attribute. The successful execution of
  <code>&lt;destroyconference&gt;</code> <em class="RFC2119">MUST</em> result in the generation of a
  <code>conference.destroyed</code> event. If for any reason the implementation is unable to deallocate the Conference Object it
  <em class="RFC2119">MUST</em> fail with a <code>error.conference.destroy</code> event.</p>

  <p>Since other sessions may have created bridges to a conference using the conference's ID, but without performing a
  <code>&lt;createconference&gt;</code>, destroying a conference <em class="RFC2119">MAY</em> affect the bridges established by
  other sessions. If any bridges are terminated in this fashion, a '<code>conference.unjoined</code>' event <em class=
  "RFC2119">MUST</em> be posted to indicate to the session that its Connection is no longer bridged to the Conference.</p>

  <p>The platform <em class="RFC2119">MUST</em> implicitly tear down any existing bridges to the dialog and send a
  <code>conference.unjoined</code> to the CCXML document once the media paths have been freed.</p>

  <h5 id="s10.5.6.2">10.5.6.2: <code>&lt;destroyconference&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">conferenceid</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Conference IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of the conference
      that <i>must</i> be destroyed.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform when destroying the conference.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h4 id="Join">10.5.7: <code>&lt;join&gt;</code></h4>

  <h5 id="Join-Overview">10.5.7.1: Overview</h5>

  <p>A CCXML document can attempt to create a bridge between two connections, conferences, or dialogs using
  <code>&lt;join&gt;</code>. This element instructs the implementation to bridge the connections, conferences, or dialogs
  specified using the <code>id1</code> and <code>id2</code> attributes in accordance with media options specified by the other
  attributes of <code>&lt;join&gt;</code>. The successful execution of<code>&lt;join&gt;</code> <em class="RFC2119">MUST</em>
  result in the generation of a <code>conference.joined</code> event. If for any reason the implementation is unable to create
  the bridge using the specified options it <em class="RFC2119">MUST</em> fail with a <code>error.conference.join</code>
  event.</p>

  <p>Any Connections or Dialogs referenced by the '<code>id1</code>' and '<code>id2</code>' attributes of
  <code>&lt;join&gt;</code> <em class="RFC2119">MUST</em> be owned by the session performing the <code>&lt;join&gt;</code>. If
  <code>id1</code> or <code>id2</code> refer to Conferences, then it is not necessary that the session has performed a
  <code>&lt;createconference&gt;</code> to create/attach to that conference; it is sufficient that it has a valid conference
  ID.</p>

  <p>When joining a Connection or Dialog to a Conference, or when joining two Conferences, the '<code>conference.joined</code>'
  event <em class="RFC2119">MUST</em> be posted to all sessions that are attached to the affected Conference(s). This <em class=
  "RFC2119">MUST NOT</em> result in multiple '<code>conference.joined</code>' events if the session performing the
  <code>&lt;join&gt;</code> is attached to the conference, nor if any session owns both conferences when two conferences are
  joined together. If the implementation is unable to join the objects an <code>error.conference.join</code> <em class=
  "RFC2119">MUST</em> only be sent to the session that issued the <code>&lt;join&gt;</code>.</p>

  <p>Implementations <em class="RFC2119">MAY</em> disallow two dialogs from being joined together. If both <code>id1</code> and
  <code>id2</code> specify dialogs and the platform does not support joining together two dialogs, then an
  <code>error.conference.join</code> event is thrown.</p>

  <h5 id="s10.5.7.2">10.5.7.2: <code>&lt;join&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">id1</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">(valid connection, conference, or dialog ID)</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of a Connection,
      Dialog or Conference.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">id2</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">(valid connection, conference, or dialog ID)</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of a Connection,
      Dialog or Conference.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">duplex</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">full</td>

      <td class="elementRowValidValues">full<br />
      half</td>

      <td class="elementRowDescription">
        An ECMAScript expression that returns a character string equal to "half" or "full", which defines the direction of the
        media flow between id1 resource and id2 resource. Refer to the discussion of bridging in <a href="#bridging">Section
        10.4</a> . The <b>duplex</b> attribute determines whether the <b>join</b> must establish a half-duplex (unidirectional)
        or full-duplex (bi-directional) bridge. The following values can be used:

        <dl>
          <dt>full</dt>

          <dd>Specifies a full duplex bridge where the media flows in both directions.</dd>

          <dt>half</dt>

          <dd>Species a half duplex bridge where the media flows towards id1 resource, but no media flows from id1 resource to
          id2 resource.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network when the two specified Connections, Dialogs or Conferences (id1 and id2) are
      joined. This information <i>may</i> consist of protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">entertone</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">'true'</td>

      <td class="elementRowValidValues">'true'<br />
      'false'<br />
      URI</td>

      <td class="elementRowDescription">
        An ECMAScript expression that returns a character string that must be used to play a tone or a custom wav file to the
        conference participants when this Connection joins. The following values can be used:

        <dl>
          <dt>'true'</dt>

          <dd>Setting this to 'true' must play the default system beep.</dd>

          <dt>'false'</dt>

          <dd>Setting this to 'false' must result in no alerting sound being played at all.</dd>

          <dt>URI</dt>

          <dd>The developer may also specify a URI value which points to a user-defined wav file to be played instead of the
          default system beep.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">exittone</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">'true'</td>

      <td class="elementRowValidValues">'true'<br />
      'false'<br />
      URI</td>

      <td class="elementRowDescription">
        An ECMAScript expression that returns a character string that must be used to play a tone or a custom wav file to the
        conference participants when this Connection exits 
<span >        (Note: The exact order of operations in this scenario is to play exittone, then unjoin and finally send conference.unjoined).<br/><br/></span>
        The following values can be used:

        <dl>
          <dt>'true'</dt>

          <dd>Setting this to 'true' will play the default system beep.</dd>

          <dt>'false'</dt>

          <dd>Setting this to 'false' will result in no alerting sound being played at all.</dd>

          <dt>A Valid</dt>

          <dd>The developer may also specify a URI value which points to a user-defined wav file to be played instead of the
          default system beep.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">autoinputgain</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Boolean Expression</td>

      <td class="elementRowDefaultValues">true</td>

      <td class="elementRowValidValues">true<br />
      false</td>

      <td class="elementRowDescription">
        An ECMAScript Boolean expression that tells the conference mixer if it must use AGC to determine the input gain for this
        leg. If a platform does not support AGC, it must ignore this attribute. The following values can be used:

        <dl>
          <dt>true</dt>

          <dd>AGC must be used to determine input gain for a leg.</dd>

          <dt>false</dt>

          <dd>AGC must not be used.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">autooutputgain</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Boolean Expression</td>

      <td class="elementRowDefaultValues">true</td>

      <td class="elementRowValidValues">true<br />
      false</td>

      <td class="elementRowDescription">
        An ECMAScript boolean expression that tells the conference mixer if it must use AGC to determine the output gain for this
        leg. If a platform does not support AGC, it must ignore this attribute. The following values can be used:

        <dl>
          <dt>true</dt>

          <dd>AGC must be used to determine output gain for a leg.</dd>

          <dt>false</dt>

          <dd>AGC must not be used.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">dtmfclamp</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Boolean Expression</td>

      <td class="elementRowDefaultValues">true</td>

      <td class="elementRowValidValues">true<br />
      false</td>

      <td class="elementRowDescription">
        An ECMAScript Boolean expression that tells the conference mixer if it must attempt to remove detected DTMF tones If a
        platform does not support removal of DTMF tones, it must ignore this attribute. The following values can be used:

        <dl>
          <dt>true</dt>

          <dd>Conference mixer must attempt to remove detected DTMF tones.</dd>

          <dt>false</dt>

          <dd>Conference mixer must not attempt to remove any detected DTMF tones.</dd>
        </dl>
      </td>
    </tr>

    <tr class="">
      <td class="elementRowName">toneclamp</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Boolean Expression</td>

      <td class="elementRowDefaultValues">true</td>

      <td class="elementRowValidValues">true<br />
      false</td>

      <td class="elementRowDescription">
        An ECMAScript Boolean expression that tells the conference mixer if it must attempt to remove loud single-frequency tones
        from the audio stream for this leg. If a platform does not support removal of tones, it must ignore this attribute. The
        following values can be used:

        <dl>
          <dt>true</dt>

          <dd>Conference mixer must attempt to remove loud single-frequency tones.</dd>

          <dt>false</dt>

          <dd>Conference mixer must not attempt to remove any loud single-frequency tones.</dd>
        </dl>
      </td>
    </tr>
  </table>

  <h4 id="Unjoin">10.5.8: <code>&lt;unjoin&gt;</code></h4>

  <h5 id="Unjoin-Overview">10.5.8.1: Overview</h5>

  <p>A CCXML document is able to instruct the platform to attempt to tear down a bridge between two existing connections,
  conferences, or dialogs using <code>&lt;unjoin&gt;</code>. This element instructs the implementation to tear down the bridge
  between two connections/conferences/dialogs specified using the <code>id1</code> and <code>id2</code> attributes. The
  successful execution of <code>&lt;unjoin&gt;</code> <em class="RFC2119">MUST</em> result in the generation of a
  <code>conference.unjoined</code> event. If for any reason the implementation is unable to terminate the bridge between the
  specified connections/conferences/dialogs, or if no such bridge exists, it <em class="RFC2119">MUST</em> fail with a
  <code>error.conference.unjoin</code> event.</p>

  <p>Any Connections or Dialogs referenced by the '<code>id1</code>' and '<code>id2</code>' attributes of
  <code>&lt;unjoin&gt;</code> <em class="RFC2119">MUST</em> be owned by the session performing the
  <code>&lt;unjoin&gt;</code>.</p>

  <p>When '<code>id1</code>', '<code>id2</code>', or both reference to a Conference, the '<code>conference.unjoined</code>' event
  <em class="RFC2119">MUST</em> be posted to all session that are attached to the affected Conference(s). This <em class=
  "RFC2119">MUST NOT</em> result in multiple '<code>conference.unjoined</code>' events if the session performing the
  <code>&lt;unjoin&gt;</code> is attached to the conference, or if any session owns both conferences when two conferences are
  being unjoined. If the implementation is unable to unjoin the objects an <code>error.conference.unjoin</code> <em class=
  "RFC2119">MUST</em> only be sent to the session that issued the <code>&lt;unjoin&gt;</code>.</p>

  <h5 id="s10.5.8.2">10.5.8.2: <code>&lt;unjoin&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">id1</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">(valid connection, conference, or dialog ID)</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of a Connection,
      Dialog or Conference.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">id2</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">(valid connection, conference, or dialog ID)</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of a Connection,
      Dialog or Conference. All media streams between the two specified Connections, Dialogs or Conferences (id1 and id2 ) must
      be torn down.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network when the two specified Connections, Dialogs or Conferences (id1 and id2) are
      unjoined. This information <i>may</i> consist of protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h4 id="Disconnect">10.5.9: <code>&lt;disconnect&gt;</code></h4>

  <h5 id="s10.5.9.1">10.5.9.1: Overview</h5>

  <p>A CCXML document is able to instruct the platform to disconnect a Connection by using <code>&lt;disconnect&gt;</code> . The
  underlying platform <em class="RFC2119">MUST</em> send the appropriate protocol messages to perform the disconnect, and send an
  asynchronous event to the CCXML document when the disconnect operation completes. A CCXML document may use
  <code>&lt;disconnect&gt;</code> to abandon an outbound connection created using <code>&lt;createcall&gt;</code> which has not
  yet entered the <code>CONNECTED</code> state. If <code>&lt;disconnect&gt;</code> is used to abandon an outbound call, it
  results in the generation of a '<code>connection.disconnected</code>' event.</p>

  <p>If the connection had been bridged when the <code>&lt;disconnect&gt;</code> request was made, the platform <em class=
  "RFC2119">MUST</em> tear down all bridges to the connection and send a <code>conference.unjoined</code> to the CCXML document
  once the media paths have been freed.</p>

  <p>Note the platform is not required to generate the <code>connection.disconnected</code> /<code>connection.failed</code> or
  <code>conference.unjoined</code> in any particular order, unless an outbound call was abandoned in which case a
  <code>connection.disconnected</code> event <em class="RFC2119">MUST</em> be generated.</p>

  <h5 id="s10.5.9.2">10.5.9.2: <code>&lt;disconnect&gt;</code> Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">event$.connectionid if defined, ECMAScript undefined otherwise</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the id of a call leg that
      <i>must</i> be disconnected. If the <b>connectionid</b> attribute is omitted, the interpreter must disconnect using the id
      indicated in the current event being processed.<br />
      If the attribute value is invalid or there is no valid default value, an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">reason</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues"></td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the reason the call is being
      disconnected.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network disconnecting the connection. This information <i>may</i> consist of
      protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h4 id="Merge">10.5.10: <code>&lt;merge&gt;</code></h4>

  <h5 id="s10.5.10.1">10.5.10.1: Background</h5>

  <p>Many of the network environments in which a CCXML implementation may be expected to operate provide facilities by which two
  existing calls can be merged into a single call at the network level. The following diagram illustrates this for the case where
  user A has two independent calls with users B and C, and utilizes this functionality to merge the calls together:</p>

  <table width="100%" summary="image layout">
    <tr>
      <td align="center" rowspan="1" colspan="1"><img alt="Initial Call State" src="images/20040623_CCXML_Merge_Fig1.gif" width=
      "282" height="294" /> Figure 1: Initial Call State</td>

      <td align="center" rowspan="1" colspan="1"><img alt="State Following Merge" src="images/20040623_CCXML_Merge_Fig2.gif"
      width="282" height="294" /> Figure 2: State Following Merge</td>
    </tr>
  </table>

  <p>The diagram illustrates the call control connections, or sessions, that exist between users A, B, C and the network that
  connects them; the media streams between users is not shown on the above diagram and may differ from the path for call control
  that is shown. The media path between users may or may not be affected as a result of the merge, depending on the properties of
  the underlying network; typically any media streams to user A would be terminated since call control sessions between user A
  and the network are terminated.</p>

  <p>There are many different implementations of the merging capabilities described above, across both PSTN and Voice-over-IP
  networks. Known implementations include the following:</p>

  <ul>
    <li>Release Link Trunk (RLT) (ISDN [<cite><a href="#ref_Q931" shape="rect">Q.931/DSS1</a></cite>], SS7 ISUP [<cite><a href=
    "#ref_SS7" shape="rect">SS7</a></cite>])</li>

    <li>Two B-Channel Transfer (TBCT) (ISDN [<cite><a href="#ref_Q931" shape="rect">Q.931/DSS1</a></cite>], SS7 ISUP
    [<cite><a href="#ref_SS7" shape="rect">SS7</a></cite>])</li>

    <li>Explicit Call Transfer (ECT) (ISDN [<cite><a href="#ref_Q931" shape="rect">Q.931/DSS1</a></cite>], SS7 ISUP
    [<cite><a href="#ref_SS7" shape="rect">SS7</a></cite>]ISUP)</li>

    <li>AT&amp;T Transfer Connect (some variants) (ISDN [<cite><a href="#ref_Q931" shape="rect">Q.931/DSS1</a></cite>])</li>

    <li>Q.SIG Path Replacement (ISDN [<cite><a href="#ref_Q931" shape="rect">Q.931/DSS1</a></cite>])</li>

    <li>SIP REFER with Replaces (SIP [<cite><a href="#ref_RFC3261" shape="rect">RFC3261</a></cite>])</li>

    <li>H.450.2 Consultative Transfer (H.323 [<cite><a href="#ref_H323" shape="rect">H.323</a></cite>])</li>

    <li>CSTA and other interfaces to PSTN switches</li>

    <li>Hook-flash Transfers (Analog, T-1 RBS, E-1 CAS)</li>
  </ul>

  <p>Different implementations may also have different restrictions on when and how merge functionality can be used. Some
  implementations might allow calls that are alerting to be merged, whereas others might only operate on calls that are already
  in the connected state. In addition, some implementations might only be able to merge calls in which one of the calls is an
  outbound call that specifically identifies the associated inbound call when that outbound call is placed (via hints on
  <code>&lt;createcall&gt;</code>).</p>

  <h5 id="s10.5.10.2">10.5.10.2: Overview</h5>

  <p>The <code>&lt;merge&gt;</code> element allows two calls being handled by a particular CCXML session to be merged together at
  the network level, if supported by the underlying network and CCXML platform.</p>

  <p>If successful, the two referenced calls <em class="RFC2119">MUST</em> be merged at the network level, and the connections to
  the CCXML platform associated with those calls <em class="RFC2119">MUST</em> be terminated. A <code>connection.merged</code>
  event <em class="RFC2119">MUST</em> be generated on each of the two calls affected by a merge. If the merge fails, then a
  single <code>connection.merge.failed</code> event <em class="RFC2119">MUST</em> be thrown which identifies both of the
  connections against which the merge was performed.</p>

  <p>The platform <em class="RFC2119">MUST</em> implicitly tear down any existing bridges to the connections and send a
  <code>conference.unjoined</code> to the CCXML document once the media paths have been freed, except for the media path between
  the two connections being merged.</p>

  <h5 id="s10.5.10.3">10.5.10.3: &lt;merge&gt; Attribute Details</h5>

  <table summary="attibute table" class="element">
    <tr class="elementHeader">
      <th>Name</th>

      <th>Required</th>

      <th>Attribute Constraints</th>

      <th>Type</th>

      <th>Default Value</th>

      <th>Valid Values</th>

      <th>Description</th>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid1</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of the first
      connection that is to be merged. The order (connectionid1 vs. connectionid2) of the Connections does not matter.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">connectionid2</td>

      <td class="elementRowRequired">true</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">Connection IDs</td>

      <td class="elementRowDescription">An ECMAScript expression which returns a string that is the identifier of the second
      connection that is to be merged.<br />
      If the attribute value is invalid an <b>error.semantic</b> event must be thrown.</td>
    </tr>

    <tr class="">
      <td class="elementRowName">hints</td>

      <td class="elementRowRequired">false</td>

      <td class="elementRowaAtributeConstraints"></td>

      <td class="elementRowType">ECMAScript Expression</td>

      <td class="elementRowDefaultValues">none</td>

      <td class="elementRowValidValues">An ECMAScript expression that returns an ECMAScript object</td>

      <td class="elementRowDescription">The ECMAScript object returned contains information which <i>may</i> be used by the
      implementing platform or passed to the network when merging the two connections. This information <b>MAY</b> consist of
      protocol-specific parameters.<br />
      Note: The meaning of these hints is specific to the implementing platform and protocol. Platforms that do not support hints
      <em class="RFC2119">MAY</em> ignore this attribute. See <a href="#s9.5.6">Section 9.5.6</a> for additional requirements
      when hints are supported by the implementing platform.</td>
    </tr>
  </table>

  <h3 id="s10.6">10.6: Events</h3>

  <h4 id="eventsOverview">10.6.1: Overview</h4>

  <p>This section defines the events related to telephony operations including events related to the call state, success and
  failure events for the various telephony operations.</p>

  <p>Several of the events defined in this section are associated with the change in state of a Connection Object. For instance,
  the '<code>connection.connected</code>' event causes a transition to the <code>CONNECTED</code> state. Platforms <em class=
  "RFC2119">MUST</em> perform updates to Connection Object state when events are dequeued by the EHIA before the
  <code>&lt;transition&gt;</code> selection process (and thus before execution of <code>&lt;transition&gt;</code> content). This
  is necessary such that conditional expressions on transitions, as well as executable content, can reference Connection Object
  state that is consistent with the event being processed</p>

  <h4 id="s10.6.2">10.6.2: <code>connection.alerting</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when the underlying telephony connection transitions to an
  <code>ALERTING</code> state or sends notification of call progress while the Connection Object is in the <code>ALERTING</code>
  state. This event is a transition to state <code>ALERTING</code>.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>
  </table>
  <hr />

  <p>Information provided by the protocol prior to connection is accumulated and stored with the identified Connection object.
  This information <em class="RFC2119">MAY</em> be available when the <code>connection.alerting</code> event is delivered to the
  application. Any further information provided by the protocol prior to connection <em class="RFC2119">MAY</em> be provided in
  subsequent <code>connection.alerting</code> events, and made available in the updated Connection object.</p>

  <h4 id="s10.6.3">10.6.3: <code>connection.progressing</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when the underlying telephony connection sends a notification of call
  progress while the Connection Object is in the <code>PROGRESSING</code> state. This event is a transition to state
  <code>PROGRESSING</code>.</p>

  <p>Subsequent <code>connection.progressing</code> events <em class="RFC2119">MAY</em> be generated to support protocols which
  exchange multiple messages during the <code>PROGRESSING</code> state.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.4">10.6.4: <code>connection.connected</code></h4>

  <p>This event <em class="RFC2119">must</em> be emitted when an incoming connection is accepted successfully, or as when an
  outgoing connection is answered. This event is a transition to state <code>CONNECTED</code>.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.5">10.6.5: <code>connection.disconnected</code></h4>

  <p>This event <em class="RFC2119">must</em> be emitted when a connection is disconnected due to an action by the underlying
  network (e.g. the user hanging up), the CCXML platform, or the CCXML application. This event is a transition to state
  <code>DISCONNECTED</code>.</p>

  <p>If this is an off-platform event, the platform <em class="RFC2119">MUST</em> implicitly tear down any existing bridges to
  the connection and send a <code>conference.unjoined</code> to the CCXML document once the media paths have been freed.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A disconnection reason code. Content of this field is platform-specific.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">trigger</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">Indicates which entity cause the disconnection to occur. Valid values are 'network' for
      network-initiated disconnections, 'platform' for disconnections triggered by platform-based rules (such as a maximum
      connection duration), or 'application' for disconnections performed as a result of application actions (such as execution
      of a &lt;disconnect&gt;).</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.6">10.6.6: <code>connection.redirected</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted to indicate a successful redirection of a connection. This event is a
  transition to state <code>DISCONNECTED</code>.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A redirect result code. Content of this field is platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.7">10.6.7: <code>connection.merged</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted to indicate that a connection has been successfully merged with another
  connection at the network level, and is therefore disconnected from the CCXML application. This event is a transition to state
  <code>DISCONNECTED</code>.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">mergeid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection with which the Connected referenced by this event was merged.</td>
    </tr>
  </table>
  <hr />

  <p>Note that <code>connectionid1</code> and <code>connectionid2</code> of the <code>&lt;merge&gt;</code> element are present in
  this event as <code>connectionid</code> property (see section 10.2.3) and <code>mergeid</code> property, respectively</p>

  <h4 id="s10.6.8">10.6.8: <code>connection.failed</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when an incoming or outgoing call fails to complete its connection. This
  event is a transition to state <code>FAILED</code>.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A failure reason code. Content of this field is platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.9">10.6.9: <code>error.connection</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted if a platform operational error occurs on a connection which renders
  that connection unusable. This event is a transition to state <code>ERROR</code>.</p>

  <p>If this is an off-platform event, the platform <em class="RFC2119">MUST</em> implicitly tear down any existing bridges to
  the connection and send a <code>conference.unjoined</code> to the CCXML document once the media paths have been freed.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.10">10.6.10: <code>connection.signal</code></h4>

  <p>This event <em class="RFC2119">MAY</em> be emitted by the platform to notify the application of non state changing
  Connection related events. This event <em class="RFC2119">MUST NOT</em> directly change the state of the connection. Examples
  where <code>connection.signal</code> could be generated include:</p>

  <ul>
    <li>DTMF received on the media stream after connection, perhaps identifying call setup information such as DNIS;</li>

    <li>Messaging received by the protocol after connection, such as that delivered by SIP INFO or ISDN FACILITY messages;</li>

    <li>Call analysis results indicating the results of answering machine, FAX, TDD or modem detection attempts.</li>
  </ul>

  <p>The Connection Object <em class="RFC2119">MAY</em> be updated with new or changed information as the result of a
  <code>connection.signal</code> event.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.11">10.6.11: <code>conference.created</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when a conference has been successfully established using
  <code>&lt;createconference&gt;</code>. The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Conference associated with this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">conference</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An ECMAScript object reference to the Conference object identified by the <b>conferenceid</b>
      property of this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">info</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An object which provides additional platform or protocol dependent information</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.12">10.6.12: <code>conference.destroyed</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when a session detaches from a conference using
  <code>&lt;destroyconference&gt;</code>. Note that this does not imply that the underlying conference has necessarily been
  destroyed, since there may be other sessions attached to that conference. The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Conference associated with this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">info</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Object</td>

      <td class="eventRowDetails">An object which provides additional platform or protocol dependent information</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.13">10.6.13: <code>conference.joined</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when two resources (which are connections or conferences) have been
  bridged using <code>&lt;join&gt;</code> or <code>&lt;createcall&gt;</code>. The fields of this event are shown below.</p>

  <p>If a session receives a '<code>conference.joined</code>' event because it is attached to a Conference, either
  '<code>id1</code>' or '<code>id2</code>' may refer to a Connection/Dialog owned by another session. Such identifiers are not
  locally meaningful to the session receiving the event (although they can still be used for logging or other purposes).</p>

  <p>Join-related events (including <code>conference.joined</code>, <code>conference.unjoined</code>,
  <code>error.conference.join</code>, and <code>error.conference.unjoin</code>) use the <code>id1</code> and <code>id2</code>
  attributes to identify the connections, conferences, or dialogs against which the event occurs. The value of <code>id1</code>
  and <code>id2</code> will depend on why the event was generated, and will be set according to the following rules:</p>

  <ul>
    <li>For events resulting from a <code>&lt;join&gt;</code> or <code>&lt;unjoin&gt;</code> operation, <code>id1</code> and
    <code>id2</code> will have the same values supplied via the <code>id1</code> and <code>id2</code> attributes in the original
    element;</li>

    <li>For events resulting from a <code>&lt;createcall&gt;</code> with a <code>joinid</code> attribute, <code>id1</code> will
    reflect Connection ID of the created call, and <code>id2</code> will have the same value as the <code>joinid</code>
    attribute;</li>

    <li>For events resulting from a Connection, Conference, or Dialog becoming unavailable, <code>id1</code> will reflect the ID
    of the object that became unavailable, and <code>id2</code> will reflect the ID of the object it was previously joined to.
    Such events may occur for many reasons - asynchronous disconnection, <code>&lt;disconnect&gt;</code>,
    <code>&lt;merge&gt;</code>, or <code>&lt;redirect&gt;</code> (on a Connection), <code>&lt;destroyconference&gt;</code>, and
    <code>dialog.exit</code> or <code>&lt;dialogterminate&gt;</code> (on a Dialog). Failures may also cause the termination of
    bridges. However, due to the asynchronous nature of CCXML, applications should not generally rely on this ordering, since
    (for example) a Connection might disconnect at the same time that an application performs a
    <code>&lt;dialogterminate&gt;</code>.</li>
  </ul>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">id1</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">id2</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">object1</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">
        <span >ECMAScript Object</span>
      </td>

      <td class="eventRowDetails">A Connection, Conference or Dialog object associated with this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">object2</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">
        <span >ECMAScript Object</span>
      </td>

      <td class="eventRowDetails">A Connection, Conference or Dialog object associated with this event.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.14">10.6.14: <code>conference.unjoined</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when a bridge is torn down between two resources using
  <code>&lt;unjoin&gt;</code>.</p>

  <p>A <code>conference.unjoined</code> <em class="RFC2119">MUST</em> also be emitted when a bridge needs to be torn down before
  an element can be executed or when an event indicates the loss of a one end of a bridge, such as when processing
  <code>&lt;disconnect&gt;, &lt;redirect&gt;, &lt;dialogterminate&gt;, &lt;destroyconference&gt; or &lt;merge&gt;</code> elements
  or when receiving asynchronous events such as <code>connection.disconnected, error.connection or error.dialog</code>.</p>

  <p>If a session receives a '<code>conference.unjoined</code>' event because it is attached to a Conference, either
  '<code>id1</code>' or '<code>id2</code>' may refer to a Connection/Dialog owned by another session. Such identifiers are not
  locally meaningful to the session receiving the event (although they can still be used for logging or other purposes).</p>

  <p>The ordering of the <code>id1</code> and <code>id2</code> attributes is as specified in 10.6.13:
  <code>conference.joined</code>.</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">id1</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">id2</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">object1</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">
        <span >ECMAScript Object</span>
      </td>

      <td class="eventRowDetails">A Connection, Conference or Dialog object associated with this event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">object2</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">
        <span >ECMAScript Object</span>
      </td>

      <td class="eventRowDetails">A Connection, Conference or Dialog object associated with this event.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.15">10.6.15: <code>error.conference.create</code></h4>

  <p>The processing associated with the <code>&lt;createconference&gt;</code> failed. The fields in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected conference.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.16">10.6.16: <code>error.conference.destroy</code></h4>

  <p>The processing associated with the <code>&lt;destroyconference&gt;</code> failed. The fields in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected conference.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.17">10.6.17: <code>error.conference.join</code></h4>

  <p>The processing associated with the <code>&lt;join&gt;</code> failed.</p>

  <p>The ordering of the <code>id1</code> and <code>id2</code> attributes is as specified in 10.6.13:
  <code>conference.joined</code>.</p>

  <p>The fields in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">id1</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">id2</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.18">10.6.18: <code>error.conference.unjoin</code></h4>

  <p>The processing associated with the <code>&lt;unjoin&gt;</code> failed.</p>

  <p>The ordering of the <code>id1</code> and <code>id2</code> attributes is as specified in 10.6.13:
  <code>conference.joined</code>.</p>

  <p>The fields in this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">id1</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">id2</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection, Conference or Dialog representing a resource associated with this
      event.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.19">10.6.19: <code>connection.merge.failed</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when a <code>&lt;merge&gt;</code> attempt fails. This event <em class=
  "RFC2119">MUST NOT</em> change the state of either of the Connection Objects involved in the merge operation.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">mergeid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the Connection with which the Connected referenced by this event was merged.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the <b>merge</b> failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <p>Note that <code>connectionid1</code> and <code>connectionid2</code> of the <code>&lt;merge&gt;</code> element are present in
  this event as <code>connectionid</code> property (see section 10.2.3) and <code>mergeid</code> property, respectively</p>

  <h4 id="s10.6.20">10.6.20: <code>error.connection.wrongstate</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when an application attempts a telephony operation that is not legal for
  the current state of the Connection Object. Note that the Connection Object state is current as of the event currently being
  processed, but may not reflect events that are currently queued, or other events that occur before the request generated by an
  element is processed; therefore, not all failures caused by the state of the actual connection will result in
  <code>error.connection.wrongstate</code>. This event indicates that an application performed an action that it should know to
  be illegal, and generally reflects an incorrectly written application.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">tagname</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">This property must be set to the ECMAScript string value of the name of the element that
      produced the error (ie <b>accept</b>, <b>reject</b>, etc).</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.21">10.6.21: <code>error.conference</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when an error occurs on a conference that a session has created or
  attached to, and signals the termination of the referenced conference. It is not necessary for applications to call
  <code>&lt;destroyconference&gt;</code> after receiving an <code>error.conference</code> event (in much the same way that it is
  not necessary to call <code>&lt;disconnect&gt;</code> upon receiving an <code>error.connection</code> event).</p>

  <p>The fields of this event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">conferenceid</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">The ID of the affected conference.</td>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the operation failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.22">10.6.22: <code>connection.redirect.failed</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be emitted when an error occurs when there is an error redirecting a connection
  using the <code>&lt;redirect&gt;</code> element.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the <b>redirect</b> failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.23">10.6.23: <code>connection.accept.failed</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be generated when a request to accept an incoming connection cannot be completed.
  This event <em class="RFC2119">MUST NOT</em> change the state of the Connection Object.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the <b>accept</b> failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h4 id="s10.6.24">10.6.24: <code>connection.reject.failed</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be generated when a request to reject an incoming connection cannot be completed.
  This event <em class="RFC2119">MUST NOT</em> change the state of the Connection Object.</p>

  <p>This event includes the standard event and connection event properties along with the following additional event specific
  properties:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">reason</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">string</td>

      <td class="eventRowDetails">A description of the reason the <b>reject</b> failed. Content of this field is
      platform-specific.</td>
    </tr>
  </table>
  <hr />

  <h2 id="examples">11: Complex Examples</h2>

  <h3 id="s11.1">11.1: Calling Card Application</h3>

  <p>Caller calls an 800 number and after some interaction with an <acronym title="Interactive Voice Response">IVR</acronym>
  system places an outbound call to a friend.</p>

  <h4 id="s11.1.1"><a href="examples/1/calling_card.ccxml">calling_card.ccxml</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;

  &lt;!-- Create our ccxml level vars --&gt;
  &lt;var name="in_connectionid" expr="''" /&gt;
  &lt;var name="out_connectionid" expr="''" /&gt;

  &lt;!-- Set our initial state --&gt;
  &lt;var name="currentstate" expr="'initial'" /&gt;

  &lt;eventprocessor statevariable="currentstate"&gt;
    &lt;!-- Deal with the incoming call --&gt;
    &lt;transition state="initial" event="connection.alerting" &gt;
      &lt;assign name="in_connectionid" expr="event$.connectionid" /&gt;
      &lt;accept connectionid="in_connectionid" /&gt;
    &lt;/transition&gt;

    &lt;transition state="initial" event="connection.connected"&gt;
      &lt;assign name="currentstate" expr="'in_vxml_session'" /&gt;
      &lt;!-- VoiceXML dialog is started on a separate thread - see pin.vxml --&gt;
      &lt;dialogstart namelist="session.id" connectionid="in_connectionid" src="'pin.vxml'" /&gt;
    &lt;/transition&gt;

    &lt;!-- happens when pin.vxml VoiceXML dialog thread exits --&gt;
    &lt;transition state="in_vxml_session" event="dialog.exit"&gt;
      &lt;createcall dest="'tel:+' + event$.values.telnum" connectionid="out_connectionid" /&gt;
      &lt;assign name="currentstate" expr="'calling'" /&gt;
    &lt;/transition&gt;

    &lt;transition state="calling" event="connection.failed"&gt;
      &lt;!-- tell the caller there was a error --&gt;
      &lt;dialogstart namelist="session.id" connectionid="in_connectionid" src="'error.vxml'" /&gt;
      &lt;assign name="currentstate" expr="'outb_failed'" /&gt;
    &lt;/transition&gt;

    &lt;!-- happens when called party picks up the phone --&gt;
    &lt;transition state="calling" event="connection.connected"&gt;
      &lt;assign name="out_connectionid" expr="event$.connectionid" /&gt;
      &lt;!-- tell the callee he is receiving a call --&gt;
      &lt;dialogstart namelist="session.id" connectionid="out_connectionid" src="'callee.vxml'" /&gt;
      &lt;assign name="currentstate" expr="'outb_ready_to_join'" /&gt;
    &lt;/transition&gt;

    &lt;transition state="outb_failed" event="dialog.exit"&gt;
      &lt;exit /&gt;
    &lt;/transition&gt;

    &lt;!-- happens when callee's vxml dialog (callee.vxml exits) --&gt;
    &lt;transition state="outb_ready_to_join" event="dialog.exit"&gt;
      &lt;join id1="in_connectionid" id2="out_connectionid" /&gt;
      &lt;assign name="currentstate" expr="'wtg_for_joined'" /&gt;
    &lt;/transition&gt;

    &lt;transition state="wtg_for_joined" event="ccxml.joined"&gt;
      &lt;assign name="currentstate" expr="'active'" /&gt;
    &lt;/transition&gt;

    &lt;!-- Lets clean up the call  --&gt;
    &lt;transition state="active" event="connection.disconnected" &gt;
      &lt;if cond="event$.connectionid == in_connectionid"&gt;
        &lt;disconnect connectionid="out_connectionid"/&gt;
        &lt;exit /&gt;
      &lt;/if&gt;
      &lt;assign name="currentstate" expr="'in_vxml_session'" /&gt;
      &lt;!-- start VoiceXML dialog again to see
        if caller wants to make another call --&gt;
      &lt;dialogstart namelist="session.id" connectionid="in_connectionid" src="'pin.vxml'" /&gt;
    &lt;/transition&gt;

    &lt;!-- Catch disconnects in unexpected states --&gt;
    &lt;transition event="connection.disconnected"&gt;
      &lt;exit /&gt;
    &lt;/transition&gt;
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="s11.1.2"><a href="examples/1/pin.vxml">pin.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;vxml xmlns="http://www.w3.org/2001/vxml" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://www.w3.org/2001/vxml 
   http://www.w3.org/TR/voicexml20/vxml.xsd"
   version="2.0"&gt;
  &lt;form id="pin"&gt;
    &lt;block&gt; Welcome to Acme's Calling Card &lt;/block&gt;
    &lt;field name="pin" type="digits"&gt;
      &lt;prompt&gt; Please say your PIN number &lt;/prompt&gt;
      &lt;filled&gt;
        &lt;if cond="pin.length != 8"&gt;
          &lt;clear namelist="pin"/&gt;
        &lt;else/&gt;
          &lt;submit next="checktime.asp" namelist="pin"/&gt;
        &lt;/if&gt;
      &lt;/filled&gt;
    &lt;/field&gt;
  &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.1.3"><a href="examples/1/error.vxml">error.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
  &lt;form&gt;
    &lt;block&gt; 
       Sorry. The Party you are trying to call
       is unavailble. 
       &lt;exit/&gt;
    &lt;/block&gt;
  &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.1.4"><a href="examples/1/callee.vxml">callee.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
  &lt;form&gt;
    &lt;block&gt;You have a call. Connecting&lt;/block&gt;
  &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.1.5">VXML page returned by <a href="examples/1/checktime.asp">checktime.asp</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
  &lt;form id="form2"&gt;
    &lt;!--.asp consults back-end database before filling this value--&gt;
    &lt;assign name="timeleft" expr="600"/&gt;  
    &lt;block&gt; Time remaining is &lt;value expr="timeleft"/&gt; seconds &lt;/block&gt;
    &lt;field name="telnum" type="digits" &gt;
      &lt;prompt&gt; Please speak the telephone number you want to call including the country code.
             for example you would say &lt;say-as interpret-as="characters"&gt;14075551234&lt;/say-as&gt;
        &lt;/prompt&gt;
      &lt;filled&gt;
          &lt;exit namelist="telnum"/&gt;
      &lt;/filled&gt;
    &lt;/field&gt;
  &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h3 id="s11.2">11.2: Conferencing application</h3>

  <p>Different callers call into a conference through an agreed upon telephone number. When each one of them joins the conference
  he is told how many people are there in the conference and those already in the conference are informed about a new entrant to
  the conference. Similarly when someone hangs up, the fact that a conference participant has exited is announced. A conference
  object is created at the beginning of the conference and is destroyed when all the participants have hung up.</p>

  <h4 id="s11.2.1"><a href="examples/2/conf1.ccxml">First page to all callers</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;
        &lt;var name="in_connectionid" expr="''" /&gt;
        &lt;var name="currentstate" expr="'initial'" /&gt;

        &lt;eventprocessor statevariable="currentstate"&gt;
                &lt;transition state="initial" event="connection.alerting"&gt;
                        &lt;assign name="currentstate" expr="'alerting'" /&gt;
                        &lt;assign name="in_connectionid" expr="event$.connectionid" /&gt;
                        &lt;accept connectionid="in_connectionid" /&gt;
                &lt;/transition&gt;
                &lt;transition state="alerting" event="connection.connected"&gt;
                        &lt;assign name="currentstate" expr="'fetching'" /&gt;
                        &lt;fetch next="'http://example.com/conference.asp'" namelist="in_connectionid" /&gt;
                &lt;/transition&gt;
                &lt;transition state="fetching" event="fetch.done" &gt;
                        &lt;goto fetchid="event$.fetchid" /&gt;
                &lt;/transition&gt;
        &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="s11.2.2"><a href="examples/2/conf2.ccxml">CCXML page returned by conference.asp to first callers browser</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;
        &lt;var name="conf_id" expr="''" /&gt;
        &lt;var name="currentstate" expr="'starting'" /&gt;
        &lt;var name="in_connectionid" expr="'0f0c0d@host1.com'" /&gt;
        &lt;!-- above value is the value submitted to conference.asp--&gt;

        &lt;eventprocessor statevariable="currentstate"&gt;
                &lt;transition state="starting" event="ccxml.loaded"&gt;
                        &lt;createconference conferenceid="conf_id" /&gt;
                &lt;/transition&gt;
                &lt;transition state="starting" event="conference.created" &gt;
                        &lt;assign name="currentstate" expr="'fetching'" /&gt;
                        &lt;fetch next="'http://example.com/conference.asp'" namelist="in_connectionid conf_id" /&gt;
                &lt;/transition&gt;
                &lt;transition state="fetching" event="fetch.done" &gt;
                        &lt;goto fetchid="event$.fetchid" /&gt;
                &lt;/transition&gt;
        &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="s11.2.3"><a href="examples/2/conf3.ccxml">CCXML page returned by conference.asp to all subsequent callers</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;

        &lt;var name="currentstate" expr="'ready_to_conf'" /&gt;
        &lt;var name="in_connectionid" expr="'ff0d01@host2.com'" /&gt;
        &lt;var name="conf_id" expr="'0a4602@host1.com'" /&gt;
        &lt;!-- above values are the values submitted to conference.asp--&gt;

        &lt;eventprocessor statevariable="currentstate"&gt;
                &lt;transition event="ccxml.loaded"&gt;
                        &lt;dialogstart connectionid="in_connectionid" src="'vconference.asp'" /&gt;
                        &lt;assign name="currentstate" expr="'announcing'" /&gt;
                &lt;/transition&gt;
                &lt;transition state="announcing" event="dialog.exit"&gt;
                        &lt;join entertone="'false'" exittone="'false'" id1="conf_id" id2="in_connectionid" /&gt;
                &lt;/transition&gt;
                &lt;transition state="announcing" event="conference.joined"&gt;
                        &lt;assign name="currentstate" expr="'active'" /&gt;
                        &lt;dialogstart conferenceid="conf_id" src="'newcaller.vxml'" /&gt;
                &lt;/transition&gt;
                &lt;transition state="active" event="connection.disconnected"&gt;
                        &lt;dialogstart conferenceid="conf_id" src="'leave.vxml'" /&gt;
                        &lt;assign name="currentstate" expr="'fetching'" /&gt;
                        &lt;fetch next="'http://example.com/teardown.asp'" namelist="in_connectionid conf_id" /&gt;
                &lt;/transition&gt;
                &lt;transition state="fetching" event="fetch.done"&gt;
                        &lt;goto fetchid="event$.fetchid" /&gt;
                &lt;/transition&gt;
        &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="s11.2.4"><a href="examples/2/vconference.asp">vconference.asp</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form&gt;
                &lt;block&gt;
                        Welcome to the W3C conference. There are already 
                        &lt;value expr="'3'" /&gt;
                        participants in the conference. 
                        &lt;!--above value is based on count kept by vconference.asp--&gt;
                &lt;/block&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.2.5"><a href="examples/2/newcaller.vxml">newcaller.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form&gt;
                &lt;block&gt;
                        A new participant has entered the conference. 
                &lt;/block&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.2.6"><a href="examples/2/leave.vxml">leave.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form&gt;
                &lt;block&gt;
                        Someone just left the conference. 
                &lt;/block&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.2.7"><a href="examples/2/teardown.asp">CCXML page returned by teardown.asp to all but the last participant</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;
        &lt;var name="currentstate" expr="'destroying'" /&gt;
        &lt;var name="conf_id" expr="'0a4602@host1.com'" /&gt;
        &lt;var name="in_connectionid" expr="'ff0d01@host2.com'" /&gt;
        &lt;!-- above values are the values submitted to teardown.asp--&gt;

        &lt;eventprocessor statevariable="currentstate"&gt;
                &lt;transition event="ccxml.loaded"&gt;
                        &lt;exit /&gt;
                        &lt;!-- just exit and destroy the session --&gt;
                &lt;/transition&gt;
        &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="s11.2.8"><a href="examples/2/teardown2.asp">CCXML page returned by teardown.asp to last participant</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;

        &lt;assign name="currentstate" expr="'destroying'" /&gt;
        &lt;assign name="conf_id" expr="'0a4602@host1.com'" /&gt;
        &lt;assign name="in_connectionid" expr="'ff0d01@host2.com'" /&gt;
        &lt;!-- above values are the values submitted to teardown.asp --&gt;
        
        &lt;eventprocessor statevariable="currentstate"&gt;
                &lt;transition event="ccxml.loaded"&gt;
                        &lt;destroyconference conferenceid="conf_id" /&gt;
                        &lt;exit /&gt;
                &lt;/transition&gt;
        &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h3 id="s11.3">11.3: Personal Assistant</h3>

  <p>This program is a Personal Assistant that operates as an automated answering service.</p>

  <p>A subscriber to this service would receive a phone number to the automated service. When a caller wants to talk to the
  subscriber, he calls the given number. This automated system asks who the caller is, and records the audio. Then the system
  calls the current number of the target person, and asks if the call should be connected.</p>

  <p>If so, the calls are bridged. If not, then the original caller is warned and disconnected.</p>

  <h4 id="s11.3.1"><a href="examples/4/main.ccxml">main.ccxml</a></h4>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml xmlns="http://www.w3.org/2002/09/ccxml" version="1.0"&gt;
        &lt;var expr="'initial'" name="currentstate" /&gt;
        &lt;var name="in_connectionid" /&gt;
        &lt;var name="dlg_onhold" /&gt;
        &lt;var name="out_connectionid" /&gt;
        &lt;var name="accepted" /&gt;
        
        &lt;eventprocessor statevariable="currentstate"&gt;
        
                &lt;transition event="connection.alerting"  state="initial"&gt;
                        &lt;assign expr="event$.connectionid" name="in_connectionid" /&gt;
                        &lt;accept /&gt;
                &lt;/transition&gt;
                
                &lt;transition event="connection.connected" state="initial"&gt;
                        &lt;assign expr="'welcoming_caller'" name="currentstate" /&gt;
                        &lt;dialogstart src="'welcome_message.vxml'" /&gt;
                &lt;/transition&gt;
                
                &lt;transition event="dialog.exit" state="welcoming_caller"&gt;
                        &lt;!-- place the caller on hold --&gt;
                        &lt;dialogstart dialogid="dlg_onhold" connectionid="in_connectionid" src="'holdmusic.vxml'" /&gt;
                        &lt;!-- Contact the target.  The number here is server-generated --&gt;
                        &lt;assign expr="'contacting_target'" name="currentstate" /&gt;
                        &lt;createcall dest="'tel:+1-555-555-6666'" connectionid="out_connectionid" /&gt;
                &lt;/transition&gt;

                &lt;transition event="connection.connected" state="contacting_target"&gt;
                        &lt;!-- Ask the target if (s)he would like to accept the call --&gt;
                        &lt;assign expr="'waiting_for_target_answer'" name="currentstate" /&gt;
                        &lt;dialogstart src="'outbound_greetings.vxml'" /&gt;
                &lt;/transition&gt;
                
                &lt;transition event="dialog.exit"  state="waiting_for_target_answer"&gt;
                        &lt;assign expr="event$.values.willaccept" name="accepted" /&gt;
                        &lt;if cond="accepted == 'false'"&gt;
                                &lt;!-- disconnect the called party (but still notify the other one) --&gt;
                                &lt;disconnect connectionid="out_connectionid" /&gt;
                        &lt;/if&gt;
                        &lt;assign expr="'stop_hold'" name="currentstate" /&gt;
                        &lt;dialogterminate dialogid="dlg_onhold" /&gt;
                &lt;/transition&gt;
                
                &lt;transition event="dialog.exit"  state="stop_hold"&gt;
                        &lt;if cond="accepted == 'false'"&gt;
                                &lt;assign expr="'voice_mail'" name="currentstate" /&gt;
                                &lt;dialogstart connectionid="in_connectionid" src="'vm.vxml'" /&gt;
                        &lt;else /&gt;
                                &lt;assign expr="'playing_connecting'" name="currentstate" /&gt;
                                &lt;dialogstart connectionid="in_connectionid" src="'connecting.vxml'" /&gt;
                        &lt;/if&gt;
                &lt;/transition&gt;
                
                &lt;transition event="dialog.exit" state="playing_connecting"&gt;
                        &lt;join id1="in_connectionid" id2="out_connectionid" /&gt;
                        &lt;assign expr="'talking'" name="currentstate" /&gt;
                &lt;/transition&gt;
                
                &lt;transition event="connection.disconnected" &gt;
                        &lt;if cond="event$.connectionid == in_connectionid"&gt;
                                &lt;exit /&gt;
                        &lt;/if&gt;
                &lt;/transition&gt;
        &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h4 id="s11.3.2"><a href="examples/4/welcome_message.vxml">welcome_message.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form&gt;
                &lt;record name="recording"&gt;
                        &lt;prompt&gt;
                                You have reached the personal assistant for Bill Lumbergh of InnoTech. 
                                If is about the new TPS format please call Dom Portwood to get the new cover sheet. 

                                If this is for any other reason go on and state your name 
                                and I will decide if I want to take your call.
                                
                                Oh ya, if this is Milt, we're gonna need to go ahead and 
                                move you downstairs into storage B. We have some new people 
                                coming in, and we need all the space we can get. So if you 
                                could go ahead and pack up your stuff and move it down there, 
                                that would be terrific, OK

                        &lt;/prompt&gt;
                        &lt;filled&gt;
                                OK, thanks. 
                                &lt;submit next="postRecordingAndExit.vxml" namelist="recording" /&gt;
                        &lt;/filled&gt;
                &lt;/record&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.3.3"><a href="examples/4/outbound_greetings.vxml">outbound_greetings.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;var name="willaccept"/&gt;
        &lt;form&gt;
                &lt;field id="answer"&gt;
                        &lt;grammar src="yesnogrammar.grxml" /&gt;
                        &lt;prompt&gt;
                                Hi bill, you have a message from
                                &lt;audio src="dynamicallyRecordedName.wav" /&gt;
                                Would you like to take it? Say Yes, or No.
                        &lt;/prompt&gt;
                        &lt;filled&gt;
                                &lt;if cond="answer=='yes'"&gt;
                                        Just a moment, please hold.
                                        &lt;assign name="willaccept" value="true" /&gt;
                                        &lt;exit namelist="willaccept" /&gt;
                                &lt;elseif cond="answer==no" /&gt;
                                        OK, goodbye. 
                                        &lt;assign name="willaccept" value="false" /&gt;
                                        &lt;exit namelist="willaccept" /&gt;
                                &lt;/if&gt;
                        &lt;/filled&gt;
                &lt;/field&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.3.4"><a href="examples/4/vm.vxml">vm.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form&gt;
                &lt;prompt&gt;
                        Transferring you to voice mail hell. 
                &lt;/prompt&gt;
                &lt;block&gt;
                        &lt;goto next="voicemail.vxml" /&gt;
                &lt;/block&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.3.5"><a href="examples/4/connecting.vxml">connecting.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form&gt;
                &lt;prompt&gt;
                        Just a moment, please hold... 
                &lt;/prompt&gt;
                &lt;block&gt;
                        &lt;exit /&gt;
                &lt;/block&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h4 id="s11.3.6"><a href="examples/4/holdmusic.vxml">holdmusic.vxml</a></h4>
  <pre class="example">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;vxml xmlns="http://www.w3.org/2001/vxml" version="2.0"&gt;
        &lt;form id="Form"&gt;
                &lt;block&gt;
                        &lt;prompt bargein="false"&gt;
                                When a man loves a woman
                                Can't keep his mind on nothin' else
                                He'd trade the world
                                For a good thing he's found
                                If she is bad, he can't see it
                                She can do no wrong
                                Turn his back on his best friend
                                If he puts her down.
                        &lt;/prompt&gt;
                        &lt;goto next="holdmusic.vxml" /&gt;
                &lt;/block&gt;
        &lt;/form&gt;
&lt;/vxml&gt;
</pre>

  <h2 id="related-work">Appendix A - Related Work</h2>

  <h3 id="cpl">CPL</h3>

  <p>The Call Processing Language [<cite><a href="#ref-CPL" shape="rect">CPL</a></cite>] is an XML based language that can be
  used to describe and control Internet telephony services. Its focus is user scripting of call handling behavior for incoming
  calls. It is designed to be suitable for running on a server where users may not be allowed to execute arbitrary programs, and
  so is not Turing-complete.</p>

  <h3 id="callxml">CallXML</h3>

  <p>CallXML [<cite><a href="#ref-CALLXML" shape="rect">CALLXML</a></cite>] is a markup language created by Voxeo Corporation
  that includes both voice and call-control functionality. CallXML is an XML based markup language used to describe the user
  interface of a telephone, voice over IP, or multi-media call application to a CallXML browser.</p>

  <p>CallXML was designed to make it easy for Web developers to create applications that can interact with and control any number
  or type of calls, including:</p>

  <ul>
    <li>Telephone or Voice over IP call applications which can control the initiation and routing of a phone call itself,
    supporting such features as outbound dialing, conferencing, and multi-call interactions (e.g., conference bridges, Internet
    call waiting, follow-me/find-me, etc)</li>

    <li>Telephone or Voice over IP call applications which can easily interact and respond to touch-tone based entry and
    selection (e.g., voicemail, interactive voice response)</li>

    <li>Call Applications which include support for additional media, such as faxes and video (e.g., unified messaging, video
    conferencing, etc.)</li>
  </ul>

  <h3 id="csta">ECMA-CSTA</h3>

  <p>The description of CSTA [<cite><a href="#ref_CSTA" shape="rect">CSTA</a></cite>] from http://www.ecma-international.org/ is
  as follows:</p>

  <blockquote>
    <p>"CSTA specifies an Applications Interface and Protocols for monitoring and controlling calls and devices in a
    communications network.</p>

    <p>These calls and devices may support various media and can reside in various network environments such as IP, Switched
    Circuit Networks and mobile networks. CSTA however, abstracts various details of underlying signalling protocols (e.g.
    SIP/H.323) and networks for the applications."</p>
  </blockquote>

  <p>The architecture of CCXML would allow a platform to be based on CSTA for the underlying telephony protocol while still
  providing the CCXML execution environment for ease of integration with voice browsers.</p>

  <h3 id="txml">TXML</h3>

  <p>TXML (Telera's Extensible Markup Language) is an XML based language
  designed by Genesys (formerly Telera) for remotely controlling the behavior of Point of Presence (POP) servers.</p>

  <p>TXML provides the syntax for the XML Pages, which are generated at the customer's application at the premises and used by a
  POP server to execute actions on behalf of the customer's application. The XML Pages are simple ASCII text files that are
  either stored in a Web server's directory at the premises or generated by scripts at the premises server. The XMLPages are
  requested from the premises server via <acronym title="Hyper Text Transfer Protocol">HTTP</acronym> requests made by a client
  on the POP gateway.</p>

  <p>The language includes elements for</p>

  <ul class="noindent">
    <li>Media Control</li>

    <li>Call Control and Telephony</li>

    <li>Call Router Integration</li>
  </ul>

  <h3 id="sip">SIP</h3>

  <p>SIP, the Session Initiation Protocol, [<cite><a href="#ref_RFC3261" shape="rect">RFC3261</a></cite>] is a signaling protocol
  for Internet conferencing, telephony, presence, events notification and instant messaging. As a signaling protocol, SIP sits
  "below" the application description level of VoiceXML and CCXML. We expect many CCXML and VoiceXML browsers to support SIP
  signaling.</p>

  <h2 id="dtd">Appendix B - CCXML DTD</h2>

  <p><strong>This section is Normative.</strong></p>

  <p>The CCXML DTD is located at <a href="./ccxml.dtd" shape="rect">http://www.w3.org/TR/2010/CR-ccxml-20100401/ccxml.dtd</a>.</p>

  <h2 id="schema">Appendix C - CCXML XML Schema</h2>

  <p><strong>This section is Normative.</strong></p>

  <p>The CCXML schema is located at <a href="./ccxml.xsd" shape="rect">http://www.w3.org/TR/2010/CR-ccxml-20100401/ccxml.xsd</a>.</p>

  <h2 id="VoiceXMLIntegration">Appendix D - VoiceXML 2.0 Integration Details</h2>

  <p><strong>This section is Normative.</strong></p>

  <h3 id="Appendix-VoiceXML-Overview">D.1 Overview</h3>

  <p>This section describes the details of how CCXML and VoiceXML 2.0 work together to provide dialog functionality in CCXML.</p>

  <p>The CCXML application behaviors described below are guidelines and applications are not required to support the full set of
  VoiceXML interactions. Platforms however should support the events and methods specified below to allow CCXML applications to
  implement the behaviors documented in this Appendix.</p>

  <p>Since HTTP is a stateless protocol, application servers typically use cookie-based and/or URI rewriting techniques to enable
  stateful interactions with the server. Authors should be aware that application servers employing cookie-based management
  techniques will view concurrently executing CCXML and VoiceXML applications as independent (the CCXML and VoiceXML cookie
  stores are independent). Authors wishing to correlate CCXML and VoiceXML data at the server can use URI rewriting or
  alternatively employ the CCXML sessionid variable together with the connectionid or conferenceid as a common, unique key across
  the CCXML and VoiceXML applications.</p>

  <h3 id="Appendix-VoiceXML-Events">D.2 Events</h3>

  <p>CCXML and VoiceXML 2.0 need to be able to exchange events between the browsers. The method of the message passing is up to
  the platform but it is assumed that there is some basic capacity in place.</p>

  <p>Each running CCXML session has an event queue used to process CCXML events, independently of VoiceXML event processing by
  the dialogs created by that CCXML session. The execution of certain CCXML elements, such as
  <code>&lt;dialogterminate&gt;</code> and <code>&lt;send&gt;</code>, may cause events to be sent to the VoiceXML browser;
  similar, certain VoiceXML elements such as <code>&lt;transfer&gt;</code> will result in the generation of dialog events
  delivered to the CCXML session that owns the dialog in question. The sections below define the event relationship between the
  CCXML and VoiceXML environments.</p>

  <p>VoiceXML 2.0 provides limited capabilities for handling asynchronous or unexpected events. Since CCXML is designed around a
  robust event processing mechanism, and since the CCXML session manages connections to the underlying network, processing of
  asynchronous events - which may be delivered through externally accessible event I/O processors - typically occurs primarily
  within the CCXML application, which can then control the VoiceXML session as appropriate. The VoiceXML dialog can therefore
  focus exclusively on interaction with the user.</p>

  <h3 id="Appendix-VoiceXML-SessionVars">D.3 VoiceXML Session Variables</h3>

  <p>When a VoiceXML dialog is bridged to a connection with an associated call leg, the standard VoiceXML session variables
  obtain their values from the call leg. Otherwise, these variables are undefined. After the dialog is bridged to a connection,
  VoiceXML session variables are not updated again. CCXML defines an additional read-only VoiceXML session variable, also
  populated when the dialog is bridged to a connection, called <code>session.connection.ccxml</code> with the following
  sub-properties:</p>

  <dl>
    <dt><b>session.connection.ccxml.sessionid</b></dt>

    <dd>This variable evaluates to the CCXML Session ID to which the VoiceXML dialog is currently associated.</dd>

    <dt><b>session.connection.ccxml.dialogid</b></dt>

    <dd>This variable evaluates to the CCXML Dialog ID for the current dialog.</dd>

    <dt><b>session.connection.ccxml.connectionid</b></dt>

    <dd>This variable evaluates to the CCXML Connection ID to which the VoiceXML dialog is currently bridged. This variable is
    undefined if the dialog is not bridged to a connection.</dd>

    <dt><b>session.connection.ccxml.conferenceid</b></dt>

    <dd>This variable evaluates to the CCXML Conference ID to which the VoiceXML dialog is currently bridged. This variable is
    undefined if the dialog is not bridged to a conference.</dd>

    <dt><b>session.connection.ccxml.values</b></dt>

    <dd>This associative array contains the names and values of the <code>parameters</code> attribute supplied in a CCXML
    <code>&lt;dialogprepare&gt;</code> or <code>&lt;dialogstart&gt;</code> invocation.</dd>
  </dl>

  <h3 id="Appendix-VoiceXML-Dialogprepare">D.4 CCXML <code>&lt;dialogprepare&gt;</code></h3>

  <p>When a CCXML application processes a <code>&lt;dialogprepare&gt;</code> element it prepares a VoiceXML application with the
  URI that is passed in on the <code>&lt;dialogprepare&gt;</code> element.</p>

  <p>Normally it is expected that a VoiceXML dialog environment will use the <code>&lt;dialogprepare&gt;</code> request as an
  opportunity to fetch the initial document indicated by the <code>src</code> and <code>namelist</code> attributes along with any
  referenced resources such as <code>&lt;audio&gt;</code>, <code>&lt;script&gt;</code>, and <code>&lt;grammar&gt;</code> elements
  marked as prefetchable.</p>

  <p>Even if a VoiceXML dialog environment is unable to perform any useful preparation the CCXML implementation <em class=
  "RFC2119">MUST</em> support the <code>&lt;dialogprepare&gt;</code> element and deliver a <code>dialog.prepared</code> event in
  response. The implementation <em class="RFC2119">MUST</em> as a minimum, note the values provided via the <code>src</code>,
  <code>namelist</code>, and <code>connectionid</code> attributes, create a Dialog object, and return a new unique value to the
  location defined by the <code>dialogid</code> attribute.</p>

  <h3 id="Appendix-VoiceXML-Dialogstart">D.5 CCXML <code>&lt;dialogstart&gt;</code></h3>

  <p>When a CCXML application processes a <code>&lt;dialogstart&gt;</code> element it starts up a VoiceXML application on the
  connection with the URI that is passed in on the <code>&lt;dialogstart&gt;</code> element or to the dialog that was prepared
  using <code>&lt;dialogprepare&gt;</code> and specified using the <code>prepareddialogid</code> attribute.</p>

  <h3 id="Appendix-VoiceXML-DialogTerminate">D.6 CCXML <code>&lt;dialogterminate&gt;</code></h3>

  <p>When a CCXML application processes a <code>&lt;dialogterminate&gt;</code> it causes a
  <code>"connection.disconnect.hangup"</code> event to be thrown to the VoiceXML application. As far as the VoiceXML application
  knows the call was just disconnected. The VoiceXML application still has a chance to return data to the CCXML application by
  using <code>&lt;exit&gt;</code> in its <code>&lt;catch&gt;</code> statement.</p>

  <h3 id="Appendix-VoiceXML-Exit">D.7 VoiceXML <code>&lt;exit&gt;</code></h3>

  <p>When a VoiceXML application processes a VoiceXML <code>&lt;exit&gt;</code> it will cause the VoiceXML application to exit
  and return the contents of the <code>namelist</code> attribute to the CCXML application in the <code>"dialog.exit"</code> event
  in the following form:</p>
  <pre class="example" xml:space="preserve">
&lt;exit namelist="foo bar jar"/&gt;
</pre>

  <p>maps into an event that looks like the following:</p>
  <pre class="example" xml:space="preserve">
dialog.exit
           values.foo
           values.bar
           values.jar
</pre>

  <p>and could be accessed in a CCXML Application like this:</p>
  <pre class="example" xml:space="preserve">
&lt;!-- Process the incoming call --&gt;  
&lt;transition state="dialogActive" event="dialog.exit"&gt;
  &lt;log expr="'Houston, the dialog foo: [' + event$.values.foo + ']'" /&gt;
  &lt;log expr="'Houston, the dialog bar: [' + event$.values['bar'] + ']'" /&gt;
  &lt;var name="xxx" expr="'jar'/&gt;
  &lt;log expr="'Houston, the dialog jar: [' + event$.values[xxx] + ']'" /&gt;
  &lt;exit /&gt; 
&lt;/transition&gt;
</pre>

  <p>If the VoiceXML application is returning data using the <code>expr</code> attribute the data will be stored in
  <code>"values"</code>.</p>
  <pre class="example" xml:space="preserve">
&lt;!-- Process the incoming call --&gt;  
&lt;transition state="dialogActive" event="dialog.exit"&gt;
  &lt;log expr="'Houston, the dialog using expr [' + event$.values + ']'" /&gt;
  &lt;exit /&gt; 
&lt;/transition&gt;
</pre>

  <h3 id="Appendix-VoiceXML-Disconnect">D.8 VoiceXML <code>&lt;disconnect&gt;</code></h3>

  <p>When the VoiceXML application processes a <code>&lt;disconnect&gt;</code> element it causes a
  <code>"dialog.disconnect"</code> event to be thrown in the CCXML application. It is then up to the CCXML application to
  disconnect the call and sends back a <code>"connection.disconnect.hangup"</code> event by using the
  <code>&lt;dialogterminate&gt;</code> element. The following is an example of what would happen:</p>

  <ol>
    <li>The VoiceXML application executes a <code>&lt;disconnect&gt;</code>.</li>

    <li>As a result, the VoiceXML interpreter sends a disconnect event to CCXML.</li>

    <li>CCXML receives a <code>"dialog.disconnect"</code> event from the VoiceXML application. It interprets this as a request
    from the VoiceXML application to "please disconnect me".</li>

    <li>An eventprocessor in the CCXML document <em class="RFC2119">SHOULD</em> have a <code>&lt;transition&gt;</code> element
    intended to handle the <code>"dialog.disconnect"</code> event.</li>

    <li>The CCXML application would have a <code>&lt;disconnect&gt;</code> element as the child of the transition event. This
    would disconnect the call.</li>

    <li>An eventprocessor in the CCXML document should have a <code>&lt;transition&gt;</code> element intended to handle the
    <code>"connection.disconnected"</code> event.</li>

    <li>The <code>&lt;transition&gt;</code> element has a child element which performs a <code>&lt;dialogterminate&gt;</code> on
    the dialog.</li>
  </ol>

  <p>Here is the example CCXML code that completes the disconnect and returns the <code>"connection.disconnect.hangup"</code>
  event back to VoiceXML using <code>&lt;dialogterminate&gt;</code>:</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
  &lt;var name="dialogid"/&gt;
        
  &lt;eventprocessor statevariable="mystate"&gt;
    &lt;transition event="dialog.disconnect"&gt;
      &lt;assign name="dialogid" expr="event$.dialogid"/&gt;
      &lt;disconnect connectionid="event$.connectionid" /&gt;
    &lt;/transition&gt;
                
    &lt;transition event="connection.disconnected" &gt;
     &lt;dialogterminate dialogid="dialogid"/&gt;
    &lt;/transition&gt;
  &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
  
</pre>

  <h3 id="Appendix-VoiceXML-Transfer">D.9 VoiceXML <code>&lt;transfer&gt;</code></h3>

  <p>When a VoiceXML application processes a <code>&lt;transfer&gt;</code> element it is handled within CCXML via series of
  events between the VoiceXML platform and the CCXML application. The type of transfer is controlled in VoiceXML 2.0 by the
  <code>bridge</code> attribute. If the value of <code>bridge</code> is "<code>true</code>" this will come in with a transfer
  type of "<code>bridge</code>" and if the value is "<code>false</code>" it will have a type of "<code>blind</code>". Here is an
  example of the logic to support the VoiceXML 2.0 transfer types:</p>

  <ul>
    <li>The VoiceXML application executes a <code>&lt;transfer&gt;</code> causing a <code>dialog.transfer</code> event to be sent
    to the CCXML Session.</li>

    <li>The CCXML document should have a <code>&lt;transition&gt;</code> to handle the <code>dialog.transfer</code> event. This
    transition should implement the logic in the following steps.</li>

    <li>If the <code>type</code> attribute of the <code>dialog.transfer</code> event is "<code>blind</code>" perform the
    following:

      <ul>
        <li>Execute a <code>&lt;redirect&gt;</code> to move the call to URI specified in the <code>dialog.transfer</code>
        event</li>

        <li>The CCXML Application sends a <code>connection.disconnect.transfer</code> event to inform the VoiceXML session that
        the <code>&lt;transfer&gt;</code> is complete.</li>
      </ul>
    </li>

    <li>If the <code>type</code> attribute of the <code>dialog.transfer</code> event is "<code>bridge</code>" perform the
    following:

      <ul>
        <li>Invoke a <code>&lt;createcall&gt;</code> to create an outgoing call leg.</li>

        <li>If the <code>&lt;createcall&gt;</code> completes with a <code>connection.connected</code> event then do the
        following:

          <ul>
            <li>Join the two call leg together as full duplex and if needed start a <code>maxtime</code> timer.</li>

            <li>If a <code>connection.disconnected</code> event comes in for the original party:

              <ul>
                <li>Disconnect the new party</li>

                <li>Return a <code>connection.disconnect.hangup</code> using <code>&lt;dialogterminate&gt;</code> to the VoiceXML
                session.</li>
              </ul>
            </li>

            <li>If a <code>connection.disconnected</code> event comes in for the new party:

              <ul>
                <li><code>&lt;join&gt;</code> the original connection back to the dialog full dupex</li>

                <li>return a <code>dialog.transfer.complete</code> event to the dialog with a reason of
                <code>far_end_disconnect</code>.</li>
              </ul>
            </li>

            <li>If a <code>maxtime</code> event comes in:

              <ul>
                <li>Disconnect the new party</li>

                <li><code>&lt;join&gt;</code> the original connection back to the dialog full dupex</li>

                <li>send a <code>dialog.transfer.complete</code> event to the dialog with a reason of
                <code>maxtime_disconnect</code></li>
              </ul>
            </li>

            <li>If a <code>dialog.terminatetransfer</code> event comes in:

              <ul>
                <li>Disconnect the new party</li>

                <li><code>&lt;join&gt;</code> the original connection back to the dialog full dupex</li>

                <li>send a <code>dialog.transfer.complete</code> event to the dialog with a reason of
                <code>near_end_disconnect</code></li>
              </ul>
            </li>
          </ul>
        </li>

        <li>If the <code>&lt;createcall&gt;</code> fails with a <code>connection.failed</code> event then do the following:

          <ul>
            <li>Send a <code>dialog.transfer.complete</code> event to the VoiceXML dialog with the failure reason.</li>
          </ul>
        </li>
      </ul>
    </li>

    <li>If the <code>type</code> attribute of the <code>dialog.transfer</code> event is <code>bridge</code>, and if early media
    is desired/permissible, then the above steps should be performed with the following exceptions:

      <ul>
        <li>When invoking <code>&lt;createcall&gt;</code> to create the outgoing call leg, the <code>joinid</code> attribute
        should be specified and should refer to the connection ID of the inbound leg associated with the dialog performing the
        <code>&lt;transfer&gt;</code>;</li>

        <li>If the <code>&lt;createcall&gt;</code> completes with a <code>connection.connected</code> event, start a maxtime
        timer (if needed), but do not perform a <code>&lt;join&gt;</code> (since the calls are already joined).</li>
      </ul>
    </li>
  </ul>

  <h4 id="dialogEventsTransferComplete"><code>dialog.transfer.complete</code></h4>

  <p>This event <em class="RFC2119">MUST</em> be sent from the CCXML application to the Dialog which uses this to fill transfer
  results (i.e. for VoiceXML platforms to fill field item results). The <code>&lt;send&gt;</code> attributes used to send this
  event are:</p>

  <table class="event" summary="Event Table">
    <tr class="eventHeader">
      <th>Attribute Name</th>

      <th>Required</th>

      <th>Type</th>

      <th>Details</th>
    </tr>

    <tr class="">
      <td class="eventRowName">target</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Expression</td>

      <td class="eventRowDetails"><i>dialogid</i> of the dialog whose transfer is complete</td>
    </tr>

    <tr class="">
      <td class="eventRowName">targettype</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Expression</td>

      <td class="eventRowDetails">dialog</td>
    </tr>

    <tr class="">
      <td class="eventRowName">sendid</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Left Hand Side Expression</td>

      <td class="eventRowDetails">Optional sendid</td>
    </tr>

    <tr class="">
      <td class="eventRowName">delay</td>

      <td class="eventRowRequired">false</td>

      <td class="eventRowType">ECMAScript Expression</td>

      <td class="eventRowDetails">Optional delay</td>
    </tr>

    <tr class="">
      <td class="eventRowName">name</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">ECMAScript Expression</td>

      <td class="eventRowDetails">dialog.transfer.complete</td>
    </tr>

    <tr class="">
      <td class="eventRowName">namelist</td>

      <td class="eventRowRequired">true</td>

      <td class="eventRowType">Var List</td>

      <td class="eventRowDetails"><i>results</i> 
           with the value of the transfer field to be filled in</td>
    </tr>
  </table>
  <hr />

  <p>An example of this send element is below:</p>
  <pre class="example" xml:space="preserve">
&lt;var name="results" expr="'near_end_disconnect'"&gt;
&lt;send name="'dialog.transfer.complete'" 
    target="dialogid" 
    targettype="'dialog'" 
    namelist="results" /&gt;
</pre>

  <h4 id="Appendix-VoiceXML-Event-TerminateTransfer"><code>dialog.terminatetransfer</code></h4>

  <p>The VoiceXML interpreter is responsible for throwing this event when a "hotword" grammar is matched while performing a
  bridged transfer.</p>

  <h3 id="Appendix-VoiceXML-UserDisconnect">D.10 User Disconnect</h3>

  <p>When a caller hangs up on one of the connections the VoiceXML dialog is not automatically disconnected. The CCXML
  application then needs to send a <code>"connection.disconnect.hangup"</code> event to the VoiceXML application by using the
  <code>&lt;dialogterminate&gt;</code> element so it can complete any cleanup that is required. The VoiceXML application can then
  still return data to the CCXML application by using the VoiceXML <code>&lt;exit&gt;</code> element.</p>

  <h3 id="Appendix-VoiceXML-VoiceXML2Example">D.11 VoiceXML 2.0 Example</h3>

  <p>The following example code shows how you would duplicate the standard VoiceXML 2.0 Interpreter Context in a CCXML
  Application. This example is not meant to be a complete application and does not handle all error events but is rather meant to
  give an overview of what such an application may look like.</p>

  <p>You may also <a href="voicexml20.ccxml" shape="rect">download the source</a> of this application.</p>
  <pre class="example" xml:space="preserve">
  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"&gt;
    &lt;!-- Declare the vars we are going to use --&gt;
    &lt;var name="in_connectionid" /&gt;
    &lt;var name="out_connectionid" /&gt;
    &lt;var name="dialogid" /&gt; 
    &lt;var name="vxml_maxtime"/&gt;
    &lt;var name="URI"/&gt;
    &lt;var name="maxtime_sendid"/&gt;
    &lt;var name="results"/&gt;
    
    &lt;!-- Set an initial state --&gt;
    &lt;var name="mystate" expr="'init'"/&gt;
    
    &lt;eventprocessor statevariable="mystate"&gt;

        &lt;!--
           - Deal with an incoming call 
         --&gt;
        &lt;transition state="init" event="connection.alerting"&gt;
            &lt;!-- Save off the connection ID --&gt;
            &lt;assign name="in_connectionid" expr="event$.connectionid" /&gt;
            &lt;accept connectionid="event$.connectionid"/&gt;
        &lt;/transition&gt;

        &lt;!--
           - Call is connected so lets start the dialog 
         --&gt;
        &lt;transition state="init" event="connection.connected"&gt;
            &lt;dialogstart connectionid="event$.connectionid" 
                src="http://www.example.com/dialog.vxml" 
                dialogid="dialogid"/&gt;
            &lt;assign name="mystate" expr="'connected'" /&gt;
        &lt;/transition&gt;
        
        &lt;!--
           - Dialog is active 
         --&gt;
        &lt;transition state="connected" event="dialog.started"&gt;
            &lt;assign name="mystate" expr="'dialogActive'" /&gt;
        &lt;/transition&gt;

        &lt;!--
           - Dialog requests that we disconnect the call 
         --&gt;
        &lt;transition state="dialogActive" event="dialog.disconnect"&gt;
            &lt;disconnect connectionid="event$.connectionid" /&gt;
            &lt;assign name="mystate" expr="'disconnecting'" /&gt;
        &lt;/transition&gt;

        &lt;!--
           - We have disconnected the call. Do a dialog terminate to the dialog.
          --&gt;
        &lt;transition state="disconnecting" event="connection.disconnected"&gt;
            &lt;dialogterminate dialogid="dialogid"/&gt;
        &lt;/transition&gt;

        &lt;!--
           - Dialog has exited after we disconnected the call. 
           - We just are going to exit from this CCXML session...
          --&gt;
        &lt;transition state="disconnecting" event="dialog.exit"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;

        &lt;!--
           - The caller disconnected. We need to send the event up to
           - the Dialog and change our state.
          --&gt;
        &lt;transition state="dialogActive" 
                    event="connection.disconnected"&gt;
            &lt;dialogterminate dialogid="dialogid"/&gt;
            &lt;assign name="mystate" expr="'userDisconnect'" /&gt;
        &lt;/transition&gt;

        &lt;!--
           - Dialog has exited after the caller hungup. 
           - We just are going to exit from this CCXML session...
          --&gt;
        &lt;transition state="userDisconnect" event="dialog.exit"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;


        &lt;!--
           -
           - Handle a transfer request from a VXML script.
           -
         --&gt;
        &lt;transition state="dialogActive" event="dialog.transfer"&gt;
            &lt;!-- Branch on transfer type --&gt;
            &lt;if cond="event$.type == 'blind'"&gt;
                &lt;!-- Bridge == false. We are going to just redirect the call --&gt;
                
                &lt;!-- Update our state var --&gt;
                &lt;assign name="mystate" expr="'redirecting'" /&gt;
                
                &lt;!-- And redirect to the uri specified in the event --&gt;
                &lt;redirect connectionid="in_connectionid" dest="event$.uri" /&gt;

                &lt;!-- Just send the success event to the dialog --&gt;
                &lt;send name="'connection.disconnect.transfer'" 
                    target="dialogid" 
                    targettype="'dialog'"/&gt;

            &lt;else/&gt;
                &lt;!-- Bridge == true. In this case we need to 
                     place a call and bridge the calls --&gt;

                &lt;!-- save off maxtime --&gt;
                &lt;assign name="vxml_maxtime" expr="event$.maxtime" /&gt;

                &lt;!-- Update our state var --&gt;
                &lt;assign name="mystate" expr="'calling'" /&gt;

                &lt;!-- Place the call using the values from the transfer request --&gt;
                &lt;assign name="URI" expr="event$.uri" /&gt;
                &lt;createcall dest="event$.uri" 
                    connectionid="out_connectionid"
                    aai="event$.aai" 
            timeout="event$.connecttimeout"/&gt;
            &lt;/if&gt;
        &lt;/transition&gt;
        
 
        &lt;!--
           - We will get the following events but we do not do anything 
           - because in VoiceXML 2.0 you just ignore redirect errors.
           - We do however process the dialog.exit and shutdown 
           - the CCXML Session. 
         --&gt;
        &lt;transition state="redirecting"
                    event="connection.redirected"&gt;
        &lt;/transition&gt;
        &lt;transition state="redirecting" event="connection.redirect.failed"&gt;
        &lt;/transition&gt;
        &lt;transition state="redirecting" event="dialog.exit"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;
                

        &lt;!-- 
           -
           - Handle bridge=true Events
           -
           - This first event is for if the outbound call failed.
           -
        --&gt;
        &lt;transition state="calling" event="connection.failed"&gt;
            &lt;!-- Just send the error event to the dialog --&gt;
            &lt;assign name="results" expr="event$.reason"/&gt;
            &lt;send name="'dialog.transfer.complete'" 
                target="dialogid" 
                targettype="'dialog'" 
                namelist="results" /&gt;

            &lt;!-- Update our state var back to the original state --&gt;
            &lt;assign name="mystate" expr="'dialogActive'" /&gt;
        &lt;/transition&gt;

        &lt;!-- 
           - The outbound call has been answered. 
         --&gt;
        &lt;transition state="calling" event="connection.connected"&gt;
            &lt;!-- Update our state var back to show that we are connected --&gt;
            &lt;assign name="mystate" expr="'outgoing_call_active'" /&gt;
            &lt;!-- Unjoin the calls before it can be connected to other call --&gt;
            &lt;join id1=" dialogid" id2=" in_connectionid" duplex="'half'" dtmfclamp="false"/&gt;
        &lt;/transition&gt;
        
        
         &lt;!-- 
           - Now connecte the outbound.
         --&gt;     
    &lt;transition state="outgoing_call_active" event="conference.joined"&gt;
            &lt;!-- Join the two calls together --&gt;
            &lt;join id1="in_connectionid" id2="out_connectionid" duplex="'full'" /&gt;
        &lt;/transition&gt;

        &lt;!-- 
           - We will get here once the join completes. 
         --&gt;
        &lt;transition state="outgoing_call_active" 
                    event="conference.joined"&gt;
            &lt;!-- If maxtime has been set then we setup a timer --&gt;
            &lt;if cond="vxml_maxtime != null"&gt;
                &lt;send name="'vxml_maxtime'" 
                    target="session.id"
                    delay="vxml_maxtime" 
                    sendid="maxtime_sendid"/&gt;
            &lt;/if&gt;
        &lt;/transition&gt;

        &lt;!--  
           - Deal with someone disconnecting.
         --&gt;    
        &lt;transition state="outgoing_call_active" 
                    event="connection.disconnected"&gt;

            &lt;!-- Cancel any maxtime events that are waiting to be fired --&gt; 
            &lt;if cond="maxtime_sendid != null"&gt;
                &lt;cancel sendid="maxtime_sendid"/&gt;
                &lt;assign name="maxtime_sendid" expr="null"/&gt;
            &lt;/if&gt;

            &lt;!-- Branch off based on what call leg this is for and send 
                 the proper event to the dialog --&gt;
            &lt;if cond="event$.connectionid == out_connectionid"&gt;
                &lt;assign name="results" expr="'far_end_disconnect'" /&gt;
                &lt;send name="'dialog.transfer.complete'" 
                    target="dialogid" 
                    targettype="'dialog'" 
                    namelist="results" /&gt;

                &lt;!-- Update our state var back to the original state --&gt;
                &lt;assign name="mystate" expr="'dialogActive'" /&gt;

            &lt;else /&gt;
                &lt;!-- Set our state to show that the 
                     original caller is disconnected. --&gt;
                &lt;assign name="mystate" expr="'userDisconnect'" /&gt;
                &lt;dialogterminate dialogid="dialogid"/&gt;
            &lt;/if&gt;

        &lt;/transition&gt;

        &lt;!--  
           - Deal with a "hotword" type event where the dialog
           - requests that we stop the transfer.
         --&gt;
        &lt;transition state="outgoing_call_active" 
                    event="dialog.terminatetransfer"&gt;

            &lt;!-- Change our state to show we are dealing with hotword stuff --&gt;
            &lt;assign name="mystate" expr="'hotword'" /&gt;

            &lt;!-- Cancel any maxtime events that are waiting to be fired --&gt; 
            &lt;if cond="maxtime_sendid != null"&gt;
                &lt;cancel sendid="maxtime_sendid"/&gt;
                &lt;assign name="maxtime_sendid" expr="null"/&gt;
            &lt;/if&gt;
            
            &lt;!-- unjoin our connections --&gt;
            &lt;unjoin id1="in_connectionid" id2="out_connectionid"/&gt;

        &lt;/transition&gt;

        &lt;!--  
           - Calls have been unjoined.
         --&gt;
        &lt;transition state="hotword" event="conference.unjoined"&gt;
            &lt;!-- Rejoin the first connection to the dialog --&gt; 
            &lt;join id1="in_connectionid" id2="dialogid"/&gt;
            
            &lt;!-- Disconnect the outbound call --&gt;
            &lt;disconnect connectionid="out_connectionid"/&gt;
        &lt;/transition&gt;
        
        &lt;!--  
           - Send an event to the dialog once we are all back together again.
         --&gt;
        &lt;transition state="hotword" event="conference.joined"&gt;

            &lt;!-- Build up our event --&gt;
            &lt;assign name="results" expr="'near_end_disconnect'" /&gt;
            &lt;send name="'dialog.transfer.complete'" 
                target="dialogid" 
                targettype="'dialog'" 
                namelist="results" /&gt;

            &lt;!-- Update our state var back to the dialogActive state --&gt;
            &lt;assign name="mystate" expr="'dialogActive'" /&gt;
        &lt;/transition&gt;
        

        &lt;!--  
           - Deal with connection.disconnected events in the hotword state.
           - We are only going to deal with stuff if the event is 
           - for the incoming call.
         --&gt;
        &lt;transition state="hotword" event="connection.disconnected"&gt;
            &lt;if cond="event$.connectionid == in_connectionid"&gt;
                &lt;dialogterminate dialogid="dialogid"/&gt;
                &lt;!-- Update our state var to the userDisconnect state --&gt;
                &lt;assign name="mystate" expr="'userDisconnect'" /&gt;
            &lt;/if&gt;
        &lt;/transition&gt;

        
        &lt;!--  
           - Deal with the maxtime event during a call transfer.
           - Should this happen we just disconnect the outbound call leg
           - and get back to the dialogActive state. 
           -
           - Step one is to disconnect the call...
         --&gt;
        &lt;transition state="outgoing_call_active" 
                    event="vxml_maxtime"&gt;
            &lt;assign name="maxtime_sendid" expr="null"/&gt;

            &lt;assign name="mystate" expr="'maxtime'" /&gt;
            &lt;disconnect connectionid="out_connectionid"/&gt;
        &lt;/transition&gt;

        &lt;!--  
           - Once we have the disconnect event we verify that we 
           - got it for the outbound call and rejoin the dialog to the 
           - inbound call. If the inbound call disconnected
           - we are going to go on and forward the event along 
           - and wait for the dialog to exit.
           -
         --&gt;
        &lt;transition state="maxtime" event="connection.disconnected"&gt;
            &lt;if cond="event$.connectionid == out_connectionid"&gt;
                &lt;join id1="dialogid" id2="in_connectionid"/&gt;
            &lt;else /&gt;
                &lt;dialogterminate dialogid="dialogid"/&gt;
            &lt;/if&gt;
        &lt;/transition&gt;

        &lt;!--  
           -
           - We are rejoined. Update our state and send the transfer
           - event back to the dialog.
           -
         --&gt;
        &lt;transition state="maxtime" event="conference.joined"&gt;
            &lt;!-- Update our state var back to the dialogActive state --&gt;
            &lt;assign name="mystate" expr="'dialogActive'" /&gt;

            &lt;assign name="results" expr="'maxtime_disconnect'" /&gt;
            &lt;send name="'dialog.transfer.complete'" 
                target="dialogid" 
                targettype="'dialog'" 
                namelist="results" /&gt;
        &lt;/transition&gt;

        &lt;!--
           - Dialog has exited while we were in a hotword state. 
           - We just are going to exit from this CCXML session...
          --&gt;
        &lt;transition state="maxtime" event="dialog.exit"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;

        
        &lt;!-- 
           -
           - Deal with any extra random events that may come in.
           -
         --&gt;

        &lt;!--  
           - Make sure that we deal with any extra dialog events
           - by ending the session. A real ccxml app would do something 
           - better here.
         --&gt;
        &lt;transition event="dialog.*"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;

        &lt;!--  
           - And do the same for any exit events.
         --&gt;
        &lt;transition event="error.*"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;

        &lt;!--  
           - And last but not least catch any connection.disconnect 
           - events that made it past us.
         --&gt;
        &lt;transition event="connection.disconnected"&gt;
            &lt;exit/&gt;
        &lt;/transition&gt;


    &lt;/eventprocessor&gt;
&lt;/ccxml&gt;
</pre>

  <h2 id="Appendix-TelephonyProtocolNames">Appendix E - Telephony Protocol Names</h2>

  <h3 id="Appendix-TelephonyProtocolNames.1">Overview</h3>

  <p>This section defines a list of <em class="RFC2119">recommended</em> telephony protocol names to be used in CCXML platforms
  within the connection event objects (See <a href="#s10.2.3" shape="rect">10.2.3: Connection Events</a>). Platforms <em class=
  "RFC2119">MUST</em> use the following list when available. If the protocol is not defined in this list the platform <em class=
  "RFC2119">MUST</em> prefix the name with an underscore, "_", to identify them as platform-dependent.</p>

  <h3 id="Appendix-TelephonyProtocolNames.2">Protocol names</h3>

  <table border="1" width="90%" summary="Protocol names">
    <tr>
      <th width="20%" align="center" rowspan="1" colspan="1">Protocol Name</th>

      <th width="80%" align="center" rowspan="1" colspan="1">Details</th>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">sip</td>

      <td width="80%" align="center" rowspan="1" colspan="1">Session initiation protocol [<cite><a href="#ref_RFC3261" shape=
      "rect">RFC3261</a></cite>].</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">h323</td>

      <td width="80%" align="center" rowspan="1" colspan="1">ITU H.323 Voice over IP protocol [ <cite><a href="#ref_H323" shape=
      "rect">H.323</a></cite> ].</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">q931</td>

      <td width="80%" align="center" rowspan="1" colspan="1">ISDN q.931 call control [ <cite><a href="#ref_Q931" shape=
      "rect">Q.931/DSS1</a></cite> ].</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">ss7</td>

      <td width="80%" align="center" rowspan="1" colspan="1">Signaling System 7 [ <cite><a href="#ref_SS7" shape=
      "rect">SS7</a></cite> ].</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">csta</td>

      <td width="80%" align="center" rowspan="1" colspan="1">ECMA Computer Supported Telecommunications Applications [
      <cite><a href="#ref_CSTA" shape="rect">CSTA</a></cite> ].</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">pots</td>

      <td width="80%" align="center" rowspan="1" colspan="1">Plain Old Telephone Service.</td>
    </tr>

    <tr>
      <td width="20%" align="center" rowspan="1" colspan="1">cas</td>

      <td width="80%" align="center" rowspan="1" colspan="1">Channel Associated Signaling.</td>
    </tr>
  </table>

  <h2 id="changes">Appendix F - Changes</h2>
<p>The following is the list of changes made to this document at each stage of the Recommendation Track process.</p>
  <h3 id="changes-wd2">Changes in Working Draft 2</h3>

  <ul>
    <li>Added the redirect element.</li>

    <li>Added the reason attribute to the disconnect and reject elements.</li>

    <li>Removed the submit element.</li>

    <li>Updated the fetch element.</li>

    <li>Updated the goto element.</li>

    <li>Updated the exit element.</li>

    <li>Updated the createccxml element.</li>

    <li>Added the move element.</li>

    <li>Updated the DTD.</li>

    <li>Added a Schema.</li>

    <li>Updated the examples to match the new spec changes.</li>

    <li>Major Editorial Work.</li>

    <li>Updated transition element with default cond of "true".</li>

    <li>Updated the join element.</li>

    <li>Updated the unjoin element.</li>

    <li>Updated the createconference element.</li>

    <li>Updated the destroyconference element.</li>

    <li>Added ECMAScript.</li>

    <li>Added the script element.</li>

    <li>Updated the dialog interaction.</li>

    <li>Updated the dialogstart element</li>

    <li>Updated the dialogterminate element</li>

    <li>Added VoiceXML interaction section</li>

    <li>Added new dialog events</li>

    <li>Added new ccxml core events</li>

    <li>Updated attribute names to be more consistent</li>
  </ul>

  <h3 id="changes-wd3">Changes in Working Draft 3</h3>

  <ul>
    <li>Major editorial changes to reflect current status of the document (Entire Document)</li>

    <li>Minor corrections to all examples to reflect changes to the spec (Entire Document)</li>

    <li>Rewrote introduction (Section 1)</li>

    <li>Rewrote background (Section 2)</li>

    <li>Updated overview of call management (Section 3.3)</li>

    <li>Added CSS 2 times reference to the definitions section (Section 3.4.2)</li>

    <li>Rewrote section 4 introduction to cover updated object models (Section 4)</li>

    <li>Updated description of &lt;if&gt;, &lt;elseif&gt; and &lt;else&gt; (Section 6.2.2-6.2.6)</li>

    <li>Updated namelist attribute of &lt;fetch&gt; (Section 6.2.7.2)</li>

    <li>Updated method attribute of &lt;fetch&gt; (Section 6.2.7.2)</li>

    <li>Added timeout attribute of &lt;fetch&gt; (Section 6.2.7.2)</li>

    <li>Updated namelist attribute of &lt;exit&gt; (Section 6.2.10.2)</li>

    <li>Added &lt;log&gt; tag (Section 6.2.11)</li>

    <li>Updated threading description of section 6.3.1 (Section 6.3.1)</li>

    <li>Added clarification to "ccxml.loaded" event (Section 6.3.5)</li>

    <li>Updated overview of &lt;dialogstart&gt; to reflect object model changes (Section 7.2.1.1)</li>

    <li>Updated overview of &lt;dialogstart&gt; having to do with passing of call data (Section 7.2.1.1)</li>

    <li>Renamed the callid attribute to conid on &lt;dialogstart&gt; (Section 7.2.1.2)</li>

    <li>Updated type attribute of &lt;dialogstart&gt; to make it a ECMAScript expression (Section 7.2.1.2)</li>

    <li>Updated namelist attribute of &lt;dialogstart&gt; (Section 7.2.1.2)</li>

    <li>Added duplex attribute of &lt;dialogstart&gt; (Section 7.2.1.2)</li>

    <li>Renamed callid attribute of the "dialog.started" event to conid (Section 7.3.2)</li>

    <li>Renamed callid attribute of the "dialog.exit" event to conid (Section 7.3.3)</li>

    <li>Renamed callid attribute of the "dialog.disconnect" event to conid (Section 7.3.4)</li>

    <li>Renamed callid attribute of the "dialog.transfer" event to conid (Section 7.3.5)</li>

    <li>Renamed callid attribute of the "error.dialog.notstarted" event to conid (Section 7.3.6)</li>

    <li>Renamed callid attribute of the "error.dialog.wrongstate" event to conid (Section 7.3.7)</li>

    <li>Renamed callid attribute of the "dialog.user.*" event to conid (Section 7.3.8)</li>

    <li>Added scope diagram to section 8.2.1.1 (Section 8.2.1.1)</li>

    <li>Updated event concepts in section 9.1 to reflect updated call control model (Section 9.1)</li>

    <li>Updated event delivery details in section 9.1 to deal with user specified event delay (Section 9.1)</li>

    <li>Added description to &lt;eventhandler&gt; details (Section 9.2.1)</li>

    <li>Removed id attribute from &lt;eventhandler&gt; (Section 9.2.1.1)</li>

    <li>Added description to &lt;transition&gt; details to explain event selection (Section 9.2.2)</li>

    <li>Updated state attribute of the &lt;transition&gt; element to allow for more then one state (Section 9.2.2.1)</li>

    <li>Updated event attribute of the &lt;transition&gt; element to add regex support (Section 9.2.2.1)</li>

    <li>Added event matching text to define regex behavior (Section 9.2.2.2)</li>

    <li>Added clarification to &lt;send&gt; element processing (Section 9.2.3.1)</li>

    <li>Updated namelist attribute of the &lt;send&gt; tag (Section 9.2.3.2)</li>

    <li>Added clarification to &lt;move&gt; element processing (Section 9.2.4.1)</li>

    <li>Renamed endpoint attribute of &lt;move&gt; element to source and minor updates (Section 9.2.4.2)</li>

    <li>Updated event attribute of &lt;move&gt; element (Section 9.2.4.2)</li>

    <li>Complete rewrite of most of section 9.4 to reflect new event model (Section 9.4)</li>

    <li>Added error events section (Section 9.5)</li>

    <li>Major rewrite of section 10 introduction to reflect new call control model (Section 10)</li>

    <li>Renamed callid attribute of <code>&lt;accept&gt;</code> element to conid (Section 10.1.2.2)</li>

    <li>Renamed callid attribute of &lt;redirect&gt; element to conid (Section 10.1.3.2)</li>

    <li>Updated dest attribute of &lt;redirect&gt; element (Section 10.1.3.2)</li>

    <li>Renamed callid attribute of &lt;reject&gt; element to conid (Section 10.1.4.2)</li>

    <li>Added &lt;hold&gt; tag (Section 10.1.5)</li>

    <li>Updated overview of <code>&lt;createcall&gt;</code> element (Section 10.2.1.1)</li>

    <li>Updated dest attribute of <code>&lt;createcall&gt;</code> (Section 10.2.1.2)</li>

    <li>Renamed name attribute of <code>&lt;createcall&gt;</code> to conid (Section 10.2.1.2)</li>

    <li>Added aai attribute to <code>&lt;createcall&gt;</code> (Section 10.2.1.2)</li>

    <li>Added callerid attribute to <code>&lt;createcall&gt;</code> (Section 10.2.1.2)</li>

    <li>Added hints attribute to <code>&lt;createcall&gt;</code> (Section 10.2.1.2)</li>

    <li>Added use attribute to <code>&lt;createcall&gt;</code> (Section 10.2.1.2)</li>

    <li>Added timeout attribute to <code>&lt;createcall&gt;</code> (Section 10.2.1.2)</li>

    <li>Added examples section to <code>&lt;createcall&gt;</code> (Section 10.2.1.3)</li>

    <li>Major rewrite of Section 10.3 and 10.4 to reflect new call control models (Section 10.3 and 10.4)</li>

    <li>Updated disconnect section to update call control model (Section 10.5)</li>

    <li>Renamed callid attribute of &lt;disconnect&gt; to conid (Section 10.5.1.2)</li>

    <li>Added dialog attribute to &lt;disconnect&gt; (Section 10.5.1.2)</li>

    <li>Updated reason attribute of &lt;disconnect&gt; (Section 10.5.1.2)</li>

    <li>Updated details of the &lt;authenticate&gt; tag having to do with the "ccxml.exit" event (Section 11.2.2)</li>

    <li>Updated all examples to work with changes (Section 12)</li>

    <li>Moved all issues to Appendix A (Appendix A)</li>

    <li>Added ECMA-CSTA to Appendix B (Appendix B)</li>

    <li>Updated DTD (Appendix C)</li>

    <li>Updated Schema (Appendix D)</li>

    <li>Updated VoiceXML Integration Details (Appendix E)</li>

    <li>Added Recommended Telephony Protocol names (Appendix F)</li>

    <li>Renamed Changes and Acknowledgments Appendixes (Appendixes G and H)</li>
  </ul>

  <h3 id="changes-lcwd">Changes in Last Call Working Draft</h3>

  <ul>
    <li>Rewrite of dialog section to prepare for LCWD. This includes language cleanup and references to external specifications.
    (Section 7)</li>

    <li>Rewrite of variables and expressions section to prepare for LCWD. This includes language cleanup and references to
    external specifications. (Section 8)</li>

    <li>Better details on variable scope issues. (Section 8)</li>

    <li>charset Attribute added to script tag. (Section 8)</li>

    <li>New section listing session variables. (Section 8.3)</li>

    <li>Rewrite of Event Handling section to prepare for LCWD. This includes language cleanup and references to external
    specifications. Some content has been moved to section 10. (Section 9)</li>

    <li>Rewrite of Telephony Operations and Resources section to prepare for LCWD. This includes language cleanup and references
    to external specifications. (Section 10)</li>

    <li>Removed incomplete security section. (Section 11)</li>

    <li>Removed inline DTD. (Appendix C)</li>

    <li>Removed inline Schema. (Appendix D)</li>

    <li>Updated Schema text. (Appendix D)</li>

    <li>Updated telephony protocol names to change "SHOULD" to be "MUST". (Appendix F)</li>

    <li>Added CAS to list of telephony protocol names. (Appendix F)</li>

    <li>Added references section. (Appendix I)</li>

    <li>Update of if, elseif, else tags. (Section 6)</li>

    <li>New table formats</li>

    <li>New example formats</li>

    <li>Updated text for section 9. (Section 9)</li>

    <li>Updated text for section 10. (Section 10)</li>

    <li>Updated text for section 6. (Section 6)</li>

    <li>Cleanup of text in full spec. (All)</li>

    <li>New session text. (Sections 1, 2, 3 and 6)</li>

    <li>CR 122 Text for XMLNS and XML-BASE. (Section 6)</li>

    <li>CR 133 Text for meta and metadata. (Section 6)</li>

    <li>Cleanup of Schema text. (Appendix D)</li>

    <li>Removal of "Section" in section titles. (All)</li>

    <li>Update references of &lt;eventhandler&gt; to &lt;eventprocessor&gt;. (All)</li>

    <li>Update of Acknowledgments. (Appendix H)</li>

    <li>Change elements --&gt; Elements in titles. (All)</li>

    <li>Correction of the use of the term "element". (All)</li>

    <li>Added ACRONYM tag for IVR. (All)</li>

    <li>Added telephony standard references in section 2. (Section 2)</li>

    <li>Added URI to defined terms. (Section 3.4.2)</li>

    <li>Cleanup of RFC2119 terms. (All)</li>

    <li>Added references to Appendix G. (Appendix G)</li>

    <li>Reworking of Appendix B (Appendix B)</li>

    <li>Update of Acknowledgments. (Appendix H)</li>

    <li>Split conid into conferenceid and connectionid for dialog stuff. (Section 7)</li>

    <li>CR-136, createccxml/fetch updates. (Section 6)</li>

    <li>CR-140, hints attributes on telephony elements. (Section 10.5)</li>

    <li>CR-141, move, send, and cancel have no positive confirmation event. (Section 9.3)</li>

    <li>Updated Schema (CR-130). (Appendix D)</li>

    <li>Updated DTD (CR-130). (Appendix C)</li>

    <li>Conference events. (Section 10)</li>

    <li>CR-131 src vs srcexpr on script. (Section 8)</li>

    <li>Added MIME Type registration info. (Appendix J)</li>

    <li>Some of the changes suggested by Paolo. (All)</li>

    <li>CR-139 text (Issues with send and cancel) (9.2.5)</li>

    <li>CR-52 (Conferencing) text. (10.5.5 and 10.5.7)</li>

    <li>CR-144 timeout attribute for createccxml. (6.2.9.2)</li>

    <li>Reworked Sections 1 and 2 from F2F meeting (Sections 1-2)</li>

    <li>CR-124 Session lifecycle (Section 3)</li>

    <li>CR-126 Simple Examples (Section 4)</li>

    <li>CR-128 Join Diagrams (Section 10)</li>

    <li>CR-138 Script src/expr changes (Section 8)</li>

    <li>CR-142 Dialog Dialogprepare (Section 7, Appendix E)</li>

    <li>Synced error attributes in all events to "reason" (All)</li>

    <li>changed session.mode to session.startupmode (Section 3 and 8)</li>

    <li>Added values for session.startupmode (Section 8)</li>

    <li>Reworked connection state text and changed from text list to HTML tables. (Section 10.2.1)</li>

    <li>Update of status (Status)</li>

    <li>Removed old issue text (Appendix A)</li>

    <li>Updated DTD. (Appendix C)</li>

    <li>Added missing conferenceid attribute to dialogprepare. (Section 7)</li>

    <li>Removed old cancel attribute.</li>

    <li>Changes as requested by Jeff Haynie. (All)</li>

    <li>Updated Examples 1, 2 and 4. (Section 12)</li>

    <li>New Event I/O text. (Section 9)</li>

    <li>New TOC. (TOC)</li>

    <li>Lowercase Event Names. (All)</li>

    <li>Lots of minor text cleanup/link updates. (All)</li>

    <li>Updates for W3C Publication Rules. (All)</li>

    <li>Added definition for "CCXML Application/Program". (Section 3.5)</li>

    <li>New VoiceXML Appendix. (Appendix D)</li>

    <li>Removed Issues Appendix. (Was Appendix A)</li>

    <li>Re-lettered Appendixes. (All)</li>

    <li>Lots of minor text cleanup/link updates. (All)</li>

    <li>Updates for W3C Publication Rules. (All)</li>

    <li>Removed change marks to prepare for publishing (All)</li>

    <li>Removed Complex Example 3 (Section 11)</li>
  </ul>

  <h3 id="changes-lcwd2">Changes in Last Call Working Draft 2</h3>

  <ul>
    <li>CR149: Lost changes from April 19th have been added back in (Several Sections)</li>

    <li>CR149: IBM Editorial Changes (Several Sections)</li>

    <li>CR159: HTTP Caching changes (Several Sections)</li>

    <li>CR160: disconnect clarification (Section 10.5.9)</li>

    <li>CR161: Extend dialog.prepared (and error.dialog.notprepared) (Section 7.3.10 and 7.3.11)</li>

    <li>CR162: Change disconnect examples to use dialog-terminate instead of send (Appendix D)</li>

    <li>CR163: VoxPilot Comments - Editorial (All)</li>

    <li>CR164: error.fetch vs. error.semantic - Emily Updates (Several Sections)</li>

    <li>CR165: DTD defines "eventprocesser" rather than "eventprocessor" (DTD)</li>

    <li>CR166: Error in error handling (Section 9.4.5.4)</li>

    <li>CR167: Remove FIA text from dialogprepare (Appendix D)</li>

    <li>CR169: Change dialogprepare connection rules (Section 7)</li>

    <li>CR170: merge tag (Section 10)</li>

    <li>CR172: dialogstart Attribute Detail (Section 7.2.2.2)</li>

    <li>CR173: error.dialog.notstarted attributes (Section 7.3.7)</li>

    <li>CR174: New connection state diagram (Section 10.2.1)</li>

    <li>CR176: HTTP Encoding changes (Several Sections)</li>

    <li>CR179: Clarification of createcall timeout (Section 10.5.4.2)</li>

    <li>CR182: Fetch Lifecycle (Several Sections)</li>

    <li>CR182: Removal of sync fetches (Several Sections)</li>

    <li>CR182: Change of script sync options (Several Sections)</li>

    <li>CR171: Master Session Lifecycle Diagram (Section 3.6.3.8)</li>

    <li>CR174: Added connection.signal to PROGRESSING state in connection state diagram (Section 10.2.1)</li>

    <li>CR184: ECMAScript Left Hand Side Expression (Section 3.5)</li>

    <li>CR184: Fetch/Goto example using and ECMAScript Left Hand Side Expression (Section 6.2.8.3)</li>

    <li>CR185: HP Comment - Typo (Section 6.1)</li>

    <li>CR187: HP Comment - Example Error (Section 11.2)</li>

    <li>CR190: HP Comment - Typo (Section 9.2.3.3)</li>

    <li>CR147: DTD Updates from Alex Davis (Appendix B)</li>

    <li>CR151: 3.x Section renumber from Greg Massard (Section 3.x)</li>

    <li>CR152: 6.x Section renumber from Greg Massard (Section 6.x)</li>

    <li>CR154: Missing elements in section 5 from Greg Massard (Section 5)</li>

    <li>CR155: DTD/Schema error for var from Greg Massard (Appendix B/C)</li>

    <li>CR156: DTD/Schema error for accept from Greg Massard (Appendix B/C)</li>

    <li>CR157: DTD/Schema error for else/elseif from Greg Massard (Appendix B/C)</li>

    <li>CR159: enctype attribute. First time some changes got lost (Several sections)</li>

    <li>CR178: Updated Scope Diagram (Section 8.1)</li>

    <li>CR183: Updates to ccxml.kill wording and event queue processing (Sections 3.6, 6 and 9.1)</li>

    <li>CR202: move effect on queued events from moved source (Section 9.2.4)</li>

    <li>CR203: Conferencing object mixer text changes (Section 10.3)</li>

    <li>CR210: Add DialogID to join/unjoin (Section 10)</li>

    <li>CR211: Remove start attribute from createccxml (Section 6)</li>

    <li>CR207: State Variable Updating (Section 9)</li>

    <li>CR212: DTD/Schema Updates (Appendix B/C)</li>

    <li>CR209: Move Updates (Section 9)</li>

    <li>CR181: Standard format for attribute tables (All)</li>

    <li>CR191: mediadirection attribute for dialogstart/dialogprepare(All)</li>

    <li>CR208: Scope of sendid, fetchid, dialogid and sessionid attribute values (All)</li>

    <li>CR177: Complex ECMA Objects and namelist (All)</li>

    <li>CR217: Early Media Support (All)</li>

    <li>CR213: Remove regex on transition (All)</li>

    <li>CR201: Intersession join and Connection/Conferencing IDs (All)</li>

    <li>CR214: send Delay Semantics on termination (All)</li>

    <li>CR216: Additional text for CCXML Join and disconnect (All)</li>

    <li>CR196: Application level variables (All)</li>

    <li>CR218: Send clarification (All)</li>

    <li>CR206: VoiceXML Session Vars (Appendix D)</li>

    <li>CR210: Dialogs as Connections (Section 10.5.7 and 10.5.8)</li>

    <li>CR219: Clean-up of dialog.vxml.transfer.complete (Section 7, Appendix D)</li>

    <li>CR180: Application Session/Cookies (Appendix D)</li>

    <li>Updated Acknowledgments Section (Appendix G)</li>

    <li>Clean up of images (All)</li>

    <li>CR193: Default attribute value text (All)</li>

    <li>CR175: Conformance Section (Appendix J)</li>

    <li>CR215: "endpoint" and "duplexmode" Connection/Dialog Object properties (Section 7/10)</li>

    <li>Minor example 1 fix (Added a tel: prefix)</li>

    <li>Fixed display issues for IE based browsers</li>

    <li>Renamed connection.error to error.connection</li>

    <li>Updated System Architecture Diagram</li>

    <li>Wording changes from Mark Scott (Reviewed on 11/11/2004</li>

    <li>10.2.2 Protocol example change from Paolo Baggia</li>

    <li>Default dialog MIME type fixes</li>

    <li>Minor changes from VoiceGenie:

      <ul>
        <li>Updated &lt;assign&gt; to make expr required</li>

        <li>On &lt;dialogstart&gt;, updated 'maxage', 'maxstale', 'enctype', and 'method' to be exclusive with
        'prepareddialogid'</li>

        <li>Updated &lt;exit&gt; expr default to be undefined</li>
      </ul>
    </li>

    <li>Updated DTD/Schema</li>

    <li>Changed &lt;dialogterminate&gt; immediate to a ECMAScript Boolean Expression.</li>
  </ul>

  <h3 id="changes-lcwd3">Changes in Last Call Working Draft 3</h3>

  <ul>
    <li>Optimsys Comments 1-3, 5-9.</li>

    <li>Updated attribute tables for section 7 based on IR effort.</li>

    <li>Converted to external event tables.</li>

    <li>Editorial cleanup of inline code examples.</li>

    <li>Optimsys Comments 11-25.</li>

    <li>Misc editorial changes</li>

    <li>Added definitions for "CCXML Session", "CCXML Parent Session" and "Event" to section 3.4.</li>

    <li>Section 6.2.4.1: Changed SHOULD to MUST on else/if logic</li>

    <li>Section 6.2.7.1: Added text listing required URI schemes</li>

    <li>Section 7.1: Added text to address dialogs without connections</li>

    <li>Section 7.3.7: Added error.dialog event</li>

    <li>Section 8.2.1.1: Updated scope table</li>

    <li>Section 8.3: Added session.ioprocessors session var</li>

    <li>Section 9.2.3: Added basichttp to targettype list</li>

    <li>Section 9.2.3: Updated send text for inline content and xml:ns comments</li>

    <li>Section 9.5: Removed reference to error.ccxml event</li>

    <li>Section 10.2: Expanded Dialog description.</li>

    <li>Section 10.5.9.2: Removed requirement for connectionid attribute</li>

    <li>Section 10.6.20: Added error.connection.wrongstate event</li>

    <li>Appendix K/L: Added sections on basichttp I/O and session launch.</li>

    <li>Misc editorial changes</li>

    <li>Corrected CSTA XML namespace in examples</li>

    <li>Added text to address canceling an outbound call</li>

    <li>Moved Connection/Conference Object tables to XML includes</li>

    <li>Updated section 10.4</li>

    <li>Misc changes to section 10 from VoiceGenie</li>

    <li>Event/Element table cleanup for IR effort (Corrected MUST/MAY etc)</li>
  </ul>

  <h3 id="changes-wd7">Changes in Working Draft 7</h3>

  <ul>
    <li>Removed Appendix I - CCXML MIME Type.</li>

    <li>Updated description of dialog event fields (E-Mail from Paolo 2005-09-02).</li>

    <li>Other minor section 7 fixes (E-Mail from Paolo 2005-09-02).</li>

    <li>Updated dialog.terminatetransfer text.</li>

    <li>Applied changes from VoiceGenie comments.</li>

    <li>Fixed if/elseif/else definition in DTD.</li>

    <li>Tellme comments 41/42/45.</li>

    <li>Changed support for move to optional.</li>

    <li>Editorial cleanup.</li>

    <li>Updated RFC2119 keyword info for section 10.</li>

    <li>Genesys comments:

      <ul>
        <li>Declared vars in section 3.4 examples.</li>

        <li>Changed "id" to "dialogid" on dialog objects.</li>

        <li>Fixed errors in examples (8.3).</li>

        <li>Joining 2 dialogs made optional.</li>

        <li>Added specific error event to invalid conid/confid on createcall/dialogprepare/dialogstart</li>

        <li>Added dialog objects to dialog events.</li>
      </ul>
    </li>

    <li>Removed error.dialog.wrongstate.</li>

    <li>Moved dialog.transfer.complete to Appendix D.</li>

    <li>VoxPilot comments:

      <ul>
        <li>clarifications to the dialog object src property.</li>

        <li>Appendix K cleanup.</li>
      </ul>
    </li>

    <li>Changed VXML/CCXML example code to use dialog.transfer.complete instead of dialog.vxml.transfer.complete along with other
    minor edits.</li>

    <li>Internationalization working group comments other than IRIs</li>

    <li>Added a "statuscode" attribute to the error.fetch event.</li>

    <li>Minor changes per Genesys comments on the 9/20 internal draft.</li>

    <li>Minor updates to send attributes for send delay.</li>

    <li>Details on when send attribute vars are evaluated</li>

    <li>Clarifications to application scoped vars</li>

    <li>Associative Array changes</li>

    <li>added hints to dialog elements</li>

    <li>Clarified error events on join/unjoin</li>

    <li>Removed namelist from events</li>

    <li>Clarified error event on invalid connection or dialog id's</li>

    <li>Added reference to dialog object on dialog events</li>

    <li>Updated call state diagram</li>

    <li>Updated media properties on connections and dialogs</li>

    <li>Added media endpoint object</li>

    <li>Changed the format of RFC keywords</li>

    <li>Minor Editorial Changes</li>

    <li>Conference Object Proposal</li>

    <li>Tellme Comments: 2,3,5,6,8,9,11,13,15,18</li>

    <li>Tellme Comments: 19, 20, 22, 25, 26, 28, 30, 31, 32, 33, 34 and 35</li>

    <li>Tellme Comments: 36, 37, 38, 39, 48, 53</li>

    <li>8.2.1.1 - Reserved ECMAScript variable names</li>

    <li>Transition name="" to event$ changes</li>

    <li>Section 7 IR review changes</li>

    <li>error.unsupported to be thrown on any unsupported action</li>

    <li>Added tagname to error.connection.wrongstate</li>

    <li>Added tagname to error.notallowed</li>

    <li>(8.1) Reporting ECMAScript errors</li>

    <li>(10.6) Connection state changes from Rachel</li>

    <li>(7) Minor changes editorial changes from Paolo</li>

    <li>(createccxml) Server type clarification</li>

    <li>(dialogprepare) Server type clarification</li>

    <li>(dialogstart) Server type clarification</li>

    <li>(fetch) Server type clarification</li>

    <li>(send) changed tag to element</li>

    <li>(ccxml.exit) values.* clarification</li>

    <li>(dialog.exit) values.* clarification</li>

    <li>(dialog.user.*) values.* clarification</li>

    <li>Removed cookies from I/O processor sections</li>

    <li>Fixed outdated text in I/O processor sections</li>

    <li>Clarification on transition selection criteria</li>

    <li>evt.uri of fetch.done and error.fetch after 302</li>

    <li>connection.state constants</li>

    <li>&lt;send&gt; data --&gt; name</li>

    <li>Connection model changes from Mark Scott (133003)</li>

    <li>Minor connection event table text changes from Paolo (133003)</li>

    <li>section k multiple value parameters (123991)</li>

    <li>should fail to compile when transition has state but eventprocessor has no statevariable (123997)</li>

    <li>CCXML spec comments/questions for section 10 (132989)</li>

    <li>ccxml.loaded put at front of event queue (132985)</li>

    <li>Comments on CCXML WD dated 23 March 2006 (132988)</li>

    <li>inconsistency in 10.4 (185805)</li>

    <li>ccxml errata (185808)</li>

    <li>Minutes for 2006-01-19 CCXML call (133002)</li>

    <li>Comments on CCXML WD dated 9 March 2006 (132991)</li>

    <li>Section 10.4 Bridges (132995)</li>

    <li>Section 10.2 Assertion Review (132996)</li>

    <li>Section 10.5 Assertion Review (132998)</li>

    <li>LCWD publication comments from Paolo (187115)</li>

    <li>Namelist changes on session creation, dialogstart and createccxml (133005)</li>

    <li>CCXML spec change --- Connection states class (185572)</li>

    <li>Publication Prep</li>
  </ul>

  <h3 id="changes-lcwd4">Changes in Last Call Working Draft 4</h3>

  <p>There are no changes in this version.</p>

  <h3 id="changes-cr">Changes in Candidate Recommendation</h3>

  <ul>
      <li>ISSUE-182 - Section 7.2 - MISSING CHANGES in LCWD 2007_01_19</li>
      <li>ISSUE-183 - Section 7.3 - MISSING CHANGES in LCWD 2007_01_19</li>
      <li>ISSUE-184 - [ccxml] Questions about Appendix D</li>
      <li>ISSUE-182 - removed extra "include" in 7.2.2.1.</li>
      <li>ISSUE-182 - added error.semantic text to dialogid attributes of dialogprepare and dialogterminate</li>
      <li>ISSUE-193 - removed reference to old "name" attribute on transition element.</li>
      <li>ISSUE-194 - cleaned up basichttp text in send element and moved some definitions to appendix K</li>
      <li>ISSUE-196 - added text for &lt;send&gt; around eventid, eventsource and eventsourcetype</li>
      <li>ISSUE-197 - renamed connectionid to id and added dialogs to the list for the error.notallowed event properties.</li>
      <li>ISSUE-114 - white space fixes from editorial change list</li>
      <li>ISSUE-117 - fixed references and updated acknowledgments section</li>
      <li>ISSUE-198/ISSUE-199 - Removed standard attributes.</li>
      <li>ISSUE-241 - Section 9.1 review.</li>
      <li>ISSUE-242 - Section 9.2 review.</li>
      <li>ISSUE-243 - Section 9.3 review.</li>
      <li>ISSUE-242 - Section 9.2 review. - Item 10. Removed error text from the 9.2.4.2 event table as it's covered in the element description.</li>
      <li>ISSUE-230 - PUBLIC - LCWD - Nezic-1 - Comments on CCXML Working Draft 19 January 2007 - Reworked fetch error handing event.</li>
      <li>ISSUE-231 - PUBLIC - LCWD - Nezic-2 - Comments on CCXML Working Draft 19 January 2007 - Removed unneeded error.fetch references from the specification. The behavior of parse time / schema validation errors are defined in section 9.5.1.</li>
      <li>ISSUE-222 - PUBLIC - LCWD - Fixed createccxml element table.</li>
      <li>ISSUE-224 - PUBLIC - LCWD - Fixed createcall-joindirection attribute constraints.</li>
      <li>ISSUE-112 - Updating VoiceXML session variables.</li>
      <li>ISSUE-116 - error.semantic/hints.</li>
      <li>ISSUE-234 - PUBLIC - LCWD - murulidhara-2 - query.</li>
      <li>ISSUE-115, ISSUE-122 - XML 1.1 and IRI support.</li>
      <li>ISSUE-228 - Removed connection.rejected from connection state diagram.</li>
      <li>ISSUE-251 - clarified move behavior.</li>
      <li>ISSUE-231 - Cleaned up 9.5.1 to be more specific.</li>
      <li>ISSUE-231 - Fixed script error handing text.</li>
      <li>ISSUE-231 - Added informative note explaining reasons for script src being a static string.</li>
      <li>ISSUE-290 - Section 10.5.1.1 - extra MUST</li>
      <li>ISSUE-292 - Review of Section 9.2.1 assertions - closed, but something strange in spec</li>
      <li>ISSUE-293 - Review on Section 9.2.2 assertions</li>
      <li>ISSUE-294 - Comments on Section 9.2.3 assertions</li>
      <li>ISSUE-295 - Comments on Section 9.2.4 assertions</li>
      <li>ISSUE-297 - Review on Section 9.3 assertions</li>
      <li>ISSUE-298 - Section 9.4 &amp; 9.5 assertions</li>
      <li>ISSUE-291 - Section 9.1 - Assertion review</li>
      <li>ISSUE-244 - Section 10.2 Assertions</li>
      <li>ISSUE-244 - Section 10.2.1 - Removed connection.disconnected transition from PROGRESSING state</li>
      <li>ISSUE-244 - Section 10.2 - Added PROGRESSING to the list of active states</li>
      <li>ISSUE-244 - Section 10.6.5 - Reworded text to bring in line with "This event MUST be emitted..." text used elsewhere in the document</li>
      <li>ISSUE-252 - Status Section - Created features at risk section and listed move+dialogs</li>
      <li>ISSUE-293 - Section 9.2.2.1 - Removed reference to error.fetch</li>
      <li>ISSUE-297 - Section 9.3.4 - Reworded text about when this error was raised per assertion review</li>
      <li>ISSUE-303 - Appendix K - IR review/rewording</li>
      <li>ISSUE-296 - Section 9.2.5 - IR review/rewording - "will" to "MUST"</li>
      <li>ISSUE-305 - Appendix L IR Review - updated ignored payload parameters</li>
      <li>ISSUE-303 - Appendix K IR Review - fixed reference to session --&gt; sessionid</li>
      <li>ISSUE-313 - Appendix K.4 - 2XX response codes are considered success.</li>
      <li>ISSUE-314 - Section 10.2 - IR comments and changes.</li>
      <li>ISSUE-314 - Fixed leftover event details in 10.6.2: connection.alerting</li>
      <li>ISSUE-304 - &lt;join&gt; and &lt;unjoin&gt; error.semantic text.</li>
      <li>ISSUE-316 - 10.5.5.2 - Removed requirement that conference IDs MUST be in URI format.</li>
      <li>ISSUE-308 - Connection.signal rewording</li>
      <li>ISSUE-319 - error.semantic and control flow</li>
      <li>ISSUE-320 - connectionid and conferenceid attributes for &lt;dialogprepare&gt;/&lt;dialogstart&gt;</li>
      <li>ISSUE-238 - PUBLIC - LCWD - Sajeesh-2 [CCXML]Regarding namelist attribute</li>
      <li>ISSUE-120 - Fixed sub issue 51. Corrected 10.4 text around multiple inputs to conferences.</li>
      <li>ISSUE-121 - Ordering of id1 and id2 attributes to be clear.</li>
      <li>ISSUE-233 - Added section 9.5.6 to define error handling for invalid default attribute values.</li>
      <li>ISSUE-236 - PUBLIC - LCWD - Kuba-1 - CCXML: Dialog and Connection objects.</li>
      <li>ISSUE-237 - PUBLIC - LCWD - Kuba-2 - CCXML: Dialog and Connection objects.</li>
      <li>ISSUE-321 - &lt;createccxml&gt; and creation time of associated Connection Object.</li>
      <li>ISSUE-324 - maxage &amp; maxstale attributes of &lt;dialogprepare&gt;, &lt;dialogstart&gt; should NOT be CSS2 times.</li>
      <li>ISSUE-336 - replace "audio/wav" with "audio/x-wav"</li>
      <li>ISSUE-482 - connection.disconnect used in appendix D</li>
      <li>ISSUE-483 - Appendix D should use dialog terminate instead of send with connection.disconnect.hangup</li>
      <li>ISSUE-325 - PUBLIC - CCXML state variable</li>
      <li>ISSUE-488 - Small typo in Appendix D.9</li>
      <li>ISSUE-499 - Editorial review of Section 10.6 - s10.6.13, s10.6.21</li>
      <li>ISSUE-500 - Changes in current draft and wrong reference - s9.4.3</li>
      <li>ISSUE-501 - TYPO on CCXML Spec - 10.2.5</li>
      <li>ISSUE-498 - Issues with fetch and non CCXML/ECMAScript data</li>
      <li>ISSUE-499 - Editorial review of Section 10.6 - s10.6.3, s10.6.9, 10.6.10, s10.6.20</li>
      <li>ISSUE-502 - event$ is no longer writable</li>
      <li>ISSUE-114 - Minor edits (code markup)</li>
      <li>ISSUE-519 - 10.4 Connection/Dialog -&gt; Media endpoint</li>
      <li>ISSUE-527 - type of statuscode on fetch.done</li>
      <li>ISSUE-524 - &lt;disconnect/&gt; on outbound call</li>
      <li>ISSUE-117 - Twicks before publishing</li>
      <li>ISSUE-115 - LCWD - Comments from i18n core WG on CCXML - Removed seeAlso from meta tag</li>
      <li>ISSUE-553 - Incorrect example in the CCXML spec</li>
      <li>ISSUE-554 - ISSUE about connection.merge.failed event properties</li>
      <li>ISSUE-555 - ISSUE about VoiceXMLIntegration example</li>
      <li>ISSUE-225 - PUBLIC - LCWD - Nagesh S-4 - Query in CCXML 1.0 Specification</li>
      <li>ISSUE-227 - PUBLIC - LCWD - Nagesh S-6 - Query in CCXML 1.0 Specification</li>
      <li>ISSUE-556 - Major and minor spec changes</li>
      <li>ISSUE-225, ISSUE-227 - required DTD, Schema and example updates:</li>
      <li>ISSUE-225, ISSUE-227 - Further updates to schema</li>
      <li>ISSUE-555 - Fixed duplex of join</li>
      <li>ISSUE-556 - Major and minor spec changes</li>
      <li>ISSUE-566 - &lt;dialogstart&gt;/&lt;dialogprepare&gt; attribute constraints can not be enforced using DTD/Schema. The fix to this was to relax the schema and DTD and the text in the attribute tables remain the normative text and expected behavior.</li>
      <li>ISSUE-567 - Make Error Handling within a &lt;transition&gt; Consistent</li>
      <li>ISSUE-569 - PUBLIC - posting ccxml.exit to parent upon child getting a ccxml.kill event</li>
      <li>ISSUE-572 - Attribute table missing for &lt;redirect&gt;</li>
      <li>ISSUE-567 - Make Error Handling within a &lt;transition&gt; Consistent</li>
      <li>ISSUE-580 - TYPO about 'half' and 'full' , values for duplex attribute</li>
      <li>ISSUE-581 - ISSUE about BRIDGE call transfer management on Appendix D, paragraph D.11</li>
      <li>ISSUE-603 - <code>&lt;move event=event$&gt;</code> in transition for "<code>connection.merge.failed</code>"</li>
      <li>ISSUE-570 - Limiting amount of connection inputs and other comments</li>
      <li>ISSUE-612 - dialog.transfer event$.uri</li>
      <li>ISSUE-613 - default value for dtmfclamp attribute</li>
      <li>ISSUE-616 - connection.redirect failed instead of connection.failed event on Appendix D</li>
      <li>ISSUE-622 - Add session to the list of allowed values to session.notallowed (9.3.1)</li>
      <li>ISSUE-633 - PUBLIC - using Object in the application scope - example error (8.4)</li>
      <li>ISSUE-637 - PUBLIC - Comments on CCXML specification - Attribute 'info' in the conference.created and conference.destroyed events (10.6.11, 10.6.12)</li>
  </ul>

  <h3 id="changes-pr" >Changes in Proposed Recommendation</h3>

  <ul >
      <li>ISSUE-668 - PUBLIC - CR - April 2010 CCXML&#x27;s DTD is broken (<a href="#dtd">Appendix B</a>)</li>
      <li>ISSUE-669 - PUBLIC - CR - attribute type error in 1 April 2010 CCXML (Sections <a href="#s10.6.13">10.6.13</a> and <a href="#s10.6.14">10.6.14</a>) .</li>
      <li>ISSUE-670 - PUBLIC - CR - CCXML Implementation Report: asserts 714 and 715 (Section <a href="#flowEventsCCXMLkill">6.3.6</a>).<br/>
          Added clarification around what session the attribute referred to and addressed cases for external events where session id does not exist.
          </li>
      <li>ISSUE-671 - PUBLIC - CR - Recommended addition to the April 2010 CCXML DTD (<a href="#dtd">Appendix B</a>)</li>
      <li>ISSUE-674 - PUBLIC - CR - CCXML specification: Application variables (<a href="#application_variables">Section 8.4</a>).<br/>
          Clarified and removed legacy text from prior drafts of the spec.
          </li>
      <li>ISSUE-675 - PUBLIC - CR - CCXML specification: typo (<a href="#Appendix-BasicHTTP-receive">Appendix K.3</a>)</li>
      <li>ISSUE-677 - PUBLIC - CR - April CCXML: test case conflicts with ECMA rules (<a href="#ConceptsScripting">Section 3.3.1</a>).<br/>
          Added an implementation note around Line by line vs Batch ECMAScript execution based on IR testing.  <br/>
          Based on years of implementation experience the CCXML working group believes that CCXML application code 
          that would be affected by these scenarios is very rare.  Any such code likely relies on unusual ordering 
          of variable declarations and assignment statements or the use of confusing variable names and scopes; 
          such code is discouraged due to its potential for producing unintended results.

          
          </li>
      <li>ISSUE-681 - PUBLIC - CR - April CCXML: &quot;Class&quot; definition (<a href="#ConceptsScriptingDefinitions">Section 3.4</a>).<br/>
          Removed extra definition text that was unneeded as what we really were trying to do is just follow ECMAScript. 
          </li>
      <li>ISSUE-682 - PUBLIC - CR - April CCXML: Dialog properties inconsistency (<a href="#s7.2.1.1">Section 7.2.1.1</a>).<br/>
           Removed old text left over from prior language.
            </li>
      <li>ISSUE-697 - PUBLIC - CR - April CCXML: 3 bugs in 7_1.txml - Item 2 (<a href="#s7.2.3.2">Section 7.2.3.2</a>).<br/>
          Clarified that the attribute was a boolean.
          </li>
      <li>ISSUE-699 - Another typo on CCXML Spec (<a href="#dialogsOverview">Section 7.1</a>) </li>
      <li>ISSUE-700 - Typo in CCXML Spec (<a href="#invariantExamples">Section 10.4.2</a>)</li>
      <li>ISSUE-702 - PUBLIC - CR - April CCXML: 3 problems with manual tests 10_5_7_A_*.txml (<a href="#s10.5.7.2">Section 10.5.7.2</a>).<br/>
          Clarified the order of operations when using the exittone attribute based on IR testing.
          </li>
      
      <li>ISSUE-707 - PUBLIC - CR - April CCXML: attribute &#x27;id&#x27; of the error.notallowed event (Sections <a href="#s9.2.5.1">9.2.5.1</a> and <a href="#s9.3.1">9.3.1</a>).<br/>
            Clarified the contents of the id attribute incase of error.
            </li>                   
      <li>ISSUE-710 - PUBLIC - CR - April CCXML, 7_1: attribute enctype used with the value of the method &quot;post&quot; in &lt;dialogprepare&gt; (Sections <a href="#s6.2.7.2">6.2.7.2</a>, <a href="#s6.2.9.2">6.2.9.2</a>, <a href="#s7.2.1.2">7.2.1.2</a> and <a href="#s7.2.2.2">7.2.2.2</a>)</li>
      <li>ISSUE-714 - PUBLIC - CR - April CCXML: format of the name attribute in &lt;send&gt; (<a href="#S9_2_3_2">Section 9.2.3.2</a>).<br/>
          Clarified that _ is allowed in event names based on IR testing and original intent. 
          </li>
      <li>ISSUE-717 - PUBLIC - CR - April CCXML 7_3: required property reason in dialog.terminatetransfer (<a href="#dialogEventsDialogTerminateTransfer">Section 7.3.6</a>).<br/>
            Clarified requirement level of reason attribute based on results of IR testing. 
          </li>
      <li>ISSUE-719 - PUBLIC - CR - April CCXML 9_2_3_B: handling of invalid event name in &lt;send&gt; (<a href="#s9.3.5">Section 9.3.5</a>) </li>
      <li>ISSUE-720 - Fix 11.2 entertone/exittone boolean vs string examples (<a href="#s11.2">Section 11.2</a>)</li>
      <li>ISSUE-724 - PUBLIC - CR - April CCXML, 7_2: combination of attributes in &lt;dialogstart&gt; (Sections <a href="#S8_2_2_2">8.2.2.2</a> and <a href="#s10.5.4.2">10.5.4.2</a>).<br/>
          Clarified error handling on attribute combinations based on IR testing. 
          </li>
      <li>ISSUE-732 - PUBLIC - CR - July CCXML Implementation Report: 8_2_3: how to handle error in loading static &lt;script&gt; (<a href="#S8_2_2_2">Section 8.2.2.2</a>).<br/>
          Clarified correct event to throw in some cases based on IR testing. 
          </li>
      <li>ISSUE-734 - PUBLIC - CR - July CCXML Implementation Report: 9_2_3_B: improper error event used in &lt;send&gt; (<a href="#s9.3.5">Section 9.3.5</a>)</li>
      <li>ISSUE-743 - PUBLIC - CR - CCXML: VoiceXML dialog.transfer.complete&#x27;s result type incorrect (<a href="#Appendix-VoiceXML-Transfer">Appendix D.9</a>)</li>
      <li>ISSUE-744 - PUBLIC - CR - CCXML: dialog.transfer example incorrect (<a href="#Appendix-VoiceXML-VoiceXML2Example">Appendix D.11</a>)</li>
      <li>ISSUE-754 - PUBLIC - CR - Fix test of dialog.user.* (<a href="#dialogEventsErrorDialoguser">Section 7.3.10</a>).<br/>
          Relaxed requirement level of dialog object based on IR test results and need to inject event via HTTP IO Processor. 
          </li>
  </ul>

  <h2 id="acknowledgements">Appendix G - Acknowledgments</h2>

  <p>This version of CCXML was written with the participation of members of the W3C Voice Browser Working Group, and a special
  thanks is in order for the following contributors:</p>

  <dl>
      <dd>Kazuyuki Ashimura, W3C</dd>

    <dd>David Attwater, BTexact Technologies</dd>

    <dd>RJ Auburn, Voxeo Corporation</dd>

    <dd>Paolo Baggia, Loquendo</dd>

    <dd>Patrizio Bergallo, Loquendo</dd>

    <dd>Eric Burger, Snowshore</dd>

    <dd>David Burke, VoxPilot</dd>

    <dd>Emily Candell, Comverse</dd>

    <dd>Ken Davies, Hey Anita</dd>

    <dd>Rajiv Dharmadhikari, Genesys</dd>

    <dd>Dave Donnelly, BTexact Technologies</dd>

    <dd>Daniel Evans</dd>

    <dd>Mike Galpin, Syntellect</dd>

    <dd>Rob Green, Voxeo Corporation</dd>

    <dd>Markus Hahn</dd>

    <dd>Jeff Haynie, Vocalocity</dd>

    <dd>David W Heileman, Unisys</dd>

    <dd>Gadi Inon</dd>

    <dd>Jim Larson</dd>

    <dd>Rob Marchand, Genesys</dd>

    <dd>Scott McGlashan, Hewlett-Packard</dd>

    <dd>Rachel Muller, Aspect</dd>

    <dd>Brad Porter, Tellme Networks</dd>

    <dd>Kenneth Rehor, Cisco</dd>

    <dd>Dave Renshaw, IBM</dd>

    <dd>Laura Ricotti, Loquendo</dd>

    <dd>Mark Scott, Genesys</dd>

    <dd>Saravanan Shanmugham, Cisco</dd>

    <dd>Scott Slote, Nortel Networks</dd>

    <dd>Govardhan Srikant, Nortel Networks</dd>

    <dd>Jim Trethewey, Intel</dd>

    <dd>Wai-Yip Tung, Cisco</dd>

    <dd>Matt Womer, W3C</dd>
  </dl>

  <p>This W3C specification is based upon a former CCXML specification, contributed to the Voice Browser Working Group in April
  2001. The CCXML authors were:</p>

  <dl>
    <dd>RJ Auburn, Voxeo Corporation</dd>

    <dd>Michael Cafarella, Tellme</dd>

    <dd>Don Jackson, Tellme</dd>

    <dd>Jeff Peck, Intel</dd>

    <dd>Pramod Sharma, Telera</dd>

    <dd>Saravanan Shanmugham, Cisco Systems</dd>

    <dd>Corey Stohs, Cisco Systems</dd>

    <dd>Yi Zhang, Telera</dd>
  </dl>

  <h2 id="Appendix-References">Appendix H - References</h2>

<h3 id="Appendix-References-Normative">H.1 Normative References</h3>
<dl>
    <dt><a id="ref_IANA" class="ref" shape="rect" name="ref_IANA">[IANA]</a></dt>

    <dd>" <cite><a href="http://www.iana.org/assignments/character-sets" shape="rect">IANA Character Sets</a></cite> ",
    IANA.<br clear="none" />
    See http://www.iana.org/assignments/character-sets</dd>

    <dt><a id="ref-TAG-MIMEtypes" name="ref-TAG-MIMEtypes" shape="rect">[MIME-TAG]</a></dt>

    <dd><cite><a href="http://www.w3.org/2001/tag/doc/mime-respect.html" shape="rect">Client handling of MIME headers</a></cite>,
    Ian Jacobs (Editor) W3C TAG Finding 09 July 2003. Available at http://www.w3.org/2001/tag/doc/mime-respect.html</dd>

    <dt><a id="ref-RFC2119" name="ref-RFC2119" shape="rect">[RFC2119]</a></dt>

    <dd><cite><a href="http://www.rfc-editor.org/rfc/rfc2119.txt" shape="rect">Key words for use in RFCs to Indicate Requirement
    Levels</a></cite>, S. Bradner Network Working Group RFC2119 March 1997. Available at
    http://www.rfc-editor.org/rfc/rfc2119.txt.</dd>

    <dt><a class="ref" id="ref_RFC3261" shape="rect" name="ref_RFC3261">[RFC3261]</a></dt>

    <dd>" <cite><a href="http://www.ietf.org/rfc/rfc3261.txt" shape="rect">SIP: Session Initiation Protocol</a></cite> ", IETF
    RFC 3261, 2002.<br clear="none" />
    See <a href="http://www.ietf.org/rfc/rfc3261.txt" shape="rect">http://www.ietf.org/rfc/rfc3261.txt</a></dd>

    <dt><a class="ref" id="ref_RFC3966" shape="rect" name="ref_RFC3966">[RFC3966]</a></dt>

    <dd>" <cite><a href="http://www.ietf.org/rfc/rfc3966.txt" shape="rect">URLs for Telephone Calls</a></cite> ", IETF RFC 3966,
    2004.<br clear="none" />
    See <a href="http://www.ietf.org/rfc/rfc3966.txt" shape="rect">http://www.ietf.org/rfc/rfc3966.txt</a></dd>

    <dt><a id="ref-VoiceXML" name="ref-VoiceXML" shape="rect">[VOICEXML]</a></dt>

    <dd><cite><a href="http://www.w3.org/TR/voicexml21/" shape="rect">Voice Extensible Markup Language (VoiceXML) Version
    2.1</a></cite> , Matt Oshry, RJ Auburn, Paolo Baggia, et al. W3C Recommendation 19 June 2007.
    Available at http://www.w3.org/TR/voicexml21/</dd>

    <dt><a id="ref_XML" shape="rect" name="ref_XML">[XML]</a></dt>

    <dd>" <a href="http://www.w3.org/TR/xml11/" shape="rect">Extensible Markup Language (XML) 1.1</a> ". Bray et al. W3C
    Recommendation.<br clear="none" />
    See http://www.w3.org/TR/xml11/</dd>

    <dt><a id="ref_XML10" shape="rect" name="ref_XML10">[XML10]</a></dt>

    <dd>" <a href="http://www.w3.org/TR/REC-xml/">Extensible Markup Language (XML) 1.0, Fifth Edition</a> ". Bray et
    al. W3C Recommendation.<br clear="none" />
    See http://www.w3.org/TR/REC-xml</dd>

    <dt><a class="ref" id="ref_ECMAScript" shape="rect" name="ref_ECMAScript">[ECMAScript]</a></dt>

    <dd>" <cite><a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm" shape="rect">ECMAScript Language
    Specification</a></cite> ", Standard Ecma-262, 1999.<br clear="none" />
    See <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm" shape=
    "rect">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a></dd>

    <dt><a class="ref" id="refECMA327" shape="rect" name="refECMA327">[ECMA327]</a></dt>

    <dd>"<cite><a href="http://www.ecma-international.org/publications/standards/Ecma-327.htm" shape="rect">ECMAScript 3rd
    Edition Compact Profile</a></cite>", Standard Ecma-327, 2001.<br clear="none" />
    See <a href="http://www.ecma-international.org/publications/standards/Ecma-327.htm" shape=
    "rect">http://www.ecma-international.org/publications/standards/Ecma-327.htm</a></dd>

    <dt><a class="ref" id="ref_XMLNS" shape="rect" name="ref_XMLNS">[XMLNS]</a></dt>

    <dd>" <cite><a href="http://www.w3.org/TR/REC-xml-names/" shape="rect">Namespaces in XML</a></cite> ", World Wide Web
    Consortium, W3C Recommendation.<br clear="none" />
    See <a href="http://www.w3.org/TR/REC-xml-names/" shape="rect">href="http://www.w3.org/TR/REC-xml-names/</a> .</dd>

    <dt><a class="ref" id="ref_XML-BASE" shape="rect" name="ref_XML-BASE">[XML-BASE]</a></dt>

    <dd>" <cite><a href="http://www.w3.org/TR/xmlbase/" shape="rect">XML Base</a></cite> ", J. Marsh, editor,
    W3C Recommendation, January 2009.<br clear="none" />
    See <a href="http://www.w3.org/TR/xmlbase/" shape=
    "rect">http://www.w3.org/TR/xmlbase/</a> .</dd>

    <dt><a id="ref-schema2" name="ref-schema2" shape="rect">[SCHEMA2]</a></dt>

    <dd><cite><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/" shape="rect">XML Schema Part 2: Datatypes Second Edition</a></cite>,
    P.V. Biron and A. Malhotra, Editors. World Wide Web Consortium, October 2004. This version of the XML Schema Part 2
    Recommendation is http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/. The <a href="http://www.w3.org/TR/xmlschema-2/" shape=
    "rect">latest version of XML Schema 2</a> is available at http://www.w3.org/TR/xmlschema-2/.</dd>

    <dt><a id="ref_URI" name="ref_URI" shape="rect">[URI]</a></dt>

    <dd><cite><a href="http://www.ietf.org/rfc/rfc3986.txt" shape="rect">Uniform Resource Identifiers (URI): Generic
    Syntax</a></cite>, T. Berners-Lee et al., Editors. IETF, January 2005. This RFC is available at
    http://www.ietf.org/rfc/rfc3986.txt.</dd>

    <dt><a id="ref_IRI" name="ref_IRI" shape="rect">[IRI]</a></dt>

    <dd><cite><a href="http://www.ietf.org/rfc/rfc3987.txt" shape="rect">Internationalized Resource Identifiers (IRI)</a></cite>,
    M. Duerst et al., Editors. IETF, January 2005. This RFC is available at http://www.ietf.org/rfc/rfc3987.txt.</dd>

    <dt><a id="ref-css2" name="ref-css2" shape="rect">[CSS2]</a></dt>

    <dd><cite><a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/" shape="rect">Cascading Style Sheets, level 2: CSS2
    Specification</a></cite>, B. Bos, et al., Editors. World Wide Web Consortium, April 2008. This version of the CSS2
    Recommendation is http://www.w3.org/TR/2008/REC-CSS2-20080411/. The <a href="http://www.w3.org/TR/CSS2/" shape=
    "rect">latest version of CSS2</a> is available at http://www.w3.org/TR/CSS2/.</dd>

    <dt><a class="ref" id="ref_RFC2616" shape="rect" name="ref_RFC2616">[RFC2616]</a></dt>

    <dd>" <cite><a href="http://www.ietf.org/rfc/rfc2616.txt" shape="rect">Hypertext Transfer Protocol -- HTTP/1.1</a></cite> ",
    IETF RFC 2616, 1999.<br clear="none" />
    See <a href="http://www.ietf.org/rfc/rfc2616.txt" shape="rect">http://www.ietf.org/rfc/rfc2616.txt</a></dd>

    <dt class="label"><a name="ref_RFC2617" id="ref_RFC2617" shape="rect"></a>[RFC2617]</dt>

    <dd><a href="http://www.ietf.org/rfc/rfc2617.txt" shape="rect">HTTP Authentication: Basic and Digest Access
    Authentication</a> , IETF RFC 2617, June 1999. See <a href="http://www.ietf.org/rfc/rfc2617.txt" shape=
    "rect">http://www.ietf.org/rfc/rfc2617.txt</a>.</dd>

    <dt><a id="ref-rfc4267" name="ref-rfc4267" shape="rect">[RFC4267]</a></dt>

    <dd><cite><a href="http://www.ietf.org/rfc/rfc4267.txt" shape="rect">The W3C Speech Interface Framework Media Types:
    application/voicexml+xml, application/ssml+xml, application/srgs, application/srgs+xml, application/ccxml+xml, and
    application/pls+xml</a></cite>, Max Froumentin, Editor. IETF, November 2005. This RFC is available at <a href=
    "http://www.ietf.org/rfc/rfc4267.txt" shape="rect">http://www.ietf.org/rfc/rfc4267.txt</a>.</dd>


</dl>

<h3 id="Appendix-References-Informative">H.2 Informative References</h3>
<dl>
    <dt><a class="ref" id="ref-CPL" shape="rect" name="ref-CPL">[CPL]</a></dt>

    <dd><cite><a href="http://www.ietf.org/rfc/rfc3880.txt" shape="rect">CPL 1.0, IETF RFC 3880, October 2004.</a></cite> See
    <a href="http://www.ietf.org/rfc/rfc3880.txt" shape="rect">http://www.ietf.org/rfc/rfc3880.txt</a>.</dd>

    <dt><a class="ref" id="ref_CSTA" shape="rect" name="ref_CSTA">[CSTA]</a></dt>

    <dd>" <cite><a href="http://www.ecma-international.org/publications/standards/Ecma-269.htm" shape="rect">Services for
    Computer Supported Telecommunications Applications (CSTA) Phase III</a></cite> ", Standard Ecma-269, 2002.<br clear="none" />
    See <a href="http://www.ecma-international.org/publications/standards/Ecma-269.htm" shape=
    "rect">http://www.ecma-international.org/publications/standards/Ecma-269.htm</a></dd>


    <dt><a class="ref" id="ref_JSR021" shape="rect" name="ref_JSR021">[JSR021]</a></dt>

    <dd>" <cite><a href="http://www.jcp.org/aboutJava/communityprocess/final/jsr021/" shape="rect">JAIN Call Control</a></cite> ", JSR 000021,
    2001.<br clear="none" />
    See <a href="http://www.jcp.org/aboutJava/communityprocess/final/jsr021/" shape=
    "rect">http://www.jcp.org/aboutJava/communityprocess/final/jsr021/</a></dd>

    <dt><a class="ref" id="ref_S.100" shape="rect" name="ref_S.100">[S.100]</a></dt>

    <dd>"<cite>S.100 Revision 1.0 Media Services C Language. Application Programming Interfaces</cite>", Enterprise Computer Telephony Forum (ECTF), 1996.</dd>

    <dt><a class="ref" id="ref_Q931" shape="rect" name="ref_Q931">[Q.931/DSS1]</a></dt>

    <dd>" <cite><a href="http://www.itu.int/rec/recommendation.asp?type=folders&amp;lang=e&amp;parent=T-REC-Q.931" shape=
    "rect">ITU-T Recommendation Q.931</a></cite> ", ISDN user-network interface layer 3 specification (5/98).<br clear="none" />
    See <a href="http://www.itu.int/rec/recommendation.asp?type=folders&amp;lang=e&amp;parent=T-REC-Q.931" shape=
    "rect">http://www.itu.int/rec/recommendation.asp?type=folders&amp;lang=e&amp;parent=T-REC-Q.931</a></dd>

    <dt><a class="ref" id="ref_SS7" shape="rect" name="ref_SS7">[SS7]</a></dt>

    <dd>" <cite><a href="http://www.itu.int/rec/recommendation.asp?type=items&amp;lang=e&amp;parent=T-REC-Q.700-199303-I" shape=
    "rect">ITU-T Recommendations Q.700-775</a></cite> ", Signalling System No. 7 (3/93).<br clear="none" />
    See <a href="http://www.itu.int/rec/recommendation.asp?type=items&amp;lang=e&amp;parent=T-REC-Q.700-199303-I" shape=
    "rect">http://www.itu.int/rec/recommendation.asp?type=items&amp;lang=e&amp;parent=T-REC-Q.700-199303-I</a></dd>

    <dt><a class="ref" id="ref_HTML" shape="rect" name="ref_HTML">[HTML]</a></dt>

    <dd>" <cite><a href="http://www.w3.org/TR/1999/REC-html401-19991224/" shape="rect">HTML 4.01 Specification</a></cite> ", Dave
    Raggett et al. W3C Recommendation, December 1999.<br clear="none" />
    See <a href="http://www.w3.org/TR/1999/REC-html401-19991224/" shape=
    "rect">http://www.w3.org/TR/1999/REC-html401-19991224/</a> .</dd>

    <dt><a class="ref" id="ref_H323" shape="rect" name="ref_H323">[H.323]</a></dt>

    <dd>" <cite><a href="http://www.itu.int/rec/T-REC-H.323/e" shape=
    "rect">ITU-T Recommendation H.323</a></cite> ", Packet-based multimedia communications systems (12/09).<br clear="none" />
    See <a href="http://www.itu.int/rec/T-REC-H.323/e" shape=
    "rect">http://www.itu.int/rec/T-REC-H.323/e</a></dd>

    <dt><a class="ref" id="ref-CALLXML" shape="rect" name="ref-CALLXML">[CALLXML]</a></dt>

    <dd><cite><a href="http://docs.voxeo.com/callxml/" shape="rect">CallXML Development Guide Version 3.0</a></cite>, Voxeo Corporation, 2008.</dd>

    <dt class="label"><a name="ref-access-control" id="ref-access-control" shape="rect"></a>[ACCESS-CONTROL]</dt>

    <dd><a href="http://www.w3.org/TR/cors/" shape="rect">Cross-Origin Resource Sharing</a> (Originally Access Control for Cross-site Requests), W3C Working Draft 27 July 2010. See <a href="http://www.w3.org/TR/cors/" shape=
    "rect">http://www.w3.org/TR/cors/</a>.</dd>

    <dt><a id="ref-rdf-syntax" name="ref-rdf-syntax" shape="rect">[RDF-SYNTAX]</a></dt>

    <dd>" <cite><a href="http://www.w3.org/TR/1999/REC-rdf-syntax-19990222/" shape="rect">Resource Description Framework (RDF)
    Model and Syntax Specification.</a></cite> ", Ora Lassila and Ralph R. Swick, W3C Recommendation, February 1999.<br clear=
    "none" />
    See <a href="http://www.w3.org/TR/1999/REC-rdf-syntax-19990222/" shape=
    "rect">http://www.w3.org/TR/1999/REC-rdf-syntax-19990222/</a> .</dd>

    <dt><a id="ref-dc" name="ref-dc" shape="rect">[DC]</a></dt>

    <dd>" <cite><a href="http://dublincore.org/documents/dces/" shape="rect">Dublin Core Metadata Element Set, Version 1.1:
    Reference Description</a></cite> ", See <a href="http://dublincore.org/documents/dces/" shape=
    "rect">http://dublincore.org/documents/dces/</a> .</dd>


</dl>
    

  <h2 id="conformance">Appendix J - Conformance</h2>

  <p><strong>This section is Normative.</strong></p>

  <h3 id="J1">J.1 - Conforming CCXML Document</h3>

  <p>A document is a <em>Conforming CCXML Document</em> if it meets all of the following conditions:</p>

  <ul>
    <li>it is a well-formed XML 1.0 or 1.1 document <a href="#ref_XML" shape="rect">[XML]</a> conforming to namespaces in XML
    <a href="#ref_XMLNS" shape="rect">[XMLNS]</a></li>

    <li>it has a <code>&lt;ccxml&gt;</code> root element which includes a <code>version</code> attribute of "1.0"</li>

    <li>the <code>&lt;ccxml&gt;</code> element designates the CCXML namespace. This can be achieved by declaring an
    <code>xmlns</code> attribute or an attribute with an <code>xmlns</code> prefix <a href="#ref_XMLNS" shape="rect">[XMLNS]</a>.
    The namespace for CCXML is defined to be "http://www.w3.org/2002/09/ccxml"</li>

    <li>it adheres to the specification described in this document (Voice Browser Call Control: CCXML Version 1.0) including the
    constraints expressed in the schema (see Appendix C)</li>
  </ul>

  <p>It is recommended that the <code>&lt;ccxml&gt;</code> element indicate the location of the CCXML schema (see Appendix C) via
  the <code>xsi:schemaLocation</code> attribute from <a href="#ref-schema2" shape="rect">[SCHEMA2]</a>:<br clear="none" />
  <br clear="none" />
  <code>xsi:schemaLocation="http://www.w3.org/2002/09/ccxml http://www.w3.org/TR/ccxml/ccxml.xsd"</code><br clear="none" />
  <br clear="none" />
  There may be a DOCTYPE declaration in the document prior to the root element. If present, the public identifier included in the
  DOCTYPE declaration must reference the CCXML DTD (Appendix B) using its Formal Public Identifier:<br clear="none" />
  <br clear="none" />
  <code>&lt;!DOCTYPE ccxml PUBLIC "-//W3C//DTD CCXML 1.0//EN" "http://www.w3.org/TR/ccxml/ccxml.dtd"&gt;</code></p>

  <p>The system identifier may be modified appropriately. The DTD subset must not be used to override any parameter entities in
  the DTD.</p>

  <p>Here is an example of a Conforming CCXML Document:</p>
  <pre class="example" xml:space="preserve">
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;ccxml version="1.0" xmlns="http://www.w3.org/2002/09/ccxml"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.w3.org/2002/09/ccxml http://www.w3.org/TR/ccxml/ccxml.xsd"&gt;

  &lt;eventprocessor&gt;
    &lt;transition event="connection.alerting"&gt;
      &lt;log expr="'Hello World'"/&gt;
      &lt;exit/&gt;
    &lt;/transition&gt;
  &lt;/eventprocessor&gt;

&lt;/ccxml&gt;
    
</pre>

  <p>Note that in this example, the recommended <code>xmlns:xsi</code> and <code>xsi:schemaLocation</code> attributes are
  included. Note also, the inclusion of an XML declaration. An XML declaration like the one above is not required in all XML
  documents. CCXML document authors are strongly encouraged to use XML declarations in all their documents. Such a declaration is
  required when the character encoding of the document is other than the default UTF-8 or UTF-16 and no encoding was determined
  by a higher-level protocol.</p>

  <p>The CCXML language or these conformance criteria provide no designated size limits on any aspect of CCXML documents. There
  are no maximum values on the number of elements, the amount of character data, or the number of characters in attribute
  values.</p>

  <h3 id="J2">J.2 - Using CCXML with other namespaces</h3>

  <p>The CCXML namespace may be used with other XML namespaces as per <a href="#ref_XMLNS" shape="rect">[XMLNS]</a>, although
  such documents are not strictly conforming CCXML documents as defined above. Future work by W3C will address ways to specify
  conformance for documents involving multiple namespaces.</p>

  <h3 id="J3">J.3 - Conforming CCXML Processors</h3>

  <p>A CCXML Processor is a program that can parse and process Conforming CCXML Documents. In a CCXML Processor, the XML parser
  must be able to parse and process all XML constructs defined by XML 1.0 <a href="#ref_XML10" shape="rect">[XML10]</a>, XML 1.1
  <a href="#ref_XML" shape="rect">[XML]</a> and Namespaces in XML <a href="#ref_XMLNS" shape="rect">[XMLNS]</a>. This XML parser
  is not required to perform validation of a CCXML document as per its schema or DTD; this implies that during processing of a
  CCXML document it is optional to apply or expand external entity references defined in an external DTD.</p>

  <p>A Conforming CCXML Processor must correctly understand and apply the semantics of each markup element as described by this
  document.</p>

  <p>When a Conforming CCXML Processor encounters elements or attributes, other than <code>xml:lang</code> and
  <code>xml:base</code>, in a non-CCXML namespace it may:</p>

  <ul>
    <li>ignore the non-standard elements and/or attributes, or</li>

    <li>process the non-standard elements and/or attributes, or</li>

    <li>reject the document containing those elements and/or attributes</li>
  </ul>

  <p>There is, however, no conformance requirement with respect to performance characteristics of the CCXML Processor.</p>

  <h3 id="J4">J.4 - IRI vs URI</h3>

  <p>In all places that URIs <a href="#ref_URI" shape="rect">[URI]</a> are referenced as being valid in a CCXML document a CCXML
  processor <em class="RFC2119">MUST</em> accept IRIs <a href="#ref_IRI" shape="rect">[IRI]</a>.</p>

  <h2 id="basichttpio">Appendix K - Basic HTTP Event I/O Processor</h2>

  <p><strong>This section is Normative.</strong></p>

  <h3 id="Appendix-BasicHTTP-Overview">K.1 Overview</h3>

  <p>This appendix describes a "<code>basichttp</code>" event I/O event processor which uses HTTP (<a href="#ref_RFC2616" shape=
  "rect">[RFC2616]</a>) to transport events between a CCXML implementation and external components.</p>

  <p>A CCXML implementation receives events from an external component via the "<code>basichttp</code>" processor. If the event
  is destined for an active CCXML session, the event and its parameters are injected into the session. Using the
  "<code>basichttp</code>" processor, events can be sent from a CCXML session with the <code>&lt;send&gt;</code> element to an
  external component.</p>

  <p>The "<code>basichttp</code>" processor is intended as a <i>minimal</i> interoperable mechanism for sending and receiving
  events between external components and CCXML 1.0 implementations. Other event I/O processors may be more appropriate for
  advanced application scenarios. HTTP Basic Access Authentication (<a href="#ref_RFC2617" shape="rect">[RFC2617]</a>) should be
  supported at a minimum. HTTP Digest Access Authentication (<a href="#ref_RFC2617" shape="rect">[RFC2617]</a>), HTTPS, or other
  security techniques should be considered.</p>

  <p>A CCXML 1.0 implementation must support the "<code>basichttp</code>" processor. Implementations may support other event
  injection processors so long as they do not have the type "<code>basichttp</code>" which is reserved for the processor
  described in this section.</p>

  <h3 id="Appendix-BasicHTTP-address">K.2 Access URI</h3>

  <p>The access URI for the "<code>basichttp</code>" event I/O processor is the URI to which an external component can send an
  event for injection into an active session.</p>

  <p>The access URI is available in a CCXML session via <code>session.ioprocessors</code> using the key "<code>basichttp</code>".
  For example, <code>session.ioprocessors["basichttp"]</code> returns the access URI (e.g.
  <code>http://www.example.com/ccxml/basichttp</code>) for the "<code>basichttp</code>1" processor.</p>

  <p>The access URI for the "<code>basichttp</code>" event processor may be sent to external components by, for example, its
  inclusion in the <code>namelist</code> attribute of the <code>&lt;send&gt;</code> element.</p>

  <p>The access URI may also be specified in an implementation-specific manner (for example, product documentation).</p>

  <h3 id="Appendix-BasicHTTP-receive">K.3 Receiving Events</h3>

  <p>Input from external components <em class="RFC2119">MUST</em> be received by the CCXML implementation at the
  "<code>basichttp</code>" access URI as HTTP POST requests. The request is analyzed by the "<code>basichttp</code>" event
  processor, resulting in</p>

  <ol>
    <li>an event being injected into an active CCXML session, or</li>

    <li>no action being taken (an error occurred, operation not permitted, etc)</li>
  </ol>

  <p>The "<code>basichttp</code>" processor <em class="RFC2119">MUST</em> indicate the result to the external component via the
  response code contained in the HTTP response.</p>

  <p>Parameter values <em class="RFC2119">MUST</em> be passed into the "<code>basichttp</code>" processor using an encoded
  <code>application/x-www-form-urlencoded</code> body.</p>

  <p>To inject an event into an existing CCXML session, the HTTP request must specify the id of the session and the name of the
  event. The session id <em class="RFC2119">MUST</em> be specified as an HTTP parameter named "<code>sessionid</code>"</p>

  <p>The name of the event must be specified using the HTTP parameter "<code>name</code>".</p>

  <p>The following HTTP parameters are reserved:</p>

  <dl>
    <dt><code>sessionid</code></dt>

    <dd>The value specifies the id of session into which the event is to be injected.</dd>

    <dt><code>name</code></dt>

    <dd>The value specifies the name of the event. The value is composed of alphanumeric and "." (dot) characters only. The first
    character must not be a dot or digit. The parameter is required.</dd>

    <dt><code>eventsource</code></dt>

    <dd>The value specifies a URI to which events may be sent (i.e. it may be used as the value of the <code>target</code>
    attribute in a <code>&lt;send&gt;</code> element). The parameter is optional.</dd>
  </dl>

  <p>Any non-reserved HTTP request parameters (in other words, all HTTP request parameters that are not listed in the table
  above) define the properties of the injected CCXML event. For instance, if the HTTP request contained a parameter named
  "<code>foo</code>" with value "<code>bar</code>", then the corresponding CCXML event object would have a property named
  "<code>foo</code>" (accessible as <code>event$.foo</code>), the value of which would be the string value
  "<code>bar</code>".</p>

  <p>Request parameters names may contain one or more periods, in order to allow the injection of events with properties that are
  objects. For example, a parameter named 
  "a.b" 
  with a value of "<code>1</code>" represents an object named "<code>a</code>", which
  has a property "<code>b</code>" with a value of "<code>1</code>". A subsequent parameter "<code>a.c</code>" with a value of
  "<code>2</code>" would add a property named "<code>c</code>" with a value of "<code>2</code>" to that event. This scheme
  applies recursively; using "<code>a.d.x</code>" = "<code>3</code>" and "<code>a.d.y</code>" = "<code>4</code>" would result in
  a multi-level object. Request parameter names must be valid ECMAScript variable names, or must be composed of period-separated
  ECMAScript variable names. Request parameter values, both reserved and non-reserved, are treated as strings. The omission of a
  request parameter value will be treated as an empty string. Parameter names may not be repeated within a request. A request
  with repeated parameter names is considered to be invalid, and should be rejected by the "<code>basichttp</code>" event I/O
  processor.</p>

  <p>The following subset of HTTP response codes are defined:</p>

  <table width="90%" summary="Basic HTTP reponse codes for event injection" border="1">
    <tbody>
      <tr>
        <th align="center" width="30%" rowspan="1" colspan="1">Response Code<br clear="none" /></th>

        <th align="center" width="70%" rowspan="1" colspan="1">Description</th>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">204 (No Content)</td>

        <td align="left" rowspan="1" colspan="1">Injection successful: session id matches an active CCXML session id, event name
        and payload parameters are valid</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">400 (Bad Request)</td>

        <td align="left" rowspan="1" colspan="1">Injection failed: one or more parameters have an invalid name or value</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">401 (Unauthorized)</td>

        <td align="left" rowspan="1" colspan="1">Used in conjunction with HTTP Authentication (<a href="#ref_RFC2617" shape=
        "rect">[RFC2617]</a>): The request requires user authentication</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">403 (Forbidden)</td>

        <td align="left" rowspan="1" colspan="1">Injection failed: other reason (e.g. session id does not match an existing CCXML
        session id)</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">404 (Not Found)</td>

        <td align="left" rowspan="1" colspan="1">Injection failed: access URI invalid.</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">500 (Internal Server Error)</td>

        <td align="left" rowspan="1" colspan="1">Injection failed: internal server error.</td>
      </tr>
    </tbody>
  </table>

  <p>Events injected into an active CCXML session by the "<code>basichttp</code>" processor provide the standard event attributes
  as described in <a href="#s9.4.2" shape="rect">Section 9.4.2</a>. The <code>name</code> has the value of the
  "<code>name</code>" parameter. The <code>eventsource</code> has the value of the "<code>eventsource</code>" parameter if
  provided; otherwise <code>eventsource</code> is <code>undefined</code>. The <code>eventid</code> is a unique string identifier
  of the event generated by the "<code>basichttp</code>" processor. The <code>eventsourcetype</code> has the value
  "<code>basichttp</code>".</p>

  <p>The payload parameters and their values are exposed as top level properties of the event object (complex parameter names
  require appropriate initialization of sub-objects). To avoid conflict with standard event attributes, payload parameters with
  the name "<code>eventid</code>" or "<code>eventsourcetype</code>" are ignored.</p>

  <p>For example, if the access URI for the "<code>basichttp</code>" processor is set to
  "<code>http://www.example.com/ccxml/basichttp</code>", an external component can send an HTTP request as follows:</p>
  <pre class="example" xml:space="preserve">
http://www.example.com/ccxml/basichttp?sessionid=ccxmlsession1&amp;
name=basichttp.myevent&amp;eventsource=http%3a//www.example.org/ccxmlext&amp;
agent=agent12&amp;site.location=orlando&amp;site.code=RE445
</pre>

  <p>If the session id matches an active CCXML session (i.e. its <code>session.id</code> is "<code>ccxmlsession1</code>") and the
  parameter names and values are valid, the processor injects the event into the session and sends an HTTP 204 response code. The
  event may then be handled by a transition such as:</p>
  <pre class="example" xml:space="preserve">
&lt;!-- Process incoming basichttp event --&gt;  
&lt;transition state="'dialogActive'" event="basichttp.*" &gt;

  &lt;log expr="'Received event'" /&gt;
  &lt;log expr="'name=' + event$.name" /&gt;
  &lt;log expr="'sourcetype=' + event$.eventsourcetype" /&gt;
  &lt;log expr="'eventsource=' + event$.eventsource" /&gt;
  &lt;log expr="'agent=' + event$.agent" /&gt;
  &lt;log expr="'site.location=' + event$.site.location" /&gt;
  &lt;log expr="'site.code=' + event$.site.code" /&gt;

&lt;/transition&gt;
</pre>

  <p>where <code>event$.name</code> would have the value "<code>basichttp.myevent</code>", <code>event$.eventsourcetype</code>
  the value "<code>basichttp</code>", <code>event$.eventsource</code> the value "<code>http://www.example.org/ccxmlext</code>",
  <code>event$.agent</code> the value "<code>agent12</code>", <code>event$.site.location</code> the value "<code>orlando</code>"
  and <code>event$.site.code</code> the value "<code>RE445</code>".</p>

  <h3 id="Appendix-BasicHTTP-send">K.4 Sending Events</h3>

  <p>Events <em class="RFC2119">may</em> be sent from the CCXML implementation to an external component with the
  "<code>basichttp</code>" processor using the <code>&lt;send&gt;</code> element (<a href="#Send" shape="rect">Section 9.2.3</a>)
  with the <code>targettype</code> attribute set to "<code>basichttp</code>". The <code>target</code> attribute <em class=
  "RFC2119">MUST</em> be set to the access URI of the external component.</p>

  <p>The HTTP method <em class="RFC2119">MUST</em> be "<code>POST</code>" and parameter values <em class="RFC2119">MUST</em> be
  encoded in an <code>application/x-www-form-urlencoded</code> body (<code>POST</code> method).</p>

  <p>The id of the CCXML session id <em class="RFC2119">MUST</em> be sent as a HTTP parameter named "<code>sessionid</code>".</p>

  <p>The <code>name</code> attribute <em class="RFC2119">MUST</em> be specified as an HTTP parameter named "<code>name</code>".
  If the <code>namelist</code> attribute is defined, its variable names and values <em class="RFC2119">MUST</em> be mapped to
  HTTP parameters. Inline content is not supported. The parameter <code>name</code> is the variable name, with the same
  qualification as used in the <code>namelist</code>. The parameter value is the variable value after being converted into a
  string. If a variable in the <code>namelist</code> is an ECMAScript Object, the mechanism by which it must be submitted is not
  currently defined. Instead of submitting ECMAScript Objects directly, the application developer may explicitly submit the
  properties of an Object (e.g. "<code>date.month date.year</code>").</p>

  <p>The basic HTTP event I/O processor generates events in response to <code>&lt;send&gt;</code> as described in <a href="#s9.3"
  shape="rect">Section 9.3</a>. An HTTP success 2XX response code returned by the external component (or a successful
  challenge-response resulting from a 401 Unauthorized response) <em class="RFC2119">MUST</em> be mapped to the CCXML event
  <code>send.successful</code>; all other non-successful (non 2xx) HTTP response codes <em class="RFC2119">MUST</em> be mapped to
  <code>error.send.failed</code>.</p>

  <h2 id="createsession">Appendix L - Session Creation Event I/O Processor</h2>

  <p><strong>This section is Normative.</strong></p>

  <h3 id="Appendix-createsession-Overview">L.1 Overview</h3>

  <p>This appendix describes a "<code>createsession</code>" event processor which can receive HTTP (<a href="#ref_RFC2616" shape=
  "rect">[RFC2616]</a>) requests from an external component to create new CCXML sessions.</p>

  <p>The "<code>createsession</code>" processor is intended as a <i>minimal</i> interoperable mechanism to allow external
  components to create new sessions in CCXML 1.0 implementations. Other event I/O processors may be more appropriate for advanced
  application scenarios. Security issues may need to be addressed by the implementation. If security is not addressed as part of
  the deployment network configuration, then HTTP Authentication (<a href="#ref_RFC2617" shape="rect">[RFC2617]</a>) , HTTPS, or
  other security techniques should be considered. Implementations may use additional HTTP parameters specifically to address
  security.</p>

  <p>A CCXML 1.0 implementation may support a "<code>createsession</code>" event processor. Implementations may support
  alternative session creation event processors so long as they do not have the type "<code>createsession</code>" which is
  reserved for the processor described in this section.</p>

  <h3 id="Appendix-createsession-address">L.2 Access URI</h3>

  <p>The access URI for the "<code>createsession</code>" event I/O processor is the URI to which an external component can send a
  session creation event.</p>

  <p>If the implementation supports the "<code>createsession</code>" event processor, then its access URI is available in a CCXML
  session via <code>session.ioprocessors</code> using the key "<code>createsession</code>". For example,
  <code>session.ioprocessors["createsession"]</code> returns the access URI (e.g.
  <code>http://www.example.com/ccxml/createsession</code>) for the "<code>createsession</code>" type event I/O processor.</p>

  <p>The access URI may also be specified in an implementation-specific manner (for example, product documentation).</p>

  <h3 id="Appendix-BasicHTTP-receive-create">L.3 Receiving Session Creation Events</h3>

  <p>A new CCXML session can be created by an external component when the "<code>createsession</code>" processor receives at its
  access URI an HTTP POST request with a "<code>uri</code>" parameter whose value is the CCXML document to load.</p>

  <p>The following HTTP parameters are reserved:</p>

  <dl>
    <dt><code>uri</code></dt>

    <dd>The value specifies the URI of the CCXML document for the session. The parameter is required.</dd>

    <dt><code>eventsource</code></dt>

    <dd>The value specifies a URI to which events may be sent from the created session using, for example, the
    "<code>basichttp</code>" event processor. The parameter is optional.</dd>

    <dt><code>method</code></dt>

    <dd>Equivalent to <code>&lt;createccxml&gt;</code>'s '<code>method</code>' attribute; used to set the HTTP method applied in
    the fetch of the specified CCXML document. Allowed values are "<code>get</code>" or "<code>post</code>" (case-insensitive).
    If omitted, the default value is "<code>get</code>".</dd>

    <dt><code>timeout</code></dt>

    <dd>Equivalent to <code>&lt;createccxml&gt;</code>'s '<code>timeout</code>' attribute; used to set the maximum time allowed
    when fetching a CCXML document before abandoning the fetch attempt and returning an error. If omitted, the CCXML platform
    will use a default value</dd>

    <dt><code>maxage</code></dt>

    <dd>Equivalent to <code>&lt;createccxml&gt;</code>'s '<code>maxage</code>' attribute; used to set the <code>max-age</code>
    value of the <code>Cache-Control</code> header when fetching CCXML documents. If omitted, the CCXML platform will use a
    default value.</dd>

    <dt><code>maxstale</code></dt>

    <dd>Equivalent to <code>&lt;createccxml&gt;</code>'s '<code>maxstale</code>' attribute; used to set the
    <code>max-stale</code> value of the <code>Cache-Control</code> header when fetching CCXML documents. If omitted, the CCXML
    platform will use a default value.</dd>

    <dt><code>postbody</code></dt>

    <dd>Used to set the <code>application/x-www-form-urlencoded</code> encoded HTTP body for "<code>post</code>" requests. This
    parameter is ignored if '<code>method</code>' is set to "<code>get</code>". The value of this parameter is the prepared
    <code>application/x-www-form-urlencoded</code> content that has been URL-encoded.</dd>

    <dt><code>fetchparam</code></dt>

    <dd>Equivalent to <code>&lt;createccxml&gt;</code>'s '<code>fetchparam</code>' attribute; used to pass information about the
    newly created session to the application server. If omitted, the default value is "<code>none</code>".</dd>
  </dl>

  <p>Other parameters provided in the HTTP request are treated as the event payload and made available in the created session.
  Single parameter values must be supported; multiple value parameters may be supported.</p>

  <p>Payload parameter names must be valid ECMAScript variable names. Valid complex variable names are permitted; for example,
  "<code>agent.role</code>". Reserved and payload parameter values must be valid ECMAScript expressions.</p>

  <p>The following HTTP response codes are defined:</p>

  <table width="90%" summary="Basic HTTP reponse codes for session creation" border="1">
    <tbody>
      <tr>
        <th align="center" width="30%" rowspan="1" colspan="1">Response Code</th>

        <th align="center" width="70%" rowspan="1" colspan="1">Description</th>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">200</td>

        <td align="left" rowspan="1" colspan="1">CCXML session created successful</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">400</td>

        <td align="left" rowspan="1" colspan="1">Session not created: one or more parameters have an invalid name or value</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">401</td>

        <td align="left" rowspan="1" colspan="1">Session not created: request lacks proper authorization</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">403</td>

        <td align="left" rowspan="1" colspan="1">Session not created: other reason (e.g. CCXML document not found)</td>
      </tr>

      <tr>
        <td rowspan="1" colspan="1">408</td>

        <td align="left" rowspan="1" colspan="1">Session not created: timeout fetching CCXML document</td>
      </tr>
    </tbody>
  </table>

  <p>If the CCXML session was created successfully, the HTTP 200 response <em class="RFC2119">MUST</em> contain an
  '<code>application/x-www-form-urlencoded</code>' body. The '<code>session.id</code>' property of the newly created session
  <em class="RFC2119">MUST</em> be returned in this body; other information <em class="RFC2119">MAY</em> also be returned by the
  platform.</p>

  <p>In the created session, <code>session.startupmode</code> is set to "<code>external</code>", the <code>session.uri</code> is
  to set to the value of the <code>uri</code> parameter and a <code>session.values</code> object is defined with the property
  <code>type</code> set to the value "<code>createsession</code>" and the property <code>eventsource</code> set to the value of
  the "<code>eventsource</code>" parameter. Other payload parameters are exposed as properties of <code>session.values</code>
  (complex parameter names require appropriate initialization of sub-objects). To avoid conflict with <code>type</code> and
  <code>eventsource</code> defined above, payload parameters with the name "type" and <code>eventsource</code> are ignored.</p>

  <p>For example, an external component sends the following HTTP request to the "<code>createsession</code>" access URI :</p>
  <pre class="example" xml:space="preserve">
http://www.example.com/ccxml/createsession?
uri=http://www.example.org/ccxml/myscript.ccxml&amp;
eventsource=http://www.example.org/ccxmlext&amp;
delay.value=500&amp;delay.format=msecs&amp;
vxmlscript=http://www.example.org/ccxml/myscript.vxml
</pre>

  <p>If the "<code>createsession</code>" processor is supported by the CCXML implementation, the request parameter names and
  values are valid, and the ccxml document is successfully fetched and processed, then a new CCXML session is created with the
  following <code>session</code> variables:</p>
  <pre class="example" xml:space="preserve">
session.id = 'ccxmlsession2'
session.startupmode = 'external'
session.uri = 'http://www.example.org/ccxml/myscript.ccxml'
session.values.type = 'createsession'
session.values.eventsource = 'http://www.example.org/ccxmlext'
session.values.delay.value = 500
session.values.delay.format = msecs
session.values.vxmlscript = 'http://www.example.org/ccxml/myscript.vxml'
</pre>

  <p>The "<code>createsession</code>" processor then responds to the originating HTTP request by generating an HTTP 200 response
  code. The session id of the newly created CCXML session <em class="RFC2119">MUST</em> be returned in the body of the
  response.</p>

  <h2 id="AppM">Appendix M - MIME Type and File Suffix</h2>

  <p><b><i>This section is normative.</i></b></p>

  <p>The media type associated to the Call Control eXtensible Markup Language Specification documents is <code>"application/ccxml+xml"</code> and the
  filename suffix is <code>".ccxml"</code> as defined in [<a href="#ref-rfc4267">RFC4267</a>].</p>
</body>
</html>

