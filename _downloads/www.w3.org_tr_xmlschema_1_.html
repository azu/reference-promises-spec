<!-- http://www.w3.org/TR/xmlschema-1/ -->
<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="EN" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>XML Schema Part 1: Structures Second Edition</title><style type="text/css">
table {text-indent: 0;}
code           { font-family: monospace; }

div.constraint,
div.issue,
div.note,
div.notice     { margin-left: 2em; }

ol.enumar      { list-style-type: decimal; }
ol.enumla      { list-style-type: lower-alpha; }
ol.enumlr      { list-style-type: lower-roman; }
ol.enumua      { list-style-type: upper-alpha; }
ol.enumur      { list-style-type: upper-roman; }


div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
div.exampleWrapper { margin: 4px }
div.exampleHeader { font-weight: bold;
                    margin: 4px}

   img { color: white; border: none }
   span.nav { float: right}
   span.arrow { font-style: normal; font-weight: bold }
   code { font-family: monospace; font-size: 100%}
   span.propdef { font-weight: bold; font-family: monospace }
   span.termdef {color: #850021}
   a.termref:visited, a.termref:link {font-family: sans-serif;
	     font-style: normal;
	     color: black;
	     text-decoration: none }
   a.eltref:visited, a.eltref:link { font-family: sans-serif;
	     color: black;
	     text-decoration: none }
   a.propref:visited, a.xpropref:visited, a.propref:link, a.xpropref:link { color: black; text-decoration: none;
			  font-family: sans-serif }
   dl.props, dl.psvi {margin-bottom: .5em; margin-top: 0em}
   div.toc1 {margin-left: 5ex}
   div.toc2 {margin-left: 2ex}
   div.tocLine{margin: 0em; text-indent: -6ex}
   h3.withToc {margin-bottom: 0em}
   div.constraintnote { margin-top: 1em }
   div.constraint {
     margin-left: 1em; }
   
   div.constraintlist {
     margin-left: 1em; margin-bottom: 0em
   }
   div.clnumber {
     text-indent: -1em;
     margin-top: 0em; margin-bottom: 0em }
   
   div.schemaComp { border: 4px double gray;
		    margin: 0em 1em; padding: 0em }
   div.compHeader { margin: 4px;
		   font-weight: bold }
   span.schemaComp { color: #A52A2A }
   div.compBody {
		 border-top-width: 4px;
		 border-top-style: double;
		 border-top-color: #d3d3d3;
		 padding: 4px ; margin: 0em}
   
   div.psviDef { border: 4px double gray;
		    margin: 1em 1em; padding: 0em }
   div.psviHeader { margin: 4px;
		   font-weight: bold }
   span.psviDef { color: #A52A2A }
   div.psviBody { border-top-width: 4px;
		 border-top-style: double;
		 border-top-color: #d3d3d3;
		 padding: 4px ; margin: 0em}
   
   div.reprdef { border: 4px double gray;
		    margin: 0em 1em; padding: 0em }
   div.reprHeader { margin: 4px;
		   font-weight: bold }
   span.reprdef { color: #A52A2A }
   div.reprBody, div.reprcomp, div.reprdep {
		 border-top-width: 4px;
		 border-top-style: double;
		 border-top-color: #d3d3d3;
		 padding: 4px ; margin: 0em}
   table.reprcomp { margin-bottom: -.5em}
   p.element-syntax-1 { font-family: monospace;
		       margin-top: 0em; margin-bottom: .5em }
   p.element-syntax { font-family: monospace;
		 border-top-width: 1px;
		 border-top-style: solid;
		 border-top-color: #d3d3d3;
		 padding: 4px ; margin: 0em}
   
   div.exampleInner pre { margin-left: 1em;
			 margin-top: 0em; margin-bottom: 0em}
   div.exampleOuter {border: 4px double gray;
		    margin: 0em; padding: 0em}
   div.exampleInner { background-color: #d5dee3;
		     border-top-width: 4px;
		     border-top-style: double;
		     border-top-color: #d3d3d3;
		     border-bottom-width: 4px;
		     border-bottom-style: double;
		     border-bottom-color: #d3d3d3;
		     padding: 4px; margin: 0em }
   div.exampleWrapper { margin: 4px }
   div.exampleHeader { font-weight: bold;
		      margin: 4px}
   span.edtext { color: red }
   
   table.restricts { margin-top: 1em; margin-bottom: 1em; margin-left: -2em}
   table.restricts th { margin-left: 0em }
   table.ubc td, table.ubc th { font-size: smaller }
   table.dtdemo th { text-align: center;
		    background-color: #d5dee3}
   table.dtdemo pre { margin-left: 0em;  margin-bottom: 0em}
   table.dtdemo td {background-color: #bedce6}
   table.scrap {background-color:  #f5dcb3}
   
   img { color: white; border: none }
   span.nav { float: right}
   span.arrow { font-style: normal; font-weight: bold }
</style><link href="http://www.w3.org/StyleSheets/TR/W3C-REC.css" type="text/css" rel="stylesheet"/></head><body><div class="head"><p><a href="http://www.w3.org/"><img width="72" height="48" alt="W3C" src="http://www.w3.org/Icons/w3c_home"/></a></p>
<h1><a id="title" name="title"/>XML Schema Part 1: Structures Second Edition</h1>
<h2><a id="w3c-doctype" name="w3c-doctype"/>W3C Recommendation 28 October 2004</h2>
<!--* 
<h2><a id="w3c-doctype" name="w3c-doctype"/>W3C Recommendation 2 May 2001, Second Edition 28 October 2004</h2>
*-->
<dl><dt>This version:</dt><dd> <a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/">http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/</a> </dd><dt>Latest version:</dt><dd><a href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</a>
 </dd><dt>Previous version:</dt><dd>
    <a href="http://www.w3.org/TR/2004/PER-xmlschema-1-20040318/">http://www.w3.org/TR/2004/PER-xmlschema-1-20040318/</a>
   </dd><dt>Editors:</dt><dd>Henry S. Thompson, University of Edinburgh <a href="mailto:ht@cogsci.ed.ac.uk">&lt;ht@cogsci.ed.ac.uk&gt;</a></dd><dd>David Beech, Oracle Corporation <a href="mailto:David.Beech@oracle.com">&lt;David.Beech@oracle.com&gt;</a></dd><dd>Murray Maloney, for Commerce One <a href="mailto:murray@muzmo.com">&lt;murray@muzmo.com&gt;</a></dd><dd>Noah Mendelsohn, Lotus Development Corporation <a href="mailto:Noah_Mendelsohn@lotus.com">&lt;Noah_Mendelsohn@lotus.com&gt;</a></dd></dl>
<p>Please refer to the <a href="http://www.w3.org/2004/03/xmlschema-errata"
><strong>errata</strong></a> 
for this document, which may include some normative corrections.</p>
<p>This document is also available in these non-normative formats: <a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/structures.xml">XML</a>, <a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/structures-with-errata.html">XHTML with visible change markup</a>, <a href="http://www.w3.org/2001/XMLSchema.xsd">Independent copy of the schema for schema
documents</a>, and&#xa0;<a href="http://www.w3.org/2001/XMLSchema.dtd">Independent copy of the DTD for schema documents</a>.
See also <a
href="http://www.w3.org/2003/03/Translations/byTechnology?technology=xmlschema"
><strong>translations</strong></a>.</p>
<p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&#xa0;&#xa9;&#xa0;2004&#xa0;<a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>&#xae;</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> 
<!--* 
and <a href="http://www.w3.org/Consortium/Legal/copyright-software">software licensing</a>
*-->
rules apply.</p></div><hr/><div>
<h2><a id="abstract" name="abstract"/>Abstract</h2><p><em>XML Schema: Structures</em> specifies the XML Schema definition language,
          which offers facilities for describing the structure and constraining the contents
            of XML 1.0 documents, including those which exploit the XML
Namespace facility. The schema language, which is itself represented in XML
            1.0 and uses namespaces, substantially reconstructs and considerably extends the capabilities found in XML 1.0 document type
            definitions (DTDs).  This specification depends on <em>XML Schema Part 2:
            Datatypes</em>.</p></div><div>
<h2><a id="status" name="status"/>Status of this Document</h2><p><em>This section describes the status of this document at the
time of its publication. Other documents may supersede this document.
A list of current W3C publications and the latest
revision of this technical report can be found in the <a href="http://www.w3.org/TR/">W3C technical reports index</a> at
http://www.w3.org/TR/.</em></p><p>This is a <a href="http://www.w3.org/2004/02/Process-20040205/tr.html#RecsW3C">W3C
Recommendation</a>, which forms part of the Second Edition of XML
Schema. This document has been reviewed by W3C Members and
other interested parties and has been endorsed by the Director as a
W3C Recommendation. It is a stable document and may be used as
reference material or cited as a normative reference 
from another document. 
W3C's role in making the Recommendation is to draw attention
to the specification and to promote its widespread deployment. This
enhances the functionality and interoperability of the Web. 
</p><p>
This document has been produced by the <a href="http://www.w3.org/XML/Schema">W3C XML Schema Working Group</a>
as part of the W3C <a href="http://www.w3.org/XML/Activity">XML
Activity</a>. The goals of the XML Schema language are discussed in
the <a href="http://www.w3.org/TR/NOTE-xml-schema-req">XML Schema
Requirements</a> document. The authors of this document are the
members of the XML Schema Working Group.  Different parts of this
specification have different editors.
</p><p>
This document was produced under the <a href="http://www.w3.org/TR/2002/NOTE-patent-practice-20020124">24
January 2002 Current Patent Practice (CPP)</a> as amended by the <a href="http://www.w3.org/2004/02/05-pp-transition">W3C Patent Policy
Transition Procedure</a>. The Working Group maintains a <a href="http://www.w3.org/2002/11/xml-schema-IPR-statements.html">public
list of patent disclosures</a> relevant to this document;
that page also includes instructions for disclosing a patent. 
An individual who
has actual knowledge of a patent which the individual believes
contains Essential Claim(s) with respect to this specification should
disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 
6 of the W3C Patent Policy</a>.
</p><p>The English version of this specification is the only normative
version. Information about translations of this document is available
at <a href="http://www.w3.org/2001/05/xmlschema-translations">http://www.w3.org/2001/05/xmlschema-translations</a>.</p><p>This second edition is <em>not</em> a new version,
it merely incorporates the changes dictated by the corrections to
errors found in the <a href="http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/">first
edition</a> as agreed by the XML Schema Working Group, as a
convenience to readers.  A separate list of all such corrections is
available at <a href="http://www.w3.org/2001/05/xmlschema-errata">http://www.w3.org/2001/05/xmlschema-errata</a>. 
</p><p>The errata list for this second edition is available at <a href="http://www.w3.org/2004/03/xmlschema-errata">http://www.w3.org/2004/03/xmlschema-errata</a>.</p><p>
Please report errors in this document to <a href="mailto:www-xml-schema-comments@w3.org">www-xml-schema-comments@w3.org</a> 
(<a href="http://lists.w3.org/Archives/Public/www-xml-schema-comments/">archive</a>).
</p><div class="note"><b>Note:&#xa0;</b>David Beech has retired since the publication of the first edition,
and can be reached at <a href="mailto:davidbeech@earthlink.net">davidbeech@earthlink.net</a>.<p/>Murray Maloney is no longer affiliated with Commerce One; his contact
details are unchanged.<p/>Noah Mendelsohn's affiliation has changed since the publication of the
first edition.  He is now at IBM, and can be contacted at <a href="mailto:noah_mendelsohn@us.ibm.com">noah_mendelsohn@us.ibm.com</a></div></div><div class="toc">
<h2><a id="contents" name="contents"/>Table of Contents</h2><p class="toc">1 <a href="#intro">Introduction</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;1.1 <a href="#intro-purpose">Purpose</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;1.2 <a href="#intro-relatedWork">Dependencies on Other Specifications</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;1.3 <a href="#intro-terminology">Documentation Conventions and Terminology</a><br/>
2 <a href="#concepts">Conceptual Framework</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.1 <a href="#d0e504">Overview of XML Schema</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.2 <a href="#concepts-data-model">XML Schema Abstract Data Model</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.3 <a href="#concepts-schemaConstraints">Constraints and Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.4 <a href="#concepts-conformance">Conformance</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.5 <a href="#concepts-nameSymbolSpaces">Names and Symbol Spaces</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.6 <a href="#Instance_Document_Constructions">Schema-Related Markup in
Documents Being Validated</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;2.7 <a href="#web-representation">Representation of Schemas on the World Wide Web</a><br/>
3 <a href="#components">Schema Component Details</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.1 <a href="#scIntro">Introduction</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.2 <a href="#cAttribute_Declarations">Attribute Declarations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.3 <a href="#cElement_Declarations">Element Declarations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.4 <a href="#Complex_Type_Definitions">Complex Type Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.5 <a href="#cAttributeUse">AttributeUses</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.6 <a href="#cAttribute_Group_Definitions">Attribute Group Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.7 <a href="#cModel_Group_Definitions">Model Group Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.8 <a href="#Model_Groups">Model Groups</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.9 <a href="#cParticles">Particles</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.10 <a href="#Wildcards">Wildcards</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.11 <a href="#cIdentity-constraint_Definitions">Identity-constraint Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.12 <a href="#cNotation_Declarations">Notation Declarations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.13 <a href="#cAnnotations">Annotations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.14 <a href="#Simple_Type_Definitions">Simple Type Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;3.15 <a href="#Schemas">Schemas as a Whole</a><br/>
4 <a href="#composition">Schemas and Namespaces: Access and Composition</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;4.1 <a href="#layer1">Layer 1: Summary of the Schema-validity Assessment Core</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;4.2 <a href="#layer2">Layer 2: Schema Documents, Namespaces and Composition</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;4.3 <a href="#composition-instances">Layer 3: Schema Document Access and Web-interoperability</a><br/>
5 <a href="#conformance">Schemas and Schema-validity Assessment</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;5.1 <a href="#conformance-schemaValidity">Errors in Schema Construction and Structure</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;5.2 <a href="#validation_outcome">Assessing Schema-Validity</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;5.3 <a href="#conformance-missing">Missing Sub-components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;5.4 <a href="#conformance-processorResponsibilities">Responsibilities of Schema-aware Processors</a><br/>
</p>
<h3><a id="appendices" name="appendices"/>Appendices</h3><p class="toc">A <a href="#normative-schemaSchema">Schema for Schemas (normative)</a><br/>
B <a href="#normative-references">References (normative)</a><br/>
C <a href="#outcomes">Outcome Tabulations (normative)</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;C.1 <a href="#validation_failures">Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;C.2 <a href="#PSVI_contributions">Contributions to the post-schema-validation infoset</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;C.3 <a href="#outcome-src">Schema Representation Constraints</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;C.4 <a href="#outcome-cos">Schema Component Constraints</a><br/>
D <a href="#infoset">Required Information Set Items and Properties (normative)</a><br/>
E <a href="#component-diagram">Schema Components Diagram (non-normative)</a><br/>
F <a href="#normative-glossary">Glossary (non-normative)</a><br/>
G <a href="#nonnormative-schemaDTD">DTD for Schemas (non-normative)</a><br/>
H <a href="#non-ambig">Analysis of the Unique Particle Attribution Constraint (non-normative)</a><br/>
I <a href="#nonnormative-references">References (non-normative)</a><br/>
J <a href="#acknowledgments">Acknowledgements (non-normative)</a><br/>
</p></div><hr/><div class="body"><div class="div1">
<h2><a id="intro" name="intro"/>1 Introduction</h2><p>This document sets out the structural part (<em>XML Schema: Structures</em>) of the XML Schema definition language.</p><p>Chapter 2 presents a <a href="#concepts">Conceptual Framework (&#xa7;2)</a> for XML Schemas, including
        an introduction to the nature of XML Schemas and an introduction
to the XML Schema abstract data model, along with
        other terminology used throughout this document. </p><p>Chapter 3, <a href="#components">Schema Component Details (&#xa7;3)</a>, specifies the precise
semantics of each component of the abstract model, the representation of each 
component in XML, with reference to a DTD and XML Schema
for an XML Schema document type, along with a detailed mapping between the elements and
attribute vocabulary of this representation and the components and properties
of the abstract model.</p><p>Chapter 4 presents <a href="#composition">Schemas and Namespaces: Access and Composition (&#xa7;4)</a>, including the
connection between documents and schemas, the import, inclusion and redefinition of declarations and definitions and
        the foundations of schema-validity assessment.</p><p>Chapter 5 discusses <a href="#conformance">Schemas and Schema-validity Assessment (&#xa7;5)</a>, including the
overall approach to schema-validity assessment of documents, and responsibilities of schema-aware
        processors. </p><p>The normative appendices include a <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a> for the XML representation of schemas and
        <a href="#normative-references">References (normative) (&#xa7;B)</a>.</p><p>The non-normative appendices include the <a href="#nonnormative-schemaDTD">DTD for Schemas (non-normative) (&#xa7;G)</a> and a <a href="#normative-glossary">Glossary (non-normative) (&#xa7;F)</a>.</p><p>This document is primarily intended as a language definition reference.
As such, although it contains a few examples, it is <em>not</em> primarily designed
to serve as a motivating introduction to the design and its features, or as a
tutorial for new users.
Rather it presents a careful and fully explicit definition of that design, suitable
for guiding implementations.  For those in search of a step-by-step
introduction to the design, the non-normative <a href="#bib-expo">[XML Schema: Primer]</a> is a much better
starting point than this document.</p><div class="div2">
<h3><span class="nav"> <a class="nav" href="#intro-relatedWork"><img src="next.jpg" alt="next sub-section"/></a></span><a id="intro-purpose" name="intro-purpose"/>1.1 Purpose</h3><p>The purpose of <em>XML Schema: Structures</em> is to define the nature of XML schemas
and their component parts,
provide an inventory of XML markup
        constructs with which to represent schemas, and define the
application of schemas to XML documents. </p><p>The purpose of an <em>XML Schema: Structures</em> schema is to define and describe a class of
        XML documents by using schema components to constrain and document the meaning,
        usage and relationships of their constituent parts: datatypes, elements and
        their content and attributes and their values. Schemas may also provide for the specification of additional
        document information, such as normalization and defaulting of attribute
and element values. Schemas have
facilities for self-documentation. Thus, <em>XML Schema: Structures</em> can be used to define, describe and catalogue XML
        vocabularies for classes of XML documents. </p><p>Any application that consumes well-formed XML can use the <em>XML Schema: Structures</em>
        formalism to express syntactic, structural and value constraints applicable to
        its document instances. The <em>XML Schema: Structures</em> formalism allows a useful level of
        constraint checking to be described and implemented for a wide spectrum of XML
        applications.  However, the language defined by this specification does not attempt to provide
        <em>all</em> the facilities that might be needed by <em>any</em>
        application. Some applications may require constraint capabilities not
        expressible in this language, and so may need to perform their own additional
        validations.</p></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#intro-purpose"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#intro-terminology"><img src="next.jpg" alt="next sub-section"/></a></span><a id="intro-relatedWork" name="intro-relatedWork"/>1.2 Dependencies on Other Specifications</h3><p>The definition of <em>XML Schema: Structures</em> depends on the following specifications:
      <a href="#ref-xmlinfo">[XML-Infoset]</a>,
      <a href="#ref-xml-namespaces">[XML-Namespaces]</a>,
      <a href="#bib-xpath">[XPath]</a>, and
      <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</p><p>See <a href="#infoset">Required Information Set Items and Properties (normative) (&#xa7;D)</a> for a tabulation of the information items
and properties specified in <a href="#ref-xmlinfo">[XML-Infoset]</a> which this
specification requires as a precondition to schema-aware processing.</p></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#intro-relatedWork"><img src="previous.jpg" alt="previous sub-section"/></a> </span><a id="intro-terminology" name="intro-terminology"/>1.3 Documentation Conventions and Terminology</h3><p>The section introduces the highlighting and typography as used in
          this document to present technical material.</p><p>Special terms are defined at their point of
introduction in the text.  For example <span class="termdef"><a id="key-sampledef" name="key-sampledef">[Definition:]&#xa0;&#xa0;</a>a <b>term</b> is
          something used with a special meaning</span>.  The definition is
labeled as such and the term it defines is displayed in boldface.  The end of the definition is not specially marked
in the displayed or printed text.  Uses of defined terms are links to
their definitions, set off with middle dots, for instance <a class="termref" href="#key-sampledef"><span class="arrow">&#xb7;</span>term<span class="arrow">&#xb7;</span></a>.</p><p>Non-normative examples are set off in boxes and accompanied by a brief
explanation:</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;schema targetNamespace=&quot;http://www.example.com/XMLSchema/1.0/mySchema&quot;&gt;</pre></div><div class="exampleWrapper">And an explanation of the example.</div></div><p>The definition of each kind of schema component consists of a list of
      its properties and their contents, followed by descriptions of the
      semantics of the properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#intro-terminology">Example</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="xmpl-prop" id="xmpl-prop"><span class="propdef">{example property}</span></a></dt><dd>
Definition of the property.
   </dd>
  </dl>
 </div></div><p>References to properties of schema components are links to
the relevant definition as exemplified above, set off with curly braces, for instance <a class="propref" href="#xmpl-prop">{example property}</a>.</p><p>The correspondence between an element information item which is part
of the XML representation of a schema and one or more schema components is presented in a tableau
which illustrates the element information item(s) involved.
This is followed by a tabulation of the correspondence between properties of the component
and properties of the information item.  Where context may determine which of
several different components may arise, several tabulations, one per context,
are given.  The property correspondences are normative,
as are the illustrations of the XML representation element information items.
</p><p>In the XML representation, bold-face
attribute names (e.g. <b>count</b> below) indicate a required
attribute information item, and the rest are
optional.  Where an attribute information item has an enumerated type
definition, the values are shown separated by vertical bars, as for
<code>size</code> below; if there is a default value, it is shown
following a colon.  Where an attribute information item has a built-in simple
type definition defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, a hyperlink to its
definition therein is given.</p><p>The allowed content of the information item is
shown as a grammar fragment, using the Kleene operators <code>?</code>,
<code>*</code> and <code>+</code>.  Each element name therein is a hyperlink to
its own illustration.</p><div class="note"><b>Note:&#xa0;</b>The illustrations are derived automatically from the <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>.  In the case of apparent conflict, the <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a> takes precedence, as it, together with the <a class="termref" href="#gloss-src"><span class="arrow">&#xb7;</span>Schema Representation Constraints<span class="arrow">&#xb7;</span></a>, provide the normative statement of
the form of XML representations.</div><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>example</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-example" id="element-example">&lt;example</a><br/>&#xa0;&#xa0;<b>count</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#integer">integer</a><br/>&#xa0;&#xa0;size = (<var>large</var> | <var>medium</var> | <var>small</var>)&#xa0;:&#xa0;medium&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-all">all</a> | <a class="eltref" href="#element-any">any</a>*)<br/>&lt;/example&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#intro-terminology">Example</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#xmpl-prop">{example property}</a></td><td>Description of what the property corresponds to, e.g. the value of the <code>size</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>
</td></tr></tbody></table></td></tr></tbody></table></div>
 </div></div><p>References to elements in the text are links to
the relevant illustration as exemplified above, set off with angle brackets, for instance <a class="eltref" href="#element-example">&lt;example&gt;</a>.</p><p>References to properties of information items as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a> are notated as links to the relevant section thereof, set off with square brackets, for example <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</p><p>Properties which this specification defines for information items are
introduced as follows:</p><div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;example&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="ex-foo" id="ex-foo"><span class="propdef">[new property]</span></a></dt><dd>The value the property gets.</dd>
     </dl></div></div><p>References to properties of information items defined in this specification
are notated as links to their introduction as exemplified above, set off with square brackets, for example <a class="propref" href="#ex-foo">[new property]</a>.</p><p>The following highlighting is used for non-normative commentary in
        this document:</p><div class="note"><b>Note:&#xa0;</b>General comments directed to all readers. </div><p>Following <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>, within normative prose in this specification, the words
<em>may</em> and <em>must</em> are defined as follows:</p><dl><dt class="label">may</dt><dd>Conforming documents and XML Schema-aware processors are permitted to but need not behave as described.</dd><dt class="label">must</dt><dd>Conforming documents and XML Schema-aware processors are required to behave as described; otherwise they are in error.</dd></dl><p>Note however that this specification provides a definition of error and of conformant processors'
responsibilities with respect to errors (see <a href="#conformance">Schemas and Schema-validity Assessment (&#xa7;5)</a>) which is considerably
more complex than that of <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>.</p></div></div><div class="div1">
<h2><a id="concepts" name="concepts"/>2 Conceptual Framework</h2><p>This chapter gives an overview of <em>XML Schema: Structures</em> at the level of its abstract data model.  <a href="#components">Schema Component Details (&#xa7;3)</a> provides details on this model, including
a normative representation in XML for the components of the model.
Readers interested primarily in learning to write schema documents may wish to
first read <a href="#bib-expo">[XML Schema: Primer]</a> for a tutorial introduction, and only then consult the sub-sections of 
<a href="#components">Schema Component Details (&#xa7;3)</a> named <em>XML Representation of ...</em> for
the details.</p><div class="div2">
<h3><span class="nav"> <a class="nav" href="#concepts-data-model"><img src="next.jpg" alt="next sub-section"/></a></span><a id="d0e504" name="d0e504"/>2.1 Overview of XML Schema</h3><p>An XML Schema
consists of components such as type definitions
and element declarations.  These can be used to assess the validity of
well-formed element and attribute information items (as defined
in <a href="#ref-xmlinfo">[XML-Infoset]</a>), and furthermore
may specify augmentations to those items and their descendants.  This augmentation makes explicit information which may have
been implicit in the original document, such as normalized and/or default values for
attributes and elements and
the types of element and attribute information items.  <span class="termdef"><a id="key-psvi" name="key-psvi">[Definition:]&#xa0;&#xa0;</a>We refer to the augmented infoset which results from conformant processing as defined in this specification as the <b>post-schema-validation infoset</b>, or PSVI</span>.</p><p>Schema-validity assessment has two aspects:
</p><div class="constraintlist"><div class="clnumber">1<a name="c-lsv" id="c-lsv"> </a>Determining local schema-validity, that is
whether an element or attribute information item satisfies the
constraints embodied in the relevant
components of an XML Schema;</div><div class="clnumber">2 Synthesizing an overall validation outcome for the item,
combining local schema-validity with the results of schema-validity
assessments of its descendants, if any, and
adding appropriate augmentations to the infoset to record this outcome.</div></div><p>Throughout this specification, <span class="termdef"><a id="key-vn" name="key-vn">[Definition:]&#xa0;&#xa0;</a>the
word <b>valid</b> and its derivatives are used to refer to
clause <a href="#c-lsv">1</a> above, the determination of local
schema-validity</span>.</p><p>Throughout this specification, <span class="termdef"><a id="key-va" name="key-va">[Definition:]&#xa0;&#xa0;</a> the word <b>assessment</b> is used to refer
to the overall process of
local validation, schema-validity assessment and infoset augmentation</span>.</p></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#concepts-schemaConstraints"><img src="next.jpg" alt="next sub-section"/></a></span><a id="concepts-data-model" name="concepts-data-model"/>2.2 XML Schema Abstract Data Model</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.2.1 <a href="#Type_Definition_Summary">Type Definition Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.2.2 <a href="#Declarations_Summary">Declaration Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.2.3 <a href="#Model_Group_Summary">Model Group Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.2.4 <a href="#Identity-constraint_Definition">Identity-constraint Definition Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.2.5 <a href="#Group_Definitions">Group Definition Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.2.6 <a href="#Annotation">Annotation Components</a><br/>
</div><p>This specification builds on <a href="#ref-xml">[XML 1.0 (Second Edition)]</a> and
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.  The concepts and definitions used
herein regarding XML are framed at the abstract level of <a href="http://www.w3.org/TR/xml-infoset/#infoitem">information
items</a> as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a>.  By
definition, this use of the infoset provides <em>a priori</em> guarantees of <a href="http://www.w3.org/TR/REC-xml#sec-well-formed">well-formedness</a>
(as defined in <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>) and <a href="http://www.w3.org/TR/REC-xml-names/#Conformance">namespace
conformance</a> (as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>) for
all candidates for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> and for all <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>.</p><p>Just as <a href="#ref-xml">[XML 1.0 (Second Edition)]</a> and
<a href="#ref-xml-namespaces">[XML-Namespaces]</a> can be described in terms of
information items, XML Schemas can be described in terms of an
abstract data model.  In defining XML Schemas in terms of an abstract
data model, this specification rigorously specifies the information which
must be available to a conforming XML Schema processor.  The abstract
model for schemas is conceptual only, and does not mandate any
particular implementation or representation of this information.  To
facilitate interoperation and sharing of schema information, a
normative XML interchange format for schemas is provided.</p><p><span class="termdef"><a id="key-component" name="key-component">[Definition:]&#xa0;&#xa0;</a> <b>Schema component</b> is the generic term for the building blocks that comprise the abstract data model of the schema.
</span>
<span class="termdef"><a id="key-schema" name="key-schema">[Definition:]&#xa0;&#xa0;</a>
An <b>XML Schema</b> is a
set of <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a></span>.  There are 13 kinds of
component in all, falling into three groups.  The primary components, which may
(type definitions) or must (element and attribute declarations) have names
are as follows:</p><ul><li>Simple type definitions
</li><li>Complex type definitions</li><li>Attribute declarations</li><li>Element declarations</li></ul><p>The secondary components, which must have names, are as follows:</p><ul><li>Attribute group definitions</li><li>Identity-constraint definitions</li><li>Model group definitions</li><li>Notation declarations</li></ul><p>Finally, the &quot;helper&quot; components provide small parts of
other components; they are not independent of their context:</p><ul><li>Annotations</li><li>Model groups</li><li>Particles</li><li>Wildcards</li><li>Attribute Uses</li></ul><p>During <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, <span class="termdef"><a id="key-declaration" name="key-declaration">[Definition:]&#xa0;&#xa0;</a><b>declaration</b> components are associated by
(qualified) name to information items being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a></span>.</p><p>On the other hand, <span class="termdef"><a id="key-definition" name="key-definition">[Definition:]&#xa0;&#xa0;</a><b>definition</b> components define
internal schema components that can be used in other schema components</span>.
</p><p>
<span class="termdef"><a id="key-compName" name="key-compName">[Definition:]&#xa0;&#xa0;</a>Declarations and
definitions may have and be identified by <b>name</b>s, which are NCNames as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a></span>.</p><p>  <span class="termdef"><a id="key-targetNS" name="key-targetNS">[Definition:]&#xa0;&#xa0;</a>Several kinds
of component have a <b>target namespace</b>, which is either
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, also as
defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a></span>.  The <a class="termref" href="#key-targetNS"><span class="arrow">&#xb7;</span>target
namespace<span class="arrow">&#xb7;</span></a> serves to identify the namespace within which the
association between the component and its name exists.  In the case of
declarations, this in turn determines the namespace name of, for example, the element
information items it may <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a>.</p><div class="note"><b>Note:&#xa0;</b>At the abstract level, there is
no requirement that the components of a schema share a
<a class="termref" href="#key-targetNS"><span class="arrow">&#xb7;</span>target namespace<span class="arrow">&#xb7;</span></a>.  Any schema for use in
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> of documents containing names from more than one namespace
will of necessity include components with different <a class="termref" href="#key-targetNS"><span class="arrow">&#xb7;</span>target namespaces<span class="arrow">&#xb7;</span></a>.  This contrasts with
the situation at the level of the XML representation of components, in which each schema document contributes
definitions and declarations to a single target namespace.</div><p><a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>Validation<span class="arrow">&#xb7;</span></a>, defined in detail in <a href="#components">Schema Component Details (&#xa7;3)</a>, is a
relation between information items and schema components.  For example, an
attribute information item may <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> with respect to an attribute
declaration, a list of element information items may <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> with
respect to a content model, and so on.  The following sections briefly
introduce the kinds of components in the
schema abstract data model, other major features of the abstract
model, and how they contribute to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>.</p><div class="div3">
<h4><a id="Type_Definition_Summary" name="Type_Definition_Summary"/>2.2.1 Type Definition Components</h4><p>The abstract model provides two kinds of type definition component: simple
and complex.</p><p><span class="termdef"><a id="key-typeDefn" name="key-typeDefn">[Definition:]&#xa0;&#xa0;</a>This specification uses
the phrase <b>type definition</b> in cases where no distinction
need be made between simple and complex types</span>.</p><p>Type definitions form a hierarchy with a single root.  The subsections below first describe characteristics of that
hierarchy, then provide an introduction to simple and complex type definitions themselves.</p><div class="div4">
<h5><a id="Type_Derivation" name="Type_Derivation"/>2.2.1.1 Type Definition Hierarchy</h5><p>
<span class="termdef"><a id="key-typeDefinitionHierarchy" name="key-typeDefinitionHierarchy">[Definition:]&#xa0;&#xa0;</a>Except for a distinguished <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, every <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> is, by construction, either a
<a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> or an <a class="termref" href="#key-typeExtension"><span class="arrow">&#xb7;</span>extension<span class="arrow">&#xb7;</span></a> of some other type definition.  The graph of these relationships forms a tree known as the <b>Type Definition Hierarchy</b></span>.
</p><p><span class="termdef"><a id="key-typeRestriction" name="key-typeRestriction">[Definition:]&#xa0;&#xa0;</a>A type
definition whose
declarations or facets are in a one-to-one relation with those of another
specified type
definition, with each in turn restricting the possibilities of the one it
corresponds to, is said to be a <b>restriction</b></span>.
The specific restrictions might include narrowed ranges or reduced
alternatives.
Members of a type, A, whose definition is a <a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> of the definition of another type, B, are always members of type B as well.</p><p><span class="termdef"><a id="key-typeExtension" name="key-typeExtension">[Definition:]&#xa0;&#xa0;</a>A complex type definition
which allows element or attribute content in addition to that allowed by
another specified type
definition is said to be an <b>extension</b></span>.</p><p><span class="termdef"><a id="key-urType" name="key-urType">[Definition:]&#xa0;&#xa0;</a>A distinguished complex
type definition, the <b>ur-type
definition</b>, whose
name is <i>anyType</i> in the XML Schema namespace, is present in each <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a>, serving as the root of the type
definition hierarchy for that schema</span>.  
</p><p><span class="termdef"><a id="key-baseTypeDefinition" name="key-baseTypeDefinition">[Definition:]&#xa0;&#xa0;</a>A type definition used as the
basis for an <a class="termref" href="#key-typeExtension"><span class="arrow">&#xb7;</span>extension<span class="arrow">&#xb7;</span></a> or
<a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> is known as
the <b>base type definition</b> of that definition</span>.
</p></div><div class="div4">
<h5><a id="Simple_Type_Definition" name="Simple_Type_Definition"/>2.2.1.2 Simple Type Definition</h5><p>A simple type definition is a set of constraints on strings and information about the values they encode, applicable to the <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> of an attribute
information item or of an element information item with no element children.
Informally, it applies to the values of attributes and the text-only content of elements.
</p><p>Each simple type definition, whether built-in (that is, defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) or
user-defined, is a <a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> of some particular
simple <a class="termref" href="#key-baseTypeDefinition"><span class="arrow">&#xb7;</span>base type
definition<span class="arrow">&#xb7;</span></a>.  For the built-in primitive type definitions, this is  <span class="termdef"><a id="key-simpleUrType" name="key-simpleUrType">[Definition:]&#xa0;&#xa0;</a>the <b>simple
ur-type definition</b>, a special restriction of the
<a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type
definition<span class="arrow">&#xb7;</span></a>, whose name is <b>anySimpleType</b> in the XML Schema namespace</span>.   The <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> is considered to have an unconstrained lexical space, and a value space consisting of the union of the value spaces of all the built-in primitive datatypes and the set of all lists of all members of the value spaces of all the built-in primitive datatypes.</p><p>The mapping from lexical space to value space is
unspecified for items whose type definition is the
<a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>. 
Accordingly this specification does not constrain processors' behaviour in
areas where this mapping is implicated, for example checking such items against
enumerations, constructing default attributes or elements whose declared type
definition is the
<a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>, checking
identity constraints involving such items.</p><div class="note"><b>Note:&#xa0;</b>The Working Group expects to return to this area in a future
version of this specification.</div><p>Simple types may
also be defined whose members are lists of items
themselves constrained by some other simple type definition, or whose
membership is the union of the memberships of some other simple type
definitions.  Such list and union simple type definitions are also restrictions of the <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type
definition<span class="arrow">&#xb7;</span></a>.</p><p>For detailed information on simple type definitions, see <a href="#Simple_Type_Definitions">Simple Type Definitions (&#xa7;3.14)</a> and <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.  The latter also defines an extensive inventory of
pre-defined simple types.</p></div><div class="div4">
<h5><a id="Complex_Type_Definition" name="Complex_Type_Definition"/>2.2.1.3 Complex Type Definition</h5><p>A complex type definition is a set of attribute declarations and a content type, applicable to the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> and
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of an element information item respectively.  The content type may
require the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> to contain neither element nor character information
items (that is, to be empty), to be a string which belongs to a particular simple
type or to contain a sequence of element information items which conforms to a particular model group, with or without character information items as well.</p><p>Each complex type definition other than the
<a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> is either
      </p><ul><li>a restriction of a complex <a class="termref" href="#key-baseTypeDefinition"><span class="arrow">&#xb7;</span>base
type definition<span class="arrow">&#xb7;</span></a></li></ul><p>
      or
      </p><ul><li>an <a class="termref" href="#key-typeExtension"><span class="arrow">&#xb7;</span>extension<span class="arrow">&#xb7;</span></a> of a simple or complex <a class="termref" href="#key-baseTypeDefinition"><span class="arrow">&#xb7;</span>base
type definition<span class="arrow">&#xb7;</span></a>.</li></ul><p>
      
      </p><p>
</p><p> A
complex type which extends another does so by having additional content model
particles at the end of the other definition's content model,
or by having additional attribute declarations, or both.
  </p><div class="note"><b>Note:&#xa0;</b>This specification allows only appending, and not other kinds of
extensions. This decision
simplifies application processing required to cast instances from derived to
base type.  Future versions may allow more kinds of extension, requiring more
complex transformations to effect casting.</div><p>
For detailed information on complex type definitions, see <a href="#Complex_Type_Definitions">Complex Type Definitions (&#xa7;3.4)</a>.</p></div></div><div class="div3">
<h4><a id="Declarations_Summary" name="Declarations_Summary"/>2.2.2 Declaration Components</h4><p>There are three kinds of declaration component: element, attribute, and
notation.  Each is described in a section below. Also included is a discussion
of element substitution groups, which is a feature provided in conjunction with
element declarations.</p><div class="div4">
<h5><a id="Element_Declaration" name="Element_Declaration"/>2.2.2.1 Element Declaration</h5><p>An element declaration is an association of a name with a type definition, either simple or
complex, an (optional) default value and a (possibly empty) set of identity-constraint
definitions.  The association is either global or scoped to a containing complex type definition.  A
top-level element declaration with name 'A' is broadly comparable to a pair of
DTD declarations as follows, where the associated type definition
fills in the ellipses:</p><pre>&lt;!ELEMENT A . . .&gt;
&lt;!ATTLIST A . . .&gt;
</pre><p>Element declarations contribute to
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> as part of model group <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, when their defaults and type components are checked against an element
information item with a matching name and namespace, and by triggering
identity-constraint definition <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>.</p><p>
For detailed information on element declarations, see <a href="#cElement_Declarations">Element Declarations (&#xa7;3.3)</a>.</p></div><div class="div4">
<h5><a id="Element_Equivalence_Class" name="Element_Equivalence_Class"/>2.2.2.2 Element Substitution Group</h5><p>In XML 1.0, the name and content of an element must correspond exactly to the element type referenced in the corresponding content model.</p><p><span class="termdef"><a id="key-equivalenceClass" name="key-equivalenceClass">[Definition:]&#xa0;&#xa0;</a>Through
the new mechanism of <b>element substitution groups</b>, XML Schemas provides a more powerful model supporting substitution of one named element for another</span>.
Any top-level element declaration can serve as the defining member, or
head, for an element substitution group.  Other top-level element declarations,
regardless of target namespace, can be designated as members of the
substitution group headed by this element.  In a suitably enabled content
model, a reference to the head <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validates<span class="arrow">&#xb7;</span></a> not just the head itself, but elements
corresponding to any other member of the substitution group as well.
</p><p>All such members must have type definitions which are either the same as the
head's type definition or
restrictions or extensions of it.
Therefore, although the names of elements can vary widely as new
namespaces and members of the substitution group are defined, the
content of member elements is strictly limited according to the type
definition of the substitution group head.</p><p>Note that element substitution groups are not represented as separate components.  They are
specified in the property values for element declarations (see <a href="#cElement_Declarations">Element Declarations (&#xa7;3.3)</a>).</p></div><div class="div4">
<h5><a id="Attribute_Declaration" name="Attribute_Declaration"/>2.2.2.3 Attribute Declaration</h5><p>An attribute declaration is an association between a name and a simple type definition, together
with occurrence information and (optionally) a default value. The
association is either global, or local to its containing complex type definition.  Attribute declarations contribute to
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> as part of complex type definition <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, when their
occurrence, defaults and type components are checked against an attribute
information item with a matching name and namespace.</p><p>
For detailed information on attribute declarations, see <a href="#cAttribute_Declarations">Attribute Declarations (&#xa7;3.2)</a>.</p></div><div class="div4">
<h5><a id="Notation_Declaration" name="Notation_Declaration"/>2.2.2.4 Notation Declaration</h5><p>A notation declaration is an association between a name and an identifier for a
notation.  For an attribute information item to be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a
<code>NOTATION</code> simple type definition, its value must have been declared
with a notation declaration.</p><p>
For detailed information on notation declarations, see <a href="#cNotation_Declarations">Notation Declarations (&#xa7;3.12)</a>.</p></div></div><div class="div3">
<h4><a id="Model_Group_Summary" name="Model_Group_Summary"/>2.2.3 Model Group Components</h4><p>The model group, particle, and wildcard components contribute to
the portion of a complex type definition that controls an element
information item's content.</p><div class="div4">
<h5><a id="Model_Group" name="Model_Group"/>2.2.3.1 Model Group</h5><p>A model group is a constraint in the form of a grammar fragment that applies to
lists of element information items.  It consists of a list of particles, i.e.
element declarations, wildcards and model groups.  There are three varieties of
model group:</p><ul><li>Sequence (the element information items
match the particles in sequential order);</li><li>Conjunction (the element information items match the
particles, in any order);</li><li>Disjunction (the element information items match
one of the particles).</li></ul><p>
For detailed information on model groups, see <a href="#Model_Groups">Model Groups (&#xa7;3.8)</a>.</p></div><div class="div4">
<h5><a id="Particle" name="Particle"/>2.2.3.2 Particle</h5><p>A particle is a term in the grammar for element content, consisting of either an element
declaration, a wildcard or a model group, together with
occurrence constraints.  Particles contribute to
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> as part of complex type definition <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, when they allow anywhere
from zero to many element information items or sequences thereof, depending on
their contents and occurrence
constraints.</p><p><span class="termdef"><a id="key-contentModel" name="key-contentModel">[Definition:]&#xa0;&#xa0;</a>A particle can
be used in a complex type definition to constrain the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>
of the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of an element information item; such a particle is called
a <b>content model</b></span>.
</p><div class="note"><b>Note:&#xa0;</b><em>XML Schema: Structures</em> <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>content models<span class="arrow">&#xb7;</span></a> are similar to but more expressive than
<a href="#ref-xml">[XML 1.0 (Second Edition)]</a> content models; unlike <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>, <em>XML Schema: Structures</em> applies <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>content models<span class="arrow">&#xb7;</span></a> to the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of both mixed and element-only content. </div><p>
For detailed information on particles, see <a href="#cParticles">Particles (&#xa7;3.9)</a>.</p></div><div class="div4">
<h5><a id="Attribute_Use" name="Attribute_Use"/>2.2.3.3 Attribute Use</h5><p>An attribute use plays a role similar to that of a particle, but for
attribute declarations:  an attribute declaration within a complex type definition
is embedded within an attribute use, which specifies whether the declaration
requires or merely allows its attribute, and whether it has a default or fixed value.</p></div><div class="div4">
<h5><a id="Wildcard" name="Wildcard"/>2.2.3.4 Wildcard</h5><p>A wildcard is a special kind of particle which matches element and attribute information items dependent on their namespace name, independently
of their local names.</p><p>
For detailed information on wildcards, see <a href="#Wildcards">Wildcards (&#xa7;3.10)</a>.</p></div></div><div class="div3">
<h4><a id="Identity-constraint_Definition" name="Identity-constraint_Definition"/>2.2.4 Identity-constraint Definition Components</h4><p>An identity-constraint definition is an association between a name and one of
several varieties of
identity-constraint related to uniqueness and reference.  All the
varieties use <a href="#bib-xpath">[XPath]</a> expressions to pick out sets of
information items relative to particular target element
information items which are unique, or a key, or a <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> reference, within
a specified scope. An element information item is only <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with
respect to an element declaration
with identity-constraint definitions if those definitions are all satisfied for all the descendants
of that element information item which they pick out.</p><p>
For detailed information on identity-constraint definitions, see <a href="#cIdentity-constraint_Definitions">Identity-constraint Definitions (&#xa7;3.11)</a>.</p></div><div class="div3">
<h4><a id="Group_Definitions" name="Group_Definitions"/>2.2.5 Group Definition Components</h4><p>There are two kinds of convenience definitions provided to enable
the re-use of pieces of complex type definitions: model group definitions
and attribute group definitions.</p><div class="div4">
<h5><a id="Model_Group_Definition" name="Model_Group_Definition"/>2.2.5.1 Model Group Definition</h5><p>A model group definition is an association between a name and a model group,
enabling re-use of the same model group in several complex type
definitions.</p><p>
For detailed information on model group definitions, see <a href="#cModel_Group_Definitions">Model Group Definitions (&#xa7;3.7)</a>.</p></div><div class="div4">
<h5><a id="Attribute_Group_Definition" name="Attribute_Group_Definition"/>2.2.5.2 Attribute Group Definition</h5><p>An attribute group definition is an association between a name and a set of attribute declarations,
enabling re-use of the same set in several complex type
definitions.</p><p>
For detailed information on attribute group definitions, see <a href="#cAttribute_Group_Definitions">Attribute Group Definitions (&#xa7;3.6)</a>.</p></div></div><div class="div3">
<h4><a id="Annotation" name="Annotation"/>2.2.6 Annotation Components</h4><p>An annotation is information for human and/or mechanical
consumers. The interpretation of such information is
not defined in this specification.</p><p>
For detailed information on annotations, see <a href="#cAnnotations">Annotations (&#xa7;3.13)</a>.</p></div></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#concepts-data-model"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#concepts-conformance"><img src="next.jpg" alt="next sub-section"/></a></span><a id="concepts-schemaConstraints" name="concepts-schemaConstraints"/>2.3 Constraints and Validation Rules</h3><p>The <a href="#ref-xml">[XML 1.0 (Second Edition)]</a> specification describes two kinds of
        constraints on XML documents: <em>well-formedness</em> and
        <em>validity</em> constraints. Informally, the well-formedness constraints
        are those imposed by the definition of XML itself (such as the rules for the
        use of the &lt; and &gt; characters and the rules for proper nesting of
        elements), while validity constraints are the further constraints on document
        structure provided by a particular DTD. </p><p>The preceding section focused on <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, that is
the constraints on information items which schema components supply.  In fact
however this specification provides four different kinds of normative statements about schema
        components, their representations in XML and their contribution to the
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of information items:</p><dl><dt class="label">Schema Component Constraint</dt><dd><span class="termdef"><a id="gloss-cos" name="gloss-cos">[Definition:]&#xa0;&#xa0;</a>Constraints on the schema components themselves, i.e.
conditions components must satisfy to be components at all.  Located in the
sixth sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#outcome-cos">Schema Component Constraints (&#xa7;C.4)</a></span>.</dd><dt class="label">Schema Representation Constraint</dt><dd><span class="termdef"><a id="gloss-src" name="gloss-src">[Definition:]&#xa0;&#xa0;</a>Constraints on the
representation of schema components in XML beyond those which are expressed
in <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>.  Located in the
third sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#outcome-src">Schema Representation Constraints (&#xa7;C.3)</a></span>.</dd><dt class="label">Validation Rules</dt><dd><span class="termdef"><a id="gloss-cvc" name="gloss-cvc">[Definition:]&#xa0;&#xa0;</a>Contributions to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> associated
with schema components.  Located in the
fourth sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#validation_failures">Validation Rules (&#xa7;C.1)</a></span>.</dd><dt class="label">Schema Information Set
            Contribution</dt><dd><span class="termdef"><a id="gloss-sic" name="gloss-sic">[Definition:]&#xa0;&#xa0;</a>Augmentations to <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>s
expressed by schema components, which follow
              as a consequence of <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> and/or <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.
Located in the
fifth sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#PSVI_contributions">Contributions to the post-schema-validation infoset (&#xa7;C.2)</a></span>.</dd></dl><p>The last of these, schema information set
          contributions, are not as new as they might at first seem.  XML 1.0
          validation augments the XML 1.0 information set in similar ways,
for example by
          providing values for attributes not present in instances, and by implicitly
          exploiting type information for normalization or access.
(As an example of the latter case, consider the
          effect of <code>NMTOKENS</code> on attribute white space, and the semantics of
          <code>ID</code> and <code>IDREF</code>.) By including schema
information set contributions, this specification makes explicit some features
that XML 1.0 left implicit.</p></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#concepts-schemaConstraints"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#concepts-nameSymbolSpaces"><img src="next.jpg" alt="next sub-section"/></a></span><a id="concepts-conformance" name="concepts-conformance"/>2.4 Conformance</h3><p>This specification describes three levels of conformance for schema aware processors.  The first is
required of all processors.  Support for the other two will depend on the application environments
for which the processor is intended.</p><p><span class="termdef"><a id="key-minimallyConforming" name="key-minimallyConforming">[Definition:]&#xa0;&#xa0;</a><b>Minimally conforming</b> processors must completely and
correctly implement the <a class="termref" href="#gloss-cos"><span class="arrow">&#xb7;</span>Schema Component
Constraints<span class="arrow">&#xb7;</span></a>, <a class="termref" href="#gloss-cvc"><span class="arrow">&#xb7;</span>Validation Rules<span class="arrow">&#xb7;</span></a>,
and <a class="termref" href="#gloss-sic"><span class="arrow">&#xb7;</span>Schema Information
Set Contributions<span class="arrow">&#xb7;</span></a> contained in this specification</span>.</p><p><span class="termdef"><a id="key-interchange" name="key-interchange">[Definition:]&#xa0;&#xa0;</a><a class="termref" href="#key-minimallyConforming"><span class="arrow">&#xb7;</span>Minimally conforming<span class="arrow">&#xb7;</span></a> processors which accept
schemas represented in the form of XML documents as described in <a href="#layer2">Layer 2: Schema Documents, Namespaces and Composition (&#xa7;4.2)</a> are
additionally said to provide <b>conformance to the XML Representation of Schemas</b>.
</span>
Such processors must, when processing schema documents, completely and
correctly implement all <a class="termref" href="#gloss-src"><span class="arrow">&#xb7;</span>Schema Representation
Constraints<span class="arrow">&#xb7;</span></a> in this specification, and must adhere exactly to the
specifications in <a href="#components">Schema Component Details (&#xa7;3)</a> for mapping the contents of
such documents to <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema
components<span class="arrow">&#xb7;</span></a> for use in <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> and <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.</p><div class="note"><b>Note:&#xa0;</b>By separating the conformance requirements relating to the concrete syntax of XML schema
documents, this specification admits processors
which use schemas stored in optimized binary
representations, dynamically created schemas represented as programming language data structures, or implementations in which particular schemas are compiled into executable code
such as C or Java.  Such processors can be said to be <a class="termref" href="#key-minimallyConforming"><span class="arrow">&#xb7;</span>minimally conforming<span class="arrow">&#xb7;</span></a> but not necessarily in <a class="termref" href="#key-interchange"><span class="arrow">&#xb7;</span>conformance to the XML Representation of Schemas<span class="arrow">&#xb7;</span></a>.</div><p><span class="termdef"><a id="key-fullyConforming" name="key-fullyConforming">[Definition:]&#xa0;&#xa0;</a> <b>Fully conforming</b>
processors are network-enabled processors which are not only both <a class="termref" href="#key-minimallyConforming"><span class="arrow">&#xb7;</span>minimally conforming<span class="arrow">&#xb7;</span></a> and <a class="termref" href="#key-interchange"><span class="arrow">&#xb7;</span>in conformance to the XML Representation of Schemas<span class="arrow">&#xb7;</span></a>, but which additionally must be capable of accessing
schema documents from the World Wide Web according to <a href="#web-representation">Representation of Schemas on the World Wide Web (&#xa7;2.7)</a> and <a href="#schema-loc">How schema definitions are located on the Web (&#xa7;4.3.2)</a>.
</span>.
</p><div class="note"><b>Note:&#xa0;</b>Although this specification provides just these three standard levels of conformance, it is
anticipated that other conventions can be established in the future.  For example, the World Wide
Web Consortium is considering conventions for packaging on the Web a variety of
resources relating to individual documents and namespaces.  Should such
developments lead to new conventions for representing schemas, or for accessing them on the Web,
new levels of conformance can be established and named at that time.  There is no need to modify
or republish this specification to define such additional levels of conformance.</div><p>See <a href="#composition">Schemas and Namespaces: Access and Composition (&#xa7;4)</a> for a more detailed explanation of the
mechanisms supporting these levels of conformance.</p></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#concepts-conformance"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#Instance_Document_Constructions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="concepts-nameSymbolSpaces" name="concepts-nameSymbolSpaces"/>2.5 Names and Symbol Spaces</h3><p>As discussed in <a href="#concepts-data-model">XML Schema Abstract Data Model (&#xa7;2.2)</a>, most schema
        components (may) have <a class="termref" href="#key-compName"><span class="arrow">&#xb7;</span>names<span class="arrow">&#xb7;</span></a>.
If all such names were assigned from the same &quot;pool&quot;, then
        it would be impossible to have, for example, a simple type definition and an element
declaration both with the name
&quot;title&quot; in a given <a class="termref" href="#key-targetNS"><span class="arrow">&#xb7;</span>target namespace<span class="arrow">&#xb7;</span></a>.</p><p>
        Therefore <span class="termdef"><a id="key-symbolSpace" name="key-symbolSpace">[Definition:]&#xa0;&#xa0;</a>this specification introduces the term
<b>symbol space</b> to denote a
collection of names, each of which is unique with respect to the others</span>.  A symbol space is similar to the non-normative concept of <a href="http://www.w3.org/TR/REC-xml-names/#ns-breakdown">namespace partition</a> introduced in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
There is a single distinct symbol space within a given <a class="termref" href="#key-targetNS"><span class="arrow">&#xb7;</span>target
namespace<span class="arrow">&#xb7;</span></a> for each kind of definition and declaration component
identified in <a href="#concepts-data-model">XML Schema Abstract Data Model (&#xa7;2.2)</a>, except that within a target namespace, simple
type definitions and complex type definitions share a symbol space.
Within a given symbol space, names are unique, but the same name may appear in more than one symbol space without conflict. For example, the same name can appear in both a type definition and an element declaration, without conflict or necessary relation between the two.
</p><p>Locally scoped attribute and element
declarations are special with regard to symbol spaces.
Every complex type definition defines its own local attribute and element declaration symbol
        spaces, where these symbol spaces are distinct from each other and from any of the other
symbol spaces.  So, for example, two complex type definitions having
the same target namespace can contain
a local attribute declaration for the unqualified name &quot;priority&quot;, or contain a local element declaration
for the name &quot;address&quot;, without conflict or necessary relation between
the two.</p></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#concepts-nameSymbolSpaces"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#web-representation"><img src="next.jpg" alt="next sub-section"/></a></span><a id="Instance_Document_Constructions" name="Instance_Document_Constructions"/>2.6 Schema-Related Markup in
Documents Being Validated</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.6.1 <a href="#xsi_type">xsi:type</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.6.2 <a href="#xsi_nil">xsi:nil</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;2.6.3 <a href="#xsi_schemaLocation">xsi:schemaLocation, xsi:noNamespaceSchemaLocation</a><br/>
</div><p>The XML representation of schema components uses a vocabulary
identified by the namespace name <code>http://www.w3.org/2001/XMLSchema</code>.  For brevity, the text and examples in this specification use the prefix
<code>xs:</code> to stand for this namespace; in practice,
any prefix can be used.</p><p><em>XML Schema: Structures</em> also defines several attributes for direct use in any XML documents.  These attributes are in a different namespace,
which has the namespace name <code>http://www.w3.org/2001/XMLSchema-instance</code>.
For brevity, the text and examples in this specification use the prefix
<code>xsi:</code> to stand for this latter namespace; in practice,
any prefix can be used.  All schema processors have appropriate attribute
declarations for these attributes built in, see <a href="#xsi.type">Attribute Declaration for the 'type' attribute (&#xa7;3.2.7)</a>,
<a href="#xsi.nil">Attribute Declaration for the 'nil' attribute (&#xa7;3.2.7)</a>, <a href="#xsi.schemaLocation">Attribute Declaration for the 'schemaLocation' attribute (&#xa7;3.2.7)</a> and <a href="#xsi.noNamespaceSchemaLocation">Attribute Declaration for the 'noNamespaceSchemaLocation' attribute (&#xa7;3.2.7)</a>.</p><div class="div3">
<h4><a id="xsi_type" name="xsi_type"/>2.6.1 xsi:type</h4><p>The <a href="#Simple_Type_Definition">Simple Type Definition (&#xa7;2.2.1.2)</a> or <a href="#Complex_Type_Definition">Complex Type Definition (&#xa7;2.2.1.3)</a> used in <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of an element is usually
determined by reference to the appropriate schema components.
An element information item in an instance may, however,
explicitly assert its type using the attribute <code>xsi:type</code>.
The value of this attribute is a <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>;  see <a href="#src-qname">QName Interpretation (&#xa7;3.15.3)</a> for
the means by which the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> is
associated with a type definition.
</p></div><div class="div3">
<h4><a id="xsi_nil" name="xsi_nil"/>2.6.2 xsi:nil</h4><p><em>XML Schema: Structures</em> introduces a mechanism for signaling that an element should
be accepted as <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> when it has no
content despite a content type which does not require or even necessarily allow empty content.  An
element may be 
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> without content if it has the attribute <code>xsi:nil</code> with
the value <code>true</code>.  An element so labeled must be empty, but can
carry attributes if permitted by the corresponding complex type.</p></div><div class="div3">
<h4><a id="xsi_schemaLocation" name="xsi_schemaLocation"/>2.6.3 xsi:schemaLocation, xsi:noNamespaceSchemaLocation</h4><p>The <code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code> attributes can be used in a document to provide
hints as to the physical location of schema documents which may be used for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.
See <a href="#schema-loc">How schema definitions are located on the Web (&#xa7;4.3.2)</a> for details on the use of these attributes.</p></div></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#Instance_Document_Constructions"><img src="previous.jpg" alt="previous sub-section"/></a> </span><a id="web-representation" name="web-representation"/>2.7 Representation of Schemas on the World Wide Web</h3><p>On the World Wide Web, schemas are conventionally represented as XML
documents (preferably of MIME type
<code>application/xml</code> or <code>text/xml</code>, but see clause <a href="#c-vxd">1.1</a> of <a href="#src-include">Inclusion Constraints and Semantics (&#xa7;4.2.1)</a>), conforming to the specifications in <a href="#layer2">Layer 2: Schema Documents, Namespaces and Composition (&#xa7;4.2)</a>. For more information on
the representation and use of schema documents on the World Wide Web see <a href="#schema-repr">Standards for representation of schemas and retrieval of schema documents on the Web (&#xa7;4.3.1)</a> and
<a href="#schema-loc">How schema definitions are located on the Web (&#xa7;4.3.2)</a>. </p></div></div><div class="div1">
<h2><a id="components" name="components"/>3 Schema Component Details</h2><div class="div2">
<h3 class="withToc"><span class="nav"> <a class="nav" href="#cAttribute_Declarations"><img src="next.jpg" alt="next sub-section"/></a></span><a id="scIntro" name="scIntro"/>3.1 Introduction</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.1.1 <a href="#d0e1531">Components and Properties</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.1.2 <a href="#d0e1568">XML Representations of Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.1.3 <a href="#d0e1610">The Mapping between XML Representations and Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.1.4 <a href="#d0e1654">White Space Normalization during Validation</a><br/>
</div><p>The following sections provide full details on the composition of all schema components, together
with their XML representations and their contributions to <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.  Each section is devoted to a single component, with separate subsections for
     </p><ol class="enumar"><li>properties:  their values and significance</li><li>XML representation and the mapping to properties</li><li>constraints on representation</li><li>validation rules</li><li><a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> contributions</li><li>constraints on the components themselves</li></ol><p>
The sub-sections immediately below introduce conventions and terminology used throughout the component sections.</p><div class="div3">
<h4><a id="d0e1531" name="d0e1531"/>3.1.1 Components and Properties</h4><p>Components are defined in terms of their
properties, and each property in turn is defined by giving its range,
that is the values it may have.  This can be understood as
defining a schema as a labeled directed graph, where the root is a schema,
every other vertex is a schema
component or a literal (string, boolean, number) and every labeled edge is a
property.  The graph is <em>not</em> acyclic:  multiple copies of
components with the same name in the same <a class="termref" href="#key-symbolSpace"><span class="arrow">&#xb7;</span>symbol space<span class="arrow">&#xb7;</span></a> may not exist, so in some cases re-entrant chains
of properties must exist.  Equality of components for the purposes of this
specification is always defined as equality of names (including target
namespaces) within symbol spaces.</p><div class="note"><b>Note:&#xa0;</b>A schema and its components as defined in this chapter are an idealization of the information a schema-aware
processor requires:  implementations are not constrained in how they provide
it.  In particular, no implications about literal embedding versus indirection
follow from the use below of language such as &quot;properties . . . having . . .
components as values&quot;.</div><p><span class="termdef"><a id="key-null" name="key-null">[Definition:]&#xa0;&#xa0;</a>Throughout this specification, the
term <b>absent</b> is used as a distinguished property value denoting absence</span>.</p><p>Any property not
identified as optional is required to be present; optional properties which are
not present are taken to have <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> as their value.  Any
property identified as a having a set, subset or list value may have an empty value unless this is explicitly
ruled out:  this is <em>not</em> the same as <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.  Any property value identified as a superset or subset of some set may be equal to that set, unless a proper superset or subset is explicitly called for.
By 'string' in Part 1 of this specification is meant a
sequence of ISO 10646 characters identified as <a href="http://www.w3.org/TR/REC-xml#charsets">legal XML characters</a>
in <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>.</p></div><div class="div3">
<h4><a id="d0e1568" name="d0e1568"/>3.1.2 XML Representations of Components</h4><p>The principal purpose of <em>XML Schema: Structures</em> is to define a set of
      schema components that constrain the contents of instances and augment the
      information sets thereof.  Although no external representation
of schemas is required for this purpose, such representations will
obviously be widely used. To provide for this in an appropriate and
interoperable way, this specification provides a normative XML representation for schemas which
makes provision for every kind of schema
component.  <span class="termdef"><a id="key-schemaDoc" name="key-schemaDoc">[Definition:]&#xa0;&#xa0;</a>A document in
this form (i.e. a <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item) is a <b>schema document</b></span>.  For the schema document as a whole, and
its constituents, the sections below define correspondences between element
information items (with declarations in
<a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a> and <a href="#nonnormative-schemaDTD">DTD for Schemas (non-normative) (&#xa7;G)</a>) and
schema components.  All the element information items in the XML representation
of a schema must be in the XML Schema namespace, that is their <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> must be <code>http://www.w3.org/2001/XMLSchema</code>.  Although a common way of creating the XML Infosets which are or contain <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a> will be using an XML parser, this is not required:  any mechanism which constructs conformant infosets as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a> is a possible starting point.</p><p>Two aspects of the XML representations of components presented in the
following sections are constant across them all:
    </p><ol class="enumar"><li>All of them allow attributes qualified with namespace names other than
the XML Schema namespace itself: these appear as annotations in the
corresponding schema component;</li><li>All of them allow an <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> as their first child, for human-readable documentation and/or machine-targeted information.</li></ol><p>
   </p></div><div class="div3">
<h4><a id="d0e1610" name="d0e1610"/>3.1.3 The Mapping between XML Representations and Components</h4><p>For each kind of schema component there is a corresponding normative XML representation.
The sections below describe the correspondences between the properties of each kind of
schema component on the one hand and the properties of information items in
that XML representation on the other, together
with constraints on that representation above and beyond those implicit in the
<a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>.</p><p>The language used is as if the correspondences were mappings from XML representation to
schema component, but the mapping in the other direction, and therefore the
correspondence in the abstract, can always be
constructed therefrom.</p><p>In discussing the mapping from XML representations to schema
components below, the value of a component property is often determined by the
value of an attribute information item, one of the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> of an element
information item.  Since schema documents are constrained by the
<a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>, there is always a simple type
definition associated with any such attribute information item.  <span class="termdef"><a id="key-vv" name="key-vv">[Definition:]&#xa0;&#xa0;</a>The
phrase <b>actual value</b> is used to refer to the member of the value space of the
simple type definition associated with an attribute information item which corresponds to
its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a></span>.  This will often be a string, but may also be an
integer, a boolean, a URI reference, etc.  This term is also occasionally used with respect to element or attribute information items in a document being <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a>.</p><p>Many properties are identified below as having
other schema components or sets of components as values.  For the purposes of exposition, the definitions in
this section assume that (unless the property is explicitly identified as
optional) all such values are in fact present.  When schema
components are constructed from XML representations involving reference by name
to other components, this assumption may be violated if one or more references
cannot be resolved.  This specification addresses the matter of missing
components in a uniform manner, described in <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>:  no mention of
handling missing components will be found in the individual component
descriptions below.</p><p>Forward reference to named definitions and declarations <em>is</em>
allowed, both within and between <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>. 
By the time the component corresponding to an XML representation which
contains a forward reference is actually needed for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> an appropriately-named component may have become available to discharge the reference: see <a href="#composition">Schemas and Namespaces: Access and Composition (&#xa7;4)</a> for details.</p></div><div class="div3">
<h4><a id="d0e1654" name="d0e1654"/>3.1.4 White Space Normalization during Validation</h4><p>Throughout this specification, <span class="termdef"><a id="key-iv" name="key-iv">[Definition:]&#xa0;&#xa0;</a>the
<b>initial value</b> of some
attribute information item is the value of the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[normalized
value]</a> property of that item.  Similarly, the <b>initial value</b> of an element information item is the string composed of, in order, the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.character">[character code]</a> of each character information item in the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of that
element information item</span>.</p><p>The above definition means that comments and processing instructions,
even in the midst of text, are ignored for all <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> purposes.</p><p><span class="termdef"><a id="key-nv" name="key-nv">[Definition:]&#xa0;&#xa0;</a>The
<b>normalized value</b> of an element or
attribute information item is an <a class="termref" href="#key-iv"><span class="arrow">&#xb7;</span>initial value<span class="arrow">&#xb7;</span></a> whose white space, if any, has been
normalized according to the value of the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#rf-whiteSpace">whiteSpace facet</a> of the
simple type definition used in its <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>:
 </span>
    </p><dl><dt class="label">preserve</dt><dd>No normalization is done, the value is the <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a></dd><dt class="label">replace</dt><dd>All occurrences of <code>#x9</code> (tab), <code>#xA</code> (line feed) and
<code>#xD</code> (carriage return) are replaced with <code>#x20</code> (space).</dd><dt class="label">collapse</dt><dd>Subsequent to the replacements specified above under <b>replace</b>,
contiguous sequences of <code>#x20</code>s are collapsed to a single
<code>#x20</code>, and initial and/or final <code>#x20</code>s are deleted.</dd></dl><p>
   </p><p>If the simple type definition used in an item's <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> is the <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>, the <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> must be determined as in the <b>preserve</b> case above.</p><p>There are three alternative validation rules which may supply the
necessary background for the above:  <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> (clause <a href="#c-sva">3</a>), <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a> (clause <a href="#c-sv1">3.1.3</a>) or <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a> (clause <a href="#c-sv2">2.2</a>).</p><p>These three levels of normalization correspond to the processing mandated
in XML 1.0 for element content, CDATA attribute content and tokenized
attributed content, respectively.  See <a href="http://www.w3.org/TR/REC-xml#AVNormalize">Attribute Value Normalization</a> in <a href="#ref-xml">[XML 1.0 (Second Edition)]</a> for the precedent for <b>replace</b> and <b>collapse</b> for attributes.  Extending this processing to element content is necessary to ensure a consistent <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> semantics for simple types, regardless of whether they are applied to attributes or elements.  Performing it twice in the case of attributes whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[normalized
value]</a> has already been subject to replacement or collapse on the basis of
information in a DTD is necessary to ensure consistent treatment of attributes
regardless of the extent to which DTD-based information has been made use of
during infoset construction.</p><div class="note"><b>Note:&#xa0;</b>Even when DTD-based information <em>has</em> been appealed to, and
<a href="http://www.w3.org/TR/REC-xml#AVNormalize">Attribute Value
Normalization</a> has taken place, the above definition of <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> may
mean <em>further</em> normalization takes place, as for instance when
character entity references in attribute values result in white space characters
other than spaces in their <a class="termref" href="#key-iv"><span class="arrow">&#xb7;</span>initial value<span class="arrow">&#xb7;</span></a>s.</div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#scIntro"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cElement_Declarations"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cAttribute_Declarations" name="cAttribute_Declarations"/>3.2 Attribute Declarations</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.1 <a href="#Attribute_Declaration_details">The Attribute Declaration Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.2 <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.3 <a href="#d0e2403">Constraints on XML Representations of Attribute Declarations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.4 <a href="#d0e2483">Attribute Declaration Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.5 <a href="#d0e2622">Attribute Declaration Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.6 <a href="#coss-attribute">Constraints on Attribute Declaration Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.2.7 <a href="#d0e3067">Built-in Attribute Declarations</a><br/>
</div><p>Attribute declarations provide for:</p><ul><li>Local <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of attribute information item values using a simple type definition;</li><li>Specifying default or fixed values for attribute information items.</li></ul><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:attribute name=&quot;age&quot; type=&quot;xs:positiveInteger&quot; use=&quot;required&quot;/&gt;
</pre></div><div class="exampleWrapper">The XML representation of an attribute declaration.</div></div><div class="div3">
<h4><a id="Attribute_Declaration_details" name="Attribute_Declaration_details"/>3.2.1 The Attribute Declaration Schema Component</h4><p>The attribute declaration schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Attribute_Declaration">Attribute Declaration</a></div><div class="compBody">
     <dl class="props">
      <dt><a name="a-name" id="a-name"><span class="propdef">{name}</span></a></dt><dd>An NCName as defined by
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt><a name="a-target_namespace" id="a-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or
a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt><a name="a-simple_type_definition" id="a-simple_type_definition"><span class="propdef">{type definition}</span></a></dt><dd>A
simple type definition.</dd>
            <dt><a name="a-scope" id="a-scope"><span class="propdef">{scope}</span></a></dt><dd>Optional.  Either <i>global</i> or a complex type
definition.</dd>
      <dt><a name="a-value_constraint" id="a-value_constraint"><span class="propdef">{value constraint}</span></a></dt><dd>Optional.  A pair
consisting of a value and one of <i>default</i>, <i>fixed</i>.</dd>
      <dt><a name="a-annotation" id="a-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
     </dl>
    </div></div><p>The <a class="propref" href="#a-name">{name}</a> property must match the local part of the names of attributes being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a>.</p><p>The value of the attribute must conform to the supplied <a class="propref" href="#a-simple_type_definition">{type definition}</a>.</p><p>A non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> value of the <a class="propref" href="#a-target_namespace">{target namespace}</a> property provides for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of
namespace-qualified attribute information items (which must be explicitly
prefixed in the character-level form of XML documents).  <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>Absent<span class="arrow">&#xb7;</span></a> values of
<a class="propref" href="#a-target_namespace">{target namespace}</a> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> unqualified (unprefixed) items.</p><p>A <a class="propref" href="#a-scope">{scope}</a> of <i>global</i> identifies attribute declarations
available for use in complex type definitions throughout the schema.  Locally scoped declarations are available for use only within the
complex type definition identified by the <a class="propref" href="#a-scope">{scope}</a> property.  This property is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> in the case of declarations within attribute group definitions:  their scope will be determined when they are used in the construction of complex type definitions.
</p><p><a class="propref" href="#a-value_constraint">{value constraint}</a> reproduces the functions of XML 1.0 default and <code>#FIXED</code>
attribute values.  <i>default</i> specifies that the attribute is to appear unconditionally in
the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>, with the supplied value used
whenever the attribute is not actually present; <i>fixed</i> indicates that the attribute value if present must equal the supplied
constraint value, and if absent receives the supplied value as for
<i>default</i>.  Note that it is <em>values</em> that are supplied and/or
checked, not strings.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#a-annotation">{annotation}</a> property.</p><div class="note"><b>Note:&#xa0;</b>A more complete and formal presentation of the semantics of <a class="propref" href="#a-name">{name}</a>, <a class="propref" href="#a-target_namespace">{target namespace}</a> and <a class="propref" href="#a-value_constraint">{value constraint}</a> is provided in
conjunction with other aspects of complex type <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> (see <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a>.)</div><p><a href="#ref-xmlinfo">[XML-Infoset]</a> distinguishes attributes with names such as <code>xmlns</code> or <code>xmlns:xsl</code> from
ordinary attributes, identifying them as <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace attributes]</a>.  Accordingly, it is unnecessary and in fact not possible for
schemas to contain attribute declarations corresponding to such
namespace declarations, see <a href="#no-xmlns">xmlns Not Allowed (&#xa7;3.2.6)</a>.  No means is provided in
this specification to supply a
default value for a namespace declaration.</p></div><div class="div3">
<h4><a id="declare-attribute" name="declare-attribute"/>3.2.2 XML Representation of Attribute Declaration Schema Components</h4><p>The XML representation for an attribute declaration schema component is an
<a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element information item.  It specifies a simple type
definition for an attribute either by reference or explicitly, and may provide default information.  The correspondences between the
properties of the information item and
properties of the component are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>attribute</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-attribute" id="element-attribute">&lt;attribute</a><br/>&#xa0;&#xa0;default = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#string">string</a><br/>&#xa0;&#xa0;fixed = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#string">string</a><br/>&#xa0;&#xa0;form = (<var>qualified</var> | <var>unqualified</var>)<br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;name = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;ref = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;type = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;use = (<var>optional</var> | <var>prohibited</var> | <var>required</var>)&#xa0;:&#xa0;optional<br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, <a class="eltref" href="#element-simpleType">simpleType</a>?)<br/>&lt;/attribute&gt;</p>
 <div class="reprdep">If the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element information item has <a class="eltref" href="#element-schema">&lt;schema&gt;</a> as its parent, the corresponding schema component is as follows:</div>
  <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Attribute_Declaration_details">Attribute Declaration</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#a-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#a-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item, or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> if there is none.</td></tr><tr valign="top"><td><a class="propref" href="#a-simple_type_definition">{type definition}</a></td><td>The simple type definition
corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise the simple type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by
the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>type</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise the
<a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#a-scope">{scope}</a></td><td><i>global</i>.</td></tr><tr valign="top"><td><a class="propref" href="#a-value_constraint">{value constraint}</a></td><td>If there is a <code>default</code> or a <code>fixed</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, then a pair consisting of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> (with respect to the
<a class="propref" href="#a-simple_type_definition">{type definition}</a>) of that <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> and
either <i>default</i> or <i>fixed</i>, as appropriate, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#a-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprdep">otherwise if the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element information item has
<a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> or <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> as an ancestor
and the <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is absent, it corresponds to an
attribute use with properties as follows (unless <code>use='prohibited'</code>, in which case the item
corresponds to nothing at all):</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#AU_details">Attribute Use</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#required">{required}</a></td><td><i>true</i> if the <code>use</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present with <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> <code>required</code>, otherwise
<i>false</i>.</td></tr><tr valign="top"><td><a class="propref" href="#attribute">{attribute declaration}</a></td><td>See the Attribute Declaration mapping
immediately below.</td></tr><tr valign="top"><td><a class="propref" href="#au-value_constraint">{value constraint}</a></td><td>If there is a <code>default</code> or a <code>fixed</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, then a pair consisting of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> (with respect to the
<a class="propref" href="#a-simple_type_definition">{type definition}</a> of the <a class="propref" href="#attribute">{attribute declaration}</a>) of that <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> and
either <i>default</i> or <i>fixed</i>, as appropriate, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Attribute_Declaration_details">Attribute Declaration</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#a-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#a-target_namespace">{target namespace}</a></td><td>If <code>form</code> is present and its
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is <code>qualified</code>, or if <code>form</code> is absent and the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of <code>attributeFormDefault</code> on the <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
ancestor is <code>qualified</code>, then the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item, or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> if there
is none, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#a-simple_type_definition">{type definition}</a></td><td>The simple type definition
corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise the simple type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by
the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>type</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise the
<a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#a-scope">{scope}</a></td><td>If the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element information item
has <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> as an ancestor, the complex definition
corresponding to that item, otherwise (the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element
information item is within an <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> definition), <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#a-value_constraint">{value constraint}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#a-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprdep">otherwise (the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element information item has
<a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> or <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> as an ancestor and the
<code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present), it corresponds to an
attribute use with properties as follows (unless <code>use='prohibited'</code>, in which case the item
corresponds to nothing at all):</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#AU_details">Attribute Use</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#required">{required}</a></td><td><i>true</i> if the <code>use</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present with <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> <code>required</code>, otherwise
<i>false</i>.</td></tr><tr valign="top"><td><a class="propref" href="#attribute">{attribute declaration}</a></td><td>The (top-level) attribute declaration <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#au-value_constraint">{value constraint}</a></td><td>If there is a <code>default</code> or a <code>fixed</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, then a pair consisting of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> (with respect to the
<a class="propref" href="#a-simple_type_definition">{type definition}</a> of the <a class="propref" href="#attribute">{attribute declaration}</a>) of that <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> and
either <i>default</i> or <i>fixed</i>, as appropriate, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 </div></div><p>Attribute declarations can appear at the top level of a schema document, or within complex
type definitions, either as complete (local) declarations, or by reference to top-level
declarations, or within attribute group definitions.  For complete declarations, top-level or local, the <code>type</code> attribute is used when the declaration can use a
built-in or pre-declared simple type definition.  Otherwise an
anonymous <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> is provided inline.</p><p>The default when no simple type definition is referenced or
provided is the <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>, which imposes no constraints at all.</p><p>Attribute information items <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by a top-level declaration must be qualified with the
<a class="propref" href="#a-target_namespace">{target namespace}</a> of that declaration (if this is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, the item must be unqualified).  Control over whether attribute information items
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by a local declaration must be similarly qualified or not
is provided by the <code>form</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, whose default is provided
by the <code>attributeFormDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> on the enclosing <a class="eltref" href="#element-schema">&lt;schema&gt;</a>, via its determination of <a class="propref" href="#a-target_namespace">{target namespace}</a>.</p><p>The names for top-level attribute declarations are in their own
<a class="termref" href="#key-symbolSpace"><span class="arrow">&#xb7;</span>symbol space<span class="arrow">&#xb7;</span></a>.  The names of locally-scoped
attribute declarations reside in symbol spaces local to the type definition which contains
them.</p></div><div class="div3">
<h4><a id="d0e2403" name="d0e2403"/>3.2.3 Constraints on XML Representations of Attribute Declarations</h4><div class="constraintnote"><a name="src-attribute" id="src-attribute"/><b>Schema Representation Constraint:  Attribute Declaration Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element
information items by the schema for schemas,
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <code>default</code> and <code>fixed</code> must not both be present.</div><div class="clnumber">2 If <code>default</code> and <code>use</code> are both present,
<code>use</code> must have the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> <code>optional</code>.</div><div class="clnumber">3 If the item's parent is not <a class="eltref" href="#element-schema">&lt;schema&gt;</a>, then
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1 One of <code>ref</code> or <code>name</code> must be present, but not both.</div><div class="clnumber">3.2 If <code>ref</code> is present, then all of <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>,
<code>form</code> and <code>type</code> must be absent.</div></div>
     </div><div class="clnumber">4 <code>type</code> and <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>
must not both be present.</div><div class="clnumber">5 The corresponding attribute
declaration must satisfy the conditions set out in
<a href="#coss-attribute">Constraints on Attribute Declaration Schema Components (&#xa7;3.2.6)</a>.</div></div>
  </div></div></div><div class="div3">
<h4><a id="d0e2483" name="d0e2483"/>3.2.4 Attribute Declaration Validation Rules</h4><div class="constraintnote"><a name="cvc-attribute" id="cvc-attribute"/><b>Validation Rule:  Attribute Locally Valid</b><br/><div class="constraint">For an attribute information item to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an
attribute declaration 
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-a1" id="c-a1"> </a>The declaration must not be <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> (see <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a> for
how this can fail to be the case).</div><div class="clnumber">2<a name="c-a2" id="c-a2"> </a>Its <a class="propref" href="#a-simple_type_definition">{type definition}</a> must not be absent.</div><div class="clnumber">3<a name="c-sva" id="c-sva"> </a>The item's <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> must be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that <a class="propref" href="#a-simple_type_definition">{type definition}</a> as per <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.</div><div class="clnumber">4 The item's <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> must match the value of the <a class="propref" href="#a-value_constraint">{value constraint}</a>, if it is
present and <i>fixed</i>.</div></div>
     </div></div><div class="constraintnote"><a name="cvc-assess-attr" id="cvc-assess-attr"/><b>Validation Rule:  Schema-Validity Assessment (Attribute)</b><br/><div class="constraint">The schema-validity assessment of an attribute information item depends
on its <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> alone.<p/><span class="termdef"><a id="key-dd" name="key-dd">[Definition:]&#xa0;&#xa0;</a>During <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, associations
between element and attribute information items among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>
and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> on the one hand, and element and attribute
declarations on the other, are established as a side-effect.  Such
declarations are called the <b>context-determined declarations</b></span>. 
See clause <a href="#c-ctma">3.1</a> (in <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a>) for
attribute declarations, clause <a href="#c-cdde">2</a> (in <a href="#cvc-particle">Element Sequence Locally Valid (Particle) (&#xa7;3.9.4)</a>) for element
declarations.<p/>For an attribute information item's schema-validity to have been assessed
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 A non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> attribute declaration
must be known for it, namely
         <b>one</b> of the following:<div class="constraintlist"><div class="clnumber">1.1 A declaration which has been established as its <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">1.2<a name="c-adbyr" id="c-adbyr"> </a>A declaration resolved to by its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&#xa7;3.15.4)</a>, provided its <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> is
not <i>skip</i>.</div></div>
        </div><div class="clnumber">2 Its <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validity<span class="arrow">&#xb7;</span></a> with respect to that
declaration must have been evaluated as per <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a>.</div><div class="clnumber">3 Both clause <a href="#c-a1">1</a> and clause <a href="#c-a2">2</a> of <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> must be satisfied.</div></div>
     <p/><span class="termdef"><a id="key-svaa" name="key-svaa">[Definition:]&#xa0;&#xa0;</a>For attributes, there is no
difference between assessment and strict assessment, so if the above holds, the attribute information item has been <b>strictly assessed</b></span>.</div></div></div><div class="div3">
<h4><a id="d0e2622" name="d0e2622"/>3.2.5 Attribute Declaration Information Set Contributions</h4><div class="constraintnote"><a name="sic-a-outcome" id="sic-a-outcome"/><b>Schema Information Set Contribution:  Assessment Outcome (Attribute)</b><br/><div class="constraint">If the schema-validity of an attribute information item has been assessed
as per <a href="#cvc-assess-attr">Schema-Validity Assessment (Attribute) (&#xa7;3.2.4)</a>, then in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> it has properties as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
       <dt><a name="a-validation_context" id="a-validation_context"><span class="propdef">[validation context]</span></a></dt><dd>The nearest ancestor element information
item with a <a class="propref" href="#e-schema_information">[schema information]</a> property.</dd>
       <dt><a name="a-validity" id="a-validity"><span class="propdef">[validity]</span></a></dt><dd>
        The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>it was <a class="termref" href="#key-svaa"><span class="arrow">&#xb7;</span>strictly assessed<span class="arrow">&#xb7;</span></a>, <b>then </b>
         the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1.1 <b>If </b>it was
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> as defined by <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a>, <b>then </b><i>valid</i>;</div><div class="clnumber">1.2 <b>otherwise </b><i>invalid</i>.</div></div> 
        </div><div class="clnumber">2 <b>otherwise </b><i>notKnown</i>.</div></div>
       </dd>
       <dt><a name="a-validation_attempted" id="a-validation_attempted"><span class="propdef">[validation attempted]</span></a></dt><dd>
       The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>it was <a class="termref" href="#key-svaa"><span class="arrow">&#xb7;</span>strictly assessed<span class="arrow">&#xb7;</span></a>, <b>then </b><i>full</i>;</div><div class="clnumber">2 <b>otherwise </b><i>none</i>.</div></div></dd>
       <dt><a name="a-schema_specified" id="a-schema_specified"><span class="propdef">[schema specified]</span></a></dt><dd><i>infoset</i>.  See <a href="#sic-attrDefault">Attribute Default Value (&#xa7;3.4.5)</a> for the other possible value.</dd>
      </dl></div></div></div></div><div class="constraintnote"><a name="sic-attr-error-code" id="sic-attr-error-code"/><b>Schema Information Set Contribution:  Validation Failure (Attribute)</b><br/><div class="constraint">If the local <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validity<span class="arrow">&#xb7;</span></a>, as defined by <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a>
above, of an attribute information item has been assessed,
in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> the item has a
property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="a-schema_error_code" id="a-schema_error_code"><span class="propdef">[schema error code]</span></a></dt><dd>
       The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the item is not <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>, <b>then </b>a list.  Applications wishing to provide
information as to the reason(s) for the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> failure are encouraged to record one or more
error codes (see <a href="#outcomes">Outcome Tabulations (normative) (&#xa7;C)</a>) herein.</div><div class="clnumber">2 <b>otherwise </b><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div>
      </dd>
     </dl></div></div></div></div><div class="constraintnote"><a name="sic-attr-decl" id="sic-attr-decl"/><b>Schema Information Set Contribution:  Attribute Declaration</b><br/><div class="constraint">If an attribute information item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an attribute
declaration as per <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> then in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> the attribute
information item may, at processor option, have a property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="a-declaration" id="a-declaration"><span class="propdef">[attribute declaration]</span></a></dt><dd>
       An <a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to the declaration component itself.
      </dd>
     </dl></div></div></div></div><div class="constraintnote"><a name="sic-attrType" id="sic-attrType"/><b>Schema Information Set Contribution:  Attribute Validated by Type</b><br/><div class="constraint">If clause <a href="#c-sva">3</a> of <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> applies with
respect to an attribute information item, in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> the attribute
information item has a property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="a-schema_normalized_value" id="a-schema_normalized_value"><span class="propdef">[schema normalized value]</span></a></dt><dd>
       The <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> of the item as <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a>.
      </dd>
     </dl></div></div>Furthermore, the item has one of the following alternative sets of properties:<p/>Either<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="a-type_definition" id="a-type_definition"><span class="propdef">[type definition]</span></a></dt><dd>An <a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to the relevant attribute declaration's
<a class="propref" href="#a-simple_type_definition">{type definition}</a> component.</dd>
     <dt><a name="a-member_type_definition" id="a-member_type_definition"><span class="propdef">[member type definition]</span></a></dt><dd>If
and only if that type definition has <a class="propref" href="#variety">{variety}</a> <i>union</i>, then an
<a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to that member of its <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> which actually <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> the attribute item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[normalized value]</a>.</dd>
     </dl></div></div>or<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="a-type_definition_type" id="a-type_definition_type"><span class="propdef">[type definition type]</span></a></dt><dd>
<i>simple</i>.</dd>
       <dt><a name="a-type_definition_namespace" id="a-type_definition_namespace"><span class="propdef">[type definition namespace]</span></a></dt><dd>The <a class="propref" href="#st-target_namespace">{target namespace}</a> of the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a>.</dd>
        <dt><a name="a-type_definition_anonymous" id="a-type_definition_anonymous"><span class="propdef">[type definition anonymous]</span></a></dt><dd><i>true</i> if the <a class="propref" href="#st-name">{name}</a> of the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, otherwise <i>false</i>.</dd>
        <dt><a name="a-type_definition_name" id="a-type_definition_name"><span class="propdef">[type definition name]</span></a></dt><dd>The <a class="propref" href="#st-name">{name}</a> of the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a>, if it is not <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.  If it is
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, schema processors may, but need not,
provide a value unique to the definition.</dd>
       </dl></div></div>If the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> has <a class="propref" href="#variety">{variety}</a> <i>union</i>, then calling
         <span class="termdef"><a id="a-key-amt" name="a-key-amt">[Definition:]&#xa0;&#xa0;</a> that
member of the <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> which actually
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> the attribute item's <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> the
<b>actual member type definition</b></span>, there are three additional properties:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
     <dt><a name="a-member_type_definition_namespace" id="a-member_type_definition_namespace"><span class="propdef">[member type definition namespace]</span></a></dt><dd>The <a class="propref" href="#st-target_namespace">{target namespace}</a> of the <a class="termref" href="#a-key-amt"><span class="arrow">&#xb7;</span>actual
member type definition<span class="arrow">&#xb7;</span></a>.</dd>
     <dt><a name="a-member_type_definition_anonymous" id="a-member_type_definition_anonymous"><span class="propdef">[member type definition anonymous]</span></a></dt><dd><i>true</i> if the <a class="propref" href="#st-name">{name}</a> of the <a class="termref" href="#a-key-amt"><span class="arrow">&#xb7;</span>actual member type definition<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, otherwise <i>false</i>.</dd>
     <dt><a name="a-member_type_definition_name" id="a-member_type_definition_name"><span class="propdef">[member type definition name]</span></a></dt><dd>The <a class="propref" href="#st-name">{name}</a> of the <a class="termref" href="#a-key-amt"><span class="arrow">&#xb7;</span>actual member type definition<span class="arrow">&#xb7;</span></a>, if it is not <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.  If it is
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, schema processors may, but need not,
provide a value unique to the definition.</dd>
         </dl></div></div>The first (<a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a>) alternative above is provided for applications such as query
processors which need access to the full range of details about an item's
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, for example the type hierarchy; the second, for lighter-weight
processors for whom representing the significant parts of the type hierarchy as
information items might be a significant burden.<p/>Also, if the declaration has a <a class="propref" href="#a-value_constraint">{value constraint}</a>, the
item has a property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;attribute&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="a-schema_default" id="a-schema_default"><span class="propdef">[schema default]</span></a></dt><dd>
       The <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of
the declaration's <a class="propref" href="#a-value_constraint">{value constraint}</a> value.
      </dd>
     </dl></div></div>If the attribute information item was not <a class="termref" href="#key-svaa"><span class="arrow">&#xb7;</span>strictly assessed<span class="arrow">&#xb7;</span></a>, then instead of the values specified above,
      <div class="constraintlist"><div class="clnumber">1 The item's <a class="propref" href="#a-schema_normalized_value">[schema normalized value]</a>
property has
the <a class="termref" href="#key-iv"><span class="arrow">&#xb7;</span>initial value<span class="arrow">&#xb7;</span></a> of the item as its value;</div><div class="clnumber">2 The <a class="propref" href="#a-type_definition">[type definition]</a> and
<a class="propref" href="#a-member_type_definition">[member type definition]</a> properties, or their
alternatives, are based on the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>.</div></div>
     </div></div></div><div class="div3">
<h4><a id="coss-attribute" name="coss-attribute"/>3.2.6 Constraints on Attribute Declaration Schema Components</h4><p>All attribute declarations (see <a href="#cAttribute_Declarations">Attribute Declarations (&#xa7;3.2)</a>) must satisfy the following constraints.</p><div class="constraintnote"><a name="a-props-correct" id="a-props-correct"/><b>Schema Component Constraint:  Attribute Declaration Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of an attribute declaration must be as described in
the property tableau in
<a href="#Attribute_Declaration_details">The Attribute Declaration Schema Component (&#xa7;3.2.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 if there is a <a class="propref" href="#a-value_constraint">{value constraint}</a>, the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of its value must be
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the <a class="propref" href="#a-simple_type_definition">{type definition}</a> as
defined in <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.
     </div><div class="clnumber">3 If the <a class="propref" href="#a-simple_type_definition">{type definition}</a> is or is derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a> then there must not be a <a class="propref" href="#a-value_constraint">{value constraint}</a>.</div></div></div></div><div class="constraintnote"><a name="no-xmlns" id="no-xmlns"/><b>Schema Component Constraint:  xmlns Not Allowed</b><br/><div class="constraint">The <a class="propref" href="#a-name">{name}</a> of an attribute declaration must not match <code>xmlns</code>.<div class="note"><b>Note:&#xa0;</b>The <a class="propref" href="#a-name">{name}</a> of an attribute is an <a class="termref" href="#gloss-NCName"><span class="arrow">&#xb7;</span>NCName<span class="arrow">&#xb7;</span></a>, which implicitly
prohibits attribute declarations of the form <code>xmlns:*</code>.</div></div></div><div class="constraintnote"><a name="no-xsi" id="no-xsi"/><b>Schema Component Constraint:  xsi: Not Allowed</b><br/><div class="constraint">The <a class="propref" href="#a-target_namespace">{target namespace}</a> of an attribute declaration,
whether local or top-level, must not match <code>http://www.w3.org/2001/XMLSchema-instance</code>
(unless it is one of the four built-in declarations given in the next section).<div class="note"><b>Note:&#xa0;</b>This reinforces the special status of these attributes, so that they not
only <em>need</em> not be declared to be allowed in instances, but
<em>must</em> not be declared.  It also removes any temptation to experiment with supplying global or fixed values
for e.g. <code>xsi:type</code> or <code>xsi:nil</code>, which would be
seriously misleading, as they would have no effect.</div></div></div></div><div class="div3">
<h4><a id="d0e3067" name="d0e3067"/>3.2.7 Built-in Attribute Declarations</h4><p>There are four attribute declarations present in every
schema by definition:</p><table border="1" class="schemaComp"><thead><tr><th><strong><a name="xsi.type" id="xsi.type">Attribute Declaration for the 'type' attribute</a></strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#a-name">{name}</a></td><td><code>type</code></td></tr><tr><td><a class="propref" href="#a-target_namespace">{target namespace}</a></td><td><code>http://www.w3.org/2001/XMLSchema-instance</code></td></tr><tr><td><a class="propref" href="#type_definition">{type definition}</a></td><td>The built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a> simple
type definition</td></tr><tr><td><a class="propref" href="#a-scope">{scope}</a></td><td><i>global</i></td></tr><tr><td><a class="propref" href="#a-value_constraint">{value constraint}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#a-annotation">{annotation}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr></tbody></table></td></tr></tbody></table><table border="1" class="schemaComp"><thead><tr><th><strong><a name="xsi.nil" id="xsi.nil">Attribute Declaration for the 'nil' attribute</a></strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#a-name">{name}</a></td><td><code>nil</code></td></tr><tr><td><a class="propref" href="#a-target_namespace">{target namespace}</a></td><td><code>http://www.w3.org/2001/XMLSchema-instance</code></td></tr><tr><td><a class="propref" href="#type_definition">{type definition}</a></td><td>The built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#boolean">boolean</a> simple
type definition</td></tr><tr><td><a class="propref" href="#a-scope">{scope}</a></td><td><i>global</i></td></tr><tr><td><a class="propref" href="#a-value_constraint">{value constraint}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#a-annotation">{annotation}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr></tbody></table></td></tr></tbody></table><table border="1" class="schemaComp"><thead><tr><th><strong><a name="xsi.schemaLocation" id="xsi.schemaLocation">Attribute Declaration for the 'schemaLocation' attribute</a></strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#a-name">{name}</a></td><td><code>schemaLocation</code></td></tr><tr><td><a class="propref" href="#a-target_namespace">{target namespace}</a></td><td><code>http://www.w3.org/2001/XMLSchema-instance</code></td></tr><tr><td><a class="propref" href="#type_definition">{type definition}</a></td><td>An anonymous simple type definition, as follows:
       <table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#st-name">{name}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#st-target_namespace">{target namespace}</a></td><td><code>http://www.w3.org/2001/XMLSchema-instance</code></td></tr><tr><td><a class="propref" href="#st-base_type_definition">{base type definition}</a></td><td>The built in <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#facets">{facets}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#variety">{variety}</a></td><td><i>list</i></td></tr><tr><td><a class="propref" href="#st-item_type_definition">{item type definition}</a></td><td>The built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a> simple
type definition</td></tr><tr><td><a class="propref" href="#st-annotation">{annotation}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr></tbody></table>
      </td></tr><tr><td><a class="propref" href="#a-scope">{scope}</a></td><td><i>global</i></td></tr><tr><td><a class="propref" href="#a-value_constraint">{value constraint}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#a-annotation">{annotation}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr></tbody></table></td></tr></tbody></table><table border="1" class="schemaComp"><thead><tr><th><strong><a name="xsi.noNamespaceSchemaLocation" id="xsi.noNamespaceSchemaLocation">Attribute Declaration for the 'noNamespaceSchemaLocation' attribute</a></strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#a-name">{name}</a></td><td><code>noNamespaceSchemaLocation</code></td></tr><tr><td><a class="propref" href="#a-target_namespace">{target namespace}</a></td><td><code>http://www.w3.org/2001/XMLSchema-instance</code></td></tr><tr><td><a class="propref" href="#type_definition">{type definition}</a></td><td>The built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a> simple
type definition</td></tr><tr><td><a class="propref" href="#a-scope">{scope}</a></td><td><i>global</i></td></tr><tr><td><a class="propref" href="#a-value_constraint">{value constraint}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#a-annotation">{annotation}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr></tbody></table></td></tr></tbody></table></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cAttribute_Declarations"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#Complex_Type_Definitions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cElement_Declarations" name="cElement_Declarations"/>3.3 Element Declarations</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.3.1 <a href="#Element_Declaration_details">The Element Declaration Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.3.2 <a href="#declare-element">XML Representation of Element Declaration Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.3.3 <a href="#d0e4233">Constraints on XML Representations of Element Declarations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.3.4 <a href="#d0e4333">Element Declaration Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.3.5 <a href="#d0e5070">Element Declaration Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.3.6 <a href="#coss-element">Constraints on Element Declaration Schema Components</a><br/>
</div><p>Element declarations provide for:</p><ul><li>Local <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of element information item values using a type definition;</li><li>Specifying default or fixed values for an element information items;</li><li>Establishing uniquenesses and reference constraint relationships among the values of related elements and
attributes;</li><li>Controlling the substitutability of elements through the
mechanism of <a class="termref" href="#key-equivalenceClass"><span class="arrow">&#xb7;</span>element substitution groups<span class="arrow">&#xb7;</span></a>.</li></ul><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:element name=&quot;PurchaseOrder&quot; type=&quot;PurchaseOrderType&quot;/&gt;

&lt;xs:element name=&quot;gift&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name=&quot;birthday&quot; type=&quot;xs:date&quot;/&gt;
   &lt;xs:element ref=&quot;PurchaseOrder&quot;/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;
</pre></div><div class="exampleWrapper">XML representations of several different types of element declaration</div></div><div class="div3">
<h4><a id="Element_Declaration_details" name="Element_Declaration_details"/>3.3.1 The Element Declaration Schema Component</h4><p>The element declaration schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Element_Declaration">Element Declaration</a></div><div class="compBody">
     <dl class="props">
      <dt><a name="e-name" id="e-name"><span class="propdef">{name}</span></a></dt><dd>An NCName as defined by
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt><a name="e-target_namespace" id="e-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or
a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt><a name="type_definition" id="type_definition"><span class="propdef">{type definition}</span></a></dt><dd>Either a simple type
definition or a complex type definition.</dd>
      <dt><a name="e-scope" id="e-scope"><span class="propdef">{scope}</span></a></dt><dd>Optional.  Either <i>global</i> or a complex type
definition.</dd>
      <dt><a name="e-value_constraint" id="e-value_constraint"><span class="propdef">{value constraint}</span></a></dt><dd>Optional.  A
pair consisting of a value and one of <i>default</i>, <i>fixed</i>.</dd>
      <dt><a name="nillable" id="nillable"><span class="propdef">{nillable}</span></a></dt><dd>A boolean.</dd>
      <dt><a name="identity-constraint_definitions" id="identity-constraint_definitions"><span class="propdef">{identity-constraint definitions}</span></a></dt><dd>A set
of constraint definitions.</dd>
      <dt><a name="class_exemplar" id="class_exemplar"><span class="propdef">{substitution group affiliation}</span></a></dt><dd>Optional.  A top-level
element definition.</dd>
      <dt><a name="e-final" id="e-final"><span class="propdef">{substitution group exclusions}</span></a></dt><dd>A subset of
{<i>extension</i>,
<i>restriction</i>}.</dd>
      <dt><a name="e-exact" id="e-exact"><span class="propdef">{disallowed substitutions}</span></a></dt><dd>A subset of {<i>substitution</i>, <i>extension</i>,
<i>restriction</i>}.</dd>
      <dt><a name="e-abstract" id="e-abstract"><span class="propdef">{abstract}</span></a></dt><dd>A boolean.</dd>
      <dt><a name="e-annotation" id="e-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
     </dl>

    </div></div><p>The <a class="propref" href="#e-name">{name}</a> property must match the local part of the names
of element information items being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a>.</p><p>A <a class="propref" href="#e-scope">{scope}</a> of <i>global</i> identifies element declarations available for use in content
models throughout the schema.  Locally scoped declarations are available for use only within the
complex type identified by the <a class="propref" href="#e-scope">{scope}</a> property.  This property is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> in the case of  declarations within named model groups:  their scope is determined when they are used in the construction of complex type definitions.</p><p>A non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> value of the <a class="propref" href="#e-target_namespace">{target namespace}</a> property provides for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of
namespace-qualified element information items.  <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>Absent<span class="arrow">&#xb7;</span></a> values of
<a class="propref" href="#e-target_namespace">{target namespace}</a> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> unqualified items.</p><p>An element information item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>
if it satisfies the <a class="propref" href="#type_definition">{type definition}</a>.  For such an
item, schema information set contributions appropriate to the <a class="propref" href="#type_definition">{type definition}</a> are added to the
corresponding element information item in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>.
</p><p>If <a class="propref" href="#nillable">{nillable}</a> is <i>true</i>, then an element may
also be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> if it
carries the namespace qualified attribute with <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> <code>nil</code> from namespace <code>http://www.w3.org/2001/XMLSchema-instance</code> and value <code>true</code> (see <a href="#xsi_nil">xsi:nil (&#xa7;2.6.2)</a>) even if it has
no text or element content despite a <a class="propref" href="#content_type">{content type}</a> which would
otherwise require content. Formal details of element <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> are described in <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a>.</p><p><a class="propref" href="#e-value_constraint">{value constraint}</a> establishes a default or fixed value for an element.  If <i>default</i> is specified, and if the element
being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> is empty, then the
canonical form of the supplied
constraint value becomes the <a class="propref" href="#e-schema_normalized_value">[schema normalized value]</a> of the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> element in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>.  If <i>fixed</i> is specified, then the element's content
must either be empty, in which case <i>fixed</i> behaves as <i>default</i>,
or its value must match the supplied constraint value.</p><div class="note"><b>Note:&#xa0;</b>The provision of defaults for elements goes beyond what is possible in
XML 1.0 DTDs, and does not exactly correspond to defaults for attributes.  In
particular, an element with a non-empty <a class="propref" href="#e-value_constraint">{value constraint}</a> whose simple
type definition includes the empty string in its lexical space will
nonetheless never receive that value, because the <a class="propref" href="#e-value_constraint">{value constraint}</a> will override it.</div><p><a class="propref" href="#identity-constraint_definitions">{identity-constraint definitions}</a> express constraints establishing uniquenesses and reference relationships among the values of related elements and
attributes.  See <a href="#cIdentity-constraint_Definitions">Identity-constraint Definitions (&#xa7;3.11)</a>.</p><p>Element declarations are potential members of the substitution group, if any, identified
by <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>.  Potential membership is transitive but not symmetric;  an element
declaration is a potential member of any group of which its <a class="propref" href="#class_exemplar">{substitution group affiliation}</a> is a potential member.  Actual membership may be blocked by the effects of <a class="propref" href="#e-final">{substitution group exclusions}</a> or <a class="propref" href="#e-exact">{disallowed substitutions}</a>, see below.</p><p>An empty <a class="propref" href="#e-final">{substitution group exclusions}</a> allows a declaration to be nominated as
the <a class="propref" href="#class_exemplar">{substitution group affiliation}</a> of other element declarations having the same <a class="propref" href="#type_definition">{type definition}</a> or
types derived therefrom.  The explicit
values of <a class="propref" href="#e-final">{substitution group exclusions}</a> rule out element declarations having types which
are <i>extension</i>s or <i>restriction</i>s respectively of <a class="propref" href="#type_definition">{type definition}</a>.  If
both values are specified, then the declaration may not be nominated as the
<a class="propref" href="#class_exemplar">{substitution group affiliation}</a> of any other declaration.</p><p>The supplied values for <a class="propref" href="#e-exact">{disallowed substitutions}</a> determine
whether an element declaration appearing in a <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>content model<span class="arrow">&#xb7;</span></a> will be prevented from additionally
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validating<span class="arrow">&#xb7;</span></a> elements (a) with an <a href="#xsi_type">xsi:type (&#xa7;2.6.1)</a> that identifies an
<i>extension</i> or <i>restriction</i> of the type of the declared element, and/or (b) from <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validating<span class="arrow">&#xb7;</span></a> elements which are in the
substitution group headed by the declared element.
If <a class="propref" href="#e-exact">{disallowed substitutions}</a> is empty, then all derived types and substitution group members are allowed.</p><p>Element declarations for which <a class="propref" href="#e-abstract">{abstract}</a> is <i>true</i> can appear in
content models only when substitution is allowed;
such declarations may not themselves ever be used to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> element content.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#e-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-element" name="declare-element"/>3.3.2 XML Representation of Element Declaration Schema Components</h4><p>The XML representation for an element declaration schema component is an
<a class="eltref" href="#element-element">&lt;element&gt;</a> element information item.  It specifies a type
definition for an element either by reference or explicitly, and may provide
occurrence and default information.  The correspondences between the
properties of the information item and
properties of the component(s) it corresponds to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>element</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-element" id="element-element">&lt;element</a><br/>&#xa0;&#xa0;abstract = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#boolean">boolean</a>&#xa0;:&#xa0;false<br/>&#xa0;&#xa0;block = 
 
   (<var>#all</var> | List of (<var>extension</var> | <var>restriction</var> | <var>substitution</var>))
 <br/>&#xa0;&#xa0;default = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#string">string</a><br/>&#xa0;&#xa0;final = 
 
   (<var>#all</var> | List of (<var>extension</var> | <var>restriction</var>))
 <br/>&#xa0;&#xa0;fixed = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#string">string</a><br/>&#xa0;&#xa0;form = (<var>qualified</var> | <var>unqualified</var>)<br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;maxOccurs = 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a> | <var>unbounded</var>)
 &#xa0;:&#xa0;1<br/>&#xa0;&#xa0;minOccurs = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;name = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;nillable = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#boolean">boolean</a>&#xa0;:&#xa0;false<br/>&#xa0;&#xa0;ref = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;substitutionGroup = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;type = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, ((<a class="eltref" href="#element-simpleType">simpleType</a> | <a class="eltref" href="#element-complexType">complexType</a>)?, (<a class="eltref" href="#element-unique">unique</a> | <a class="eltref" href="#element-key">key</a> | <a class="eltref" href="#element-keyref">keyref</a>)*))<br/>&lt;/element&gt;</p>
 <div class="reprdep">If the <a class="eltref" href="#element-element">&lt;element&gt;</a> element information item has <a class="eltref" href="#element-schema">&lt;schema&gt;</a> as its parent, the corresponding schema component is as follows:</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Element_Declaration_details">Element Declaration</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#e-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</td></tr><tr valign="top"><td><a class="propref" href="#e-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item, or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> if there is none.</td></tr><tr valign="top"><td><a class="propref" href="#e-scope">{scope}</a></td><td><i>global</i>.</td></tr><tr valign="top"><td><a class="propref" href="#type_definition">{type definition}</a></td><td>The type definition
corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> or <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if either is present, otherwise the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by
the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>type</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, otherwise the <a class="propref" href="#type_definition">{type definition}</a> of the element declaration <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>substitutionGroup</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise the
<a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#nillable">{nillable}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>nillable</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <i>false</i>.</td></tr><tr valign="top"><td><a class="propref" href="#e-value_constraint">{value constraint}</a></td><td>If there is a <code>default</code> or a <code>fixed</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, then a pair consisting of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> (with respect to the
<a class="propref" href="#type_definition">{type definition}</a>, if it is a simple type definition, or the
<a class="propref" href="#type_definition">{type definition}</a>'s <a class="propref" href="#content_type">{content type}</a>, if that is a
simple type definition, or else with respect to the built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#string">string</a> simple type definition) of that <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> and
either <i>default</i> or <i>fixed</i>, as appropriate, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#identity-constraint_definitions">{identity-constraint definitions}</a></td><td>A set consisting of the
identity-constraint-definitions corresponding to all the <a class="eltref" href="#element-key">&lt;key&gt;</a>, <a class="eltref" href="#element-unique">&lt;unique&gt;</a> and <a class="eltref" href="#element-keyref">&lt;keyref&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, otherwise the empty set.</td></tr><tr valign="top"><td><a class="propref" href="#class_exemplar">{substitution group affiliation}</a></td><td>The element declaration <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>substitutionGroup</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#e-exact">{disallowed substitutions}</a></td><td>A set depending on the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>block</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise on the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>blockDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the ancestor <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element
information item, if present, otherwise on the empty string.  Call this the <b>EBV</b> (for effective block value).  Then the value of this property is
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <b>EBV</b> is the empty string, <b>then </b>the empty set;</div><div class="clnumber">2 <b>If </b>the <b>EBV</b> is <code>#all</code>, <b>then </b><code>{</code><i>extension</i>, <i>restriction</i>, <i>substitution</i><code>}</code>;</div><div class="clnumber">3 <b>otherwise </b>a set with members drawn from the set above, each being present or
absent depending on whether the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> (which is a list) contains an
equivalently named item.
   <div class="note"><b>Note:&#xa0;</b>Although the <code>blockDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <a class="eltref" href="#element-schema">&lt;schema&gt;</a> may include values other than <i>extension</i>, <i>restriction</i> or <i>substitution</i>, those values are ignored in the determination of <a class="propref" href="#e-exact">{disallowed substitutions}</a> for element declarations (they <em>are</em> used elsewhere).</div>
   </div></div>
  </td></tr><tr valign="top"><td><a class="propref" href="#e-final">{substitution group exclusions}</a></td><td>As for <a class="propref" href="#e-exact">{disallowed substitutions}</a> above, but using the
<code>final</code> and <code>finalDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> in place of the
<code>block</code> and <code>blockDefault</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> and with the
relevant set being <code>{</code><i>extension</i>, <i>restriction</i><code>}</code>.</td></tr><tr valign="top"><td><a class="propref" href="#e-abstract">{abstract}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>abstract</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <i>false</i>.</td></tr><tr valign="top"><td><a class="propref" href="#e-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprdep">otherwise if the <a class="eltref" href="#element-element">&lt;element&gt;</a> element information item has
<a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> or <a class="eltref" href="#element-group">&lt;group&gt;</a> as an ancestor and the
<code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is absent, the corresponding schema components
are as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Particle_details">Particle</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>minOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#term">{term}</a></td><td>A (local) element declaration as given below.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprdep"> 
An element declaration as in the first case above, with the exception of its <a class="propref" href="#e-target_namespace">{target namespace}</a> and <a class="propref" href="#e-scope">{scope}</a> properties, which are as below:</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Element_Declaration_details">Element Declaration</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#e-target_namespace">{target namespace}</a></td><td>If <code>form</code> is present and its
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is <code>qualified</code>, or if <code>form</code> is absent and the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of <code>elementFormDefault</code> on the <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
ancestor is <code>qualified</code>, then the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item, or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> if there
is none, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#e-scope">{scope}</a></td><td>If the <a class="eltref" href="#element-element">&lt;element&gt;</a> element information item
has <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> as an ancestor, the complex definition
corresponding to that item, otherwise (the <a class="eltref" href="#element-element">&lt;element&gt;</a> element
information item is within a named <a class="eltref" href="#element-group">&lt;group&gt;</a> definition), <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprdep">otherwise (the <a class="eltref" href="#element-element">&lt;element&gt;</a> element information item has
<a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> or <a class="eltref" href="#element-group">&lt;group&gt;</a> as an ancestor and the
<code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present), the corresponding schema component is as
follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Particle_details">Particle</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>minOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#term">{term}</a></td><td>The (top-level) element declaration <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</td></tr></tbody></table></td></tr></tbody></table></div>
</div></div><p><a class="eltref" href="#element-element">&lt;element&gt;</a> corresponds to an element declaration, and allows
the type definition of that declaration to be specified either by reference or
by explicit inclusion.</p><p><a class="eltref" href="#element-element">&lt;element&gt;</a>s within <a class="eltref" href="#element-schema">&lt;schema&gt;</a> produce
<i>global</i> element declarations; <a class="eltref" href="#element-element">&lt;element&gt;</a>s within <a class="eltref" href="#element-group">&lt;group&gt;</a> or <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> produce either particles which contain <i>global</i> element declarations (if there's a <code>ref</code> attribute) or local declarations (otherwise).  For complete declarations, top-level or local, the <code>type</code> attribute is used when the declaration can use a
built-in or pre-declared type definition.  Otherwise an
anonymous <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> or <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> is provided inline.</p><p>Element information items <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by a top-level declaration must be qualified with the
<a class="propref" href="#e-target_namespace">{target namespace}</a> of that declaration (if this is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, the item must be unqualified).  Control over whether element information items <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by a local declaration must be similarly qualified or not
is provided by the <code>form</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, whose default is provided
by the <code>elementFormDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> on the enclosing <a class="eltref" href="#element-schema">&lt;schema&gt;</a>, via its determination of <a class="propref" href="#e-target_namespace">{target namespace}</a>.</p><p>As noted above the names for top-level element declarations are in a separate
<a class="termref" href="#key-symbolSpace"><span class="arrow">&#xb7;</span>symbol space<span class="arrow">&#xb7;</span></a> from the symbol spaces for
the names of type definitions, so there can (but need
not be) a simple or complex type definition with the same name as a
top-level element.  As with attribute names, the names of locally-scoped
element declarations with no <a class="propref" href="#e-target_namespace">{target namespace}</a> reside in symbol spaces local to the type definition which contains
them.</p><p>Note that the above allows for two levels of defaulting for unspecified
type definitions.  An <a class="eltref" href="#element-element">&lt;element&gt;</a> with no referenced or included type definition will
correspond to an element declaration which has the same type definition as the
head of its substitution group if it identifies one, otherwise the <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.  This has the important consequence that the minimum valid element declaration, that is, one with only a <code>name</code> attribute and no contents, is also (nearly) the most general, validating any combination of text and element content and allowing any attributes, and providing for recursive validation where possible.</p><p>See below at <a href="#declare-key">XML Representation of Identity-constraint Definition Schema Components (&#xa7;3.11.2)</a> for <a class="eltref" href="#element-key">&lt;key&gt;</a>, <a class="eltref" href="#element-unique">&lt;unique&gt;</a> and <a class="eltref" href="#element-keyref">&lt;keyref&gt;</a>.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:element name=&quot;unconstrained&quot;/&gt;

&lt;xs:element name=&quot;emptyElt&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:attribute ...&gt;. . .&lt;/xs:attribute&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name=&quot;contextOne&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name=&quot;myLocalElement&quot; type=&quot;myFirstType&quot;/&gt;
   &lt;xs:element ref=&quot;globalElement&quot;/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name=&quot;contextTwo&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name=&quot;myLocalElement&quot; type=&quot;mySecondType&quot;/&gt;
   &lt;xs:element ref=&quot;globalElement&quot;/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;</pre></div><div class="exampleWrapper">The first example above declares an element whose type, by default, is the
<a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.  The second uses an embedded anonymous complex
type definition.<p/>The last two examples illustrate the use of local element declarations.  Instances of <code>myLocalElement</code> within
<code>contextOne</code> will be constrained by <code>myFirstType</code>,
while those within <code>contextTwo</code> will be constrained by
<code>mySecondType</code>. </div></div><div class="note"><b>Note:&#xa0;</b>The possibility that differing attribute declarations and/or content models
would apply to elements with the same name in different contexts is an
extension beyond the expressive power of a DTD in XML 1.0.</div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre> &lt;xs:complexType name=&quot;facet&quot;&gt;
  &lt;xs:complexContent&gt;
   &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
    &lt;xs:attribute name=&quot;value&quot; use=&quot;required&quot;/&gt;
   &lt;/xs:extension&gt;
  &lt;/xs:complexContent&gt;
 &lt;/xs:complexType&gt;

 &lt;xs:element name=&quot;facet&quot; type=&quot;xs:facet&quot; abstract=&quot;true&quot;/&gt;

 &lt;xs:element name=&quot;encoding&quot; substitutionGroup=&quot;xs:facet&quot;&gt;
  &lt;xs:complexType&gt;
   &lt;xs:complexContent&gt;
    &lt;xs:restriction base=&quot;xs:facet&quot;&gt;
     &lt;xs:sequence&gt;
      &lt;xs:element ref=&quot;annotation&quot; minOccurs=&quot;0&quot;/&gt;
     &lt;/xs:sequence&gt;
     &lt;xs:attribute name=&quot;value&quot; type=&quot;xs:encodings&quot;/&gt;
    &lt;/xs:restriction&gt;
   &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
 &lt;/xs:element&gt;

 &lt;xs:element name=&quot;period&quot; substitutionGroup=&quot;xs:facet&quot;&gt;
  &lt;xs:complexType&gt;
   &lt;xs:complexContent&gt;
    &lt;xs:restriction base=&quot;xs:facet&quot;&gt;
     &lt;xs:sequence&gt;
      &lt;xs:element ref=&quot;annotation&quot; minOccurs=&quot;0&quot;/&gt;
     &lt;/xs:sequence&gt;
     &lt;xs:attribute name=&quot;value&quot; type=&quot;xs:duration&quot;/&gt;
    &lt;/xs:restriction&gt;
   &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
 &lt;/xs:element&gt;

 &lt;xs:complexType name=&quot;datatype&quot;&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element ref=&quot;facet&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;optional&quot;/&gt;
  . . .
 &lt;/xs:complexType&gt;
</pre></div><div class="exampleWrapper">An example from a previous version of the schema for datatypes.  The
<code>facet</code> type is defined
and the <code>facet</code> element is declared to use it. The <code>facet</code> element is abstract -- it's
<em>only</em> defined to stand as the head for a substitution group.  Two further
elements are declared, each a member of the <code>facet</code> substitution group.  Finally a type is defined which refers to <code>facet</code>, thereby
allowing <em>either</em> <code>period</code> or <code>encoding</code> (or
any other member of the group).</div></div></div><div class="div3">
<h4><a id="d0e4233" name="d0e4233"/>3.3.3 Constraints on XML Representations of Element Declarations</h4><div class="constraintnote"><a name="src-element" id="src-element"/><b>Schema Representation Constraint:  Element Declaration Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-element">&lt;element&gt;</a> element
information items by the schema for schemas:
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <code>default</code> and <code>fixed</code> must not both be present.</div><div class="clnumber">2 If the item's parent is not <a class="eltref" href="#element-schema">&lt;schema&gt;</a>, then
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 One of <code>ref</code> or <code>name</code> must be present, but not both.</div><div class="clnumber">2.2 If <code>ref</code> is present, then all of <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a>,
<a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>, <a class="eltref" href="#element-key">&lt;key&gt;</a>, <a class="eltref" href="#element-keyref">&lt;keyref&gt;</a>,
<a class="eltref" href="#element-unique">&lt;unique&gt;</a>, <code>nillable</code>, <code>default</code>,
<code>fixed</code>, <code>form</code>, <code>block</code> and <code>type</code> must be absent,
i.e. only <code>minOccurs</code>, <code>maxOccurs</code>, <code>id</code> are
allowed in addition to <code>ref</code>, along with <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a>.</div></div>
     </div><div class="clnumber">3 <code>type</code> and either <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> or <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> are mutually exclusive.</div><div class="clnumber">4 The corresponding particle and/or element declarations must satisfy the conditions set
out in <a href="#coss-element">Constraints on Element Declaration Schema Components (&#xa7;3.3.6)</a> and <a href="#coss-particle">Constraints on Particle Schema Components (&#xa7;3.9.6)</a>.</div></div>
  </div></div></div><div class="div3">
<h4><a id="d0e4333" name="d0e4333"/>3.3.4 Element Declaration Validation Rules</h4><div class="constraintnote"><a name="cvc-elt" id="cvc-elt"/><b>Validation Rule:  Element Locally Valid (Element)</b><br/><div class="constraint">For an element information item to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an
element declaration
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-ea" id="c-ea"> </a>The declaration must not be <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2 Its
<a class="propref" href="#e-abstract">{abstract}</a> must be <i>false</i>.</div><div class="clnumber">3 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">3.1 <b>If </b><a class="propref" href="#nillable">{nillable}</a> is <i>false</i>, <b>then </b>there must be no attribute information item among the element
information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> is identical to <code>http://www.w3.org/2001/XMLSchema-instance</code> and whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> is <code>nil</code>.</div><div class="clnumber">3.2<a name="c-nl" id="c-nl"> </a><b>If </b><a class="propref" href="#nillable">{nillable}</a> is <i>true</i> and there is such an attribute
information item and its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is <code>true</code>
        , <b>then </b>
        <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.2.1 The element information item must have no character or element information item
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</div><div class="clnumber">3.2.2 There must be no <i>fixed</i> <a class="propref" href="#e-value_constraint">{value constraint}</a>.</div></div></div></div></div><div class="clnumber">4 If there is an attribute information item among the element
information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> is identical to <code>http://www.w3.org/2001/XMLSchema-instance</code> and whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> is <code>type</code>, then
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">4.1 The <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> of that attribute information item must be
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a> simple type, as defined by <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>;</div><div class="clnumber">4.2 The <a class="termref" href="#q-local"><span class="arrow">&#xb7;</span>local name<span class="arrow">&#xb7;</span></a> and <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> (as defined in <a href="#src-qname">QName Interpretation (&#xa7;3.15.3)</a>), of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of that attribute information item must resolve to a type definition, as defined in <a href="#cvc-resolve-instance">QName resolution (Instance) (&#xa7;3.15.4)</a> -- <span class="termdef"><a id="key-ltd" name="key-ltd">[Definition:]&#xa0;&#xa0;</a>call this type definition the <b>local type definition</b></span>;</div><div class="clnumber">4.3 The <a class="termref" href="#key-ltd"><span class="arrow">&#xb7;</span>local type definition<span class="arrow">&#xb7;</span></a> must be
validly derived from the <a class="propref" href="#type_definition">{type definition}</a> given the
union of the <a class="propref" href="#e-exact">{disallowed substitutions}</a> and the <a class="propref" href="#type_definition">{type definition}</a>'s <a class="propref" href="#ct-exact">{prohibited substitutions}</a>, as defined in <a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&#xa7;3.4.6)</a> (if it is a complex type definition), or given <a class="propref" href="#e-exact">{disallowed substitutions}</a> as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a> (if it is a simple type definition).</div></div>
      <span class="termdef"><a id="key-atd" name="key-atd">[Definition:]&#xa0;&#xa0;</a>The phrase
<b>actual type definition</b> occurs below.  If the above three clauses are satisfied, this
should be understood as referring to the <a class="termref" href="#key-ltd"><span class="arrow">&#xb7;</span>local type
definition<span class="arrow">&#xb7;</span></a>, otherwise to the <a class="propref" href="#type_definition">{type definition}</a></span>.
     </div><div class="clnumber">5 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">5.1 <b>If </b>the declaration has a <a class="propref" href="#e-value_constraint">{value constraint}</a>, the item has neither element nor character <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> and clause <a href="#c-nl">3.2</a> has not applied, <b>then </b>
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.1.1 If the <a class="termref" href="#key-atd"><span class="arrow">&#xb7;</span>actual type definition<span class="arrow">&#xb7;</span></a> is a <a class="termref" href="#key-ltd"><span class="arrow">&#xb7;</span>local type
definition<span class="arrow">&#xb7;</span></a> then the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="propref" href="#e-value_constraint">{value constraint}</a> value must
be a valid default for the <a class="termref" href="#key-atd"><span class="arrow">&#xb7;</span>actual
type definition<span class="arrow">&#xb7;</span></a> as defined in <a href="#cos-valid-default">Element Default Valid (Immediate) (&#xa7;3.3.6)</a>.
        </div><div class="clnumber">5.1.2 The element information item with the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="propref" href="#e-value_constraint">{value constraint}</a> value used as its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a>
must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the <a class="termref" href="#key-atd"><span class="arrow">&#xb7;</span>actual type definition<span class="arrow">&#xb7;</span></a> as defined by <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>.</div></div>
     </div><div class="clnumber">5.2 <b>If </b>the declaration has no <a class="propref" href="#e-value_constraint">{value constraint}</a> or the item has either element or character <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> or clause <a href="#c-nl">3.2</a> has applied, <b>then </b><b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.2.1 The element information item
must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the <a class="termref" href="#key-atd"><span class="arrow">&#xb7;</span>actual type definition<span class="arrow">&#xb7;</span></a> as defined by <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>.</div><div class="clnumber">5.2.2 If there is a <i>fixed</i> <a class="propref" href="#e-value_constraint">{value constraint}</a> and
clause <a href="#c-nl">3.2</a> has not applied,
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.2.2.1 The element information item must have no element information
item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</div><div class="clnumber">5.2.2.2 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">5.2.2.2.1 <b>If </b>the <a class="propref" href="#content_type">{content type}</a> of the <a class="termref" href="#key-atd"><span class="arrow">&#xb7;</span>actual type definition<span class="arrow">&#xb7;</span></a> is <i>mixed</i>, <b>then </b>the <a class="termref" href="#key-iv"><span class="arrow">&#xb7;</span>initial value<span class="arrow">&#xb7;</span></a>
of the item must match the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="propref" href="#e-value_constraint">{value constraint}</a> value.</div><div class="clnumber">5.2.2.2.2 <b>If </b>the <a class="propref" href="#content_type">{content type}</a> of the <a class="termref" href="#key-atd"><span class="arrow">&#xb7;</span>actual type definition<span class="arrow">&#xb7;</span></a> is a simple type definition, <b>then </b>the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the item must match the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="propref" href="#e-value_constraint">{value constraint}</a> value.</div></div></div></div>
         </div></div></div></div></div><div class="clnumber">6 The element information item must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to
each of the <a class="propref" href="#identity-constraint_definitions">{identity-constraint definitions}</a> as per <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&#xa7;3.11.4)</a>.</div><div class="clnumber">7 If the element information item is the <a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation root<span class="arrow">&#xb7;</span></a>, it must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> per <a href="#cvc-id">Validation Root Valid (ID/IDREF) (&#xa7;3.3.4)</a>.</div></div>      
     </div></div><div class="constraintnote"><a name="cvc-type" id="cvc-type"/><b>Validation Rule:  Element Locally Valid (Type)</b><br/><div class="constraint">For an element information item to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a type definition
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-ct" id="c-ct"> </a>The type definition must not be <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">2 
        It must not have
<a class="propref" href="#ct-abstract">{abstract}</a> with value <i>true</i>.</div><div class="clnumber">3 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">3.1 <b>If </b>the type definition is a simple type
definition, <b>then </b>
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1.1 The element information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> must be empty,
excepting those whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> is identical to <code>http://www.w3.org/2001/XMLSchema-instance</code> and whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> is one of <code>type</code>, <code>nil</code>, <code>schemaLocation</code> or <code>noNamespaceSchemaLocation</code>.</div><div class="clnumber">3.1.2 The element information item must have no element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</div><div class="clnumber">3.1.3<a name="c-sv1" id="c-sv1"> </a>If clause <a href="#c-nl">3.2</a> of <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> did not apply, then the <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the type definition as defined by <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.</div></div>
        </div><div class="clnumber">3.2 <b>If </b>the type definition is a complex type definition, <b>then </b>the element information item must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the type definition as per <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a>;</div></div></div></div>
     </div></div><div class="constraintnote"><a name="cvc-id" id="cvc-id"/><b>Validation Rule:  Validation Root Valid (ID/IDREF)</b><br/><div class="constraint">For an element information item which is the <a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation root<span class="arrow">&#xb7;</span></a> to be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 There must be no <b>ID/IDREF binding</b> in the item's
<a class="propref" href="#e-ii_table">[ID/IDREF table]</a> whose <a class="propref" href="#iib-binding">[binding]</a> is the
empty set.</div><div class="clnumber">2<a name="c-uba" id="c-uba"> </a>There must be no <b>ID/IDREF binding</b> in the item's <a class="propref" href="#e-ii_table">[ID/IDREF table]</a> whose <a class="propref" href="#iib-binding">[binding]</a> has more
than one member.</div></div>
      <p/>See <a href="#sic-id">ID/IDREF Table (&#xa7;3.15.5)</a> for the definition of <b>ID/IDREF binding</b>.<div class="note"><b>Note:&#xa0;</b>The first clause above applies when there is a reference to an
undefined ID.  The second applies when there is a multiply-defined ID.  They
are separated out to ensure that distinct error codes (see <a href="#outcomes">Outcome Tabulations (normative) (&#xa7;C)</a>) are associated with these two cases.</div><div class="note"><b>Note:&#xa0;</b>Although this rule applies at the <a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation
root<span class="arrow">&#xb7;</span></a>, in practice processors, particularly streaming processors, may
wish to detect and signal the clause <a href="#c-uba">2</a> case as it arises.</div><div class="note"><b>Note:&#xa0;</b>This reconstruction of <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>'s <code>ID/IDREF</code>
functionality is imperfect in that if the <a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation
root<span class="arrow">&#xb7;</span></a> is not the document element of an XML document, the results will
not necessarily be the same as those a validating parser would give were the
document to have a DTD with equivalent declarations.</div></div></div><div class="constraintnote"><a name="cvc-assess-elt" id="cvc-assess-elt"/><b>Validation Rule:  Schema-Validity Assessment (Element)</b><br/><div class="constraint">The schema-validity assessment of an element information item depends
on its <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> and the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> of its element information item
children and associated attribute information items, if any.<p/>So for an element information item's schema-validity to be assessed      
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-xd" id="c-xd"> </a><b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1<a name="c-ed" id="c-ed"> </a><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1.1 A non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> element declaration
must be known for it, because<b>one</b> of the following is true<div class="constraintlist"><div class="clnumber">1.1.1.1 A declaration was stipulated by the processor (see <a href="#validation_outcome">Assessing Schema-Validity (&#xa7;5.2)</a>).</div><div class="clnumber">1.1.1.2 A declaration has been established as its <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">1.1.1.3 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1.1.3.1 Its <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> is
not <i>skip</i>.</div><div class="clnumber">1.1.1.3.2 Its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[local name]</a> and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> resolve to an element declaration as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&#xa7;3.15.4)</a>.</div></div></div></div></div><div class="clnumber">1.1.2 Its <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validity<span class="arrow">&#xb7;</span></a> with respect to that
declaration must have been evaluated as per <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a>.</div><div class="clnumber">1.1.3 If that evaluation involved the evaluation of <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>, clause <a href="#c-ct">1</a> thereof must be satisfied.</div></div></div><div class="clnumber">1.2<a name="c-td" id="c-td"> </a><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.2.1 A non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> type definition is known for
it because 
 <b>one</b> of the following is true<div class="constraintlist"><div class="clnumber">1.2.1.1 A type definition was stipulated by the processor
(see <a href="#validation_outcome">Assessing Schema-Validity (&#xa7;5.2)</a>).</div><div class="clnumber">1.2.1.2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.2.1.2.1 There is an attribute information item among the element
information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> is identical to <code>http://www.w3.org/2001/XMLSchema-instance</code> and whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> is <code>type</code>.</div><div class="clnumber">1.2.1.2.2 The <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> of that attribute information item is
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a> simple type, as defined by <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.</div><div class="clnumber">1.2.1.2.3 The <a class="termref" href="#q-local"><span class="arrow">&#xb7;</span>local name<span class="arrow">&#xb7;</span></a> and <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> (as defined in <a href="#src-qname">QName Interpretation (&#xa7;3.15.3)</a>), of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of that attribute information item resolve to a type definition, as defined in <a href="#cvc-resolve-instance">QName resolution (Instance) (&#xa7;3.15.4)</a> -- <span class="termdef"><a id="key-ltd1" name="key-ltd1">[Definition:]&#xa0;&#xa0;</a>call this type definition the <b>local type definition</b></span>.</div><div class="clnumber">1.2.1.2.4 If there is also a processor-stipulated type definition, the <a class="termref" href="#key-ltd1"><span class="arrow">&#xb7;</span>local type definition<span class="arrow">&#xb7;</span></a> must be
validly derived from that type definition given its <a class="propref" href="#ct-exact">{prohibited substitutions}</a>,
as defined in <a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&#xa7;3.4.6)</a> (if it is a complex type
definition), or given the empty set, as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a> (if it is a simple type definition).</div></div></div></div>
</div><div class="clnumber">1.2.2 The element information item's <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validity<span class="arrow">&#xb7;</span></a> with respect to the <a class="termref" href="#key-ltd1"><span class="arrow">&#xb7;</span>local type definition<span class="arrow">&#xb7;</span></a> (if present and validly derived)
or the processor-stipulated type definition (if no <a class="termref" href="#key-ltd1"><span class="arrow">&#xb7;</span>local
type definition<span class="arrow">&#xb7;</span></a> is present) has been evaluated as per <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>.</div></div></div></div>
        </div><div class="clnumber">2 The schema-validity of all the element information items among its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> has been assessed as per <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a>, and the
schema-validity of all the attribute information items among its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> has been assessed as per <a href="#cvc-assess-attr">Schema-Validity Assessment (Attribute) (&#xa7;3.2.4)</a>.</div></div>
     <p/><span class="termdef"><a id="key-sva" name="key-sva">[Definition:]&#xa0;&#xa0;</a>If either case of
clause <a href="#c-xd">1</a> above holds, the element information item has been <b>strictly assessed</b></span>.<p/>If the item cannot be <a class="termref" href="#key-sva"><span class="arrow">&#xb7;</span>strictly
assessed<span class="arrow">&#xb7;</span></a>, because neither clause <a href="#c-ed">1.1</a> nor clause <a href="#c-td">1.2</a> above are satisfied,
<span class="termdef"><a id="key-lva" name="key-lva">[Definition:]&#xa0;&#xa0;</a>an element information item's
schema validity may be <b>laxly assessed</b> if its <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> is not <i>skip</i> by <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validating<span class="arrow">&#xb7;</span></a> with respect to the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> as per <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a></span>.<div class="note"><b>Note:&#xa0;</b>In general if clause <a href="#c-ed">1.1</a> above holds 
clause <a href="#c-td">1.2</a> does not, and vice versa.  When an
<code>xsi:type</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is involved, however, clause <a href="#c-td">1.2</a> takes precedence,
as is made clear in <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a>.</div></div></div><div class="note"><b>Note:&#xa0;</b>The <a class="propref" href="#e-name">{name}</a> and <a class="propref" href="#e-target_namespace">{target namespace}</a> properties are not
mentioned above because they are checked during particle <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, as per
<a href="#cvc-particle">Element Sequence Locally Valid (Particle) (&#xa7;3.9.4)</a>.</div></div><div class="div3">
<h4><a id="d0e5070" name="d0e5070"/>3.3.5 Element Declaration Information Set Contributions</h4><div class="constraintnote"><a name="sic-e-outcome" id="sic-e-outcome"/><b>Schema Information Set Contribution:  Assessment Outcome (Element)</b><br/><div class="constraint">If the schema-validity of an element information item has been assessed
as per <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a>, then in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> it has properties as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
       <dt><a name="e-validation_context" id="e-validation_context"><span class="propdef">[validation context]</span></a></dt><dd>The nearest ancestor element information
item with a <a class="propref" href="#e-schema_information">[schema information]</a> property (or this element item itself if it has such a property).</dd>
       <dt><a name="e-validity" id="e-validity"><span class="propdef">[validity]</span></a></dt><dd>
        The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>it was <a class="termref" href="#key-sva"><span class="arrow">&#xb7;</span>strictly
assessed<span class="arrow">&#xb7;</span></a>, <b>then </b>
        the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1.1 <b>If </b>
          <b>all</b> of the following are true<div class="constraintlist"><div class="clnumber">1.1.1 <div class="constraintlist"><div class="clnumber">1.1.1.1 clause <a href="#c-ed">1.1</a> of <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a>
applied and the item was
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> as defined by <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a>;</div><div class="clnumber">1.1.1.2 clause <a href="#c-td">1.2</a> of <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a>
applied and the item was
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> as defined by <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>.</div></div></div><div class="clnumber">1.1.2 Neither its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> nor its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> contains an information item (element or attribute respectively) whose  <span class="anonRef">[validity]</span> is <i>invalid</i>.</div><div class="clnumber">1.1.3 Neither its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> nor its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> contains an information item (element or attribute respectively) with a <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> of
<i>mustFind</i> whose  <span class="anonRef">[validity]</span>
is <i>notKnown</i>.</div></div>
          , <b>then </b><i>valid</i>;</div><div class="clnumber">1.2 <b>otherwise </b><i>invalid.</i>.</div></div>
        </div><div class="clnumber">2 <b>otherwise </b><i>notKnown</i>.</div></div>
        </dd>
       <dt><a name="e-validation_attempted" id="e-validation_attempted"><span class="propdef">[validation attempted]</span></a></dt><dd>
       The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>it was <a class="termref" href="#key-sva"><span class="arrow">&#xb7;</span>strictly assessed<span class="arrow">&#xb7;</span></a> and neither its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> nor its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> contains an information item (element or attribute
respectively) whose  <span class="anonRef">[validation attempted]</span> is not
<i>full</i>, <b>then </b><i>full</i>;</div><div class="clnumber">2 <b>If </b>it was not <a class="termref" href="#key-sva"><span class="arrow">&#xb7;</span>strictly assessed<span class="arrow">&#xb7;</span></a> and neither its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> nor its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> contains an information item (element or attribute
respectively) whose  <span class="anonRef">[validation attempted]</span> is not
<i>none</i>, <b>then </b><i>none</i>;</div><div class="clnumber">3 <b>otherwise </b><i>partial</i>.</div></div></dd></dl></div></div></div></div><div class="constraintnote"><a name="sic-elt-error-code" id="sic-elt-error-code"/><b>Schema Information Set Contribution:  Validation Failure (Element)</b><br/><div class="constraint">If the local <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validity<span class="arrow">&#xb7;</span></a>, as defined by
<a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> above and/or <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>
below, of an element information item has been assessed,
in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> the item has a
property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-schema_error_code" id="e-schema_error_code"><span class="propdef">[schema error code]</span></a></dt><dd>
       The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the item is not <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>, <b>then </b>a list.  Applications wishing to provide
information as to the reason(s) for the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> failure are encouraged to record one or more
error codes (see <a href="#outcomes">Outcome Tabulations (normative) (&#xa7;C)</a>) herein.</div><div class="clnumber">2 <b>otherwise </b><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div>
      </dd>
     </dl></div></div></div></div><div class="constraintnote"><a name="sic-elt-decl" id="sic-elt-decl"/><b>Schema Information Set Contribution:  Element Declaration</b><br/><div class="constraint">If an element information item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an element
declaration as per <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> then in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>
the element
information item must, at processor option, have either:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-declaration" id="e-declaration"><span class="propdef">[element declaration]</span></a></dt><dd>
       an <a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to the declaration component itself
      </dd>
     </dl></div></div>or<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-nil" id="e-nil"><span class="propdef">[nil]</span></a></dt><dd><i>true</i> if clause <a href="#c-nl">3.2</a> of <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> above is satisfied,
otherwise <i>false</i>
      </dd>
     </dl></div></div></div></div><div class="constraintnote"><a name="sic-eltType" id="sic-eltType"/><b>Schema Information Set Contribution:  Element Validated by Type</b><br/><div class="constraint">If an element information item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a>
as per <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a>, in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> the item has a property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-schema_normalized_value" id="e-schema_normalized_value"><span class="propdef">[schema normalized value]</span></a></dt><dd>
      The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>clause <a href="#c-nl">3.2</a> of <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> and <a href="#sic-eltDefault">Element Default Value (&#xa7;3.3.5)</a> above have
<em>not</em> applied and either the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> is a simple type definition or its <a class="propref" href="#content_type">{content type}</a> is a simple type definition, <b>then </b>
the <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> of the item as <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2 <b>otherwise </b><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div>
</dd>
     </dl></div></div>Furthermore, the item has one of the following alternative sets of properties:<p/>Either<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-type_definition" id="e-type_definition"><span class="propdef">[type definition]</span></a></dt><dd>An
<a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> component itself.</dd>
     <dt><a name="e-member_type_definition" id="e-member_type_definition"><span class="propdef">[member type definition]</span></a></dt><dd>If
and only if that type definition is a
simple type definition with <a class="propref" href="#variety">{variety}</a> <i>union</i>, or
a complex type definition whose <a class="propref" href="#content_type">{content type}</a> is a
simple type
definition with <a class="propref" href="#variety">{variety}</a> <i>union</i>, then an
<a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to that member of the
union's <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> which actually <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> the element item's <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a>.</dd>
     </dl></div></div>or<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-type_definition_type" id="e-type_definition_type"><span class="propdef">[type definition type]</span></a></dt><dd>
<i>simple</i> or <i>complex</i>, depending on the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a>.</dd>
       <dt><a name="e-type_definition_namespace" id="e-type_definition_namespace"><span class="propdef">[type definition namespace]</span></a></dt><dd>The <span class="anonRef">{target namespace}</span> of the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a>.</dd>
        <dt><a name="e-type_definition_anonymous" id="e-type_definition_anonymous"><span class="propdef">[type definition anonymous]</span></a></dt><dd><i>true</i> if the <span class="anonRef">{name}</span> of the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, otherwise <i>false</i>.</dd>
        <dt><a name="e-type_definition_name" id="e-type_definition_name"><span class="propdef">[type definition name]</span></a></dt><dd>The <span class="anonRef">{name}</span> of the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a>, if it is not <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.  If it is
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, schema processors may, but need not,
provide a value unique to the definition.</dd>
       </dl></div></div>If the <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> is a
simple type definition or its <a class="propref" href="#content_type">{content type}</a> is a
simple type definition, and that type
definition has <a class="propref" href="#variety">{variety}</a> <i>union</i>, then calling
         <span class="termdef"><a id="key-amt" name="key-amt">[Definition:]&#xa0;&#xa0;</a> that
member of the <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> which actually
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> the element item's <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> the
<b>actual member type definition</b></span>, there are three additional properties:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
     <dt><a name="e-member_type_definition_namespace" id="e-member_type_definition_namespace"><span class="propdef">[member type definition namespace]</span></a></dt><dd>The <a class="propref" href="#st-target_namespace">{target namespace}</a> of the <a class="termref" href="#key-amt"><span class="arrow">&#xb7;</span>actual
member type definition<span class="arrow">&#xb7;</span></a>.</dd>
     <dt><a name="e-member_type_definition_anonymous" id="e-member_type_definition_anonymous"><span class="propdef">[member type definition anonymous]</span></a></dt><dd><i>true</i> if the <a class="propref" href="#st-name">{name}</a> of the <a class="termref" href="#key-amt"><span class="arrow">&#xb7;</span>actual member type definition<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, otherwise <i>false</i>.</dd>
     <dt><a name="e-member_type_definition_name" id="e-member_type_definition_name"><span class="propdef">[member type definition name]</span></a></dt><dd>The <a class="propref" href="#st-name">{name}</a> of the <a class="termref" href="#key-amt"><span class="arrow">&#xb7;</span>actual member type definition<span class="arrow">&#xb7;</span></a>, if it is not <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.  If it is
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, schema processors may, but need not,
provide a value unique to the definition.</dd>
         </dl></div></div>The first (<a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a>) alternative above is provided for applications such as query
processors which need access to the full range of details about an item's
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, for example the type hierarchy; the second, for lighter-weight
processors for whom representing the significant parts of the type hierarchy as
information items might be a significant burden.<p/>Also, if the declaration has a <a class="propref" href="#e-value_constraint">{value constraint}</a>, the item has a property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-schema_default" id="e-schema_default"><span class="propdef">[schema default]</span></a></dt><dd>
       The <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of
the declaration's <a class="propref" href="#e-value_constraint">{value constraint}</a> value.</dd>
     </dl></div></div>Note that if an element is <a class="termref" href="#key-lva"><span class="arrow">&#xb7;</span>laxly assessed<span class="arrow">&#xb7;</span></a>, then the <a class="propref" href="#e-type_definition">[type definition]</a> and
<a class="propref" href="#e-member_type_definition">[member type definition]</a> properties, or their
alternatives, are based on the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.</div></div><div class="constraintnote"><a name="sic-eltDefault" id="sic-eltDefault"/><b>Schema Information Set Contribution:  Element Default Value</b><br/><div class="constraint">If the local <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validity<span class="arrow">&#xb7;</span></a>, as defined by <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a>
above, of an element information item has been assessed,
in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> the item has a
property:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
<dt><a name="e-schema_specified" id="e-schema_specified"><span class="propdef">[schema specified]</span></a></dt><dd>
The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an element
declaration as per <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> and the <a class="propref" href="#e-value_constraint">{value constraint}</a> is present, but clause <a href="#c-nl">3.2</a>
of <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> above is not satisfied and the item has no element or character information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, <b>then </b>
<i>schema</i>.  Furthermore, the
<a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> has the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="propref" href="#e-value_constraint">{value constraint}</a> value as the
item's <a class="propref" href="#e-schema_normalized_value">[schema normalized value]</a>
property.</div><div class="clnumber">2 <b>otherwise </b><i>infoset</i>.</div></div></dd></dl></div></div></div></div></div><div class="div3">
<h4><a id="coss-element" name="coss-element"/>3.3.6 Constraints on Element Declaration Schema Components</h4><p>All element declarations (see <a href="#cElement_Declarations">Element Declarations (&#xa7;3.3)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="e-props-correct" id="e-props-correct"/><b>Schema Component Constraint:  Element Declaration Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of an element declaration must be as described in
the property tableau in
<a href="#Element_Declaration_details">The Element Declaration Schema Component (&#xa7;3.3.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 If there is a <a class="propref" href="#e-value_constraint">{value constraint}</a>, the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of its value must be
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the <a class="propref" href="#type_definition">{type definition}</a> as defined in <a href="#cos-valid-default">Element Default Valid (Immediate) (&#xa7;3.3.6)</a>.</div><div class="clnumber">3 If there is a non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>
<a class="propref" href="#class_exemplar">{substitution group affiliation}</a>, then <a class="propref" href="#e-scope">{scope}</a> must be <i>global</i>.</div><div class="clnumber">4 If there is a <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>, the <a class="propref" href="#type_definition">{type definition}</a> of the element declaration must
be validly derived from the <a class="propref" href="#type_definition">{type definition}</a> of the <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>, given the value of the <a class="propref" href="#e-final">{substitution group exclusions}</a> of the <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>, as defined in <a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&#xa7;3.4.6)</a> (if the <a class="propref" href="#type_definition">{type definition}</a> is complex) or as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a> (if the <a class="propref" href="#type_definition">{type definition}</a> is simple).
     </div><div class="clnumber">5 If the <a class="propref" href="#type_definition">{type definition}</a> or <a class="propref" href="#type_definition">{type definition}</a>'s <a class="propref" href="#content_type">{content type}</a> is or is derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a> then there must not be a <a class="propref" href="#e-value_constraint">{value constraint}</a>.<div class="note"><b>Note:&#xa0;</b>The use of <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a> as a type
definition for elements goes beyond XML 1.0, and should be avoided if backwards
compatibility is desired.</div></div><div class="clnumber">6 Circular substitution groups are disallowed.  That is, it
must not be possible to return to an element declaration by repeatedly following
the <a class="propref" href="#class_exemplar">{substitution group affiliation}</a> property.</div></div></div></div><p>The following constraints define relations appealed to elsewhere in this specification.</p><div class="constraintnote"><a name="cos-valid-default" id="cos-valid-default"/><b>Schema Component Constraint:  Element Default Valid (Immediate)</b><br/><div class="constraint">For a string to be a valid default with respect to a type definition
    the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the type definition is a simple type definition, <b>then </b>the string must be
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that definition as defined by <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.</div><div class="clnumber">2 <b>If </b>the type definition is a complex type definition, <b>then </b>
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 its <a class="propref" href="#content_type">{content type}</a> must be a simple type definition
or <i>mixed</i>.</div><div class="clnumber">2.2 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.2.1 <b>If </b>the <a class="propref" href="#content_type">{content type}</a> is a simple type definition, <b>then </b>the string must be
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that simple type definition as defined by <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.</div><div class="clnumber">2.2.2 <b>If </b>the  <a class="propref" href="#content_type">{content type}</a> is <i>mixed</i>, <b>then </b>the <a class="propref" href="#content_type">{content type}</a>'s particle must be <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a> as defined by <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a>.</div></div></div></div>
      </div></div>
   </div></div><div class="constraintnote"><a name="cos-equiv-derived-ok-rec" id="cos-equiv-derived-ok-rec"/><b>Schema Component Constraint:  Substitution Group OK (Transitive)</b><br/><div class="constraint">For an element declaration (call it <b>D</b>)  to be validly
substitutable for another element declaration (call it <b>C</b>)
subject to a blocking constraint (a subset of
{<i>substitution</i>, <i>extension</i>, <i>restriction</i>}, the value of
a <a class="propref" href="#e-exact">{disallowed substitutions}</a>)
    <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <b>D</b> and <b>C</b> are the same element declaration.</div><div class="clnumber">2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The blocking constraint does not contain <i>substitution</i>.</div><div class="clnumber">2.2 There is a chain of <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>s from <b>D</b> to
<b>C</b>, that is, either <b>D</b>'s <a class="propref" href="#class_exemplar">{substitution group affiliation}</a> is
<b>C</b>, or <b>D</b>'s <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>'s <a class="propref" href="#class_exemplar">{substitution group affiliation}</a> is <b>C</b>, or . . .</div><div class="clnumber">2.3 The set of all <a class="propref" href="#derivation_method">{derivation method}</a>s
involved in the derivation of <b>D</b>'s <a class="propref" href="#type_definition">{type definition}</a> from
<b>C</b>'s <a class="propref" href="#type_definition">{type definition}</a> does not intersect with the union
of the blocking constraint, <b>C</b>'s <a class="propref" href="#ct-exact">{prohibited substitutions}</a> (if <b>C</b>
is complex, otherwise the empty set) and the
<a class="propref" href="#ct-exact">{prohibited substitutions}</a> (respectively the empty set) of any intermediate <a class="propref" href="#type_definition">{type definition}</a>s
in the derivation of <b>D</b>'s <a class="propref" href="#type_definition">{type definition}</a> from
<b>C</b>'s <a class="propref" href="#type_definition">{type definition}</a>.</div></div></div></div>
    
   </div></div><div class="constraintnote"><a name="cos-equiv-class" id="cos-equiv-class"/><b>Schema Component Constraint:  Substitution Group</b><br/><div class="constraint"><span class="termdef"><a id="key-eq" name="key-eq">[Definition:]&#xa0;&#xa0;</a>Every element
declaration (call this <b>HEAD</b>)
in the <a class="propref" href="#element_declarations">{element declarations}</a> of a schema defines a
<b>substitution group</b>, a subset of those <a class="propref" href="#element_declarations">{element declarations}</a>, as follows:</span><p/>Define <b>P</b>, the potential substitution group for <b>HEAD</b>, as follows:<div class="constraintlist"><div class="clnumber">1 The element declaration itself is in <b>P</b>;</div><div class="clnumber">2 <b>P</b> is closed with respect to <a class="propref" href="#class_exemplar">{substitution group affiliation}</a>, that
is, if any element declaration in the <a class="propref" href="#element_declarations">{element declarations}</a> 
has a <a class="propref" href="#class_exemplar">{substitution group affiliation}</a> in <b>P</b>, then that element is also in <b>P</b> itself.</div></div><b>HEAD</b>'s actual <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution
group<span class="arrow">&#xb7;</span></a> is then the set consisting of each member of <b>P</b>
such that <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 Its <a class="propref" href="#e-abstract">{abstract}</a> is <i>false</i>.</div><div class="clnumber">2 It is validly substitutable for <b>HEAD</b> subject to
<b>HEAD</b>'s <a class="propref" href="#e-exact">{disallowed substitutions}</a> as the
blocking constraint, as defined in <a href="#cos-equiv-derived-ok-rec">Substitution Group OK (Transitive) (&#xa7;3.3.6)</a>.</div></div></div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cElement_Declarations"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cAttributeUse"><img src="next.jpg" alt="next sub-section"/></a></span><a id="Complex_Type_Definitions" name="Complex_Type_Definitions"/>3.4 Complex Type Definitions</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.1 <a href="#Complex_Type_Definition_details">The Complex Type Definition Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.2 <a href="#declare-type">XML Representation of Complex Type Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.3 <a href="#d0e7923">Constraints on XML Representations of Complex Type Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.4 <a href="#formal-complex-type">Complex Type Definition Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.5 <a href="#d0e8328">Complex Type Definition Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.6 <a href="#coss-ct">Constraints on Complex Type Definition Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.4.7 <a href="#d0e9252">Built-in Complex Type Definition</a><br/>
</div><p>Complex Type Definitions provide for:</p><ul><li>Constraining element information items by providing <a href="#Attribute_Declaration">Attribute Declaration (&#xa7;2.2.2.3)</a>s governing the appearance and content of
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a></li><li>Constraining element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> to be empty,
or to conform to a specified element-only or mixed content model, or else
constraining the character information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> to conform to a
specified simple type definition.</li><li>Using the mechanisms of <a href="#Type_Derivation">Type Definition Hierarchy (&#xa7;2.2.1.1)</a> to derive a complex type from another simple or complex type.</li><li>Specifying <a class="termref" href="#gloss-sic"><span class="arrow">&#xb7;</span>post-schema-validation infoset contributions<span class="arrow">&#xb7;</span></a> for elements. </li><li>Limiting the ability to derive additional types from a given complex type.</li><li>Controlling the permission to substitute, in an instance, elements of a derived
type for elements declared in a content model to be of a given complex type.</li></ul><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:complexType name=&quot;PurchaseOrderType&quot;&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name=&quot;shipTo&quot; type=&quot;USAddress&quot;/&gt;
   &lt;xs:element name=&quot;billTo&quot; type=&quot;USAddress&quot;/&gt;
   &lt;xs:element ref=&quot;comment&quot; minOccurs=&quot;0&quot;/&gt;
   &lt;xs:element name=&quot;items&quot;  type=&quot;Items&quot;/&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name=&quot;orderDate&quot; type=&quot;xs:date&quot;/&gt;
 &lt;/xs:complexType&gt;
</pre></div><div class="exampleWrapper">The XML representation of a complex type definition.</div></div><div class="div3">
<h4><a id="Complex_Type_Definition_details" name="Complex_Type_Definition_details"/>3.4.1 The Complex Type Definition Schema Component</h4><p>A complex type definition schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Complex_Type_Definition">Complex Type Definition</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="ct-name" id="ct-name"><span class="propdef">{name}</span></a></dt><dd>
    Optional.  An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="ct-target_namespace" id="ct-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>
    Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="ct-base_type_definition" id="ct-base_type_definition"><span class="propdef">{base type definition}</span></a></dt><dd>
    Either a simple type definition or a complex type definition.
   </dd>
  <dt><a name="derivation_method" id="derivation_method"><span class="propdef">{derivation method}</span></a></dt><dd>
    Either <i>extension</i> or <i>restriction</i>.
   </dd>
   <dt><a name="ct-final" id="ct-final"><span class="propdef">{final}</span></a></dt><dd>
    A subset of {<i>extension</i>, <i>restriction</i>}.
   </dd>
   <dt><a name="ct-abstract" id="ct-abstract"><span class="propdef">{abstract}</span></a></dt><dd>
    A boolean
   </dd>   
    <dt><a name="ct-attribute_declarations" id="ct-attribute_declarations"><span class="propdef">{attribute uses}</span></a></dt><dd>
    A set of attribute uses.
   </dd>
  <dt><a name="ct-attribute_wildcard" id="ct-attribute_wildcard"><span class="propdef">{attribute wildcard}</span></a></dt><dd>
    Optional.  A wildcard.
   </dd>
   <dt><a name="content_type" id="content_type"><span class="propdef">{content type}</span></a></dt><dd>One of <i>empty</i>, a simple type definition or a pair
consisting of a <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>content model<span class="arrow">&#xb7;</span></a> (I.e. a <a href="#Particle">Particle (&#xa7;2.2.3.2)</a>) and one of <i>mixed</i>, <i>element-only</i>.
   </dd>
  <dt><a name="ct-exact" id="ct-exact"><span class="propdef">{prohibited substitutions}</span></a></dt><dd>
    A subset of {<i>extension</i>, <i>restriction</i>}.
   </dd>
    <dt><a name="ct-annotations" id="ct-annotations"><span class="propdef">{annotations}</span></a></dt><dd>A set of annotations.</dd>
</dl>

  </div></div><p>Complex types definitions are identified by their <a class="propref" href="#ct-name">{name}</a> and <a class="propref" href="#ct-target_namespace">{target namespace}</a>.  Except
for anonymous complex type definitions (those with no <a class="propref" href="#ct-name">{name}</a>), since
type definitions (i.e. both simple and complex type definitions taken together) must be uniquely identified within an <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML
Schema<span class="arrow">&#xb7;</span></a>, no complex type definition can have the same name as another
simple or complex type definition.  Complex type <a class="propref" href="#ct-name">{name}</a>s and <a class="propref" href="#ct-target_namespace">{target namespace}</a>s
are provided for reference from
instances (see <a href="#xsi_type">xsi:type (&#xa7;2.6.1)</a>), and for use in the XML
representation of schema components
(specifically in <a class="eltref" href="#element-element">&lt;element&gt;</a>).  See <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a> for the use of component
identifiers when importing one schema into another.</p><div class="note"><b>Note:&#xa0;</b>The <a class="propref" href="#ct-name">{name}</a> of a complex type is not <em>ipso
facto</em> the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[(local) name]</a> of the
  element information items <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by that definition. The connection between a
  name and a type definition is described in <a href="#cElement_Declarations">Element Declarations (&#xa7;3.3)</a>. </div><p>As described in <a href="#Type_Derivation">Type Definition Hierarchy (&#xa7;2.2.1.1)</a>, each complex type is derived from a
<a class="propref" href="#ct-base_type_definition">{base type definition}</a> which is itself either a <a href="#Simple_Type_Definition">Simple Type Definition (&#xa7;2.2.1.2)</a> or a <a href="#Complex_Type_Definition">Complex Type Definition (&#xa7;2.2.1.3)</a>.  <a class="propref" href="#derivation_method">{derivation method}</a> specifies the means of derivation as either <i>extension</i> or <i>restriction</i> (see <a href="#Type_Derivation">Type Definition Hierarchy (&#xa7;2.2.1.1)</a>).</p><p>A complex type with an empty specification for <a class="propref" href="#ct-final">{final}</a> can be used as a
<a class="propref" href="#ct-base_type_definition">{base type definition}</a> for other types derived by either of
extension or restriction; the explicit values <i>extension</i>, and <i>restriction</i> prevent further
derivations by extension and restriction respectively.  If all values are specified, then <span class="termdef"><a id="key-ct-final" name="key-ct-final">[Definition:]&#xa0;&#xa0;</a>the complex type is said to be
<b>final</b>, because no
further derivations are possible</span>.  Finality is <em>not</em>
inherited, that is, a type definition derived by restriction from a type
definition which is final for extension is not itself, in the absence of any
explicit <code>final</code> attribute of its own, final for anything.</p><p>Complex types for which <a class="propref" href="#ct-abstract">{abstract}</a> is <i>true</i> must
not be used as the
<a class="propref" href="#type_definition">{type definition}</a> for the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of element information items.  It follows that they must not be referenced from an
<a href="#xsi_type">xsi:type (&#xa7;2.6.1)</a> attribute in an instance document.  Abstract complex types can be
used as <a class="propref" href="#ct-base_type_definition">{base type definition}</a>s, or even as the <a class="propref" href="#type_definition">{type definition}</a>s of element declarations, provided in every case a concrete derived type definition is used for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, either via <a href="#xsi_type">xsi:type (&#xa7;2.6.1)</a> or the operation of a substitution group.</p><p><a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> are a set of attribute uses.  See <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a>
and <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> for details of attribute <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>.</p><p><a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>s provide a more flexible specification for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of
attributes not explicitly included in <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a>.
Informally, the specific values
of <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a> are interpreted as follows:
</p><ul><li><i>any</i>: <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> can include attributes with any qualified or unqualified name.</li><li>a set whose
members are either namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>: <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> can
include any attribute(s) from the specified namespace(s).  If <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> is included in the set, then any unqualified attributes are (also) allowed.</li><li><i>'not'</i> and a namespace name: <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> cannot include attributes from the specified namespace.</li><li><i>'not'</i> and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>: <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> cannot include
unqualified attributes.</li></ul><p>
See <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a> and <a href="#cvc-wildcard-namespace">Wildcard allows Namespace Name (&#xa7;3.10.4)</a> for formal
details of attribute wildcard <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>. </p><p><a class="propref" href="#content_type">{content type}</a> determines the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of element information items.  Informally:
</p><ul><li>A <a class="propref" href="#content_type">{content type}</a> with the distinguished value <i>empty</i> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validates<span class="arrow">&#xb7;</span></a> elements
with no character or element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</li><li>A <a class="propref" href="#content_type">{content type}</a> which is a <a href="#Simple_Type_Definition">Simple Type Definition (&#xa7;2.2.1.2)</a> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validates<span class="arrow">&#xb7;</span></a>
elements with character-only <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</li><li>An <i>element-only</i> <a class="propref" href="#content_type">{content type}</a> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validates<span class="arrow">&#xb7;</span></a> elements with <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> that
conform to the supplied <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>content model<span class="arrow">&#xb7;</span></a>.</li><li>A <i>mixed</i> <a class="propref" href="#content_type">{content type}</a> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validates<span class="arrow">&#xb7;</span></a> elements whose element <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> (i.e. specifically ignoring other <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> such as character information items)
conform to the supplied <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>content model<span class="arrow">&#xb7;</span></a>.</li></ul><p>
</p><p><a class="propref" href="#ct-exact">{prohibited substitutions}</a> determine
whether an element declaration appearing in a <a class="termref" href="#key-contentModel"><span class="arrow">&#xb7;</span>
content model<span class="arrow">&#xb7;</span></a> is prevented from additionally
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validating<span class="arrow">&#xb7;</span></a> element items with an <a href="#xsi_type">xsi:type (&#xa7;2.6.1)</a> attribute that
identifies a complex type definition derived by <i>extension</i> or
<i>restriction</i> from this definition, or element items in
a substitution group whose type definition is similarly derived:
If <a class="propref" href="#ct-exact">{prohibited substitutions}</a> is empty,
then all such substitutions are allowed, otherwise, the derivation method(s) it
names are disallowed.
</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#ct-annotations">{annotations}</a> property.</p></div><div class="div3">
<h4><a id="declare-type" name="declare-type"/>3.4.2 XML Representation of Complex Type Definitions</h4><p>The XML representation for a complex type definition schema component is a
<a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> element information item.</p><p>The XML representation for complex type definitions with
a simple type definition <a class="propref" href="#content_type">{content type}</a> is significantly different
from that of those with other <a class="propref" href="#content_type">{content type}</a>s, and this
is reflected in the presentation below, which displays first the elements
involved in the first case, then those for the second.  The property mapping is shown once for each case.</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>complexType</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-complexType" id="element-complexType">&lt;complexType</a><br/>&#xa0;&#xa0;abstract = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#boolean">boolean</a>&#xa0;:&#xa0;false<br/>&#xa0;&#xa0;block = 
 
   (<var>#all</var> | List of (<var>extension</var> | <var>restriction</var>))
 <br/>&#xa0;&#xa0;final = 
 
   (<var>#all</var> | List of (<var>extension</var> | <var>restriction</var>))
 <br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;mixed = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#boolean">boolean</a>&#xa0;:&#xa0;false<br/>&#xa0;&#xa0;name = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-simpleContent">simpleContent</a> | <a class="eltref" href="#element-complexContent">complexContent</a> | ((<a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-all">all</a> | <a class="eltref" href="#element-choice">choice</a> | <a class="eltref" href="#element-sequence">sequence</a>)?, ((<a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>)*, <a class="eltref" href="#element-anyAttribute">anyAttribute</a>?))))<br/>&lt;/complexType&gt;</p>
 <div class="reprdep">Whichever alternative for the content of <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> is
chosen, the following property mappings apply:</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Complex_Type_Definition_details">Complex Type Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#ct-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#ct-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> ancestor
element information item if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#ct-abstract">{abstract}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>abstract</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <i>false</i>.</td></tr><tr valign="top"><td><a class="propref" href="#ct-exact">{prohibited substitutions}</a></td><td>A set corresponding to the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>block</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise on the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>blockDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the ancestor <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element
information item, if present, otherwise on the empty string.  Call this the <b>EBV</b> (for effective block value).  Then the value of this property is
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <b>EBV</b> is the empty string, <b>then </b>the empty set;</div><div class="clnumber">2 <b>If </b>the <b>EBV</b> is <code>#all</code>, <b>then </b><code>{</code><i>extension</i>, <i>restriction</i><code>}</code>;</div><div class="clnumber">3 <b>otherwise </b>a set with members drawn from the set above, each being present or
absent depending on whether the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> (which is a list) contains an
equivalently named item.
   <div class="note"><b>Note:&#xa0;</b>Although the <code>blockDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <a class="eltref" href="#element-schema">&lt;schema&gt;</a> may include values other than <i>restriction</i> or<i>extension</i>, those values are ignored in the determination of <a class="propref" href="#ct-exact">{prohibited substitutions}</a> for complex type definitions (they <em>are</em> used elsewhere).</div>
   </div></div>
</td></tr><tr valign="top"><td><a class="propref" href="#ct-final">{final}</a></td><td>As for <a class="propref" href="#ct-exact">{prohibited substitutions}</a> above, but using the
<code>final</code> and <code>finalDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> in place of the
<code>block</code> and <code>blockDefault</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a>.</td></tr><tr valign="top"><td><a class="propref" href="#ct-annotations">{annotations}</a></td><td>The annotations corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, in the <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a> and
<a class="eltref" href="#element-complexContent">&lt;complexContent&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, and in their <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> and <a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
<div class="reprdep">When the <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a> alternative is chosen, the following
elements are relevant, and the remaining property mappings are as below.  Note that either
<a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> or <a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> must be chosen as the
content of <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a>.</div>
 <p class="element-syntax"><a name="element-simpleContent" id="element-simpleContent">&lt;simpleContent</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-simpleContent..restriction">restriction</a> | <a class="eltref" href="#element-simpleContent..extension">extension</a>))<br/>&lt;/simpleContent&gt;</p>
 <p class="element-syntax"><a name="element-simpleContent..restriction" id="element-simpleContent..restriction">&lt;restriction</a><br/>&#xa0;&#xa0;<b>base</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-simpleType">simpleType</a>?, (<a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-minExclusive">minExclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-minInclusive">minInclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-maxExclusive">maxExclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-maxInclusive">maxInclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-totalDigits">totalDigits</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-fractionDigits">fractionDigits</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-length">length</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-minLength">minLength</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-maxLength">maxLength</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-enumeration">enumeration</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-whiteSpace">whiteSpace</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-pattern">pattern</a>)*)?, ((<a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>)*, <a class="eltref" href="#element-anyAttribute">anyAttribute</a>?))<br/>&lt;/restriction&gt;</p>
 <p class="element-syntax"><a name="element-simpleContent..extension" id="element-simpleContent..extension">&lt;extension</a><br/>&#xa0;&#xa0;<b>base</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, ((<a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>)*, <a class="eltref" href="#element-anyAttribute">anyAttribute</a>?))<br/>&lt;/extension&gt;</p> 
 <p class="element-syntax"><a name="element-simpleContent..attributeGroup" id="element-simpleContent..attributeGroup">&lt;attributeGroup</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>ref</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/attributeGroup&gt;</p>
 <p class="element-syntax"><a name="element-anyAttribute" id="element-anyAttribute">&lt;anyAttribute</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;namespace = 
 
   ((<var>##any</var> | <var>##other</var>) | List of 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a> | (<var>##targetNamespace</var> | <var>##local</var>))
 )
 &#xa0;:&#xa0;##any<br/>&#xa0;&#xa0;processContents = (<var>lax</var> | <var>skip</var> | <var>strict</var>)&#xa0;:&#xa0;strict<br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/anyAttribute&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Complex_Type_Definition_details">Complex Type Definition with simple content</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#ct-base_type_definition">{base type definition}</a></td><td>The type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#derivation_method">{derivation method}</a></td><td>If the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> alternative
is chosen, then <i>restriction</i>, otherwise (the <a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> alternative
is chosen) <i>extension</i>.</td></tr><tr valign="top"><td><a class="propref" href="#ct-attribute_declarations">{attribute uses}</a></td><td>A union of sets of attribute uses as follows 
 <div class="constraintlist"><div class="clnumber">1<a name="c-add1" id="c-add1"> </a>The set of attribute uses corresponding to the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any.</div><div class="clnumber">2<a name="c-add2" id="c-add2"> </a>The <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> of the
attribute groups <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of the <code>ref</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any.</div><div class="clnumber">3 if the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is a complex type definition, the
<a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of that type definition, unless
the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> alternative is chosen, in which case some members of
that type definition's <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> may not be
included, namely those whose
<a class="propref" href="#attribute">{attribute declaration}</a>'s
<a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> are the same as
<b>one</b> of the following:<div class="constraintlist"><div class="clnumber">3.1 the <a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> of the <a class="propref" href="#attribute">{attribute declaration}</a> of an attribute use in the set per clause <a href="#c-add1">1</a> or clause <a href="#c-add2">2</a> above;</div><div class="clnumber">3.2 what would have been the <a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> of the <a class="propref" href="#attribute">{attribute declaration}</a> of an attribute use in the set per clause <a href="#c-add1">1</a> above but for the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>use</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the relevant <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> being <i>prohibited</i>.</div></div></div></div>
</td></tr><tr valign="top"><td><a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a></td><td>
 <div class="constraintlist"><div class="clnumber">1 <span class="termdef"><a id="key-law" name="key-law">[Definition:]&#xa0;&#xa0;</a>Let the <b>local wildcard</b> be defined as</span>
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1.1 <b>If </b>there is an <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a> present, <b>then </b>a wildcard based
on the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of the <code>namespace</code> and
<code>processContents</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> and the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, exactly as for the wildcard
corresponding to an <a class="eltref" href="#element-any">&lt;any&gt;</a> element as set out in <a href="#declare-openness">XML Representation of Wildcard Schema Components (&#xa7;3.10.2)</a>;</div><div class="clnumber">1.2 <b>otherwise </b><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div></div><div class="clnumber">2 <span class="termdef"><a id="key-eaw" name="key-eaw">[Definition:]&#xa0;&#xa0;</a>Let the <b>complete wildcard</b> be defined as</span>
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">2.1 <b>If </b>there are no <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> corresponding
to attribute groups with non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a>s, <b>then </b>the <a class="termref" href="#key-law"><span class="arrow">&#xb7;</span>local wildcard<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.2 <b>If </b>there are one or more <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> corresponding
to attribute groups with non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a>s, <b>then </b>
    the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">2.2.1<a name="c-awi1" id="c-awi1"> </a><b>If </b>there is an <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a> present, <b>then </b>a wildcard whose <a class="propref" href="#process_contents">{process contents}</a> and
<a class="propref" href="#w-annotation">{annotation}</a> are those of the <a class="termref" href="#key-law"><span class="arrow">&#xb7;</span>local
wildcard<span class="arrow">&#xb7;</span></a>, and whose <a class="propref" href="#namespace_constraint">{namespace constraint}</a> is the intensional intersection of the <a class="propref" href="#namespace_constraint">{namespace constraint}</a> of the <a class="termref" href="#key-law"><span class="arrow">&#xb7;</span>local wildcard<span class="arrow">&#xb7;</span></a>
and of the <a class="propref" href="#namespace_constraint">{namespace constraint}</a>s of all the non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a>s of the attribute groups corresponding to the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&#xa7;3.10.6)</a>.</div><div class="clnumber">2.2.2<a name="c-awi2" id="c-awi2"> </a><b>If </b>there is no <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a> present, <b>then </b>a wildcard whose properties are as follows:
       <dl><dt class="label"><a class="propref" href="#process_contents">{process contents}</a></dt><dd>The <a class="propref" href="#process_contents">{process contents}</a> of the first non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a> of an attribute group among the
attribute groups corresponding to the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</dd><dt class="label"><a class="propref" href="#namespace_constraint">{namespace constraint}</a></dt><dd>The intensional intersection of the <a class="propref" href="#namespace_constraint">{namespace constraint}</a>s of all the non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a>s of the attribute groups corresponding to the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&#xa7;3.10.6)</a>.</dd><dt class="label"><a class="propref" href="#w-annotation">{annotation}</a></dt><dd><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</dd></dl>
      </div></div>
   </div></div>
</div><div class="clnumber">3 The value is then determined by
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.1 <b>If </b>the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> alternative is chosen, <b>then </b>the <a class="termref" href="#key-eaw"><span class="arrow">&#xb7;</span>complete wildcard<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">3.2 <b>If </b>the <a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> alternative is chosen, <b>then </b>
    <div class="constraintlist"><div class="clnumber">3.2.1 <span class="termdef"><a id="key-baw" name="key-baw">[Definition:]&#xa0;&#xa0;</a>let the <b>base
wildcard</b> be defined as</span>
       the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.2.1.1 <b>If </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is a complex type definition
with an <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>, <b>then </b>that <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>.</div><div class="clnumber">3.2.1.2 <b>otherwise </b><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div>
      </div><div class="clnumber">3.2.2 The value is then determined by
    the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.2.2.1 <b>If </b>the <a class="termref" href="#key-baw"><span class="arrow">&#xb7;</span>base wildcard<span class="arrow">&#xb7;</span></a> is non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>
       the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.2.2.1.1 <b>If </b>the <a class="termref" href="#key-eaw"><span class="arrow">&#xb7;</span>complete wildcard<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>the <a class="termref" href="#key-baw"><span class="arrow">&#xb7;</span>base wildcard<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">3.2.2.1.2<a name="c-awu" id="c-awu"> </a><b>otherwise </b>a wildcard whose <a class="propref" href="#process_contents">{process contents}</a> and
<a class="propref" href="#w-annotation">{annotation}</a> are those of the <a class="termref" href="#key-eaw"><span class="arrow">&#xb7;</span>complete
wildcard<span class="arrow">&#xb7;</span></a>, and whose <a class="propref" href="#namespace_constraint">{namespace constraint}</a> is the
intensional union of the <a class="propref" href="#namespace_constraint">{namespace constraint}</a> of the <a class="termref" href="#key-eaw"><span class="arrow">&#xb7;</span>complete wildcard<span class="arrow">&#xb7;</span></a>
and of the <a class="termref" href="#key-baw"><span class="arrow">&#xb7;</span>base wildcard<span class="arrow">&#xb7;</span></a>, as defined in <a href="#cos-aw-union">Attribute Wildcard Union (&#xa7;3.10.6)</a>.</div></div>
      </div><div class="clnumber">3.2.2.2 <b>otherwise </b>(the <a class="termref" href="#key-baw"><span class="arrow">&#xb7;</span>base
wildcard<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>) the <a class="termref" href="#key-eaw"><span class="arrow">&#xb7;</span>complete
wildcard<span class="arrow">&#xb7;</span></a></div></div></div></div>
   </div></div></div></div>
</td></tr><tr valign="top"><td><a class="propref" href="#content_type">{content type}</a></td><td>
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is a complex type definition whose own <a class="propref" href="#content_type">{content type}</a> is a
simple type definition and the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> alternative is chosen, <b>then </b>starting from either
         <div class="constraintlist"><div class="clnumber">1.1<a name="std1cl" id="std1cl"> </a>the simple type definition corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> among
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> if there
is one;</div><div class="clnumber">1.2<a name="std2cl" id="std2cl"> </a>otherwise (<a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> has no <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> among its
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>), the simple type definition which is the <a class="propref" href="#content_type">{content type}</a> of the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></div></div>
a simple type definition which restricts the simple type definition identified in
clause <a href="#std1cl">1.1</a> or clause <a href="#std2cl">1.2</a> with a
set of facet components corresponding to the appropriate element information
items among the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a>'s
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> (i.e. those which specify facets, if any), as
defined in <a href="#st-restrict-facets">Simple Type Restriction (Facets) (&#xa7;3.14.6)</a>;
   </div><div class="clnumber">2 <b>If </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is a complex type definition
whose own <a class="propref" href="#content_type">{content type}</a> is <i>mixed</i> and a particle which
is <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a>, as defined in <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a> and the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> alternative is chosen, <b>then </b>starting from
         the simple type definition corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> among
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> (which
must be present)
a simple type definition which restricts that simple type definition with a
set of facet components corresponding to the appropriate element information
items among the <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a>'s
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> (i.e. those which specify facets, if any), as
defined in <a href="#st-restrict-facets">Simple Type Restriction (Facets) (&#xa7;3.14.6)</a>;
   </div><div class="clnumber">3 <b>If </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is a complex type definition
(whose own <a class="propref" href="#content_type">{content type}</a> must be a
simple type definition, see below) and the <a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> alternative is chosen, <b>then </b>
the <a class="propref" href="#content_type">{content type}</a> of that complex type definition;</div><div class="clnumber">4 <b>otherwise </b>(the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is a simple type definition and
the <a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> alternative is chosen), then
that simple type definition.</div></div>
</td></tr></tbody></table></td></tr></tbody></table></div>
<div class="reprdep">When the <a class="eltref" href="#element-complexContent">&lt;complexContent&gt;</a> alternative is chosen, the following
elements are relevant (as are the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> and <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a> elements, not repeated here), and the additional property mappings are as below.  Note that either
<a class="eltref" href="#element-complexContent..restriction">&lt;restriction&gt;</a> or <a class="eltref" href="#element-complexContent..extension">&lt;extension&gt;</a> must be chosen as the
content of <a class="eltref" href="#element-complexContent">&lt;complexContent&gt;</a>, but their content models are
different in this case from the case above when they occur as children of
<a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a>.</div>
 <div class="reprdep">The property mappings below are <em>also</em> used in the case where
the third alternative (neither <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a> nor <a class="eltref" href="#element-complexContent">&lt;complexContent&gt;</a>) is chosen.  This case is understood as shorthand for complex content restricting the <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, and the details of the mappings should be modified as necessary.</div>
 <p class="element-syntax"><a name="element-complexContent" id="element-complexContent">&lt;complexContent</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;mixed = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#boolean">boolean</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-complexContent..restriction">restriction</a> | <a class="eltref" href="#element-complexContent..extension">extension</a>))<br/>&lt;/complexContent&gt;</p>
 <p class="element-syntax"><a name="element-complexContent..restriction" id="element-complexContent..restriction">&lt;restriction</a><br/>&#xa0;&#xa0;<b>base</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-all">all</a> | <a class="eltref" href="#element-choice">choice</a> | <a class="eltref" href="#element-sequence">sequence</a>)?, ((<a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>)*, <a class="eltref" href="#element-anyAttribute">anyAttribute</a>?))<br/>&lt;/restriction&gt;</p>
 <p class="element-syntax"><a name="element-complexContent..extension" id="element-complexContent..extension">&lt;extension</a><br/>&#xa0;&#xa0;<b>base</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, ((<a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-all">all</a> | <a class="eltref" href="#element-choice">choice</a> | <a class="eltref" href="#element-sequence">sequence</a>)?, ((<a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>)*, <a class="eltref" href="#element-anyAttribute">anyAttribute</a>?)))<br/>&lt;/extension&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Complex_Type_Definition_details">Complex Type Definition with complex content</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#ct-base_type_definition">{base type definition}</a></td><td>The type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#derivation_method">{derivation method}</a></td><td>If the <a class="eltref" href="#element-complexContent..restriction">&lt;restriction&gt;</a> alternative
is chosen, then <i>restriction</i>, otherwise (the <a class="eltref" href="#element-complexContent..extension">&lt;extension&gt;</a> alternative
is chosen) <i>extension</i>.</td></tr><tr valign="top"><td><a class="propref" href="#ct-attribute_declarations">{attribute uses}</a></td><td>A union of sets of attribute uses as follows: 
 <div class="constraintlist"><div class="clnumber">1<a name="c-ad1" id="c-ad1"> </a>The set of attribute uses corresponding to the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any.</div><div class="clnumber">2<a name="c-ad2" id="c-ad2"> </a>The <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> of the
attribute groups <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of the <code>ref</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any.</div><div class="clnumber">3 The
<a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, unless
the <a class="eltref" href="#element-complexContent..restriction">&lt;restriction&gt;</a> alternative
is chosen, in which case some members of
that type definition's <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> may not be
included, namely those whose
<a class="propref" href="#attribute">{attribute declaration}</a>'s
<a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> are the same as
<b>one</b> of the following:<div class="constraintlist"><div class="clnumber">3.1 The <a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> of the <a class="propref" href="#attribute">{attribute declaration}</a> of an attribute use in the set per clause <a href="#c-ad1">1</a> or clause <a href="#c-ad2">2</a> above;</div><div class="clnumber">3.2 what would have been the <a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> of the <a class="propref" href="#attribute">{attribute declaration}</a> of an attribute use in the set per clause <a href="#c-ad1">1</a> above but for the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>use</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the relevant <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-complexContent..restriction">&lt;restriction&gt;</a> being <i>prohibited</i>.</div></div></div></div>
</td></tr><tr valign="top"><td><a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a></td><td>As above for the <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a> alternative.</td></tr><tr valign="top"><td><a class="propref" href="#content_type">{content type}</a></td><td>
 <div class="constraintlist"><div class="clnumber">1 <span class="termdef"><a id="key-efm" name="key-efm">[Definition:]&#xa0;&#xa0;</a>Let the
<b>effective mixed</b> be </span>
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1.1 <b>If </b>the <code>mixed</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present on <a class="eltref" href="#element-complexContent">&lt;complexContent&gt;</a>, <b>then </b>its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">1.2 <b>If </b>the <code>mixed</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present on
<a class="eltref" href="#element-complexType">&lt;complexType&gt;</a>, <b>then </b>its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">1.3 <b>otherwise </b><code>false</code>.</div></div></div><div class="clnumber">2 
<span class="termdef"><a id="key-exg" name="key-exg">[Definition:]&#xa0;&#xa0;</a>Let the <b>effective
content</b> be </span>the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">2.1<a name="c-cme" id="c-cme"> </a><b>If </b> 
<b>one</b> of the following is true<div class="constraintlist"><div class="clnumber">2.1.1 There is no <a class="eltref" href="#element-group">&lt;group&gt;</a>, <a class="eltref" href="#element-all">&lt;all&gt;</a>, <a class="eltref" href="#element-choice">&lt;choice&gt;</a> or <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a> among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>;</div><div class="clnumber">2.1.2 There is an <a class="eltref" href="#element-all">&lt;all&gt;</a> or <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a> among
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> with no <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of its own excluding <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a>;</div><div class="clnumber">2.1.3 There is a <a class="eltref" href="#element-choice">&lt;choice&gt;</a> among
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> with no <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of its own excluding <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> whose <code>minOccurs</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> has the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> <code>0</code>;</div></div>
, <b>then </b>
    the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">2.1.4 <b>If </b>the <a class="termref" href="#key-efm"><span class="arrow">&#xb7;</span>effective mixed<span class="arrow">&#xb7;</span></a> is <code>true</code>, <b>then </b>A particle whose properties are as follows:
       <dl><dt class="label"><a class="propref" href="#p-min_occurs">{min occurs}</a></dt><dd><code>1</code></dd><dt class="label"><a class="propref" href="#p-max_occurs">{max occurs}</a></dt><dd><code>1</code></dd><dt class="label"><a class="propref" href="#term">{term}</a></dt><dd>A model group whose <a class="propref" href="#compositor">{compositor}</a> is
<i>sequence</i> and whose <a class="propref" href="#particles">{particles}</a> is empty.</dd></dl>.</div><div class="clnumber">2.1.5 <b>otherwise </b><i>empty</i></div></div></div><div class="clnumber">2.2 <b>otherwise </b>the particle corresponding to
the <a class="eltref" href="#element-all">&lt;all&gt;</a>, <a class="eltref" href="#element-choice">&lt;choice&gt;</a>, <a class="eltref" href="#element-group">&lt;group&gt;</a> or
<a class="eltref" href="#element-sequence">&lt;sequence&gt;</a> among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</div></div></div><div class="clnumber">3 
 Then the value of the property is
 the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.1 <b>If </b>the <a class="eltref" href="#element-complexContent..restriction">&lt;restriction&gt;</a> alternative is chosen, <b>then </b>
   the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.1.1 <b>If </b>the <a class="termref" href="#key-exg"><span class="arrow">&#xb7;</span>effective content<span class="arrow">&#xb7;</span></a> is
<i>empty</i> , <b>then </b><i>empty</i>;</div><div class="clnumber">3.1.2<a name="c-ctrp" id="c-ctrp"> </a><b>otherwise </b>a pair consisting of 
    <div class="constraintlist"><div class="clnumber">3.1.2.1<a name="c-mve" id="c-mve"> </a><i>mixed</i> if the <a class="termref" href="#key-efm"><span class="arrow">&#xb7;</span>effective mixed<span class="arrow">&#xb7;</span></a> is <code>true</code>, otherwise <i>elementOnly</i></div><div class="clnumber">3.1.2.2 The <a class="termref" href="#key-exg"><span class="arrow">&#xb7;</span>effective content<span class="arrow">&#xb7;</span></a>.</div></div>
   </div></div>
  </div><div class="clnumber">3.2 <b>If </b>the <a class="eltref" href="#element-complexContent..extension">&lt;extension&gt;</a> alternative is chosen, <b>then </b>
    the appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">3.2.1 <b>If </b>the <a class="termref" href="#key-exg"><span class="arrow">&#xb7;</span>effective
content<span class="arrow">&#xb7;</span></a> is <i>empty</i>, <b>then </b>the
<a class="propref" href="#content_type">{content type}</a> of the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to
by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></div><div class="clnumber">3.2.2 <b>If </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to
by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> has a <a class="propref" href="#content_type">{content type}</a> of <i>empty</i>, <b>then </b>a pair as per clause <a href="#c-ctrp">3.1.2</a> above;</div><div class="clnumber">3.2.3 <b>otherwise </b>a pair of <i>mixed</i> or <i>elementOnly</i> (determined as per
clause <a href="#c-mve">3.1.2.1</a> above) and a particle whose properties are as follows:
       <dl><dt class="label"><a class="propref" href="#p-min_occurs">{min occurs}</a></dt><dd><code>1</code></dd><dt class="label"><a class="propref" href="#p-max_occurs">{max occurs}</a></dt><dd><code>1</code></dd><dt class="label"><a class="propref" href="#term">{term}</a></dt><dd>A model group whose <a class="propref" href="#compositor">{compositor}</a> is
<i>sequence</i> and whose <a class="propref" href="#particles">{particles}</a> are the particle of
the <a class="propref" href="#content_type">{content type}</a> of the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to
by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> followed by the
<a class="termref" href="#key-exg"><span class="arrow">&#xb7;</span>effective content<span class="arrow">&#xb7;</span></a>.</dd></dl></div></div>
   </div></div></div></div>
</td></tr></tbody></table></td></tr></tbody></table></div>
</div></div><div class="note"><b>Note:&#xa0;</b>Aside from the simple coherence requirements enforced above, constraining
type definitions identified as restrictions to actually <em>be</em>
restrictions, that is, to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> a
subset of the items which are
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by their base type definition, is enforced in <a href="#coss-ct">Constraints on Complex Type Definition Schema Components (&#xa7;3.4.6)</a>.</div><div class="note"><b>Note:&#xa0;</b>The <em>only</em> substantive function of the value <i>prohibited</i> for the
<code>use</code> attribute of an <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> is in establishing
the correspondence between a complex type defined by restriction and its XML
representation.  It serves to prevent
inheritance of an identically named attribute use from the <a class="propref" href="#ct-base_type_definition">{base type definition}</a>.  Such an <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> does not correspond to any component, and hence there is no interaction with either explicit or inherited wildcards in the operation of <a href="#formal-complex-type">Complex Type Definition Validation Rules (&#xa7;3.4.4)</a> or <a href="#coss-ct">Constraints on Complex Type Definition Schema Components (&#xa7;3.4.6)</a>.</div><p>Careful consideration of the above concrete syntax reveals that
a type definition need consist of no more than a name, i.e. that
 <code>&lt;complexType name=&quot;anyThing&quot;/&gt;</code> is allowed.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:complexType name=&quot;length1&quot;&gt;
 &lt;xs:simpleContent&gt;
  &lt;xs:extension base=&quot;xs:nonNegativeInteger&quot;&gt;
   &lt;xs:attribute name=&quot;unit&quot; type=&quot;xs:NMTOKEN&quot;/&gt;
  &lt;/xs:extension&gt;
 &lt;/xs:simpleContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name=&quot;width&quot; type=&quot;length1&quot;/&gt;

  &lt;width unit=&quot;cm&quot;&gt;25&lt;/width&gt;

&lt;xs:complexType name=&quot;length2&quot;&gt;
 &lt;xs:complexContent&gt;
  &lt;xs:restriction base=&quot;xs:anyType&quot;&gt;
   &lt;xs:sequence&gt;
    &lt;xs:element name=&quot;size&quot; type=&quot;xs:nonNegativeInteger&quot;/&gt;
    &lt;xs:element name=&quot;unit&quot; type=&quot;xs:NMTOKEN&quot;/&gt;
   &lt;/xs:sequence&gt;
  &lt;/xs:restriction&gt;
 &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name=&quot;depth&quot; type=&quot;length2&quot;/&gt;

  &lt;depth&gt;
   &lt;size&gt;25&lt;/size&gt;&lt;unit&gt;cm&lt;/unit&gt;
  &lt;/depth&gt;

&lt;xs:complexType name=&quot;length3&quot;&gt;
 &lt;xs:sequence&gt;
  &lt;xs:element name=&quot;size&quot; type=&quot;xs:nonNegativeInteger&quot;/&gt;
  &lt;xs:element name=&quot;unit&quot; type=&quot;xs:NMTOKEN&quot;/&gt;
 &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;

</pre></div><div class="exampleWrapper">
    Three approaches to defining a type for length:  one with
character data content constrained by reference to
    a built-in datatype, and one attribute, the other two using two
elements.  <code>length3</code> is the abbreviated alternative to
<code>length2</code>:  they correspond to identical type definition components.
</div></div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:complexType name=&quot;personName&quot;&gt;
 &lt;xs:sequence&gt;
  &lt;xs:element name=&quot;title&quot; minOccurs=&quot;0&quot;/&gt;
  &lt;xs:element name=&quot;forename&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
  &lt;xs:element name=&quot;surname&quot;/&gt;
 &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name=&quot;extendedName&quot;&gt;
 &lt;xs:complexContent&gt;
  &lt;xs:extension base=&quot;personName&quot;&gt;
   &lt;xs:sequence&gt;
    &lt;xs:element name=&quot;generation&quot; minOccurs=&quot;0&quot;/&gt;
   &lt;/xs:sequence&gt;
  &lt;/xs:extension&gt;
 &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name=&quot;addressee&quot; type=&quot;extendedName&quot;/&gt;

  &lt;addressee&gt;
   &lt;forename&gt;Albert&lt;/forename&gt;
   &lt;forename&gt;Arnold&lt;/forename&gt;
   &lt;surname&gt;Gore&lt;/surname&gt;
   &lt;generation&gt;Jr&lt;/generation&gt;
  &lt;/addressee&gt;</pre></div><div class="exampleWrapper">A type definition for personal names, and a definition derived by
extension which adds a single element; an element declaration referencing the
derived definition, and a <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> instance thereof.</div></div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:complexType name=&quot;simpleName&quot;&gt;
 &lt;xs:complexContent&gt;
  &lt;xs:restriction base=&quot;personName&quot;&gt;
   &lt;xs:sequence&gt;
    &lt;xs:element name=&quot;forename&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;
    &lt;xs:element name=&quot;surname&quot;/&gt;
   &lt;/xs:sequence&gt;
  &lt;/xs:restriction&gt;
 &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name=&quot;who&quot; type=&quot;simpleName&quot;/&gt;

   &lt;who&gt;
    &lt;forename&gt;Bill&lt;/forename&gt;
    &lt;surname&gt;Clinton&lt;/surname&gt;
   &lt;/who&gt;</pre></div><div class="exampleWrapper">A simplified type definition
derived from the base type from the previous example by restriction, eliminating one optional daughter and
fixing another to occur exactly once; an element declared by reference to it,
and a <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> instance thereof.</div></div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:complexType name=&quot;paraType&quot; mixed=&quot;true&quot;&gt;
 &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
  &lt;xs:element ref=&quot;emph&quot;/&gt;
  &lt;xs:element ref=&quot;strong&quot;/&gt;
 &lt;/xs:choice&gt;
 &lt;xs:attribute name=&quot;version&quot; type=&quot;xs:number&quot;/&gt;
&lt;/xs:complexType&gt;</pre></div><div class="exampleWrapper">A further illustration of the abbreviated form, with the
<code>mixed</code> attribute appearing on <code>complexType</code> itself.</div></div></div><div class="div3">
<h4><a id="d0e7923" name="d0e7923"/>3.4.3 Constraints on XML Representations of Complex Type Definitions</h4><div class="constraintnote"><a name="src-ct" id="src-ct"/><b>Schema Representation Constraint:  Complex Type Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> element
information items by the schema for schemas, 
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 If the <a class="eltref" href="#element-complexContent">&lt;complexContent&gt;</a> alternative is chosen, the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to
by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> must be a complex type definition;</div><div class="clnumber">2 If the <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a> alternative is chosen, 
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to
by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> must be 
      <b>one</b> of the following:<div class="constraintlist"><div class="clnumber">2.1.1 a complex type
definition whose <a class="propref" href="#content_type">{content type}</a> is a simple type definition;</div><div class="clnumber">2.1.2<a name="cl-esc" id="cl-esc"> </a>only if the
<a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a> alternative is also chosen, a complex type
definition whose <a class="propref" href="#content_type">{content type}</a> is <i>mixed</i> and a particle
which is
  <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a>, as defined in <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a>;</div><div class="clnumber">2.1.3 only if the
<a class="eltref" href="#element-simpleContent..extension">&lt;extension&gt;</a> alternative is also chosen, a simple type definition.</div></div></div><div class="clnumber">2.2 If clause <a href="#cl-esc">2.1.2</a> above is satisfied, then there must be a
<a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-simpleContent..restriction">&lt;restriction&gt;</a>.</div></div>
     <div class="note"><b>Note:&#xa0;</b>Although not explicitly ruled out either here or in <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>, specifying <code>&lt;xs:complexType . . .mixed='true'</code> when the <a class="eltref" href="#element-simpleContent">&lt;simpleContent&gt;</a> alternative is chosen has no effect on the corresponding component, and should be avoided.  This may be ruled out in a subsequent version of this specification.</div></div><div class="clnumber">3 The corresponding complex type definition component must satisfy the conditions set
out in <a href="#coss-ct">Constraints on Complex Type Definition Schema Components (&#xa7;3.4.6)</a>;</div><div class="clnumber">4 If clause <a href="#c-awi1">2.2.1</a> or clause <a href="#c-awi2">2.2.2</a> in the correspondence specification above for <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a> is satisfied, the intensional intersection must be expressible, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&#xa7;3.10.6)</a>.</div></div>
  </div></div></div><div class="div3">
<h4><a id="formal-complex-type" name="formal-complex-type"/>3.4.4 Complex Type Definition Validation Rules</h4><div class="constraintnote"><a name="cvc-complex-type" id="cvc-complex-type"/><b>Validation Rule:  Element Locally Valid (Complex Type)</b><br/><div class="constraint">For an element information item to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a complex type definition
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <a class="propref" href="#ct-abstract">{abstract}</a> is <i>false</i>.</div><div class="clnumber">2 If clause <a href="#c-nl">3.2</a> of <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> did not
apply, then the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.1 <b>If </b>the <a class="propref" href="#content_type">{content type}</a> is <i>empty</i>, <b>then </b>the element
information item has no character or element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>.</div><div class="clnumber">2.2<a name="c-sv2" id="c-sv2"> </a><b>If </b>the <a class="propref" href="#content_type">{content type}</a> is a simple
type definition, <b>then </b>the element information item has no element
information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, and the <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> of the element information item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that simple type definition as defined by <a href="#cvc-simple-type">String Valid (&#xa7;3.14.4)</a>.</div><div class="clnumber">2.3 <b>If </b>the <a class="propref" href="#content_type">{content type}</a> is <i>element-only</i>, <b>then </b>the
element information item has no character information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> other
than those whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.character">[character code]</a> is defined as a <a href="http://www.w3.org/TR/REC-xml#NT-S">white space</a>
in <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>.</div><div class="clnumber">2.4 <b>If </b>the <a class="propref" href="#content_type">{content type}</a> is <i>element-only</i> or
<i>mixed</i>, <b>then </b>the sequence of the element information item's element
information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, taken in order, is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with
respect to the <a class="propref" href="#content_type">{content type}</a>'s particle, as defined in <a href="#cvc-particle">Element Sequence Locally Valid (Particle) (&#xa7;3.9.4)</a>.</div></div></div><div class="clnumber">3<a name="c-aam" id="c-aam"> </a>For each attribute information item in the element information
item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> excepting those whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> is identical to <code>http://www.w3.org/2001/XMLSchema-instance</code> and whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> is one of <code>type</code>, <code>nil</code>, <code>schemaLocation</code> or <code>noNamespaceSchemaLocation</code>,
         the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">3.1<a name="c-ctma" id="c-ctma"> </a><b>If </b>there is among the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> an
attribute use with an <a class="propref" href="#attribute">{attribute declaration}</a> whose
<a class="propref" href="#a-name">{name}</a> matches the attribute information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> and whose <a class="propref" href="#a-target_namespace">{target namespace}</a> is identical to the attribute information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> (where an <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#a-target_namespace">{target namespace}</a> is taken to be identical to a <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> with no value), <b>then </b>the attribute information must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that attribute use as per <a href="#cvc-au">Attribute Locally Valid (Use) (&#xa7;3.5.4)</a>.  In this case the <a class="propref" href="#attribute">{attribute declaration}</a> of that attribute use is the <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> for the attribute information item with respect to <a href="#cvc-assess-attr">Schema-Validity Assessment (Attribute) (&#xa7;3.2.4)</a> and <a href="#sic-a-outcome">Assessment Outcome (Attribute) (&#xa7;3.2.5)</a>.</div><div class="clnumber">3.2<a name="c-avaw" id="c-avaw"> </a><b>otherwise </b>
            <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.2.1 There must be an <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>.</div><div class="clnumber">3.2.2 The
attribute information item must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to it as defined in <a href="#cvc-wildcard">Item Valid (Wildcard) (&#xa7;3.10.4)</a>.</div></div>
           </div></div>
        </div><div class="clnumber">4 The <a class="propref" href="#attribute">{attribute declaration}</a> of each attribute use in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> whose
<a class="propref" href="#required">{required}</a> is <i>true</i> matches one of the attribute information items in the element information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> as per clause <a href="#c-ctma">3.1</a> above.</div><div class="clnumber">5 Let <span class="termdef"><a id="key-ida" name="key-ida">[Definition:]&#xa0;&#xa0;</a>the <b>wild
IDs</b> be the set of all
attribute information item to which clause <a href="#c-avaw">3.2</a> applied and whose <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> resulted in
a <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> of
<i>mustFind</i> or no <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined
declaration<span class="arrow">&#xb7;</span></a> at all, and whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a> and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> resolve (as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&#xa7;3.15.4)</a>) to an attribute declaration whose <a class="propref" href="#a-simple_type_definition">{type definition}</a> is or is derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a></span>. Then
               <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.1 There must be no more than one item in <a class="termref" href="#key-ida"><span class="arrow">&#xb7;</span>wild IDs<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">5.2 If <a class="termref" href="#key-ida"><span class="arrow">&#xb7;</span>wild IDs<span class="arrow">&#xb7;</span></a> is non-empty, there must not be any attribute uses among the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> whose <a class="propref" href="#attribute">{attribute declaration}</a>'s <a class="propref" href="#a-simple_type_definition">{type definition}</a> is or is derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a>.</div></div>
               <div class="note"><b>Note:&#xa0;</b>This clause serves to ensure that even via attribute
wildcards no element has more than one attribute of type ID, and that even when
an element legitimately lacks a declared attribute of type ID, a
wildcard-validated attribute must not supply it.  That is, if an element has a
type whose attribute declarations include one of type ID, it either has that
attribute or no attribute of type ID.</div>
              </div></div>
     <div class="note"><b>Note:&#xa0;</b>When an <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a> is present, this does
<em>not</em> introduce any ambiguity with respect to how attribute
information items for
which an attribute use is present amongst the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> whose name and target namespace match are <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessed<span class="arrow">&#xb7;</span></a>.  In such cases the attribute use <em>always</em> takes precedence, and the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> of such items stands or falls entirely on the basis of the attribute use and its <a class="propref" href="#attribute">{attribute declaration}</a>.  This follows from the details of clause <a href="#c-aam">3</a>.</div></div></div></div><div class="div3">
<h4><a id="d0e8328" name="d0e8328"/>3.4.5 Complex Type Definition Information Set Contributions</h4><div class="constraintnote"><a name="sic-attrDefault" id="sic-attrDefault"/><b>Schema Information Set Contribution:  Attribute Default Value</b><br/><div class="constraint">For each attribute use in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> whose
<a class="propref" href="#required">{required}</a> is <i>false</i> and whose <a class="propref" href="#au-value_constraint">{value constraint}</a> is not <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> but whose <a class="propref" href="#attribute">{attribute declaration}</a> does not match one of the attribute information items in the element information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> as per clause <a href="#c-ctma">3.1</a> of <a href="#cvc-complex-type">Element Locally Valid (Complex Type) (&#xa7;3.4.4)</a> above, the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> has an attribute information item whose properties are as below added to the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> of the element information item.<dl><dt class="label"><a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a></dt><dd>The <a class="propref" href="#attribute">{attribute declaration}</a>'s <a class="propref" href="#a-name">{name}</a>.</dd><dt class="label"><a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a></dt><dd>The <a class="propref" href="#attribute">{attribute declaration}</a>'s <a class="propref" href="#a-target_namespace">{target namespace}</a>.</dd><dt class="label"><a class="propref" href="#a-schema_normalized_value">[schema normalized value]</a></dt><dd>The <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="termref" href="#key-evc"><span class="arrow">&#xb7;</span>effective value constraint<span class="arrow">&#xb7;</span></a> value.</dd><dt class="label"><a class="propref" href="#a-schema_default">[schema default]</a></dt><dd>The <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the <a class="termref" href="#key-evc"><span class="arrow">&#xb7;</span>effective value constraint<span class="arrow">&#xb7;</span></a> value.</dd><dt class="label"><a class="propref" href="#a-validation_context">[validation context]</a></dt><dd>The nearest ancestor element information item with a
<a class="propref" href="#e-schema_information">[schema information]</a> property.</dd><dt class="label"><a class="propref" href="#a-validity">[validity]</a></dt><dd><i>valid</i>.</dd><dt class="label"><a class="propref" href="#a-validation_attempted">[validation attempted]</a></dt><dd><i>full</i>.</dd><dt class="label"><a class="propref" href="#a-schema_specified">[schema specified]</a></dt><dd><i>schema</i>.</dd></dl>The added items should also either have <a class="propref" href="#a-type_definition">[type definition]</a> (and <a class="propref" href="#a-member_type_definition">[member type definition]</a> if appropriate) properties, or their lighter-weight alternatives, as specified in <a href="#sic-attrType">Attribute Validated by Type (&#xa7;3.2.5)</a>.</div></div></div><div class="div3">
<h4><a id="coss-ct" name="coss-ct"/>3.4.6 Constraints on Complex Type Definition Schema Components</h4><p>All complex type definitions (see <a href="#Complex_Type_Definitions">Complex Type Definitions (&#xa7;3.4)</a>) must satisfy the following constraints.</p><div class="constraintnote"><a name="ct-props-correct" id="ct-props-correct"/><b>Schema Component Constraint:  Complex Type Definition Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of a complex type definition must be as described in
the property tableau in
<a href="#Complex_Type_Definition_details">The Complex Type Definition Schema Component (&#xa7;3.4.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 If the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is a simple type
definition, the <a class="propref" href="#derivation_method">{derivation method}</a> must be <i>extension</i>.</div><div class="clnumber">3 Circular definitions are disallowed, except for the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.  That is, it must be possible to reach the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> by repeatedly following the <a class="propref" href="#ct-base_type_definition">{base type definition}</a>.</div><div class="clnumber">4 Two distinct attribute declarations in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> must not have identical <a class="propref" href="#a-name">{name}</a>s and <a class="propref" href="#a-target_namespace">{target namespace}</a>s.</div><div class="clnumber">5 Two distinct attribute declarations in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a>
must not have <a class="propref" href="#a-simple_type_definition">{type definition}</a>s which are or are derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a>.</div></div></div></div><div class="constraintnote"><a name="cos-ct-extends" id="cos-ct-extends"/><b>Schema Component Constraint:  Derivation Valid (Extension)</b><br/><div class="constraint">If the <a class="propref" href="#derivation_method">{derivation method}</a> is <i>extension</i>, 
      the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is a complex type
definition, <b>then </b>
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1 The <a class="propref" href="#ct-final">{final}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must not contain <i>extension</i>.</div><div class="clnumber">1.2<a name="c-cte" id="c-cte"> </a>Its <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> must be a subset
of the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of the complex type
definition itself, that is, for every attribute use in the
<a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of the
<a class="propref" href="#ct-base_type_definition">{base type definition}</a>, there must be an attribute use in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of the complex
type definition itself whose <a class="propref" href="#attribute">{attribute declaration}</a> has the same <a class="propref" href="#a-name">{name}</a>,
<a class="propref" href="#a-target_namespace">{target namespace}</a> and
<a class="propref" href="#a-simple_type_definition">{type definition}</a> as its attribute declaration.</div><div class="clnumber">1.3 If it has an <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>, the complex
type definition must also have one, and the base type definition's <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a class="propref" href="#namespace_constraint">{namespace constraint}</a> must be a subset of the complex type definition's <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a class="propref" href="#namespace_constraint">{namespace constraint}</a>, as defined by <a href="#cos-ns-subset">Wildcard Subset (&#xa7;3.10.6)</a>.</div><div class="clnumber">1.4 
            <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.4.1 The <a class="propref" href="#content_type">{content type}</a> of
the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> and the
<a class="propref" href="#content_type">{content type}</a> of the complex type definition itself must be the
same simple type definition.</div><div class="clnumber">1.4.2 The
<a class="propref" href="#content_type">{content type}</a> of both the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> and the complex type definition itself
must be <i>empty</i>.</div><div class="clnumber">1.4.3 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.4.3.1 The
<a class="propref" href="#content_type">{content type}</a> of the complex type definition itself must
specify a particle.</div><div class="clnumber">1.4.3.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.4.3.2.1 The
<a class="propref" href="#content_type">{content type}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a>
must be <i>empty</i>.</div><div class="clnumber">1.4.3.2.2 
                   <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.4.3.2.2.1 Both
<a class="propref" href="#content_type">{content type}</a>s must be <i>mixed</i> or both must be
<i>element-only</i>.</div><div class="clnumber">1.4.3.2.2.2 The particle of the complex type
definition must be a <a class="termref" href="#cd-model-extension"><span class="arrow">&#xb7;</span>valid
extension<span class="arrow">&#xb7;</span></a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a>'s particle,
as defined in <a href="#cos-particle-extend">Particle Valid (Extension) (&#xa7;3.9.6)</a>.</div></div>
                  </div></div></div></div></div></div>
           </div><div class="clnumber">1.5 It must in principle be possible to derive the complex type
definition in two steps, the first an extension and the
second a restriction (possibly vacuous), from that type definition among its
ancestors whose <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.<div class="note"><b>Note:&#xa0;</b>This requirement ensures that nothing removed by a restriction
is subsequently added back by an extension.  It is trivial to check if the
extension in question is the only extension in its derivation, or if there are
no restrictions bar the first from the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type
definition<span class="arrow">&#xb7;</span></a>.<p/>Constructing the intermediate type definition to check this
constraint is straightforward:  simply re-order the derivation to put all the
extension steps first, then collapse them into a single extension.  If the
resulting definition can be the basis for a valid restriction to the desired
definition, the constraint is satisfied.</div></div></div>
        </div><div class="clnumber">2 <b>If </b>the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is a simple type
definition, <b>then </b>
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The <a class="propref" href="#content_type">{content type}</a> must be the same simple type
definition.</div><div class="clnumber">2.2 The <a class="propref" href="#st-final">{final}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must not contain <i>extension</i>.</div></div>
        </div></div>
      <span class="termdef"><a id="cd-ct-extension" name="cd-ct-extension">[Definition:]&#xa0;&#xa0;</a>If this
constraint <a href="#cos-ct-extends">Derivation Valid (Extension) (&#xa7;3.4.6)</a> holds of a complex type definition, it is a <b>valid
extension</b> of its <a class="propref" href="#ct-base_type_definition">{base type definition}</a></span>.
     </div></div><div class="constraintnote"><a name="derivation-ok-restriction" id="derivation-ok-restriction"/><b>Schema Component Constraint:  Derivation Valid (Restriction, Complex)</b><br/><div class="constraint">If the <a class="propref" href="#derivation_method">{derivation method}</a> is <i>restriction</i>
     <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must be a complex type
definition whose <a class="propref" href="#ct-final">{final}</a> does not contain <i>restriction</i>.</div><div class="clnumber">2<a name="c-rad" id="c-rad"> </a>For each attribute use (call this <b>R</b>) in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a>
        the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.1 <b>If </b>there is an attribute use in the
<a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> (call this <b>B</b>) whose <a class="propref" href="#attribute">{attribute declaration}</a> has the same <a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a>, <b>then </b>
           <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1.1 <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1.1.1 <b>B</b>'s <a class="propref" href="#required">{required}</a> is <i>false</i>.</div><div class="clnumber">2.1.1.2 <b>R</b>'s <a class="propref" href="#required">{required}</a> is <i>true</i>.</div></div></div><div class="clnumber">2.1.2 <b>R</b>'s <a class="propref" href="#attribute">{attribute declaration}</a>'s <a class="propref" href="#a-simple_type_definition">{type definition}</a> must be validly derived from <b>B</b>'s <a class="propref" href="#a-simple_type_definition">{type definition}</a> given the
empty set as defined in
<a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>.</div><div class="clnumber">2.1.3 <span class="termdef"><a id="key-evc" name="key-evc">[Definition:]&#xa0;&#xa0;</a>Let the
<b>effective value constraint</b> of an attribute use be
its <a class="propref" href="#au-value_constraint">{value constraint}</a>, if present, otherwise
its <a class="propref" href="#attribute">{attribute declaration}</a>'s <a class="propref" href="#a-value_constraint">{value constraint}</a>
</span>.  Then <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1.3.1 <b>B</b>'s <a class="termref" href="#key-evc"><span class="arrow">&#xb7;</span>effective value
constraint<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or <i>default</i>.</div><div class="clnumber">2.1.3.2 <b>R</b>'s <a class="termref" href="#key-evc"><span class="arrow">&#xb7;</span>effective value
constraint<span class="arrow">&#xb7;</span></a> is
<i>fixed</i> with the same string as <b>B</b>'s.</div></div>
            </div></div>
          </div><div class="clnumber">2.2 <b>otherwise </b>the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must
have an <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a> and the <a class="propref" href="#a-target_namespace">{target namespace}</a> of the <b>R</b>'s <a class="propref" href="#attribute">{attribute declaration}</a> must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that wildcard, as defined in <a href="#cvc-wildcard-namespace">Wildcard allows Namespace Name (&#xa7;3.10.4)</a>.</div></div>
       </div><div class="clnumber">3<a name="c-rad2" id="c-rad2"> </a>For each attribute use in the <a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of
the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> whose <a class="propref" href="#required">{required}</a> is
<i>true</i>, there must be an attribute use with an <a class="propref" href="#attribute">{attribute declaration}</a> with the same <a class="propref" href="#a-name">{name}</a> and <a class="propref" href="#a-target_namespace">{target namespace}</a> as its <a class="propref" href="#attribute">{attribute declaration}</a> in the
<a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> of the complex type definition
itself whose <a class="propref" href="#required">{required}</a> is
<i>true</i>.</div><div class="clnumber">4<a name="c-raw" id="c-raw"> </a>If there is an <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>, 
            <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">4.1 The
<a class="propref" href="#ct-base_type_definition">{base type definition}</a> must also have one.</div><div class="clnumber">4.2 The complex
type definition's <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a class="propref" href="#namespace_constraint">{namespace constraint}</a> must be a subset of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a>'s <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a class="propref" href="#namespace_constraint">{namespace constraint}</a>, as defined by <a href="#cos-ns-subset">Wildcard Subset (&#xa7;3.10.6)</a>.</div><div class="clnumber">4.3 Unless the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, the complex
type definition's <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a class="propref" href="#process_contents">{process contents}</a> must be identical
to or stronger than the <a class="propref" href="#ct-base_type_definition">{base type definition}</a>'s <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a class="propref" href="#process_contents">{process contents}</a>, where
<i>strict</i> is stronger than <i>lax</i> is stronger than <i>skip</i>.</div></div>
           </div><div class="clnumber">5 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.1 The <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must be the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">5.2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.2.1 The <a class="propref" href="#content_type">{content type}</a> of the complex type definition
must be a simple type definition</div><div class="clnumber">5.2.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.2.2.1 The <a class="propref" href="#content_type">{content type}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must be a simple type
definition from which
the <a class="propref" href="#content_type">{content type}</a> is  validly derived given the empty set as defined in
<a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>.</div><div class="clnumber">5.2.2.2 The <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must be <i>mixed</i>
and have a particle which is <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a> as defined in <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a>.</div></div></div></div></div><div class="clnumber">5.3 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.3.1 The <a class="propref" href="#content_type">{content type}</a> of the complex type itself
must be <i>empty</i>
          </div><div class="clnumber">5.3.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.3.2.1 The <a class="propref" href="#content_type">{content type}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must also be <i>empty</i>.</div><div class="clnumber">5.3.2.2 The <a class="propref" href="#content_type">{content type}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must be <i>elementOnly</i> or <i>mixed</i> and have a particle which is <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a> as defined in <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a>.</div></div></div></div></div><div class="clnumber">5.4 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.4.1 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">5.4.1.1 The <a class="propref" href="#content_type">{content type}</a> of the complex type
definition itself must be <i>element-only</i></div><div class="clnumber">5.4.1.2 The <a class="propref" href="#content_type">{content type}</a> of the complex
type definition itself and of the
<a class="propref" href="#ct-base_type_definition">{base type definition}</a> must be <i>mixed</i></div></div></div><div class="clnumber">5.4.2 The particle of the complex type definition itself
must be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the particle of the <a class="propref" href="#content_type">{content type}</a> of the <a class="propref" href="#ct-base_type_definition">{base type definition}</a> as defined in <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.</div></div></div></div><div class="note"><b>Note:&#xa0;</b>Attempts to derive complex type definitions whose <a class="propref" href="#content_type">{content type}</a> is <i>element-only</i> by restricting
a <a class="propref" href="#ct-base_type_definition">{base type definition}</a> whose <a class="propref" href="#content_type">{content type}</a>
is <i>empty</i> are not ruled out by this clause.  However if the complex
type definition itself has a non-pointless particle it will fail to satisfy
<a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.  On the other hand some type
definitions with pointless <i>element-only</i> content, for example an empty
<a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>, will satisfy <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>
with respect to an <i>empty</i> <a class="propref" href="#ct-base_type_definition">{base type definition}</a>, and
so be valid restrictions.</div></div></div>
     <span class="termdef"><a id="cd-ct-restriction" name="cd-ct-restriction">[Definition:]&#xa0;&#xa0;</a>If this
constraint <a href="#derivation-ok-restriction">Derivation Valid (Restriction, Complex) (&#xa7;3.4.6)</a> holds of a complex type definition, it is a <b>valid
restriction</b> of its <a class="propref" href="#ct-base_type_definition">{base type definition}</a></span>.
  </div></div><div class="note"><b>Note:&#xa0;</b>To restrict a complex type definition with a simple base type definition
to <i>empty</i>, use a simple type definition with a <i>fixed</i> value of
the empty string: this preserves the type information.</div><p>The following constraint defines a relation appealed to elsewhere in this specification.</p><div class="constraintnote"><a name="cos-ct-derived-ok" id="cos-ct-derived-ok"/><b>Schema Component Constraint:  Type Derivation OK (Complex)</b><br/><div class="constraint">For a complex type definition (call it <b>D</b>, for derived) to be validly
derived from a type definition (call this <b>B</b>, for base) given
a subset of {<i>extension</i>, <i>restriction</i>}
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 If <b>B</b> and <b>D</b> are not the same type definition, then
the <a class="propref" href="#derivation_method">{derivation method}</a> of <b>D</b> must not be in the subset.</div><div class="clnumber">2 
       <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1<a name="c-tid" id="c-tid"> </a><b>B</b> and <b>D</b> must be the same type
definition.</div><div class="clnumber">2.2 <b>B</b> must be <b>D</b>'s <a class="propref" href="#ct-base_type_definition">{base type definition}</a>.</div><div class="clnumber">2.3 
          <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.3.1 <b>D</b>'s <a class="propref" href="#ct-base_type_definition">{base type definition}</a> must not be the
<a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.3.2 
             The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.3.2.1 <b>If </b><b>D</b>'s <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is complex, <b>then </b>it must be validly derived
from <b>B</b> given the subset as defined by this constraint.</div><div class="clnumber">2.3.2.2 <b>If </b><b>D</b>'s <a class="propref" href="#ct-base_type_definition">{base type definition}</a> is simple, <b>then </b>it must be validly derived
from <b>B</b> given the subset as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>.</div></div>
            </div></div>
         </div></div>
      </div></div>
   </div></div><div class="note"><b>Note:&#xa0;</b>This constraint is used to check that when someone uses a type in a
context where another type was expected (either via <code>xsi:type</code> or
substitution groups), that the type used is actually derived from the expected
type, and that that derivation does not involve a form of derivation which was
ruled out by the expected type.</div><div class="note"><a id="no-identity" name="no-identity"/><p class="prefix"><b>Note:</b></p>The wording of clause <a href="#c-tid">2.1</a> above appeals to a notion of component identity which
is only incompletely defined by this version of this specification.
In some cases, the wording of this specification does make clear the
rules for component identity.  These cases include:
    <ul><li>When they are both top-level components with the same component type,
namespace name, and local name;</li><li>When they are necessarily the same type definition (for example, when
the two types definitions in question are the type definitions associated with
two attribute or element declarations, which are discovered to be the same
declaration);</li><li>When they are the same by construction (for example, when an element's
type definition defaults to being the same type definition as that of its
substitution-group head or when a complex type definition inherits an attribute
declaration from its base type definition).</li></ul>
   <p/>In other cases two conforming implementations may disagree as to whether
components are identical.</div></div><div class="div3">
<h4><a id="d0e9252" name="d0e9252"/>3.4.7 Built-in Complex Type Definition</h4><p>There is a complex type definition nearly equivalent to the <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> present in every
schema by definition.  It has the following properties:</p><table border="1" class="schemaComp"><thead><tr><th><strong><a name="ur-type-itself" id="ur-type-itself">Complex Type Definition of the Ur-Type</a></strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#ct-name">{name}</a></td><td>anyType</td></tr><tr><td><a class="propref" href="#ct-target_namespace">{target namespace}</a></td><td>http://www.w3.org/2001/XMLSchema</td></tr><tr><td><a class="propref" href="#ct-base_type_definition">{base type definition}</a></td><td>Itself</td></tr><tr><td><a class="propref" href="#derivation_method">{derivation method}</a></td><td><i>restriction</i></td></tr><tr><td><a class="propref" href="#content_type">{content type}</a></td><td>A pair consisting of <i>mixed</i> and a
particle with the following properties: 
       <table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>1</td></tr><tr><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td>1</td></tr><tr><td><a class="propref" href="#term">{term}</a></td><td>a model group with
the following properties:
         <table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#compositor">{compositor}</a></td><td><i>sequence</i></td></tr><tr><td><a class="propref" href="#particles">{particles}</a></td><td>
           a list containing one particle with the following properties:
           <table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>0</td></tr><tr><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i></td></tr><tr><td><a class="propref" href="#term">{term}</a></td><td>a wildcard with the following properties:
             <table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#namespace_constraint">{namespace constraint}</a></td><td><i>any</i></td></tr><tr><td><a class="propref" href="#process_contents">{process contents}</a></td><td><i>lax</i></td></tr></tbody></table>
            </td></tr></tbody></table>
           </td></tr></tbody></table>
        </td></tr></tbody></table>
      </td></tr><tr><td><a class="propref" href="#ct-attribute_declarations">{attribute uses}</a></td><td>The empty set</td></tr><tr><td><a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a></td><td>
        a wildcard with the following properties::
             <table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#namespace_constraint">{namespace constraint}</a></td><td><i>any</i></td></tr><tr><td><a class="propref" href="#process_contents">{process contents}</a></td><td><i>lax</i></td></tr></tbody></table></td></tr><tr><td><a class="propref" href="#ct-final">{final}</a></td><td>The empty set</td></tr><tr><td><a class="propref" href="#ct-exact">{prohibited substitutions}</a></td><td>The empty set</td></tr><tr><td><a class="propref" href="#ct-abstract">{abstract}</a></td><td><i>false</i></td></tr></tbody></table></td></tr></tbody></table><p>The <code>mixed</code> content specification together with the
<i>lax</i> wildcard  and attribute specification produce the defining property for the
<a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, namely that <em>every</em>  type
definition is (eventually) a restriction
of the <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>: its permissions and requirements are
(nearly) the least restrictive possible.</p><div class="note"><b>Note:&#xa0;</b>This specification does not provide an inventory of built-in complex
type definitions for use in user schemas.  A preliminary library of complex type
definitions is available which includes both mathematical (e.g.
<code>rational</code>) and utility (e.g. <code>array</code>) type definitions. 
In particular, there is a <code>text</code> type definition which is recommended for use
as the type definition in element declarations intended for general text
content, as it makes sensible provision for various aspects of
internationalization.  For more details, see the schema document for the type
library at its namespace name: <a href="http://www.w3.org/2001/03/XMLSchema/TypeLibrary.xsd">http://www.w3.org/2001/03/XMLSchema/TypeLibrary.xsd</a>.</div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#Complex_Type_Definitions"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cAttribute_Group_Definitions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cAttributeUse" name="cAttributeUse"/>3.5 AttributeUses</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.5.1 <a href="#AU_details">The Attribute Use Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.5.2 <a href="#d0e9471">XML Representation of Attribute Use Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.5.3 <a href="#d0e9488">Constraints on XML Representations of Attribute Uses</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.5.4 <a href="#d0e9493">Attribute Use Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.5.5 <a href="#d0e9515">Attribute Use Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.5.6 <a href="#coss-attruse">Constraints on Attribute Use Schema Components</a><br/>
</div><p>An attribute use is a utility component which controls the occurrence and
defaulting behavior of attribute declarations.  It plays the same role for
attribute declarations in complex types that particles play for element declarations.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:complexType&gt;
 . . .
 &lt;xs:attribute ref=&quot;xml:lang&quot; use=&quot;required&quot;/&gt;
 &lt;xs:attribute ref=&quot;xml:space&quot; default=&quot;preserve&quot;/&gt;
 &lt;xs:attribute name=&quot;version&quot; type=&quot;xs:number&quot; fixed=&quot;1.0&quot;/&gt;
&lt;/xs:complexType&gt;
     </pre></div><div class="exampleWrapper">XML representations which all involve attribute uses, illustrating some of
the possibilities for controlling occurrence.</div></div><div class="div3">
<h4><a id="AU_details" name="AU_details"/>3.5.1 The Attribute Use Schema Component</h4><p>The attribute use schema component has the following properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Attribute_Use">Attribute Use</a></div><div class="compBody">
   <dl class="props">
    <dt><a name="required" id="required"><span class="propdef">{required}</span></a></dt><dd>A boolean.</dd>
    <dt><a name="attribute" id="attribute"><span class="propdef">{attribute declaration}</span></a></dt><dd>An attribute declaration.</dd>
    <dt><a name="au-value_constraint" id="au-value_constraint"><span class="propdef">{value constraint}</span></a></dt><dd>Optional.  A pair
consisting of a value and one of <i>default</i>, <i>fixed</i>.</dd>   </dl>

  </div></div><p><a class="propref" href="#required">{required}</a> determines whether this use of an attribute
declaration requires an appropriate attribute information item to be present, or
merely allows it.</p><p><a class="propref" href="#attribute">{attribute declaration}</a> provides the attribute declaration itself,
which will in turn determine the simple type definition used.</p><p><a class="propref" href="#au-value_constraint">{value constraint}</a> allows for local specification of a
default or fixed value.  This must be consistent with that of the <a class="propref" href="#attribute">{attribute declaration}</a>, in that if the <a class="propref" href="#attribute">{attribute declaration}</a> specifies a fixed value, the only allowed <a class="propref" href="#au-value_constraint">{value constraint}</a> is the same fixed value.</p></div><div class="div3">
<h4><a id="d0e9471" name="d0e9471"/>3.5.2 XML Representation of Attribute Use Components</h4><p>Attribute uses correspond to all uses of <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> which
allow a <code>use</code> attribute.  These in turn correspond to
<em>two</em> components in each case, an attribute use and its <a class="propref" href="#attribute">{attribute declaration}</a> (although note the latter is not new when the attribute use is a reference to a top-level attribute declaration).  The appropriate mapping is described in <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components (&#xa7;3.2.2)</a>.</p></div><div class="div3">
<h4><a id="d0e9488" name="d0e9488"/>3.5.3 Constraints on XML Representations of Attribute Uses</h4><p>None as such.</p></div><div class="div3">
<h4><a id="d0e9493" name="d0e9493"/>3.5.4 Attribute Use Validation Rules</h4><div class="constraintnote"><a name="cvc-au" id="cvc-au"/><b>Validation Rule:  Attribute Locally Valid (Use)</b><br/><div class="constraint">For an attribute information item to be<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an attribute use its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a>  must match the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-canonical-representation">canonical lexical representation</a> of the attribute use's <a class="propref" href="#au-value_constraint">{value constraint}</a> value, if it is present and 
  <i>fixed</i>.</div></div></div><div class="div3">
<h4><a id="d0e9515" name="d0e9515"/>3.5.5 Attribute Use Information Set Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-attruse" name="coss-attruse"/>3.5.6 Constraints on Attribute Use Schema Components</h4><p>All attribute uses (see <a href="#cAttributeUse">AttributeUses (&#xa7;3.5)</a>) must satisfy the following constraints.</p><div class="constraintnote"><a name="au-props-correct" id="au-props-correct"/><b>Schema Component Constraint:  Attribute Use Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of an attribute use must be as described in
the property tableau in
<a href="#AU_details">The Attribute Use Schema Component (&#xa7;3.5.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 If the <a class="propref" href="#attribute">{attribute declaration}</a> has a <i>fixed</i> <a class="propref" href="#a-value_constraint">{value constraint}</a>, then if the attribute use itself has a <a class="propref" href="#au-value_constraint">{value constraint}</a>, it must also be <i>fixed</i> and its value must match that of the <a class="propref" href="#attribute">{attribute declaration}</a>'s <a class="propref" href="#a-value_constraint">{value constraint}</a>.</div></div></div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cAttributeUse"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cModel_Group_Definitions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cAttribute_Group_Definitions" name="cAttribute_Group_Definitions"/>3.6 Attribute Group Definitions</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.6.1 <a href="#Attribute_Group_Definition_details">The Attribute Group Definition Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.6.2 <a href="#declare-attributeGroup">XML Representation of Attribute Group Definition Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.6.3 <a href="#d0e9758">Constraints on XML Representations of Attribute Group Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.6.4 <a href="#d0e9831">Attribute Group Definition Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.6.5 <a href="#d0e9836">Attribute Group Definition Information Set
Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.6.6 <a href="#coss-attrGroup">Constraints on Attribute Group Definition Schema Components</a><br/>
</div><p>A schema can name a group of attribute declarations so that they may be incorporated as a
group into complex type definitions.</p><p>
Attribute group definitions do not participate in <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> as such, but the
<a class="propref" href="#ct-attribute_declarations">{attribute uses}</a> and <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a> of one or
more complex type definitions may be constructed in whole or part by reference
to an attribute group.  Thus, attribute group definitions provide a
replacement for some uses of XML's
<a href="http://www.w3.org/TR/REC-xml#dt-PE">parameter entity</a> facility.
Attribute group definitions are provided primarily for reference from the XML
representation of schema components
(see <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> and <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a>).
</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:attributeGroup name=&quot;myAttrGroup&quot;&gt;
    &lt;xs:attribute . . ./&gt;
    . . .
&lt;/xs:attributeGroup&gt;

&lt;xs:complexType name=&quot;myelement&quot;&gt;
    . . .
    &lt;xs:attributeGroup ref=&quot;myAttrGroup&quot;/&gt;
&lt;/xs:complexType&gt;
</pre></div><div class="exampleWrapper">XML representations for attribute group definitions. The effect is as if the attribute
declarations in the group were present in the type definition.</div></div><div class="div3">
<h4><a id="Attribute_Group_Definition_details" name="Attribute_Group_Definition_details"/>3.6.1 The Attribute Group Definition Schema Component</h4><p>The attribute group definition schema component has the
following properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Attribute_Group_Definition">Attribute Group Definition</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="ag-name" id="ag-name"><span class="propdef">{name}</span></a></dt><dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="ag-target_namespace" id="ag-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>
    Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="ag-attribute_declarations" id="ag-attribute_declarations"><span class="propdef">{attribute uses}</span></a></dt><dd>
    A set of attribute uses.
   </dd>
  <dt><a name="ag-attribute_wildcard" id="ag-attribute_wildcard"><span class="propdef">{attribute wildcard}</span></a></dt><dd>
    Optional.  A wildcard.
   </dd>
    <dt><a name="ag-annotation" id="ag-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
</dl>

  </div></div><p>Attribute groups are identified by their <a class="propref" href="#ag-name">{name}</a> and <a class="propref" href="#ag-target_namespace">{target namespace}</a>; attribute group identities must be unique within an <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a>.  See <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a> for the use of component
identifiers when importing one schema into another.</p><p><a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> is a set attribute uses, allowing
for local specification of occurrence and default or fixed values.</p><p><a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a> provides for an attribute wildcard to be included in an
attribute group.
See above under <a href="#Complex_Type_Definitions">Complex Type Definitions (&#xa7;3.4)</a> for the
interpretation of
attribute wildcards during <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#ag-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-attributeGroup" name="declare-attributeGroup"/>3.6.2 XML Representation of Attribute Group Definition Schema Components</h4><p>The XML representation for an attribute group definition schema component is an
<a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> element information item.  It provides for
naming a group of attribute declarations and an attribute wildcard for use by reference in the XML representation of
complex type definitions and other attribute group definitions.  The correspondences between the
properties of the information item and
properties of the component it corresponds to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>attributeGroup</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-attributeGroup" id="element-attributeGroup">&lt;attributeGroup</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;name = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;ref = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, ((<a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>)*, <a class="eltref" href="#element-anyAttribute">anyAttribute</a>?))<br/>&lt;/attributeGroup&gt;</p>
  <div class="reprdep">When an <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> appears as a daughter of
<a class="eltref" href="#element-schema">&lt;schema&gt;</a> or <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>, it corresponds to an attribute group definition as
below.  When it appears as a daughter of <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> or <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a>, it does not correspond to any component as such.</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Attribute_Group_Definition_details">Attribute Group Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#ag-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#ag-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td></tr><tr valign="top"><td><a class="propref" href="#ag-attribute_declarations">{attribute uses}</a></td><td>The union of the set of attribute uses corresponding to the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, with the <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> of the
attribute groups <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of the <code>ref</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any.</td></tr><tr valign="top"><td><a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a></td><td>As for the <a class="termref" href="#key-eaw"><span class="arrow">&#xb7;</span>complete wildcard<span class="arrow">&#xb7;</span></a> as described in <a href="#declare-type">XML Representation of Complex Type Definitions (&#xa7;3.4.2)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#ag-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div></div></div><p>The example above illustrates a pattern which
recurs in the XML representation of schemas:  The same element, in this case <code>attributeGroup</code>, serves both to
define and to incorporate by reference.  In the first case the
<code>name</code> attribute is required, in the second the <code>ref</code>
attribute is required, and the element must be empty.  These two are mutually exclusive, and also conditioned
by context:  the defining form, with a <code>name</code>, must occur at the top
level of a schema, whereas the referring form, with a <code>ref</code>, must
occur within a complex type definition or an attribute group definition.</p></div><div class="div3">
<h4><a id="d0e9758" name="d0e9758"/>3.6.3 Constraints on XML Representations of Attribute Group Definitions</h4><div class="constraintnote"><a name="src-attribute_group" id="src-attribute_group"/><b>Schema Representation Constraint:  Attribute Group Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> element
information items by the schema for schemas,
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The corresponding attribute group definition, if any, must satisfy the conditions set
out in <a href="#coss-attrGroup">Constraints on Attribute Group Definition Schema Components (&#xa7;3.6.6)</a>.</div><div class="clnumber">2 If clause <a href="#c-awi1">2.2.1</a> or clause <a href="#c-awi2">2.2.2</a> in the correspondence specification in <a href="#declare-type">XML Representation of Complex Type Definitions (&#xa7;3.4.2)</a> for <a class="propref" href="#ct-attribute_wildcard">{attribute wildcard}</a>, as referenced above, is satisfied, the intensional intersection must be expressible, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&#xa7;3.10.6)</a>.</div><div class="clnumber">3 Circular group reference is disallowed outside <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>.  That is, unless this element information item's parent is <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>, then among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, there must not be an <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a> with <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> which resolves to the component corresponding to this <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a>.  Indirect circularity is also ruled out.  That is, when  <a href="#src-resolve">QName resolution (Schema Document) (&#xa7;3.15.3)</a> is applied to a <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> arising from any <a class="eltref" href="#element-simpleContent..attributeGroup">&lt;attributeGroup&gt;</a>s with a
<code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, it must not be the case that a <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> is
encountered at any depth which resolves to the
component corresponding to this <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a>.</div></div>
  </div></div></div><div class="div3">
<h4><a id="d0e9831" name="d0e9831"/>3.6.4 Attribute Group Definition Validation Rules</h4><p>None as such.</p></div><div class="div3">
<h4><a id="d0e9836" name="d0e9836"/>3.6.5 Attribute Group Definition Information Set
Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-attrGroup" name="coss-attrGroup"/>3.6.6 Constraints on Attribute Group Definition Schema Components</h4><p>All attribute group definitions (see <a href="#cAttribute_Group_Definitions">Attribute Group Definitions (&#xa7;3.6)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="ag-props-correct" id="ag-props-correct"/><b>Schema Component Constraint:  Attribute Group Definition Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of an attribute group definition must be as described in
the property tableau in
<a href="#Attribute_Group_Definition_details">The Attribute Group Definition Schema Component (&#xa7;3.6.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>;</div><div class="clnumber">2 Two distinct members of the <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a>
must not have <a class="propref" href="#attribute">{attribute declaration}</a>s both of whose <a class="propref" href="#a-name">{name}</a>s
match and whose <a class="propref" href="#a-target_namespace">{target namespace}</a>s are identical.</div><div class="clnumber">3 Two distinct members of the <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a>
must not have <a class="propref" href="#attribute">{attribute declaration}</a>s both of whose <a class="propref" href="#a-simple_type_definition">{type definition}</a>s are or are derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a>.</div></div></div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cAttribute_Group_Definitions"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#Model_Groups"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cModel_Group_Definitions" name="cModel_Group_Definitions"/>3.7 Model Group Definitions</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.7.1 <a href="#Model_Group_Definition_details">The Model Group Definition Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.7.2 <a href="#declare-namedModelGroup">XML Representation of Model Group Definition Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.7.3 <a href="#d0e10150">Constraints on XML Representations of Model Group Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.7.4 <a href="#d0e10162">Model Group Definition Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.7.5 <a href="#d0e10167">Model Group Definition Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.7.6 <a href="#coss-groupDef">Constraints on Model Group Definition Schema Components</a><br/>
</div><p>A model group definition associates a name and optional annotations with a <a href="#Model_Group">Model Group (&#xa7;2.2.3.1)</a>.
By reference to the name, the entire model group can be incorporated by reference into a <a class="propref" href="#term">{term}</a>.</p><p>
Model group definitions are provided
primarily for reference from the <a href="#declare-type">XML Representation of Complex Type Definitions (&#xa7;3.4.2)</a> (see <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a>
and <a class="eltref" href="#element-group">&lt;group&gt;</a>).  Thus, model group definitions provide a
replacement for some uses of XML's
<a href="http://www.w3.org/TR/REC-xml#dt-PE">parameter entity</a> facility.
</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:group name=&quot;myModelGroup&quot;&gt;
 &lt;xs:sequence&gt;
  &lt;xs:element ref=&quot;someThing&quot;/&gt;
  . . .
 &lt;/xs:sequence&gt;
&lt;/xs:group&gt;

&lt;xs:complexType name=&quot;trivial&quot;&gt;
 &lt;xs:group ref=&quot;myModelGroup&quot;/&gt;
 &lt;xs:attribute .../&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name=&quot;moreSo&quot;&gt;
 &lt;xs:choice&gt;
  &lt;xs:element ref=&quot;anotherThing&quot;/&gt;
  &lt;xs:group ref=&quot;myModelGroup&quot;/&gt;
 &lt;/xs:choice&gt;
 &lt;xs:attribute .../&gt;
&lt;/xs:complexType&gt;</pre></div><div class="exampleWrapper">A minimal model group is defined and used by reference, first as the whole
content model, then as one alternative in a choice. </div></div><div class="div3">
<h4><a id="Model_Group_Definition_details" name="Model_Group_Definition_details"/>3.7.1 The Model Group Definition Schema Component</h4><p>The model group definition schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Model_Group_Definition">Model Group Definition</a></div><div class="compBody">

   <dl class="props">
  <dt><a name="mg-name" id="mg-name"><span class="propdef">{name}</span></a></dt><dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="mg-target_namespace" id="mg-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>
    Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="model_group" id="model_group"><span class="propdef">{model group}</span></a></dt><dd>
    A model group.
   </dd>
    <dt><a name="mg-annotation" id="mg-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
</dl>
  </div></div><p>Model group definitions are identified by their <a class="propref" href="#mg-name">{name}</a> and <a class="propref" href="#mg-target_namespace">{target namespace}</a>; model group identities must be unique within an <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a>.  See <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a> for the use of component
identifiers when importing one schema into another.</p><p>Model group definitions <em>per se</em> do not participate in <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, but the <a class="propref" href="#term">{term}</a> of
a particle may correspond in whole or in part
to a model group from a model group definition.</p><p><a class="propref" href="#model_group">{model group}</a> is the <a href="#Model_Group">Model Group (&#xa7;2.2.3.1)</a> for which the model group definition provides a name.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#mg-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-namedModelGroup" name="declare-namedModelGroup"/>3.7.2 XML Representation of Model Group Definition Schema Components</h4><p>The XML representation for a model group definition schema component is a
<a class="eltref" href="#element-group">&lt;group&gt;</a> element information item.  It provides for
naming a model group for use by reference in the XML representation of
complex type definitions and model groups.  The correspondences between the
properties of the information item and
properties of the component it corresponds to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>group</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-group" id="element-group">&lt;group</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;maxOccurs = 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a> | <var>unbounded</var>)
 &#xa0;:&#xa0;1<br/>&#xa0;&#xa0;minOccurs = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;name = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;ref = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-all">all</a> | <a class="eltref" href="#element-choice">choice</a> | <a class="eltref" href="#element-sequence">sequence</a>)?)<br/>&lt;/group&gt;</p> 
 <div class="reprdep">If there is a <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> (in which case the
item will have <a class="eltref" href="#element-schema">&lt;schema&gt;</a> or <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a> as parent), then the item corresponds to
a model group definition component with properties as follows:</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Model_Group_Definition_details">Model Group Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#mg-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#mg-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td></tr><tr valign="top"><td><a class="propref" href="#model_group">{model group}</a></td><td>A model group which is the <a class="propref" href="#term">{term}</a> of a
particle corresponding to the <a class="eltref" href="#element-all">&lt;all&gt;</a>, <a class="eltref" href="#element-choice">&lt;choice&gt;</a> or
<a class="eltref" href="#element-sequence">&lt;sequence&gt;</a> among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> (there must be one).</td></tr><tr valign="top"><td><a class="propref" href="#mg-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprdep">Otherwise, the item will have a <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>,
in which case it corresponds to a particle component with properties as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Particle">Particle</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>minOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#term">{term}</a></td><td>The <a class="propref" href="#model_group">{model group}</a> of the
model group definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr></tbody></table></td></tr></tbody></table></div>
</div></div><p>The name of this section is slightly misleading, in that the second, un-named,
case above (with a
<code>ref</code> and no <code>name</code>) is not really a named model
group at all, but a reference to one.  Also note that in the first (named)
case above no reference is made to <code>minOccurs</code> or
<code>maxOccurs</code>: this is because the schema for schemas does not allow
them on the child of <a class="eltref" href="#element-group">&lt;group&gt;</a> when it is named.  This in turn is
because the <a class="propref" href="#p-min_occurs">{min occurs}</a> and <a class="propref" href="#p-max_occurs">{max occurs}</a> of
the particles which <em>refer</em> to the definition are what count.</p><p>Given the constraints on its appearance in content models, an
<a class="eltref" href="#element-all">&lt;all&gt;</a> should only occur as the only item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of a named model group definition or a content model: see <a href="#coss-modelGroup">Constraints on Model Group Schema Components (&#xa7;3.8.6)</a>.</p></div><div class="div3">
<h4><a id="d0e10150" name="d0e10150"/>3.7.3 Constraints on XML Representations of Model Group Definitions</h4><div class="constraintnote"><a name="src-model_group_defn" id="src-model_group_defn"/><b>Schema Representation Constraint:  Model Group Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-group">&lt;group&gt;</a> element
information items by the schema for schemas, the corresponding model group definition, if any, must satisfy the conditions set
out in <a href="#coss-modelGroup">Constraints on Model Group Schema Components (&#xa7;3.8.6)</a>.
  </div></div></div><div class="div3">
<h4><a id="d0e10162" name="d0e10162"/>3.7.4 Model Group Definition Validation Rules</h4><p>None as such.</p></div><div class="div3">
<h4><a id="d0e10167" name="d0e10167"/>3.7.5 Model Group Definition Information Set Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-groupDef" name="coss-groupDef"/>3.7.6 Constraints on Model Group Definition Schema Components</h4><p>All model group definitions (see <a href="#cModel_Group_Definitions">Model Group Definitions (&#xa7;3.7)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="mgd-props-correct" id="mgd-props-correct"/><b>Schema Component Constraint:  Model Group Definition Properties Correct</b><br/><div class="constraint">The values of the properties of a model group definition must be as described in
the property tableau in
<a href="#Model_Group_Definition_details">The Model Group Definition Schema Component (&#xa7;3.7.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cModel_Group_Definitions"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cParticles"><img src="next.jpg" alt="next sub-section"/></a></span><a id="Model_Groups" name="Model_Groups"/>3.8 Model Groups</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.8.1 <a href="#Model_Group_details">The Model Group Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.8.2 <a href="#declare-contentModel">XML Representation of Model Group Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.8.3 <a href="#d0e10427">Constraints on XML Representations of Model Groups</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.8.4 <a href="#d0e10445">Model Group Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.8.5 <a href="#d0e10582">Model Group Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.8.6 <a href="#coss-modelGroup">Constraints on Model Group Schema Components</a><br/>
</div><p>When the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of element information items are not constrained
to be <i>empty</i> or by reference to a simple type definition
(<a href="#Simple_Type_Definitions">Simple Type Definitions (&#xa7;3.14)</a>), the sequence of element
information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> content may be specified in
more detail with a model group.  Because the <a class="propref" href="#term">{term}</a> property of a particle can be a
model group, and model groups contain particles, model groups can indirectly contain other model groups; the grammar for content models
is therefore recursive.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:all&gt;
 &lt;xs:element ref=&quot;cats&quot;/&gt;
 &lt;xs:element ref=&quot;dogs&quot;/&gt;
&lt;/xs:all&gt;

&lt;xs:sequence&gt;
 &lt;xs:choice&gt;
  &lt;xs:element ref=&quot;left&quot;/&gt;
  &lt;xs:element ref=&quot;right&quot;/&gt;
 &lt;/xs:choice&gt;
 &lt;xs:element ref=&quot;landmark&quot;/&gt;
&lt;/xs:sequence&gt;
</pre></div><div class="exampleWrapper">XML representations for the three kinds of model group, the third nested
inside the second.</div></div><div class="div3">
<h4><a id="Model_Group_details" name="Model_Group_details"/>3.8.1 The Model Group Schema Component</h4><p>The model group schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Model_Group">Model Group</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="compositor" id="compositor"><span class="propdef">{compositor}</span></a></dt><dd>
    One of <i>all</i>, <i>choice</i> or <i>sequence</i>.
   </dd>
  <dt><a name="particles" id="particles"><span class="propdef">{particles}</span></a></dt><dd>
    A list of particles
   </dd>
    <dt><a name="amg-annotation" id="amg-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
</dl>
  </div></div><p>specifies a sequential (<i>sequence</i>),
disjunctive (<i>choice</i>) or conjunctive (<i>all</i>) interpretation of
the <a class="propref" href="#particles">{particles}</a>.  This in turn 
determines whether the element
information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by the model group must:
</p><ul><li>(<i>sequence</i>) correspond, in order, to the specified <a class="propref" href="#particles">{particles}</a>;</li><li>(<i>choice</i>) corresponded to exactly one of the specified <a class="propref" href="#particles">{particles}</a>;</li><li>(<i>all</i>) contain all and only exactly zero or one of each
element specified in <a class="propref" href="#particles">{particles}</a>.  The elements can occur in any
order.  In this case, to reduce implementation complexity, <a class="propref" href="#particles">{particles}</a> is restricted to contain local and top-level element
declarations only, with <a class="propref" href="#p-min_occurs">{min occurs}</a><code>=0</code> or
<code>1</code>, <a class="propref" href="#p-max_occurs">{max occurs}</a><code>=1</code>.</li></ul><p>When two or more particles contained directly or indirectly in the
<a class="propref" href="#particles">{particles}</a> of a model group have identically named
element declarations as their 
<a class="propref" href="#term">{term}</a>, the type definitions of those declarations must be the
same.  By 'indirectly' is meant particles within the <a class="propref" href="#particles">{particles}</a>
of a group which is itself the <a class="propref" href="#term">{term}</a> of a directly contained
particle, and so on recursively.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#amg-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-contentModel" name="declare-contentModel"/>3.8.2 XML Representation of Model Group Schema Components</h4><p>The XML representation for a model group schema component is
either an
<a class="eltref" href="#element-all">&lt;all&gt;</a>, a <a class="eltref" href="#element-choice">&lt;choice&gt;</a> or a <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>
element information item.    The correspondences between the
properties of those information items and
properties of the component they correspond to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>all</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-all" id="element-all">&lt;all</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;maxOccurs = <var>1</var>&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;minOccurs = (<var>0</var> | <var>1</var>)&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, <a class="eltref" href="#element-element">element</a>*)<br/>&lt;/all&gt;</p>
 <p class="element-syntax"><a name="element-choice" id="element-choice">&lt;choice</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;maxOccurs = 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a> | <var>unbounded</var>)
 &#xa0;:&#xa0;1<br/>&#xa0;&#xa0;minOccurs = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-element">element</a> | <a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-choice">choice</a> | <a class="eltref" href="#element-sequence">sequence</a> | <a class="eltref" href="#element-any">any</a>)*)<br/>&lt;/choice&gt;</p>
 <p class="element-syntax"><a name="element-sequence" id="element-sequence">&lt;sequence</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;maxOccurs = 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a> | <var>unbounded</var>)
 &#xa0;:&#xa0;1<br/>&#xa0;&#xa0;minOccurs = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-element">element</a> | <a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-choice">choice</a> | <a class="eltref" href="#element-sequence">sequence</a> | <a class="eltref" href="#element-any">any</a>)*)<br/>&lt;/sequence&gt;</p>  
 <div class="reprdep">Each of the above items corresponds to a particle containing a model
group, with properties as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Particle_details">Particle</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>minOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#term">{term}</a></td><td>A model group as given below:</td></tr></tbody></table></td></tr></tbody></table></div><div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Model_Group_details">Model Group</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#compositor">{compositor}</a></td><td>One of <i>all</i>, <i>choice</i>,
<i>sequence</i> depending on the element information item.</td></tr><tr valign="top"><td><a class="propref" href="#particles">{particles}</a></td><td>A sequence of particles
corresponding to all the <a class="eltref" href="#element-all">&lt;all&gt;</a>, <a class="eltref" href="#element-choice">&lt;choice&gt;</a>,
<a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>, <a class="eltref" href="#element-any">&lt;any&gt;</a>,
<a class="eltref" href="#element-group">&lt;group&gt;</a> or <a class="eltref" href="#element-element">&lt;element&gt;</a> items among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>,
in order.</td></tr><tr valign="top"><td><a class="propref" href="#amg-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div>
</div></div></div><div class="div3">
<h4><a id="d0e10427" name="d0e10427"/>3.8.3 Constraints on XML Representations of Model Groups</h4><div class="constraintnote"><a name="src-model_group" id="src-model_group"/><b>Schema Representation Constraint:  Model Group Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-all">&lt;all&gt;</a>, <a class="eltref" href="#element-choice">&lt;choice&gt;</a> and <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a> element
information items by the schema for schemas, the corresponding particle and model group must satisfy the conditions set
out in <a href="#coss-modelGroup">Constraints on Model Group Schema Components (&#xa7;3.8.6)</a> and <a href="#coss-particle">Constraints on Particle Schema Components (&#xa7;3.9.6)</a>.   
   </div></div></div><div class="div3">
<h4><a id="d0e10445" name="d0e10445"/>3.8.4 Model Group Validation Rules</h4><div class="constraintnote"><a name="cvc-model-group" id="cvc-model-group"/><b>Validation Rule:  Element Sequence Valid</b><br/><div class="constraint"><span class="termdef"><a id="key-partition" name="key-partition">[Definition:]&#xa0;&#xa0;</a>Define a
<b>partition</b> of a sequence as a sequence of sub-sequences, some or
all of which may be empty, such that concatenating all the sub-sequences yields
the original sequence</span>.<p/>For a sequence (possibly empty) of element information items to be
locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to
a model group
  the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <a class="propref" href="#compositor">{compositor}</a> is <i>sequence</i>, <b>then </b>there must be a
<a class="termref" href="#key-partition"><span class="arrow">&#xb7;</span>partition<span class="arrow">&#xb7;</span></a> of the sequence into <code>n</code> sub-sequences where <code>n</code> is the length of <a class="propref" href="#particles">{particles}</a> such that each of the sub-sequences in order is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>
with respect to the corresponding particle in the <a class="propref" href="#particles">{particles}</a> as defined in <a href="#cvc-particle">Element Sequence Locally Valid (Particle) (&#xa7;3.9.4)</a>.</div><div class="clnumber">2 <b>If </b>the <a class="propref" href="#compositor">{compositor}</a> is <i>choice</i>, <b>then </b>there must be a
particle among the <a class="propref" href="#particles">{particles}</a> such that the sequence is
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that particle as defined in <a href="#cvc-particle">Element Sequence Locally Valid (Particle) (&#xa7;3.9.4)</a>.</div><div class="clnumber">3 <b>If </b>the <a class="propref" href="#compositor">{compositor}</a> is <i>all</i>, <b>then </b>there must be a
<a class="termref" href="#key-partition"><span class="arrow">&#xb7;</span>partition<span class="arrow">&#xb7;</span></a> of the sequence into <code>n</code> sub-sequences where <code>n</code> is the length of <a class="propref" href="#particles">{particles}</a> such that there is a one-to-one mapping between the sub-sequences and the <a class="propref" href="#particles">{particles}</a> where each sub-sequence is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the corresponding particle as defined in <a href="#cvc-particle">Element Sequence Locally Valid (Particle) (&#xa7;3.9.4)</a>.</div></div>
 <p/>Nothing in the above should be understood as ruling out groups whose
<a class="propref" href="#particles">{particles}</a> is empty:  although no sequence can be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>
with respect to such a group whose <a class="propref" href="#compositor">{compositor}</a> is
<i>choice</i>, the empty sequence <em>is</em> <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect
to empty groups whose <a class="propref" href="#compositor">{compositor}</a> is <i>sequence</i> or <i>all</i>.</div></div><div class="note"><b>Note:&#xa0;</b>The above definition is implicitly non-deterministic, and should not be
taken as a recip&#xe9; for implementations.  Note in particular that when 
<a class="propref" href="#compositor">{compositor}</a> is <i>all</i>, particles is restricted to a list
of local and top-level element declarations (see <a href="#coss-modelGroup">Constraints on Model Group Schema Components (&#xa7;3.8.6)</a>).   A much simpler implementation is possible than would arise from a literal interpretation of the definition above; informally, the content is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> when each declared element occurs exactly once (or at most once, if <a class="propref" href="#p-min_occurs">{min occurs}</a> is <code>0</code>), and each is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to its corresponding declaration.  The elements can occur in arbitrary order.</div></div><div class="div3">
<h4><a id="d0e10582" name="d0e10582"/>3.8.5 Model Group Information Set Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-modelGroup" name="coss-modelGroup"/>3.8.6 Constraints on Model Group Schema Components</h4><p>All model groups (see <a href="#Model_Groups">Model Groups (&#xa7;3.8)</a>) must satisfy the following constraints.</p><div class="constraintnote"><a name="mg-props-correct" id="mg-props-correct"/><b>Schema Component Constraint:  Model Group Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of a model group must be as described in
the property tableau in
<a href="#Model_Group_details">The Model Group Schema Component (&#xa7;3.8.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 Circular groups are disallowed.  That is, within the <a class="propref" href="#particles">{particles}</a> of a group there must not be at any
depth a particle whose <a class="propref" href="#term">{term}</a> is the
group itself.</div></div></div></div><div class="constraintnote"><a name="cos-all-limited" id="cos-all-limited"/><b>Schema Component Constraint:  All Group Limited</b><br/><div class="constraint">When a model group has <a class="propref" href="#compositor">{compositor}</a> <i>all</i>, then
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 It appears only as the value of one or both of the following properties:<div class="constraintlist"><div class="clnumber">1.1 the <a class="propref" href="#model_group">{model group}</a> property of a model group definition.</div><div class="clnumber">1.2 the
<a class="propref" href="#term">{term}</a> property of a particle with <a class="propref" href="#p-max_occurs">{max occurs}</a><code>=1</code>which is part of a pair which constitutes the <a class="propref" href="#content_type">{content type}</a> of a
complex type definition.</div></div></div><div class="clnumber">2 The <a class="propref" href="#p-max_occurs">{max occurs}</a> of all the particles in the
<a class="propref" href="#particles">{particles}</a> of the group must be <code>0</code> or <code>1</code>.</div></div> 
   </div></div><div class="constraintnote"><a name="cos-element-consistent" id="cos-element-consistent"/><b>Schema Component Constraint:  Element Declarations Consistent</b><br/><div class="constraint">If the <a class="propref" href="#particles">{particles}</a> contains, either directly, indirectly
(that is, within the <a class="propref" href="#particles">{particles}</a> of a contained model group,
recursively) or <a class="termref" href="#key-impl-cont"><span class="arrow">&#xb7;</span>implicitly<span class="arrow">&#xb7;</span></a> two or more
element declaration particles with the same <a class="propref" href="#e-name">{name}</a> and
<a class="propref" href="#e-target_namespace">{target namespace}</a>, then all their type definitions must be
the same top-level definition, that is,
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 all their
<a class="propref" href="#type_definition">{type definition}</a>s must have a non-<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#ct-name">{name}</a>.</div><div class="clnumber">2 all their
<a class="propref" href="#type_definition">{type definition}</a>s must have the same <a class="propref" href="#ct-name">{name}</a>.</div><div class="clnumber">3 all their
<a class="propref" href="#type_definition">{type definition}</a>s must have the same <a class="propref" href="#ct-target_namespace">{target namespace}</a>.</div></div>
    <p/><span class="termdef"><a id="key-impl-cont" name="key-impl-cont">[Definition:]&#xa0;&#xa0;</a>A list
of particles <b>implicitly contains</b> an element declaration if a
member of the list contains that
element declaration in its <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution group<span class="arrow">&#xb7;</span></a></span>.</div></div><div class="constraintnote"><a name="cos-nonambig" id="cos-nonambig"/><b>Schema Component Constraint:  Unique Particle Attribution</b><br/><div class="constraint">A content model must be formed such that
during <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of an element information
item sequence, the particle component
contained directly, indirectly or <a class="termref" href="#key-impl-cont"><span class="arrow">&#xb7;</span>implicitly<span class="arrow">&#xb7;</span></a> therein with which to attempt to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> each item in the sequence in turn can be uniquely determined without examining the content or attributes of that item, and without any information about the items in the remainder of the sequence.<div class="note"><b>Note:&#xa0;</b>This constraint reconstructs for XML Schema the equivalent constraints of
<a href="#ref-xml">[XML 1.0 (Second Edition)]</a> and SGML.  Given the presence of element substitution groups and wildcards, the concise expression of this constraint is difficult,
see <a href="#non-ambig">Analysis of the Unique Particle Attribution Constraint (non-normative) (&#xa7;H)</a> for further discussion.<p/>Since this constraint is expressed at the component level, it
applies to content models whose origins (e.g. via type derivation and
references to named model groups) are no longer evident.  So particles at
different points in the content model are always distinct from one another,
even if they originated from the same named model group.</div></div></div><div class="note"><b>Note:&#xa0;</b>Because locally-scoped element declarations may or may not have a
<a class="propref" href="#e-target_namespace">{target namespace}</a>, the scope of declarations is
<em>not</em> relevant to enforcing either of the two preceding constraints.</div><p>The following constraints define relations appealed to elsewhere in this specification.</p><div class="constraintnote"><a name="cos-seq-range" id="cos-seq-range"/><b>Schema Component Constraint:  Effective Total Range (all and sequence)</b><br/><div class="constraint">The effective total range of a particle whose <a class="propref" href="#term">{term}</a> is a group whose <a class="propref" href="#compositor">{compositor}</a> is
<i>all</i> or <i>sequence</i> is a pair of minimum and maximum, as follows: <dl><dt class="label">minimum</dt><dd>The product of the particle's <a class="propref" href="#p-min_occurs">{min occurs}</a> and the
sum of the <a class="propref" href="#p-min_occurs">{min occurs}</a> of every wildcard or element
declaration particle in the group's <a class="propref" href="#particles">{particles}</a> and the minimum
part of the effective total range of each of the group particles in the group's <a class="propref" href="#particles">{particles}</a> (or <code>0</code> if there are no <a class="propref" href="#particles">{particles}</a>).</dd><dt class="label">maximum</dt><dd><i>unbounded</i> if the <a class="propref" href="#p-max_occurs">{max occurs}</a> of any wildcard or element
declaration particle in the group's <a class="propref" href="#particles">{particles}</a> or the maximum
part of the effective total range of any of the group particles in the group's
<a class="propref" href="#particles">{particles}</a> is <i>unbounded</i>, or if any of those is non-zero
and the <a class="propref" href="#p-max_occurs">{max occurs}</a> of the particle itself is <i>unbounded</i>,
otherwise the product of the particle's <a class="propref" href="#p-max_occurs">{max occurs}</a> and the
sum of the <a class="propref" href="#p-max_occurs">{max occurs}</a> of every wildcard or element
declaration particle in the group's <a class="propref" href="#particles">{particles}</a> and the maximum
part of the effective total range of each of the group particles in the group's <a class="propref" href="#particles">{particles}</a> (or <code>0</code> if there are no <a class="propref" href="#particles">{particles}</a>).</dd></dl></div></div><div class="constraintnote"><a name="cos-choice-range" id="cos-choice-range"/><b>Schema Component Constraint:  Effective Total Range (choice)</b><br/><div class="constraint">The effective total range of a particle whose <a class="propref" href="#term">{term}</a> is a group whose <a class="propref" href="#compositor">{compositor}</a> is
<i>choice</i> is a pair of minimum and maximum, as follows:<dl><dt class="label">minimum</dt><dd>The product of the particle's <a class="propref" href="#p-min_occurs">{min occurs}</a> and the
minimum of the <a class="propref" href="#p-min_occurs">{min occurs}</a> of every wildcard or element
declaration particle in the group's <a class="propref" href="#particles">{particles}</a> and the minimum
part of the effective total range of each of the group particles in the group's <a class="propref" href="#particles">{particles}</a> (or <code>0</code> if there are no <a class="propref" href="#particles">{particles}</a>).</dd><dt class="label">maximum</dt><dd><i>unbounded</i> if the <a class="propref" href="#p-max_occurs">{max occurs}</a> of any wildcard or element
declaration particle in the group's <a class="propref" href="#particles">{particles}</a> or the maximum
part of the effective total range of any of the group particles in the group's
<a class="propref" href="#particles">{particles}</a> is <i>unbounded</i>, or if any of those is non-zero
and the <a class="propref" href="#p-max_occurs">{max occurs}</a> of the particle itself is <i>unbounded</i>,
otherwise the product of the particle's <a class="propref" href="#p-max_occurs">{max occurs}</a> and the
maximum of the <a class="propref" href="#p-max_occurs">{max occurs}</a> of every wildcard or element
declaration particle in the group's <a class="propref" href="#particles">{particles}</a> and the maximum
part of the effective total range of each of the group particles in the group's <a class="propref" href="#particles">{particles}</a> (or <code>0</code> if there are no <a class="propref" href="#particles">{particles}</a>).</dd></dl></div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#Model_Groups"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#Wildcards"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cParticles" name="cParticles"/>3.9 Particles</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.9.1 <a href="#Particle_details">The Particle Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.9.2 <a href="#d0e11005">XML Representation of Particle Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.9.3 <a href="#d0e11037">Constraints on XML Representations of Particles</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.9.4 <a href="#d0e11042">Particle Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.9.5 <a href="#d0e11288">Particle Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.9.6 <a href="#coss-particle">Constraints on Particle Schema Components</a><br/>
</div><p>As described in <a href="#Model_Groups">Model Groups (&#xa7;3.8)</a>, particles contribute to the definition
of content models.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:element ref=&quot;egg&quot; minOccurs=&quot;12&quot; maxOccurs=&quot;12&quot;/&gt;

&lt;xs:group ref=&quot;omelette&quot; minOccurs=&quot;0&quot;/&gt;

&lt;xs:any maxOccurs=&quot;unbounded&quot;/&gt;
     </pre></div><div class="exampleWrapper">XML representations which all involve particles, illustrating some of
the possibilities for controlling occurrence.</div></div><div class="div3">
<h4><a id="Particle_details" name="Particle_details"/>3.9.1 The Particle Schema Component</h4><p>The particle schema component has the following properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Particle">Particle</a></div><div class="compBody">
   <dl class="props">
    <dt><a name="p-min_occurs" id="p-min_occurs"><span class="propdef">{min occurs}</span></a></dt><dd>A non-negative
integer.</dd>
    <dt><a name="p-max_occurs" id="p-max_occurs"><span class="propdef">{max occurs}</span></a></dt><dd>Either a non-negative integer
or <i>unbounded</i>.</dd>
    <dt><a name="term" id="term"><span class="propdef">{term}</span></a></dt><dd>One of a model group, a wildcard, or an  element declaration.</dd>
   </dl>

  </div></div><p>In general, multiple element
information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, possibly with intervening character <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> if the content type
is <i>mixed</i>, can be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> with
respect to a single particle.  When the <a class="propref" href="#term">{term}</a> is an element
declaration or wildcard, <a class="propref" href="#p-min_occurs">{min occurs}</a> determines the minimum number of such element <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> that can occur.  The number of such children must be greater than or equal to <a class="propref" href="#p-min_occurs">{min occurs}</a>.  If <a class="propref" href="#p-min_occurs">{min occurs}</a> is <i>0</i>, then occurrence of such children is optional.</p><p>Again, when the <a class="propref" href="#term">{term}</a> is an element
declaration or wildcard, the number of such element <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> must be less than or equal to any numeric specification of
<a class="propref" href="#p-max_occurs">{max occurs}</a>; if <a class="propref" href="#p-max_occurs">{max occurs}</a> is <i>unbounded</i>, then there is no
upper bound on the number of such children.</p><p>When the <a class="propref" href="#term">{term}</a> is a model group, the permitted
occurrence range is determined by a combination of <a class="propref" href="#p-min_occurs">{min occurs}</a> and <a class="propref" href="#p-max_occurs">{max occurs}</a> and the occurrence ranges of the <a class="propref" href="#term">{term}</a>'s <a class="propref" href="#particles">{particles}</a>.</p></div><div class="div3">
<h4><a id="d0e11005" name="d0e11005"/>3.9.2 XML Representation of Particle Components</h4><p>Particles correspond to all three elements (<a class="eltref" href="#element-element">&lt;element&gt;</a> not immediately within <a class="eltref" href="#element-schema">&lt;schema&gt;</a>, <a class="eltref" href="#element-group">&lt;group&gt;</a> not immediately within <a class="eltref" href="#element-schema">&lt;schema&gt;</a> and <a class="eltref" href="#element-any">&lt;any&gt;</a>) which allow <code>minOccurs</code> and <code>maxOccurs</code> attributes.  These in turn correspond to
<em>two</em> components in each case, a particle and its <a class="propref" href="#term">{term}</a>.  The appropriate mapping is described in <a href="#declare-element">XML Representation of Element Declaration Schema Components (&#xa7;3.3.2)</a>, <a href="#declare-contentModel">XML Representation of Model Group Schema Components (&#xa7;3.8.2)</a> and <a href="#declare-openness">XML Representation of Wildcard Schema Components (&#xa7;3.10.2)</a> respectively.</p></div><div class="div3">
<h4><a id="d0e11037" name="d0e11037"/>3.9.3 Constraints on XML Representations of Particles</h4><p>None as such.</p></div><div class="div3">
<h4><a id="d0e11042" name="d0e11042"/>3.9.4 Particle Validation Rules</h4><div class="constraintnote"><a name="cvc-particle" id="cvc-particle"/><b>Validation Rule:  Element Sequence Locally Valid (Particle)</b><br/><div class="constraint">For a sequence (possibly empty) of element information items to be
locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a>
with respect to a particle
 the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-pw" id="c-pw"> </a><b>If </b>the <a class="propref" href="#term">{term}</a> is a wildcard, <b>then </b>
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1 The length of the sequence must be greater than or equal to the <a class="propref" href="#p-min_occurs">{min occurs}</a>.</div><div class="clnumber">1.2 If <a class="propref" href="#p-max_occurs">{max occurs}</a> is a number, the length of the sequence must be less than or equal to the <a class="propref" href="#p-max_occurs">{max occurs}</a>.</div><div class="clnumber">1.3 Each element
information item in the sequence must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the wildcard as defined by <a href="#cvc-wildcard">Item Valid (Wildcard) (&#xa7;3.10.4)</a>.</div></div>
      </div><div class="clnumber">2<a name="c-cdde" id="c-cdde"> </a><b>If </b>the <a class="propref" href="#term">{term}</a> is an element declaration, <b>then </b>
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The length of the sequence must be greater than or equal to the <a class="propref" href="#p-min_occurs">{min occurs}</a>.</div><div class="clnumber">2.2 If <a class="propref" href="#p-max_occurs">{max occurs}</a> is a number, the length of the sequence must be less than or equal to the <a class="propref" href="#p-max_occurs">{max occurs}</a>.</div><div class="clnumber">2.3 For each element
information item in the sequence
        <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.3.1 The element declaration is local (i.e. its
<a class="propref" href="#e-scope">{scope}</a> must not be <i>global</i>), its <a class="propref" href="#e-abstract">{abstract}</a> is <i>false</i>, the element information
item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> is identical to the element declaration's <a class="propref" href="#e-target_namespace">{target namespace}</a> (where an <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#e-target_namespace">{target namespace}</a> is taken to be identical to a <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> with no value) and the element information
item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[local
name]</a> matches the element declaration's <a class="propref" href="#e-name">{name}</a>.<p/>In this case the element declaration is the <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> for the element information item with respect to <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> and <a href="#sic-e-outcome">Assessment Outcome (Element) (&#xa7;3.3.5)</a>.</div><div class="clnumber">2.3.2 The element declaration is top-level (i.e. its
<a class="propref" href="#e-scope">{scope}</a> is <i>global</i>), <a class="propref" href="#e-abstract">{abstract}</a> is <i>false</i>, the element information
item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> is identical to the element declaration's <a class="propref" href="#e-target_namespace">{target namespace}</a> (where an <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> <a class="propref" href="#e-target_namespace">{target namespace}</a> is taken to be identical to a <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> with no value) and the element information
item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[local
name]</a> matches the element declaration's <a class="propref" href="#e-name">{name}</a>.<p/>In this case the element declaration is the <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> for the element information item with respect to <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> and <a href="#sic-e-outcome">Assessment Outcome (Element) (&#xa7;3.3.5)</a>.</div><div class="clnumber">2.3.3<a name="c-psg" id="c-psg"> </a>The element declaration is top-level (i.e. its
<a class="propref" href="#e-scope">{scope}</a> is <i>global</i>), its <a class="propref" href="#e-exact">{disallowed substitutions}</a> does not contain <i>substitution</i>,
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[local
]</a> and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> of the element information item resolve to an element declaration, as
defined in <a href="#cvc-resolve-instance">QName resolution (Instance) (&#xa7;3.15.4)</a> -- <span class="termdef"><a id="key-eqd" name="key-eqd">[Definition:]&#xa0;&#xa0;</a>call this declaration the <b>substituting declaration</b></span> and the <a class="termref" href="#key-eqd"><span class="arrow">&#xb7;</span>substituting declaration<span class="arrow">&#xb7;</span></a> together with the particle's element declaration's <a class="propref" href="#e-exact">{disallowed substitutions}</a> is validly substitutable for the particle's element declaration as defined in <a href="#cos-equiv-derived-ok-rec">Substitution Group OK (Transitive) (&#xa7;3.3.6)</a>.<p/>In this case the <a class="termref" href="#key-eqd"><span class="arrow">&#xb7;</span>substituting declaration<span class="arrow">&#xb7;</span></a> is the <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> for the element information item with respect to <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> and <a href="#sic-e-outcome">Assessment Outcome (Element) (&#xa7;3.3.5)</a>.</div></div></div></div>
       </div><div class="clnumber">3 <b>If </b>the <a class="propref" href="#term">{term}</a> is a model group, <b>then </b>
     <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1 There is a <a class="termref" href="#key-partition"><span class="arrow">&#xb7;</span>partition<span class="arrow">&#xb7;</span></a> of the sequence into <code>n</code> sub-sequences such that <code>n</code> is greater than or equal to <a class="propref" href="#p-min_occurs">{min occurs}</a>.</div><div class="clnumber">3.2 If <a class="propref" href="#p-max_occurs">{max occurs}</a> is a number, <code>n</code>
must be less than or equal to <a class="propref" href="#p-max_occurs">{max occurs}</a>.</div><div class="clnumber">3.3 Each sub-sequence in the <a class="termref" href="#key-partition"><span class="arrow">&#xb7;</span>partition<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to that model group as defined in <a href="#cvc-model-group">Element Sequence Valid (&#xa7;3.8.4)</a>.</div></div>
    </div></div>
 <div class="note"><b>Note:&#xa0;</b>Clauses clause <a href="#c-pw">1</a> and clause <a href="#c-psg">2.3.3</a> do not
interact: an element information item validatable by a declaration with a substitution group head in a
different namespace is <em>not</em> validatable by a wildcard which accepts
the head's namespace but not its own.</div></div></div></div><div class="div3">
<h4><a id="d0e11288" name="d0e11288"/>3.9.5 Particle Information Set Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-particle" name="coss-particle"/>3.9.6 Constraints on Particle Schema Components</h4><p>All particles (see <a href="#cParticles">Particles (&#xa7;3.9)</a>) must satisfy the following constraints.</p><div class="constraintnote"><a name="p-props-correct" id="p-props-correct"/><b>Schema Component Constraint:  Particle Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of a particle must be as described in
the property tableau in
<a href="#Particle_details">The Particle Schema Component (&#xa7;3.9.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 If <a class="propref" href="#p-max_occurs">{max occurs}</a> is not <i>unbounded</i>, that is, it has a
numeric value, then
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 <a class="propref" href="#p-min_occurs">{min occurs}</a> must not be greater than <a class="propref" href="#p-max_occurs">{max occurs}</a>.</div><div class="clnumber">2.2 <a class="propref" href="#p-max_occurs">{max occurs}</a> must be greater than or equal to 1.</div></div>
   </div></div></div></div><p>The following constraints define relations appealed to elsewhere in this specification.</p><div class="constraintnote"><a name="cos-particle-extend" id="cos-particle-extend"/><b>Schema Component Constraint:  Particle Valid (Extension)</b><br/><div class="constraint"><span class="termdef"><a id="cd-model-extension" name="cd-model-extension">[Definition:]&#xa0;&#xa0;</a>For a particle
(call it <b>E</b>, for extension) to be a <b>valid extension</b> of
another particle (call it <b>B</b>, for base)</span>
    <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 They are the same particle.</div><div class="clnumber">2 <b>E</b>'s <a class="propref" href="#p-min_occurs">{min occurs}</a>=<a class="propref" href="#p-max_occurs">{max occurs}</a><code>=1</code> and its <a class="propref" href="#term">{term}</a> is a <i>sequence</i> group whose <a class="propref" href="#particles">{particles}</a>' first member is a particle all of whose properties, recursively, are identical to those of <b>B</b>, with the exception of <span class="anonRef">{annotation}</span> properties.</div></div>
   </div></div><p>The approach to defining a type by restricting another type definition
set out here is designed to ensure that types defined in this way are
guaranteed to be a subset of the type they restrict.  This is accomplished by
requiring a clear mapping between the components of the base type definition and the
restricting type definition.  Permissible mappings are set out below via a set
of recursive definitions, bottoming out in the obvious cases, e.g. where an
(restricted) element declaration corresponds to another (base) element
declaration with the same name and type but the same or wider range of occurrence.</p><div class="note"><b>Note:&#xa0;</b>The structural correspondence approach to guaranteeing the subset
relation set out here is necessarily verbose, but has the advantage of being
checkable in a straightforward way.  The working group solicits feedback on how
difficult this is in practice, and on whether other approaches are found to be viable.</div><div class="constraintnote"><a name="cos-particle-restrict" id="cos-particle-restrict"/><b>Schema Component Constraint:  Particle Valid (Restriction)</b><br/><div class="constraint"><span class="termdef"><a id="cd-model-restriction" name="cd-model-restriction">[Definition:]&#xa0;&#xa0;</a>For a particle (call it <b>R</b>, for restriction) to be a <b>valid restriction</b> of
another particle (call it <b>B</b>, for base)</span>
    <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 They are the same particle.</div><div class="clnumber">2 depending on the kind of particle, per the table below, with the
qualifications that 
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 Any top-level element declaration particle (in <b>R</b> or
<b>B</b>) which is the
<a class="propref" href="#class_exemplar">{substitution group affiliation}</a> of one or more other element declarations
and whose <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution group<span class="arrow">&#xb7;</span></a>
contains at least one element declaration other than itself is
treated as if it were a <i>choice</i> group whose <a class="propref" href="#p-min_occurs">{min occurs}</a> and <a class="propref" href="#p-max_occurs">{max occurs}</a> are those of the particle, and whose <a class="propref" href="#particles">{particles}</a> consists of
one particle with <a class="propref" href="#p-min_occurs">{min occurs}</a> and <a class="propref" href="#p-max_occurs">{max occurs}</a> of <code>1</code>  for each of the declarations in its <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution group<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.2 Any pointless occurrences of <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>, <a class="eltref" href="#element-choice">&lt;choice&gt;</a> or <a class="eltref" href="#element-all">&lt;all&gt;</a> are ignored, where pointlessness is understood as follows:
          <dl><dt class="label"><a class="eltref" href="#element-sequence">&lt;sequence&gt;</a></dt><dd><b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.1 <a class="propref" href="#particles">{particles}</a> is empty.</div><div class="clnumber">2.2.2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.2.1 The particle within which this <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>
appears has <a class="propref" href="#p-max_occurs">{max occurs}</a> and <a class="propref" href="#p-min_occurs">{min occurs}</a> of
<code>1</code>.</div><div class="clnumber">2.2.2.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.2.2.1 The <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>'s <a class="propref" href="#particles">{particles}</a>
has only one member.</div><div class="clnumber">2.2.2.2.2 The particle within which this <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>
appears is itself among the <a class="propref" href="#particles">{particles}</a> of a <a class="eltref" href="#element-sequence">&lt;sequence&gt;</a>.</div></div></div></div></div></div></dd><dt class="label"><a class="eltref" href="#element-all">&lt;all&gt;</a></dt><dd><b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.1 <a class="propref" href="#particles">{particles}</a> is empty.</div><div class="clnumber">2.2.2 <a class="propref" href="#particles">{particles}</a> has only one member.</div></div></dd><dt class="label"><a class="eltref" href="#element-choice">&lt;choice&gt;</a></dt><dd><b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.1 <a class="propref" href="#particles">{particles}</a> is empty and the
particle within which this <a class="eltref" href="#element-choice">&lt;choice&gt;</a> appears has <a class="propref" href="#p-min_occurs">{min occurs}</a> of <code>0</code>.</div><div class="clnumber">2.2.2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.2.1 The particle within which this <a class="eltref" href="#element-choice">&lt;choice&gt;</a>
appears has <a class="propref" href="#p-max_occurs">{max occurs}</a> and <a class="propref" href="#p-min_occurs">{min occurs}</a> of
<code>1</code>.</div><div class="clnumber">2.2.2.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.2.2.1 The <a class="eltref" href="#element-choice">&lt;choice&gt;</a>'s <a class="propref" href="#particles">{particles}</a>
has only one member.</div><div class="clnumber">2.2.2.2.2 The particle within which this <a class="eltref" href="#element-choice">&lt;choice&gt;</a>
appears is itself among the <a class="propref" href="#particles">{particles}</a> of a <a class="eltref" href="#element-choice">&lt;choice&gt;</a>.</div></div></div></div></div></div></dd></dl>
         </div></div>
       <table cellpadding="3" border="2" class="restricts"><thead><tr><th colspan="2"/><th colspan="6"><strong>Base Particle</strong></th></tr></thead><tbody><tr><th colspan="2"/><th>elt</th><th>any</th><th>all</th><th>choice</th><th>sequence</th></tr><tr><th rowspan="5">Derived Particle</th><th>elt</th><td><a href="#rcase-NameAndTypeOK">NameAnd- TypeOK</a></td><td><a href="#rcase-NSCompat">NSCompat</a></td><td><a href="#rcase-RecurseAsIfGroup">Recurse- AsIfGroup</a></td><td><a href="#rcase-RecurseAsIfGroup">Recurse- AsIfGroup</a></td><td><a href="#rcase-RecurseAsIfGroup">RecurseAs- IfGroup</a></td></tr><tr><th>any</th><td>Forbidden</td><td><a href="#rcase-NSSubset">NSSubset</a></td><td>Forbidden</td><td>Forbidden</td><td>Forbidden</td></tr><tr><th>all</th><td>Forbidden</td><td><a href="#rcase-NSRecurseCheckCardinality">NSRecurse- CheckCardinality</a></td><td><a href="#rcase-Recurse">Recurse</a></td><td>Forbidden</td><td>Forbidden</td></tr><tr><th>choice</th><td>Forbidden</td><td><a href="#rcase-NSRecurseCheckCardinality">NSRecurse- CheckCardinality</a></td><td>Forbidden</td><td><a href="#rcase-RecurseLax">RecurseLax</a></td><td>Forbidden</td></tr><tr><th>seq- uence</th><td>Forbidden</td><td><a href="#rcase-NSRecurseCheckCardinality">NSRecurse- CheckCardinality</a></td><td><a href="#rcase-RecurseUnordered">Recurse- Unordered</a></td><td><a href="#rcase-MapAndSum">MapAndSum</a></td><td><a href="#rcase-Recurse">Recurse</a></td></tr></tbody></table></div></div>
   </div></div><div class="constraintnote"><a name="range-ok" id="range-ok"/><b>Schema Component Constraint:  Occurrence Range OK</b><br/><div class="constraint">For a particle's occurrence range to be a valid restriction of another's
occurrence range
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 Its <a class="propref" href="#p-min_occurs">{min occurs}</a> is greater than or equal to the
other's <a class="propref" href="#p-min_occurs">{min occurs}</a>.</div><div class="clnumber">2 <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The other's <a class="propref" href="#p-max_occurs">{max occurs}</a> is <i>unbounded</i>.</div><div class="clnumber">2.2 Both <a class="propref" href="#p-max_occurs">{max occurs}</a> are numbers, and the particle's is less than or equal to the
other's.</div></div></div></div>
   </div></div><div class="constraintnote"><a name="rcase-NameAndTypeOK" id="rcase-NameAndTypeOK"/><b>Schema Component Constraint:  Particle Restriction OK (Elt:Elt -- NameAndTypeOK)</b><br/><div class="constraint">For an element declaration particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of another element declaration particle
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The declarations' <a class="propref" href="#e-name">{name}</a>s and <a class="propref" href="#e-target_namespace">{target namespace}</a>s are the same.</div><div class="clnumber">2 <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.</div><div class="clnumber">3 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1 Both <b>B</b>'s declaration's <a class="propref" href="#e-scope">{scope}</a> and
<b>R</b>'s declaration's <a class="propref" href="#e-scope">{scope}</a> are <i>global</i>.</div><div class="clnumber">3.2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.2.1 Either <b>B</b>'s <a class="propref" href="#nillable">{nillable}</a> is <i>true</i> or <b>R</b>'s <a class="propref" href="#nillable">{nillable}</a> is <i>false</i>.</div><div class="clnumber">3.2.2 either <b>B</b>'s declaration's <a class="propref" href="#e-value_constraint">{value constraint}</a> is
absent, or is
not <i>fixed</i>, or <b>R</b>'s declaration's <a class="propref" href="#e-value_constraint">{value constraint}</a> is
<i>fixed</i> with the same value.</div><div class="clnumber">3.2.3 <b>R</b>'s declaration's <a class="propref" href="#identity-constraint_definitions">{identity-constraint definitions}</a> is
a subset of <b>B</b>'s declaration's <a class="propref" href="#identity-constraint_definitions">{identity-constraint definitions}</a>,
if any.</div><div class="clnumber">3.2.4 <b>R</b>'s declaration's <a class="propref" href="#e-exact">{disallowed substitutions}</a> is
a superset of <b>B</b>'s declaration's <a class="propref" href="#e-exact">{disallowed substitutions}</a>.</div><div class="clnumber">3.2.5 <b>R</b>'s <a class="propref" href="#type_definition">{type definition}</a> is validly derived given
{<i>extension</i>, <i>list</i>, <i>union</i>} from <b>B</b>'s <a class="propref" href="#type_definition">{type definition}</a> as defined by
<a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&#xa7;3.4.6)</a> or <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>, as appropriate.</div></div></div></div></div></div>
   <div class="note"><b>Note:&#xa0;</b>The above constraint on <a class="propref" href="#type_definition">{type definition}</a> means that in
deriving a type by restriction, any contained type definitions must themselves be
explicitly derived by restriction from the corresponding type definitions in the
base definition, or be one of the member types of a
corresponding union..</div></div></div><div class="constraintnote"><a name="rcase-NSCompat" id="rcase-NSCompat"/><b>Schema Component Constraint:  Particle Derivation OK (Elt:Any -- NSCompat)</b><br/><div class="constraint">For an element declaration particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of a wildcard particle
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The element declaration's <a class="propref" href="#e-target_namespace">{target namespace}</a> is
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the wildcard's <a class="propref" href="#namespace_constraint">{namespace constraint}</a> as
defined by <a href="#cvc-wildcard-namespace">Wildcard allows Namespace Name (&#xa7;3.10.4)</a>.</div><div class="clnumber">2 <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.</div></div>
   </div></div><div class="constraintnote"><a name="rcase-RecurseAsIfGroup" id="rcase-RecurseAsIfGroup"/><b>Schema Component Constraint:  Particle Derivation OK (Elt:All/Choice/Sequence -- RecurseAsIfGroup)</b><br/><div class="constraint">For an element declaration particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of a group particle (<i>all</i>, <i>choice</i> or <i>sequence</i>)
a group particle of the variety corresponding to <b>B</b>'s, with
<a class="propref" href="#p-min_occurs">{min occurs}</a> and <a class="propref" href="#p-max_occurs">{max occurs}</a> of <code>1</code> and with <a class="propref" href="#particles">{particles}</a> consisting of a single particle
the same as the element declaration must be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the group as defined by <a href="#rcase-Recurse">Particle Derivation OK (All:All,Sequence:Sequence -- Recurse) (&#xa7;3.9.6)</a>, <a href="#rcase-RecurseLax">Particle Derivation OK (Choice:Choice -- RecurseLax) (&#xa7;3.9.6)</a> or <a href="#rcase-Recurse">Particle Derivation OK (All:All,Sequence:Sequence -- Recurse) (&#xa7;3.9.6)</a>, depending on whether the group is <i>all</i>, <i>choice</i> or <i>sequence</i>.</div></div><div class="constraintnote"><a name="rcase-NSSubset" id="rcase-NSSubset"/><b>Schema Component Constraint:  Particle Derivation OK (Any:Any -- NSSubset)</b><br/><div class="constraint">For a wildcard particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of another wildcard particle
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <b>R</b>'s occurrence range must be a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.</div><div class="clnumber">2 <b>R</b>'s <a class="propref" href="#namespace_constraint">{namespace constraint}</a> must be an intensional
subset of <b>B</b>'s <a class="propref" href="#namespace_constraint">{namespace constraint}</a> as defined by <a href="#cos-ns-subset">Wildcard Subset (&#xa7;3.10.6)</a>.</div><div class="clnumber">3 Unless <b>B</b> is the content model wildcard of
the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, <b>R</b>'s <a class="propref" href="#process_contents">{process contents}</a> must be identical
to or stronger than <b>B</b>'s <a class="propref" href="#process_contents">{process contents}</a>, where
<i>strict</i> is stronger than <i>lax</i> is stronger than <i>skip</i>.</div></div>
   <div class="note"><a id="procContNote" name="procContNote"/><p class="prefix"><b>Note:</b></p>The exception to the third clause above for derivations from
the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> is necessary as
its wildcards have a <a class="propref" href="#process_contents">{process contents}</a> of <i>lax</i>, so
without this exception, no use of wildcards with <a class="propref" href="#process_contents">{process contents}</a> of <i>skip</i> would be possible.</div></div></div><div class="constraintnote"><a name="rcase-NSRecurseCheckCardinality" id="rcase-NSRecurseCheckCardinality"/><b>Schema Component Constraint:  Particle Derivation OK (All/Choice/Sequence:Any -- NSRecurseCheckCardinality)</b><br/><div class="constraint">For a group particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of a wildcard particle
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 Every member of the <a class="propref" href="#particles">{particles}</a> of the group is a
<a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the wildcard
as defined by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.</div><div class="clnumber">2 The effective total range of the group, as defined by <a href="#cos-seq-range">Effective Total Range (all and sequence) (&#xa7;3.8.6)</a> (if
the group is <i>all</i> or <i>sequence</i>) or 
<a href="#cos-choice-range">Effective Total Range (choice) (&#xa7;3.8.6)</a> (if it is <i>choice</i>) is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.</div></div>
   </div></div><div class="constraintnote"><a name="rcase-Recurse" id="rcase-Recurse"/><b>Schema Component Constraint:  Particle Derivation OK (All:All,Sequence:Sequence -- Recurse)</b><br/><div class="constraint">For an <i>all</i> or <i>sequence</i> group particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of another group particle with the same <a class="propref" href="#compositor">{compositor}</a> 
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.</div><div class="clnumber">2 There is a complete <a class="termref" href="#key-op"><span class="arrow">&#xb7;</span>order-preserving<span class="arrow">&#xb7;</span></a> functional mapping from the particles in the
<a class="propref" href="#particles">{particles}</a> of <b>R</b> to the particles in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> such that
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 Each particle in the <a class="propref" href="#particles">{particles}</a> of <b>R</b> is a
<a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the
particle in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.</div><div class="clnumber">2.2 All particles in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> which
are not mapped to by any particle in the <a class="propref" href="#particles">{particles}</a> of <b>R</b>
are <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a> as defined by <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a>.</div></div></div></div>
   <div class="note"><b>Note:&#xa0;</b>Although the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> semantics of an <i>all</i> group does not
depend on the order of its particles, derived <i>all</i> groups are required to
match the order of their base in order to simplify checking that the derivation is OK.</div><span class="termdef"><a id="key-op" name="key-op">[Definition:]&#xa0;&#xa0;</a>A complete functional mapping is
<b>order-preserving</b> if each particle <b>r</b> in the domain <b>R</b> maps to a
particle <b>b</b> in the range <b>B</b> which follows (not necessarily
immediately) the particle in the range
<b>B</b> mapped to by the predecessor of <b>r</b>, if any, where
&quot;predecessor&quot; and &quot;follows&quot; are defined with respect
to the order of the lists which constitute <b>R</b> and <b>B</b></span>.</div></div><div class="constraintnote"><a name="rcase-RecurseLax" id="rcase-RecurseLax"/><b>Schema Component Constraint:  Particle Derivation OK (Choice:Choice -- RecurseLax)</b><br/><div class="constraint">For a <i>choice</i> group particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of another <i>choice</i> group particle 
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>;</div><div class="clnumber">2 There is a complete <a class="termref" href="#key-op"><span class="arrow">&#xb7;</span>order-preserving<span class="arrow">&#xb7;</span></a> functional mapping from the particles in the
<a class="propref" href="#particles">{particles}</a> of <b>R</b> to the particles in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> such that each particle in the <a class="propref" href="#particles">{particles}</a> of <b>R</b> is a
<a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the
particle in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.</div></div>
    <div class="note"><b>Note:&#xa0;</b>Although the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> semantics of a <i>choice</i> group does not
depend on the order of its particles, derived <i>choice</i> groups are
required to
match the order of their base in order to simplify checking that the derivation is OK.</div></div></div><div class="constraintnote"><a name="rcase-RecurseUnordered" id="rcase-RecurseUnordered"/><b>Schema Component Constraint:  Particle Derivation OK (Sequence:All -- RecurseUnordered)</b><br/><div class="constraint">For a <i>sequence</i> group particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of an <i>all</i> group particle
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.</div><div class="clnumber">2 There is a complete functional mapping from the particles in the
<a class="propref" href="#particles">{particles}</a> of <b>R</b> to the particles in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> such that
       <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 No particle in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> is mapped
to by more than one of the particles in the
<a class="propref" href="#particles">{particles}</a> of <b>R</b>;</div><div class="clnumber">2.2 Each particle in the <a class="propref" href="#particles">{particles}</a> of <b>R</b> is a
<a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the
particle in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>;</div><div class="clnumber">2.3 All particles in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> which
are not mapped to by any particle in the <a class="propref" href="#particles">{particles}</a> of <b>R</b>
are <a class="termref" href="#cd-emptiable"><span class="arrow">&#xb7;</span>emptiable<span class="arrow">&#xb7;</span></a> as defined by <a href="#cos-group-emptiable">Particle Emptiable (&#xa7;3.9.6)</a>.</div></div>
      </div></div>
   <div class="note"><b>Note:&#xa0;</b>Although this clause allows reordering, because of the limits on the
contents of <i>all</i> groups the checking process can still be deterministic.</div></div></div><div class="constraintnote"><a name="rcase-MapAndSum" id="rcase-MapAndSum"/><b>Schema Component Constraint:  Particle Derivation OK (Sequence:Choice -- MapAndSum)</b><br/><div class="constraint">For a <i>sequence</i> group particle to be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of a <i>choice</i> group particle
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 There is a complete functional mapping from the particles in the
<a class="propref" href="#particles">{particles}</a> of <b>R</b> to the particles in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> such that each particle in the <a class="propref" href="#particles">{particles}</a> of <b>R</b> is a
<a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid restriction<span class="arrow">&#xb7;</span></a> of the
particle in the <a class="propref" href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.</div><div class="clnumber">2 The pair consisting of the product of the <a class="propref" href="#p-min_occurs">{min occurs}</a> of <b>R</b> and the length of its <a class="propref" href="#particles">{particles}</a> and <i>unbounded</i> if <a class="propref" href="#p-max_occurs">{max occurs}</a> is <i>unbounded</i> otherwise the product of the <a class="propref" href="#p-max_occurs">{max occurs}</a> of <b>R</b> and the length of its <a class="propref" href="#particles">{particles}</a> is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&#xa7;3.9.6)</a>.<div class="note"><b>Note:&#xa0;</b>This clause is in principle more restrictive than absolutely
necessary, but in practice will cover all the likely cases, and is much easier
to specify than the fully general version.</div></div></div>
   <div class="note"><b>Note:&#xa0;</b>This case allows the &quot;unfolding&quot; of iterated disjunctions
into sequences.  It may be particularly useful when the disjunction is an
implicit one arising from the use of substitution groups.</div></div></div><div class="constraintnote"><a name="cos-group-emptiable" id="cos-group-emptiable"/><b>Schema Component Constraint:  Particle Emptiable</b><br/><div class="constraint"><span class="termdef"><a id="cd-emptiable" name="cd-emptiable">[Definition:]&#xa0;&#xa0;</a>For a particle to be
<b>emptiable</b></span>
   <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 Its <a class="propref" href="#p-min_occurs">{min occurs}</a> is <code>0</code>.</div><div class="clnumber">2 Its <a class="propref" href="#term">{term}</a> is a group and the minimum part of the
effective total range of that group, as defined by <a href="#cos-seq-range">Effective Total Range (all and sequence) (&#xa7;3.8.6)</a> (if
the group is <i>all</i> or <i>sequence</i>) or 
<a href="#cos-choice-range">Effective Total Range (choice) (&#xa7;3.8.6)</a> (if it is <i>choice</i>), is <code>0</code>.</div></div>
  </div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cParticles"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cIdentity-constraint_Definitions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="Wildcards" name="Wildcards"/>3.10 Wildcards</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.10.1 <a href="#Wildcard_details">The Wildcard Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.10.2 <a href="#declare-openness">XML Representation of Wildcard Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.10.3 <a href="#d0e12788">Constraints on XML Representations of Wildcards</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.10.4 <a href="#d0e12802">Wildcard Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.10.5 <a href="#d0e12923">Wildcard Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.10.6 <a href="#coss-wildcard">Constraints on Wildcard Schema Components</a><br/>
</div><p>In order to exploit the full potential for extensibility offered by XML
plus namespaces, more provision is needed than DTDs allow for targeted flexibility in content
models and attribute declarations.  A wildcard provides for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of
attribute and element information items dependent on their namespace
name, but independently of their local name.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:any processContents=&quot;skip&quot;/&gt;

&lt;xs:any namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;

&lt;xs:any namespace=&quot;http://www.w3.org/1999/XSL/Transform&quot;/&gt;

&lt;xs:any namespace=&quot;##targetNamespace&quot;/&gt;

&lt;xs:anyAttribute namespace=&quot;http://www.w3.org/XML/1998/namespace&quot;/&gt;</pre></div><div class="exampleWrapper">XML representations of the four basic types of wildcard, plus one attribute wildcard.</div></div><div class="div3">
<h4><a id="Wildcard_details" name="Wildcard_details"/>3.10.1 The Wildcard Schema Component</h4><p>The wildcard schema component has the following properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Wildcard">Wildcard</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="namespace_constraint" id="namespace_constraint"><span class="propdef">{namespace constraint}</span></a></dt><dd>
    One of <i>any</i>; a pair of <i>not</i> and a namespace name
or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>; or a set whose
members are either namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.
   </dd>
    <dt><a name="process_contents" id="process_contents"><span class="propdef">{process contents}</span></a></dt><dd>One of <i>skip</i>, <i>lax</i> or <i>strict</i>.</dd>
    <dt><a name="w-annotation" id="w-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
</dl>
 </div></div><p><a class="propref" href="#namespace_constraint">{namespace constraint}</a> provides for <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of attribute and element items that:
</p><ol class="enumar"><li>(<i>any</i>) have any namespace or are not namespace-qualified;</li><li>(<i>not</i> and a namespace name) are namespace-qualified with a namespace
other than the specified namespace name;</li><li>(<i>not</i> and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>) are namespace-qualified;</li><li>(a set whose
members are either namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>) have any of the
specified namespaces and/or, if <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> is included in the set, are unqualified.</li></ol><p><a class="propref" href="#process_contents">{process contents}</a> controls the impact on <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>
of the information items allowed by wildcards, as follows:
     </p><dl><dt class="label">strict</dt><dd>There must be a top-level declaration for the item available, or the item
must have an <code>xsi:type</code>, and the item
must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> as appropriate.</dd><dt class="label">skip</dt><dd>No constraints at all:  the item must simply be well-formed XML.</dd><dt class="label">lax</dt><dd>If the item has a uniquely
determined declaration available, it must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to
that definition, that is, <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a>
if you
can, don't worry if you can't.</dd></dl><p>
    </p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#w-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-openness" name="declare-openness"/>3.10.2 XML Representation of Wildcard Schema Components</h4><p>The XML representation for a wildcard schema component is an
<a class="eltref" href="#element-any">&lt;any&gt;</a> or <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a> element information item.    The correspondences between the
properties of an <a class="eltref" href="#element-any">&lt;any&gt;</a> information item and
properties of the components it corresponds to are as follows (see <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> and <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> for the correspondences for <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a>):</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>any</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-any" id="element-any">&lt;any</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;maxOccurs = 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a> | <var>unbounded</var>)
 &#xa0;:&#xa0;1<br/>&#xa0;&#xa0;minOccurs = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&#xa0;:&#xa0;1<br/>&#xa0;&#xa0;namespace = 
 
   ((<var>##any</var> | <var>##other</var>) | List of 
 
   (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a> | (<var>##targetNamespace</var> | <var>##local</var>))
 )
 &#xa0;:&#xa0;##any<br/>&#xa0;&#xa0;processContents = (<var>lax</var> | <var>skip</var> | <var>strict</var>)&#xa0;:&#xa0;strict<br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/any&gt;</p>
     <div class="reprdep">A particle containing a wildcard, with properties as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</div>
     <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Particle_details">Particle</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#p-min_occurs">{min occurs}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>minOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>maxOccurs</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td></tr><tr valign="top"><td><a class="propref" href="#term">{term}</a></td><td>A wildcard as given below:</td></tr></tbody></table></td></tr></tbody></table></div>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Wildcard_details">Wildcard</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#namespace_constraint">{namespace constraint}</a></td><td>Dependent on the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>: if absent, then <i>any</i>, otherwise as follows:<dl><dt class="label">##any</dt><dd><i>any</i></dd><dt class="label">##other</dt><dd>a pair of <i>not</i> and the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> ancestor
element information item if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</dd><dt class="label"><em>otherwise</em></dt><dd>a set whose members are namespace names corresponding to the
space-delimited substrings of the string, except
     <div class="constraintlist"><div class="clnumber">1 if one such
substring is <code>##targetNamespace</code>, the corresponding member is the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> ancestor
element information item if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2 if one such
substring is <code>##local</code>, the corresponding member is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div>
    </dd></dl>
</td></tr><tr valign="top"><td><a class="propref" href="#process_contents">{process contents}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>processContents</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <i>strict</i>.</td></tr><tr valign="top"><td><a class="propref" href="#w-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div></div></div><p>Wildcards are subject to the same ambiguity constraints
(<a href="#cos-nonambig">Unique Particle Attribution (&#xa7;3.8.6)</a>) as other
content model particles:  If an instance element could match either an explicit
particle and a wildcard, or one of two wildcards, within the content model of a
type, that model is in error.</p></div><div class="div3">
<h4><a id="d0e12788" name="d0e12788"/>3.10.3 Constraints on XML Representations of Wildcards</h4><div class="constraintnote"><a name="src-wildcard" id="src-wildcard"/><b>Schema Representation Constraint:  Wildcard Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-any">&lt;any&gt;</a> element
information items by the schema for schemas, the corresponding particle and model group must satisfy the conditions set
out in <a href="#coss-modelGroup">Constraints on Model Group Schema Components (&#xa7;3.8.6)</a> and <a href="#coss-particle">Constraints on Particle Schema Components (&#xa7;3.9.6)</a>.</div></div></div><div class="div3">
<h4><a id="d0e12802" name="d0e12802"/>3.10.4 Wildcard Validation Rules</h4><div class="constraintnote"><a name="cvc-wildcard" id="cvc-wildcard"/><b>Validation Rule:  Item Valid (Wildcard)</b><br/><div class="constraint">For an element or attribute information item to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a wildcard
constraint
      its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> must be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the wildcard constraint, as defined in <a href="#cvc-wildcard-namespace">Wildcard allows Namespace Name (&#xa7;3.10.4)</a>.<p/>When this constraint applies
      the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b><a class="propref" href="#process_contents">{process contents}</a> is <i>lax</i>, <b>then </b>the item has no <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> with respect to <a href="#sic-e-outcome">Assessment Outcome (Element) (&#xa7;3.3.5)</a>, <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> and <a href="#cvc-assess-attr">Schema-Validity Assessment (Attribute) (&#xa7;3.2.4)</a>.</div><div class="clnumber">2 <b>If </b><a class="propref" href="#process_contents">{process contents}</a> is <i>strict</i>, <b>then </b>the item's <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> is <i>mustFind</i>.</div><div class="clnumber">3 <b>If </b><a class="propref" href="#process_contents">{process contents}</a> is <i>skip</i>, <b>then </b>the item's <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> is <i>skip</i>.</div></div>
     </div></div><div class="constraintnote"><a name="cvc-wildcard-namespace" id="cvc-wildcard-namespace"/><b>Validation Rule:  Wildcard allows Namespace Name</b><br/><div class="constraint">For a value which is either a namespace name or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> to be <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a wildcard constraint (the
value of a <a class="propref" href="#namespace_constraint">{namespace constraint}</a>)
      <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The constraint must be <i>any</i>.</div><div class="clnumber">2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The constraint is a pair of <i>not</i> and a namespace name or
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> (<span class="termdef"><a id="key-nst" name="key-nst">[Definition:]&#xa0;&#xa0;</a>call this the <b>namespace test</b>)</span>.</div><div class="clnumber">2.2 The value must not be identical to the <a class="termref" href="#key-nst"><span class="arrow">&#xb7;</span>namespace test<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.3 The value must not be <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div></div><div class="clnumber">3 The constraint is a set, and the value is identical to one of the members of the set.</div></div>
     </div></div></div><div class="div3">
<h4><a id="d0e12923" name="d0e12923"/>3.10.5 Wildcard Information Set Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-wildcard" name="coss-wildcard"/>3.10.6 Constraints on Wildcard Schema Components</h4><p>All wildcards (see <a href="#Wildcards">Wildcards (&#xa7;3.10)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="w-props-correct" id="w-props-correct"/><b>Schema Component Constraint:  Wildcard Properties Correct</b><br/><div class="constraint">The values of the properties of a wildcard must be as described in
the property tableau in
<a href="#Wildcard_details">The Wildcard Schema Component (&#xa7;3.10.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div></div><p>The following constraints define a relation appealed to elsewhere in this specification.</p><div class="constraintnote"><a name="cos-ns-subset" id="cos-ns-subset"/><b>Schema Component Constraint:  Wildcard Subset</b><br/><div class="constraint">For a namespace constraint (call it <b>sub</b>) to be an intensional subset of
another namespace constraint (call it <b>super</b>)
    <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 <b>super</b> must be <i>any</i>.</div><div class="clnumber">2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 <b>sub</b> must be a pair of <i>not</i> and
a value
(a namespace name or
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>).</div><div class="clnumber">2.2 <b>super</b> must be a pair of <i>not</i> and the same value.</div></div></div><div class="clnumber">3 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1 <b>sub</b> must be a set whose members are either namespace names or
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">3.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.2.1 <b>super</b> must be the same set or a superset thereof.</div><div class="clnumber">3.2.2 <b>super</b> must be a pair of <i>not</i> and a value (a namespace name or
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>)
and neither that value nor <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> must  be in <b>sub</b>'s set.</div></div></div></div></div></div>
   </div></div><div class="constraintnote"><a name="cos-aw-union" id="cos-aw-union"/><b>Schema Component Constraint:  Attribute Wildcard Union</b><br/><div class="constraint">For a wildcard's <a class="propref" href="#namespace_constraint">{namespace constraint}</a> value to be the intensional
union of two other such values (call them <b>O1</b> and <b>O2</b>):
    the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b><b>O1</b> and <b>O2</b> are the same value, <b>then </b>that value must be the value.</div><div class="clnumber">2 <b>If </b>either <b>O1</b> or <b>O2</b> is <i>any</i>, <b>then </b><i>any</i> must be the value.</div><div class="clnumber">3 <b>If </b>both <b>O1</b> and <b>O2</b> are sets of (namespace names
or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>), <b>then </b>the union of those sets must be the value.</div><div class="clnumber">4 <b>If </b>the two are negations of different values (namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>), <b>then </b>a pair of <i>not</i> and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> must be the value.</div><div class="clnumber">5 <b>If </b>either <b>O1</b> or <b>O2</b> is a pair of <i>not</i>
and a namespace name and the other is a set of (namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>) (call this set <b>S</b>), <b>then </b>
       The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">5.1 <b>If </b>the set <b>S</b> includes both the negated namespace name and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b><i>any</i> must be the value.</div><div class="clnumber">5.2 <b>If </b>the set <b>S</b> includes the negated namespace name but not <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>a pair of <i>not</i> and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> must be the value.</div><div class="clnumber">5.3 <b>If </b>the set <b>S</b> includes <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>
but not the negated namespace name, <b>then </b>the union is not expressible.</div><div class="clnumber">5.4 <b>If </b>the set <b>S</b> does not include either the negated namespace
name or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>whichever of <b>O1</b> or <b>O2</b> is a pair of <i>not</i>
and a namespace name must be the value.</div></div>
      </div><div class="clnumber">6 <b>If </b>either <b>O1</b> or <b>O2</b> is a pair of <i>not</i>
and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> and the other is a set of
(namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>) (again, call this
set <b>S</b>), <b>then </b>
       The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">6.1 <b>If </b>the set <b>S</b> includes  <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b><i>any</i> must be the value.</div><div class="clnumber">6.2 <b>If </b>the set <b>S</b> does not include <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>a pair of <i>not</i> and <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> must be the value.</div></div>
      </div></div>
    In the case where there are more than two values, the intensional
union is determined by identifying the intensional union of two
of the values as above, then the intensional union of that value with
the third (providing the first union was expressible), and so on as required.
   </div></div><div class="constraintnote"><a name="cos-aw-intersect" id="cos-aw-intersect"/><b>Schema Component Constraint:  Attribute Wildcard Intersection</b><br/><div class="constraint">For a wildcard's <a class="propref" href="#namespace_constraint">{namespace constraint}</a> value to be the intensional
intersection of two other such values (call them <b>O1</b> and <b>O2</b>):
    the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b><b>O1</b> and <b>O2</b> are the same value, <b>then </b>that value must be the value.</div><div class="clnumber">2 <b>If </b>either <b>O1</b> or <b>O2</b> is <i>any</i>, <b>then </b>the
other must be the value.</div><div class="clnumber">3 <b>If </b>either <b>O1</b> or <b>O2</b> is a pair of <i>not</i>
and a value (a namespace name or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>) and the other is a set of (namespace names or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>), <b>then </b>that set,
minus the negated value if it was in the set, minus <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> if it was in the set, must be the value.</div><div class="clnumber">4 <b>If </b>both <b>O1</b> and <b>O2</b> are sets of (namespace names
or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>), <b>then </b>the intersection of those sets must be the value.</div><div class="clnumber">5 <b>If </b>the two are negations of different namespace names, <b>then </b>the intersection is not expressible.</div><div class="clnumber">6 <b>If </b>the one is a negation of a namespace name and the other is a
negation of  <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>the one which is the negation of a namespace name must be the value.</div></div>
    In the case where there are more than two values, the intensional
intersection is determined by identifying the intensional intersection of two
of the values as above, then the intensional intersection of that value with
the third (providing the first intersection was expressible), and so on as required.
   </div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#Wildcards"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cNotation_Declarations"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cIdentity-constraint_Definitions" name="cIdentity-constraint_Definitions"/>3.11 Identity-constraint Definitions</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.11.1 <a href="#Identity-constraint_Definition_details">The Identity-constraint Definition Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.11.2 <a href="#declare-key">XML Representation of Identity-constraint Definition Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.11.3 <a href="#d0e13803">Constraints on XML Representations of Identity-constraint Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.11.4 <a href="#d0e13819">Identity-constraint Definition Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.11.5 <a href="#d0e14060">Identity-constraint Definition Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.11.6 <a href="#coss-identity-constraint">Constraints on Identity-constraint Definition Schema Components</a><br/>
</div><p>Identity-constraint definition components provide for uniqueness and
reference constraints with respect to the contents of multiple elements and attributes.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:key name=&quot;fullName&quot;&gt;
 &lt;xs:selector xpath=&quot;.//person&quot;/&gt;
 &lt;xs:field xpath=&quot;forename&quot;/&gt;
 &lt;xs:field xpath=&quot;surname&quot;/&gt;
&lt;/xs:key&gt;

&lt;xs:keyref name=&quot;personRef&quot; refer=&quot;fullName&quot;&gt;
 &lt;xs:selector xpath=&quot;.//personPointer&quot;/&gt;
 &lt;xs:field xpath=&quot;@first&quot;/&gt;
 &lt;xs:field xpath=&quot;@last&quot;/&gt;
&lt;/xs:keyref&gt;

&lt;xs:unique name=&quot;nearlyID&quot;&gt;
 &lt;xs:selector xpath=&quot;.//*&quot;/&gt;
 &lt;xs:field xpath=&quot;@id&quot;/&gt;
&lt;/xs:unique&gt;</pre></div><div class="exampleWrapper">XML representations for the three kinds of identity-constraint definitions.</div></div><div class="div3">
<h4><a id="Identity-constraint_Definition_details" name="Identity-constraint_Definition_details"/>3.11.1 The Identity-constraint Definition Schema Component</h4><p>The identity-constraint definition schema component has the following
properties:
</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Identity-constraint_Definition">Identity-constraint Definition</a></div><div class="compBody">

   <dl class="props">
  <dt><a name="c-name" id="c-name"><span class="propdef">{name}</span></a></dt><dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="c-target_namespace" id="c-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>
    Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="identity-constraint_name" id="identity-constraint_name"><span class="propdef">{identity-constraint category}</span></a></dt><dd>
    One of <i>key</i>, <i>keyref</i> or <i>unique</i>.
   </dd>
  <dt><a name="selector" id="selector"><span class="propdef">{selector}</span></a></dt><dd>
    A restricted XPath (<a href="#bib-xpath">[XPath]</a>) expression.</dd>
  <dt><a name="fields" id="fields"><span class="propdef">{fields}</span></a></dt><dd>
    A non-empty list of restricted XPath (<a href="#bib-xpath">[XPath]</a>) expressions.</dd>
  <dt><a name="referenced_key" id="referenced_key"><span class="propdef">{referenced key}</span></a></dt><dd>
    Required if <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a> is <i>keyref</i>, forbidden
otherwise.  An identity-constraint definition with <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a>
equal to <i>key</i> or <i>unique</i>.
   </dd>
    <dt><a name="rc-annotation" id="rc-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  A set of annotations.</dd>
</dl>
  </div></div><p>Identity-constraint definitions are identified by their <a class="propref" href="#c-name">{name}</a> and <a class="propref" href="#c-target_namespace">{target namespace}</a>; Identity-constraint definition identities must be unique within an <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a>.  See <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a> for the use of component
identifiers when importing one schema into another.</p><p>Informally, <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a> identifies the Identity-constraint definition as playing one of
three roles:
</p><ul><li>(<i>unique</i>) the Identity-constraint definition asserts uniqueness, with respect to the content
identified by <a class="propref" href="#selector">{selector}</a>, of the tuples resulting from
evaluation of the <a class="propref" href="#fields">{fields}</a> XPath expression(s). </li><li>(<i>key</i>) the Identity-constraint definition asserts uniqueness as for
<i>unique</i>.  <i>key</i> further asserts that all selected content
actually has such tuples.</li><li>(<i>keyref</i>) the Identity-constraint definition asserts a correspondence, with respect to the content
identified by <a class="propref" href="#selector">{selector}</a>, of the tuples resulting from
evaluation of the <a class="propref" href="#fields">{fields}</a> XPath expression(s), with those of the <a class="propref" href="#referenced_key">{referenced key}</a>. </li></ul><p> </p><p>These constraints are specified along side the specification of types for the
attributes and elements involved, i.e. something declared as of type integer
may also serve as a key.  Each constraint declaration has a name, which exists in a
single symbol space for constraints.  The equality and inequality conditions
appealed to in checking these constraints apply to the <em>value</em> of
the fields selected, so that for example <code>3.0</code> and <code>3</code>
would be conflicting keys if they were both number, but non-conflicting if
they were both strings, or one was a string and one a number.  Values of
differing type can only be equal if one type is derived from the other, and the
value is in the value space of both.</p><p>Overall the augmentations to XML's <code>ID/IDREF</code> mechanism are:</p><ul><li>Functioning as a part of an identity-constraint is in addition to, not instead of,
having a type;</li><li>Not just attribute values, but also element content and combinations
of values and content can be declared to be unique;</li><li>Identity-constraints are specified to hold within the scope of particular elements;</li><li>(Combinations of) attribute values and/or element content can be
declared to be keys, that is, not only unique, but always present and non-nillable;</li><li>The comparison between <i>keyref</i> <a class="propref" href="#fields">{fields}</a> and
<i>key</i> or <i>unique</i> <a class="propref" href="#fields">{fields}</a> is by value equality,
not by string equality.</li></ul><p><a class="propref" href="#selector">{selector}</a> specifies a restricted XPath (<a href="#bib-xpath">[XPath]</a>) expression relative to
instances of the element being declared.  This must identify a node set of
subordinate elements (i.e. contained within the declared element) to which the constraint applies.</p><p><a class="propref" href="#fields">{fields}</a> specifies XPath expressions relative to each
element selected by a <a class="propref" href="#selector">{selector}</a>.  This must identify
a single node (element or attribute) whose content or value, which must be
of a simple type, is used in the constraint.  It is possible to specify an
ordered list of <a class="propref" href="#fields">{fields}</a>s, to cater to multi-field keys,
keyrefs, and uniqueness constraints.
     </p><p>In order to reduce the burden on implementers, in particular
implementers of streaming processors, only restricted subsets of XPath
expressions are allowed in <a class="propref" href="#selector">{selector}</a> and <a class="propref" href="#fields">{fields}</a>.  The details are given in <a href="#coss-identity-constraint">Constraints on Identity-constraint Definition Schema Components (&#xa7;3.11.6)</a>.</p><div class="note"><b>Note:&#xa0;</b>Provision for multi-field keys etc. goes beyond what is supported by <code>xsl:key</code>.</div><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#rc-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-key" name="declare-key"/>3.11.2 XML Representation of Identity-constraint Definition Schema Components</h4><p>The XML representation for an identity-constraint definition schema component is
either a
<a class="eltref" href="#element-key">&lt;key&gt;</a>, a <a class="eltref" href="#element-keyref">&lt;keyref&gt;</a> or a <a class="eltref" href="#element-unique">&lt;unique&gt;</a>
element information item.    The correspondences between the
properties of those information items and
properties of the component they correspond to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>unique</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-unique" id="element-unique">&lt;unique</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>name</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-selector">selector</a>, <a class="eltref" href="#element-field">field</a>+))<br/>&lt;/unique&gt;</p>
 <p class="element-syntax"><a name="element-key" id="element-key">&lt;key</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>name</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-selector">selector</a>, <a class="eltref" href="#element-field">field</a>+))<br/>&lt;/key&gt;</p>
 <p class="element-syntax"><a name="element-keyref" id="element-keyref">&lt;keyref</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>name</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;<b>refer</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-selector">selector</a>, <a class="eltref" href="#element-field">field</a>+))<br/>&lt;/keyref&gt;</p>
 <p class="element-syntax"><a name="element-selector" id="element-selector">&lt;selector</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>xpath</b> = <em>a subset of XPath expression, see below</em><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/selector&gt;</p>
 <p class="element-syntax"><a name="element-field" id="element-field">&lt;field</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>xpath</b> = <em>a subset of XPath expression, see below</em><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/field&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Identity-constraint_Definition_details">Identity-constraint Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#c-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#c-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td></tr><tr valign="top"><td><a class="propref" href="#identity-constraint_name">{identity-constraint category}</a></td><td>One of <i>key</i>, <i>keyref</i> or
<i>unique</i>, depending on the item.</td></tr><tr valign="top"><td><a class="propref" href="#selector">{selector}</a></td><td>A restricted XPath expression corresponding to the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of
the <code>xpath</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-selector">&lt;selector&gt;</a> element information item among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a></td></tr><tr valign="top"><td><a class="propref" href="#fields">{fields}</a></td><td>A sequence of XPath expressions, corresponding to the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of the <code>xpath</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>s of the <a class="eltref" href="#element-field">&lt;field&gt;</a> element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, in order.</td></tr><tr valign="top"><td><a class="propref" href="#referenced_key">{referenced key}</a></td><td>If the item is a <a class="eltref" href="#element-keyref">&lt;keyref&gt;</a>, the
identity-constraint definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>refer</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#rc-annotation">{annotation}</a></td><td>The annotations corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, and in the <a class="eltref" href="#element-selector">&lt;selector&gt;</a> and <a class="eltref" href="#element-field">&lt;field&gt;</a> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div></div></div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:element name=&quot;vehicle&quot;&gt;
 &lt;xs:complexType&gt;
  . . .
  &lt;xs:attribute name=&quot;plateNumber&quot; type=&quot;xs:integer&quot;/&gt;
  &lt;xs:attribute name=&quot;state&quot; type=&quot;twoLetterCode&quot;/&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name=&quot;state&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name=&quot;code&quot; type=&quot;twoLetterCode&quot;/&gt;
   &lt;xs:element ref=&quot;vehicle&quot; maxOccurs=&quot;unbounded&quot;/&gt;
   &lt;xs:element ref=&quot;person&quot; maxOccurs=&quot;unbounded&quot;/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;

 &lt;xs:key name=&quot;reg&quot;&gt; &lt;!-- vehicles are keyed by their plate within states --&gt;
  &lt;xs:selector xpath=&quot;.//vehicle&quot;/&gt;
  &lt;xs:field xpath=&quot;@plateNumber&quot;/&gt;
 &lt;/xs:key&gt;
&lt;/xs:element&gt;

&lt;xs:element name=&quot;root&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
   . . .
   &lt;xs:element ref=&quot;state&quot; maxOccurs=&quot;unbounded&quot;/&gt;
   . . .
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;

 &lt;xs:key name=&quot;state&quot;&gt; &lt;!-- states are keyed by their code --&gt;
  &lt;xs:selector xpath=&quot;.//state&quot;/&gt;
  &lt;xs:field xpath=&quot;code&quot;/&gt;
 &lt;/xs:key&gt;

 &lt;xs:keyref name=&quot;vehicleState&quot; refer=&quot;state&quot;&gt;
  &lt;!-- every vehicle refers to its state --&gt;
  &lt;xs:selector xpath=&quot;.//vehicle&quot;/&gt;
  &lt;xs:field xpath=&quot;@state&quot;/&gt;
 &lt;/xs:keyref&gt;

 &lt;xs:key name=&quot;regKey&quot;&gt; &lt;!-- vehicles are keyed by a pair of state and plate --&gt;
  &lt;xs:selector xpath=&quot;.//vehicle&quot;/&gt;
  &lt;xs:field xpath=&quot;@state&quot;/&gt;
  &lt;xs:field xpath=&quot;@plateNumber&quot;/&gt;
 &lt;/xs:key&gt;

 &lt;xs:keyref name=&quot;carRef&quot; refer=&quot;regKey&quot;&gt; &lt;!-- people's cars are a reference --&gt;
  &lt;xs:selector xpath=&quot;.//car&quot;/&gt;
  &lt;xs:field xpath=&quot;@regState&quot;/&gt;
  &lt;xs:field xpath=&quot;@regPlate&quot;/&gt;
 &lt;/xs:keyref&gt;

&lt;/xs:element&gt;

&lt;xs:element name=&quot;person&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
   . . .
   &lt;xs:element name=&quot;car&quot;&gt;
    &lt;xs:complexType&gt;
     &lt;xs:attribute name=&quot;regState&quot; type=&quot;twoLetterCode&quot;/&gt;
     &lt;xs:attribute name=&quot;regPlate&quot; type=&quot;xs:integer&quot;/&gt;
    &lt;/xs:complexType&gt;
   &lt;/xs:element&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;</pre></div><div class="exampleWrapper">A <code>state</code> element is defined, which
contains a <code>code</code> child and some <code>vehicle</code> and <code>person</code>
children.  A <code>vehicle</code> in turn has a <code>plateNumber</code> attribute,
which is an integer, and a <code>state</code> attribute.  State's
<code>code</code>s are a key for them within the document.  Vehicle's
<code>plateNumber</code>s are a key for them within states, and
<code>state</code> and
<code>plateNumber</code> is asserted to be a <i>key</i> for
<code>vehicle</code> within the document as a whole.  Furthermore, a <code>person</code> element has
an empty <code>car</code> child, with <code>regState</code> and
<code>regPlate</code> attributes, which are then asserted together to refer to
<code>vehicle</code>s via the <code>carRef</code> constraint.  The requirement
that a <code>vehicle</code>'s <code>state</code> match its containing
<code>state</code>'s <code>code</code> is not expressed here.</div></div></div><div class="div3">
<h4><a id="d0e13803" name="d0e13803"/>3.11.3 Constraints on XML Representations of Identity-constraint Definitions</h4><div class="constraintnote"><a name="src-identity-constraint" id="src-identity-constraint"/><b>Schema Representation Constraint:  Identity-constraint Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-key">&lt;key&gt;</a>, <a class="eltref" href="#element-keyref">&lt;keyref&gt;</a> and <a class="eltref" href="#element-unique">&lt;unique&gt;</a> element
information items by the schema for schemas, the corresponding identity-constraint definition must satisfy the conditions set
out in <a href="#coss-identity-constraint">Constraints on Identity-constraint Definition Schema Components (&#xa7;3.11.6)</a>.</div></div></div><div class="div3">
<h4><a id="d0e13819" name="d0e13819"/>3.11.4 Identity-constraint Definition Validation Rules</h4><div class="constraintnote"><a name="cvc-identity-constraint" id="cvc-identity-constraint"/><b>Validation Rule:  Identity-constraint Satisfied</b><br/><div class="constraint">For an element information item to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to an identity-constraint
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The <a class="propref" href="#selector">{selector}</a>, with the element information item as the
context node, evaluates to a node-set (as defined in
<a href="#bib-xpath">[XPath]</a>).  <span class="termdef"><a id="key-tns" name="key-tns">[Definition:]&#xa0;&#xa0;</a>Call this the <b>target node set</b></span>.</div><div class="clnumber">2 Each node in the <a class="termref" href="#key-tns"><span class="arrow">&#xb7;</span>target node set<span class="arrow">&#xb7;</span></a> is
either the context node oran
element node among its descendants.</div><div class="clnumber">3 For each node in the <a class="termref" href="#key-tns"><span class="arrow">&#xb7;</span>target node set<span class="arrow">&#xb7;</span></a> all of the <a class="propref" href="#fields">{fields}</a>, with that node as the context
node, evaluate to either an empty node-set or a node-set with exactly one
member, which must have a simple type.  <span class="termdef"><a id="key-ks" name="key-ks">[Definition:]&#xa0;&#xa0;</a>Call the sequence of the
type-determined values (as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) of the
<span class="anonRef">[schema normalized value]</span> of the element and/or attribute information items in those node-sets in order the <b>key-sequence</b> of the node</span>.</div><div class="clnumber">4 
   <span class="termdef"><a id="key-qns" name="key-qns">[Definition:]&#xa0;&#xa0;</a>Call the subset of the <a class="termref" href="#key-tns"><span class="arrow">&#xb7;</span>target node set<span class="arrow">&#xb7;</span></a> for
which all the <a class="propref" href="#fields">{fields}</a> evaluate to a node-set with exactly one
member which is an element or attribute node with a simple type the <b>qualified node set</b></span>.
     The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">4.1<a name="c-u" id="c-u"> </a><b>If </b>the <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a> is <i>unique</i>, <b>then </b>no two members of the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> have <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequences<span class="arrow">&#xb7;</span></a> whose members
are pairwise equal, as defined by <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#equal">Equal</a> in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div><div class="clnumber">4.2<a name="c-k" id="c-k"> </a><b>If </b>the <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a> is <i>key</i>, <b>then </b>
        <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">4.2.1 The <a class="termref" href="#key-tns"><span class="arrow">&#xb7;</span>target node set<span class="arrow">&#xb7;</span></a> and the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> are equal, that is, every member of the <a class="termref" href="#key-tns"><span class="arrow">&#xb7;</span>target node set<span class="arrow">&#xb7;</span></a> is also a member of the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> and <em>vice versa</em>.</div><div class="clnumber">4.2.2 No two members of the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> have <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequences<span class="arrow">&#xb7;</span></a> whose members
are pairwise equal, as defined by <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#equal">Equal</a> in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div><div class="clnumber">4.2.3<a name="c-nlbl" id="c-nlbl"> </a>No element member of the <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> of any
member of the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> was assessed as <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> by reference to an element
declaration whose <a class="propref" href="#nillable">{nillable}</a> is <i>true</i>.</div></div>
       </div><div class="clnumber">4.3<a name="cl-krv" id="cl-krv"> </a><b>If </b>the <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a> is <i>keyref</i>, <b>then </b>for each member of the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> (call this the <b>keyref member</b>), there must be a <a class="termref" href="#key-nt"><span class="arrow">&#xb7;</span>node table<span class="arrow">&#xb7;</span></a> associated with the
<a class="propref" href="#referenced_key">{referenced key}</a> in the <a class="propref" href="#e-id_constraint_table">[identity-constraint table]</a>
of the element information item (see <a href="#sic-key">Identity-constraint Table (&#xa7;3.11.5)</a>, which must be
understood as logically prior to this clause of this constraint, below) and
there must be an entry in that table whose
<a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> is equal to the
<b>keyref member's</b> <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> member for
member, as defined by <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#equal">Equal</a> in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div></div>
     </div></div>
  <div class="note"><b>Note:&#xa0;</b>The use of  <span class="anonRef">[schema normalized value]</span> in the definition
of <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key sequence<span class="arrow">&#xb7;</span></a> above means that
<i>default</i> or <i>fixed</i> value constraints may play a part in <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key sequence<span class="arrow">&#xb7;</span></a>s.</div></div></div><div class="note"><b>Note:&#xa0;</b>Because the validation of <i>keyref</i> (see clause <a href="#cl-krv">4.3</a>) depends on finding
appropriate entries in a element information item's <a class="termref" href="#key-nt"><span class="arrow">&#xb7;</span>node
table<span class="arrow">&#xb7;</span></a>, and <a class="termref" href="#key-nt"><span class="arrow">&#xb7;</span>node tables<span class="arrow">&#xb7;</span></a> are assembled
strictly recursively from the node tables of descendants, only element
information items within the sub-tree rooted at the element information item
being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> can be referenced successfully.</div><div class="note"><b>Note:&#xa0;</b>Although this specification defines a <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>
contribution which would enable schema-aware processors to implement clause <a href="#c-nlbl">4.2.3</a> above (<a href="#sic-elt-decl">Element Declaration (&#xa7;3.3.5)</a>), processors are not required to
provide it.  This clause can be read as if in the absence of this infoset contribution, the
value of the relevant <a class="propref" href="#nillable">{nillable}</a> property must be available.</div></div><div class="div3">
<h4><a id="d0e14060" name="d0e14060"/>3.11.5 Identity-constraint Definition Information Set Contributions</h4><div class="constraintnote"><a name="sic-key" id="sic-key"/><b>Schema Information Set Contribution:  Identity-constraint Table</b><br/><div class="constraint"><span class="termdef"><a id="key-ec" name="key-ec">[Definition:]&#xa0;&#xa0;</a>An <b>eligible
identity-constraint</b> of an element information item is one such that clause <a href="#c-u">4.1</a> or clause <a href="#c-k">4.2</a> of <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&#xa7;3.11.4)</a> is satisfied
with respect to that item and that constraint,
or such that any of the element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of that item have an
<a class="propref" href="#e-id_constraint_table">[identity-constraint table]</a> property whose value has an entry for that constraint</span>.<p/><span class="termdef"><a id="key-nt" name="key-nt">[Definition:]&#xa0;&#xa0;</a>A <b>node table</b> is a set
of pairs each consisting of
a <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> and an element node</span>.<p/>Whenever an element information item has one or more <a class="termref" href="#key-ec"><span class="arrow">&#xb7;</span>eligible identity-constraints<span class="arrow">&#xb7;</span></a>, in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> that element information item has a property as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
    <dt><a name="e-id_constraint_table" id="e-id_constraint_table"><span class="propdef">[identity-constraint table]</span></a></dt><dd>
     one
<b>Identity-constraint Binding</b>
information item for each <a class="termref" href="#key-ec"><span class="arrow">&#xb7;</span>eligible identity-constraint<span class="arrow">&#xb7;</span></a>, with
properties as follows:
     <div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;Identity-constraint Binding&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="cb-definition" id="cb-definition"><span class="propdef">[definition]</span></a></dt><dd>The <a class="termref" href="#key-ec"><span class="arrow">&#xb7;</span>eligible identity-constraint<span class="arrow">&#xb7;</span></a>.</dd>
      <dt><a name="cb-node_table" id="cb-node_table"><span class="propdef">[node table]</span></a></dt><dd>A <a class="termref" href="#key-nt"><span class="arrow">&#xb7;</span>node table<span class="arrow">&#xb7;</span></a> with one entry for every
<a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> (call it <b>k</b>) and node (call it <b>n</b>) such that
   <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-kc" id="c-kc"> </a>There is an entry in one of the <a class="termref" href="#key-nt"><span class="arrow">&#xb7;</span>node
tables<span class="arrow">&#xb7;</span></a> associated with the <a class="propref" href="#cb-definition">[definition]</a> in an
<b>Identity-constraint Binding</b>
information item in at least one of the <a class="propref" href="#e-id_constraint_table">[identity-constraint table]</a>s of the element information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of the element
information item whose <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> is <b>k</b> and whose node is <b>n</b>;</div><div class="clnumber">2 <b>n</b> appears with
<a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> <b>k</b> in the <a class="termref" href="#key-qns"><span class="arrow">&#xb7;</span>qualified node
set<span class="arrow">&#xb7;</span></a> for the <a class="propref" href="#cb-definition">[definition]</a>.</div></div>
provided no two entries have the same <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a> but distinct nodes.  Potential conflicts are resolved by not including any conflicting entries which would have owed their inclusion to clause <a href="#c-kc">1</a> above.  Note that if all the conflicting entries arose under clause <a href="#c-kc">1</a> above, this means no entry at all will appear for the offending <a class="termref" href="#key-ks"><span class="arrow">&#xb7;</span>key-sequence<span class="arrow">&#xb7;</span></a>.</dd>
     </dl></div></div>
    </dd>
   </dl></div></div><div class="note"><b>Note:&#xa0;</b>The complexity of the above arises from the fact that
<i>keyref</i> identity-constraints may be defined on domains distinct from the
embedded domain of the identity-constraint they reference, or the domains may be the
same but self-embedding at some depth.  In either case the <a class="termref" href="#key-nt"><span class="arrow">&#xb7;</span>node
table<span class="arrow">&#xb7;</span></a> for the referenced identity-constraint needs to propagate upwards, with
conflict resolution.<p/>The <b>Identity-constraint Binding</b>
information item, unlike others in this
specification, is essentially an internal bookkeeping mechanism.  It is introduced to
support the definition of <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&#xa7;3.11.4)</a> above. 
Accordingly, conformant processors may, but are <em>not</em> required to,
expose them via
<a class="propref" href="#e-id_constraint_table">[identity-constraint table]</a> properties in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>.
In other words, the above constraints may be read as saying <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of
identity-constraints proceeds <em>as if</em> such infoset items existed. 
</div></div></div></div><div class="div3">
<h4><a id="coss-identity-constraint" name="coss-identity-constraint"/>3.11.6 Constraints on Identity-constraint Definition Schema Components</h4><p>All identity-constraint definitions (see <a href="#cIdentity-constraint_Definitions">Identity-constraint Definitions (&#xa7;3.11)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="c-props-correct" id="c-props-correct"/><b>Schema Component Constraint:  Identity-constraint Definition Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of an identity-constraint definition must be as described in
the property tableau in
<a href="#Identity-constraint_Definition_details">The Identity-constraint Definition Schema Component (&#xa7;3.11.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 If the <a class="propref" href="#identity-constraint_name">{identity-constraint category}</a> is <i>keyref</i>, the
cardinality of the <a class="propref" href="#fields">{fields}</a> must equal that of the <a class="propref" href="#fields">{fields}</a> of the <a class="propref" href="#referenced_key">{referenced key}</a>.</div></div></div></div><div class="constraintnote"><a name="c-selector-xpath" id="c-selector-xpath"/><b>Schema Component Constraint:  Selector Value OK</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The <a class="propref" href="#selector">{selector}</a> must be a valid XPath
expression, as defined in <a href="#bib-xpath">[XPath]</a>.</div><div class="clnumber">2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 It must conform to the following extended BNF:
        <table width="100%" border="1" cellpadding="5" class="scrap"><tbody><tr align="left"><td><strong><font color="red">Selector XPath expressions</font></strong></td></tr><tr><td><table border="0"><tbody><tr valign="baseline"><td><a id="Selector" name="Selector"/>[1]&#xa0;&#xa0;&#xa0;</td><td><code>Selector</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code><a href="#Path">Path</a> ( '|' <a href="#Path">Path</a> )*</code></td></tr></tbody><tbody><tr valign="baseline"><td><a id="Path" name="Path"/>[2]&#xa0;&#xa0;&#xa0;</td><td><code>Path</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code>('.//')? <a href="#Step">Step</a> ( '/' <a href="#Step">Step</a> )*</code></td></tr></tbody><tbody><tr valign="baseline"><td><a id="Step" name="Step"/>[3]&#xa0;&#xa0;&#xa0;</td><td><code>Step</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code>'.' | <a href="#NameTest">NameTest</a></code></td></tr></tbody><tbody><tr valign="baseline"><td><a id="NameTest" name="NameTest"/>[4]&#xa0;&#xa0;&#xa0;</td><td><code>NameTest</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code><a href="http://www.w3.org/TR/REC-xml-names/#NT-QName">QName</a> | '*' | <a href="http://www.w3.org/TR/REC-xml-names/#NT-NCName">NCName</a> ':' '*'</code></td></tr></tbody></table></td></tr></tbody></table>
        </div><div class="clnumber">2.2 It must be an XPath expression involving the <code>child</code> axis whose abbreviated form is
as given above.</div></div></div></div>For readability, whitespace may be used in selector XPath expressions even though not
explicitly allowed by the grammar: <a href="#whitespace">whitespace</a> may be freely added within patterns before or after any <a href="#token">token</a>.
      <table width="100%" border="1" cellpadding="5" class="scrap"><tbody><tr align="left"><td><strong><font color="red">Lexical productions</font></strong></td></tr><tr><td><table border="0"><tbody><tr valign="baseline"><td><a id="token" name="token"/>[5]&#xa0;&#xa0;&#xa0;</td><td><code>token</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code>'.' | '/' | '//' | '|' | '@' | <a href="#NameTest">NameTest</a></code></td></tr></tbody><tbody><tr valign="baseline"><td><a id="whitespace" name="whitespace"/>[6]&#xa0;&#xa0;&#xa0;</td><td><code>whitespace</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code><a href="http://www.w3.org/TR/REC-xml#NT-S">S</a></code></td></tr></tbody></table></td></tr></tbody></table><p/>
When tokenizing, the longest possible token is always returned.</div></div><div class="constraintnote"><a name="c-fields-xpaths" id="c-fields-xpaths"/><b>Schema Component Constraint:  Fields Value OK</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 Each member of the <a class="propref" href="#fields">{fields}</a> must be a valid XPath
expression, as defined in <a href="#bib-xpath">[XPath]</a>.</div><div class="clnumber">2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 It must conform to the extended BNF given
above for <a href="#Selector">Selector</a>, with the following modification:
        <table width="100%" border="1" cellpadding="5" class="scrap"><tbody><tr align="left"><td><strong><font color="red">Path in Field XPath expressions</font></strong></td></tr><tr><td><table border="0"><tbody><tr valign="baseline"><td><a id="fPath" name="fPath"/>[7]&#xa0;&#xa0;&#xa0;</td><td><code>Path</code></td><td>&#xa0;&#xa0;&#xa0;::=&#xa0;&#xa0;&#xa0;</td><td><code>('.//')? ( <a href="#Step">Step</a> '/' )* ( <a href="#Step">Step</a> | '@' <a href="#NameTest">NameTest</a> )</code></td></tr></tbody></table></td></tr></tbody></table>
           This production differs from the one above in allowing the final
step to match an attribute node.
        </div><div class="clnumber">2.2 It must be an XPath expression involving the <code>child</code> and/or <code>attribute</code> axes whose abbreviated form is
as given above.</div></div></div></div>For readability, whitespace may be used in field XPath expressions even though not
explicitly allowed by the grammar: <a href="#whitespace">whitespace</a> may be freely added within patterns before or after any <a href="#token">token</a>.
      <p/>When tokenizing, the longest possible token is always returned.</div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cIdentity-constraint_Definitions"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#cAnnotations"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cNotation_Declarations" name="cNotation_Declarations"/>3.12 Notation Declarations</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.12.1 <a href="#Notation_Declaration_details">The Notation Declaration Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.12.2 <a href="#declare-notation">XML Representation of Notation Declaration Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.12.3 <a href="#d0e14542">Constraints on XML Representations of Notation Declarations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.12.4 <a href="#d0e14554">Notation Declaration Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.12.5 <a href="#d0e14559">Notation Declaration Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.12.6 <a href="#coss-notation">Constraints on Notation Declaration Schema Components</a><br/>
</div><p>Notation declarations reconstruct XML 1.0 NOTATION declarations.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:notation name=&quot;jpeg&quot; public=&quot;image/jpeg&quot; system=&quot;viewer.exe&quot;&gt;</pre></div><div class="exampleWrapper">The XML representation of a notation declaration.</div></div><div class="div3">
<h4><a id="Notation_Declaration_details" name="Notation_Declaration_details"/>3.12.1 The Notation Declaration Schema Component</h4><p>The notation declaration schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Notation_Declaration">Notation Declaration</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="n-name" id="n-name"><span class="propdef">{name}</span></a></dt><dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="n-target_namespace" id="n-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>
    Either <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt><a name="system_identifier" id="system_identifier"><span class="propdef">{system identifier}</span></a></dt><dd>
    Optional if <a class="propref" href="#public_identifier">{public identifier}</a> is present.  A URI reference.
   </dd>
  <dt><a name="public_identifier" id="public_identifier"><span class="propdef">{public identifier}</span></a></dt><dd>
    Optional if <a class="propref" href="#system_identifier">{system identifier}</a> is present.  A public identifier, as defined in <a href="#ref-xml">[XML 1.0 (Second Edition)]</a>.
   </dd>
    <dt><a name="n-annotation" id="n-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An annotation.</dd>
</dl>

  </div></div><p>Notation declarations do not participate in <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> as such.
They are referenced in the course of <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validating<span class="arrow">&#xb7;</span></a> strings as members of
the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NOTATION">NOTATION</a> simple type.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#n-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-notation" name="declare-notation"/>3.12.2 XML Representation of Notation Declaration Schema Components</h4><p>The XML representation for a notation declaration schema component is
a
<a class="eltref" href="#element-notation">&lt;notation&gt;</a>
element information item.    The correspondences between the
properties of that information item and
properties of the component it corresponds to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>notation</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-notation" id="element-notation">&lt;notation</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>name</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;public = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#token">token</a><br/>&#xa0;&#xa0;system = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/notation&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Notation_Declaration_details">Notation Declaration</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#n-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#n-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td></tr><tr valign="top"><td><a class="propref" href="#system_identifier">{system identifier}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>system</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#public_identifier">{public identifier}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>public</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></td></tr><tr valign="top"><td><a class="propref" href="#n-annotation">{annotation}</a></td><td>The annotation corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information item in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr></tbody></table></td></tr></tbody></table></div></div></div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:notation name=&quot;jpeg&quot;
             public=&quot;image/jpeg&quot; system=&quot;viewer.exe&quot; /&gt;

&lt;xs:element name=&quot;picture&quot;&gt;
 &lt;xs:complexType&gt;
  &lt;xs:simpleContent&gt;
   &lt;xs:extension base=&quot;xs:hexBinary&quot;&gt;
    &lt;xs:attribute name=&quot;pictype&quot;&gt;
     &lt;xs:simpleType&gt;
      &lt;xs:restriction base=&quot;xs:NOTATION&quot;&gt;
       &lt;xs:enumeration value=&quot;jpeg&quot;/&gt;
       &lt;xs:enumeration value=&quot;png&quot;/&gt;
       . . .
      &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
   &lt;/xs:extension&gt;
  &lt;/xs:simpleContent&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;picture pictype=&quot;jpeg&quot;&gt;...&lt;/picture&gt;</pre></div></div></div><div class="div3">
<h4><a id="d0e14542" name="d0e14542"/>3.12.3 Constraints on XML Representations of Notation Declarations</h4><div class="constraintnote"><a name="src-notation" id="src-notation"/><b>Schema Representation Constraint:  Notation Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-notation">&lt;notation&gt;</a> element
information items by the schema for schemas, the corresponding notation definition must satisfy the conditions set
out in <a href="#coss-notation">Constraints on Notation Declaration Schema Components (&#xa7;3.12.6)</a>.</div></div></div><div class="div3">
<h4><a id="d0e14554" name="d0e14554"/>3.12.4 Notation Declaration Validation Rules</h4><p>None as such.</p></div><div class="div3">
<h4><a id="d0e14559" name="d0e14559"/>3.12.5 Notation Declaration Information Set Contributions</h4><div class="constraintnote"><a name="sic-notation-used" id="sic-notation-used"/><b>Schema Information Set Contribution:  Validated with Notation</b><br/><div class="constraint">Whenever an attribute information item is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NOTATION">NOTATION</a>, in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> its parent element information item either has a property as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
       <dt><a name="e-notation" id="e-notation"><span class="propdef">[notation]</span></a></dt><dd>An
<a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to the notation declaration whose <a class="propref" href="#n-name">{name}</a> and <a class="propref" href="#n-target_namespace">{target namespace}</a> match the <a class="termref" href="#q-local"><span class="arrow">&#xb7;</span>local name<span class="arrow">&#xb7;</span></a> and <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> (as defined in <a href="#src-qname">QName Interpretation (&#xa7;3.15.3)</a>) of the attribute item's <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a></dd>
      </dl></div></div>or has a pair of properties as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
      <dt><a name="e-notation_system" id="e-notation_system"><span class="propdef">[notation system]</span></a></dt><dd>The value of the <a class="propref" href="#system_identifier">{system identifier}</a> of that notation declaration.</dd>
      <dt><a name="e-notation_public" id="e-notation_public"><span class="propdef">[notation public]</span></a></dt><dd>The value of the <a class="propref" href="#public_identifier">{public identifier}</a> of that notation declaration.</dd>
     </dl></div></div><div class="note"><b>Note:&#xa0;</b>For compatibility, only one such attribute should appear on any given
element.  If more than one such attribute <em>does</em> appear, which one
supplies the infoset property or properties above is not defined.</div></div></div></div><div class="div3">
<h4><a id="coss-notation" name="coss-notation"/>3.12.6 Constraints on Notation Declaration Schema Components</h4><p>All notation declarations (see <a href="#cNotation_Declarations">Notation Declarations (&#xa7;3.12)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="n-props-correct" id="n-props-correct"/><b>Schema Component Constraint:  Notation Declaration Correct</b><br/><div class="constraint">The values of the properties of a notation declaration must be as described in
the property tableau in
<a href="#Notation_Declaration_details">The Notation Declaration Schema Component (&#xa7;3.12.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cNotation_Declarations"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#Simple_Type_Definitions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="cAnnotations" name="cAnnotations"/>3.13 Annotations</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.13.1 <a href="#Annotation_details">The Annotation Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.13.2 <a href="#declare-annotation">XML Representation of Annotation Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.13.3 <a href="#d0e14747">Constraints on XML Representations of Annotations</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.13.4 <a href="#d0e14759">Annotation Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.13.5 <a href="#d0e14764">Annotation Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.13.6 <a href="#coss-annotation">Constraints on Annotation Schema Components</a><br/>
</div><p>Annotations provide for human- and machine-targeted annotations of
schema components.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:simpleType fn:note=&quot;special&quot;&gt;
  &lt;xs:annotation&gt;
   &lt;xs:documentation&gt;A type for experts only&lt;/xs:documentation&gt;
   &lt;xs:appinfo&gt;
    &lt;fn:specialHandling&gt;checkForPrimes&lt;/fn:specialHandling&gt;
   &lt;/xs:appinfo&gt;
  &lt;/xs:annotation&gt;
     </pre></div><div class="exampleWrapper">XML representations of three kinds of annotation.</div></div><div class="div3">
<h4><a id="Annotation_details" name="Annotation_details"/>3.13.1 The Annotation Schema Component</h4><p>The annotation schema component has the following
properties:</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Annotation">Annotation</a></div><div class="compBody">
   <dl class="props">
  <dt><a name="application_information" id="application_information"><span class="propdef">{application information}</span></a></dt><dd>
    A sequence of element information items.
   </dd>
  <dt><a name="user_information" id="user_information"><span class="propdef">{user information}</span></a></dt><dd>
    A sequence of element information items.
   </dd>
    <dt><a name="attributes" id="attributes"><span class="propdef">{attributes}</span></a></dt><dd>A sequence of attribute
information items.</dd>
</dl>
  </div></div><p><a class="propref" href="#user_information">{user information}</a> is intended for human consumption,
<a class="propref" href="#application_information">{application information}</a> for automatic processing.  In both
cases, provision is made for an optional URI reference to supplement the local
information, as the value of the <code>source</code> attribute of the
respective element information items.  <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>Validation<span class="arrow">&#xb7;</span></a> does <em>not</em> involve dereferencing these URIs, when present.  In the case of <a class="propref" href="#user_information">{user information}</a>, indication should be given as to the identity of the (human) language used in the contents, using the <code>xml:lang</code> attribute.</p><p><a class="propref" href="#attributes">{attributes}</a> ensures that when schema authors take
advantage of the provision for adding attributes from namespaces other than the
XML Schema namespace to schema documents, they are available within the components
corresponding to the element items where such attributes appear.</p><p>Annotations do not participate in <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> as such.  Provided
an annotation itself satisfies all relevant <a class="termref" href="#gloss-cos"><span class="arrow">&#xb7;</span>Schema
Component Constraints<span class="arrow">&#xb7;</span></a> it <em>cannot</em> affect the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> of element information items.</p></div><div class="div3">
<h4><a id="declare-annotation" name="declare-annotation"/>3.13.2 XML Representation of Annotation Schema Components</h4><p>Annotation of schemas and schema components, with material for human or
computer consumption, is provided for by allowing application information and
human information at the beginning of most major schema elements, and anywhere
at the top level of schemas.  The XML representation for an annotation schema component is
an
<a class="eltref" href="#element-annotation">&lt;annotation&gt;</a>
element information item.    The correspondences between the
properties of that information item and
properties of the component it corresponds to are as follows:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>annotation</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-annotation" id="element-annotation">&lt;annotation</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-appinfo">appinfo</a> | <a class="eltref" href="#element-documentation">documentation</a>)*<br/>&lt;/annotation&gt;</p>
 <p class="element-syntax"><a name="element-appinfo" id="element-appinfo">&lt;appinfo</a><br/>&#xa0;&#xa0;source = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<em>{any}</em>)*<br/>&lt;/appinfo&gt;</p>
 <p class="element-syntax"><a name="element-documentation" id="element-documentation">&lt;documentation</a><br/>&#xa0;&#xa0;source = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;xml:lang = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#language">language</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<em>{any}</em>)*<br/>&lt;/documentation&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Annotation_details">Annotation</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#application_information">{application information}</a></td><td>A sequence of the <a class="eltref" href="#element-appinfo">&lt;appinfo&gt;</a> element
information items from among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, in order, if any, otherwise the
empty sequence.</td></tr><tr valign="top"><td><a class="propref" href="#user_information">{user information}</a></td><td>A sequence of the <a class="eltref" href="#element-documentation">&lt;documentation&gt;</a> element
information items from among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, in order, if any, otherwise the
empty sequence.</td></tr><tr valign="top"><td><a class="propref" href="#attributes">{attributes}</a></td><td>A sequence of attribute information items, namely
those allowed by the attribute wildcard in the type definition for the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> item itself or for the enclosing items which correspond to the component within which the annotation component is located.</td></tr></tbody></table></td></tr></tbody></table></div></div></div><p>The annotation component corresponding to the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a>
element in the example above will have one element item in each of its <a class="propref" href="#user_information">{user information}</a> and <a class="propref" href="#application_information">{application information}</a> and one attribute item in its <a class="propref" href="#attributes">{attributes}</a>.</p></div><div class="div3">
<h4><a id="d0e14747" name="d0e14747"/>3.13.3 Constraints on XML Representations of Annotations</h4><div class="constraintnote"><a name="src-annotation" id="src-annotation"/><b>Schema Representation Constraint:  Annotation Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element
information items by the schema for schemas, the corresponding annotation must satisfy the conditions set
out in <a href="#coss-annotation">Constraints on Annotation Schema Components (&#xa7;3.13.6)</a>.</div></div></div><div class="div3">
<h4><a id="d0e14759" name="d0e14759"/>3.13.4 Annotation Validation Rules</h4><p>None as such.</p></div><div class="div3">
<h4><a id="d0e14764" name="d0e14764"/>3.13.5 Annotation Information Set Contributions</h4><p>None as such: the addition of annotations to the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> is
covered by the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> contributions of the enclosing components.</p></div><div class="div3">
<h4><a id="coss-annotation" name="coss-annotation"/>3.13.6 Constraints on Annotation Schema Components</h4><p>All annotations (see <a href="#cAnnotations">Annotations (&#xa7;3.13)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="an-props-correct" id="an-props-correct"/><b>Schema Component Constraint:  Annotation Correct</b><br/><div class="constraint">The values of the properties of an annotation must be as described in
the property tableau in
<a href="#Annotation_details">The Annotation Schema Component (&#xa7;3.13.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div></div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#cAnnotations"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#Schemas"><img src="next.jpg" alt="next sub-section"/></a></span><a id="Simple_Type_Definitions" name="Simple_Type_Definitions"/>3.14 Simple Type Definitions</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.1 <a href="#Simple_Type_Definition_details">(non-normative) The Simple Type Definition Schema Component</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.2 <a href="#declare-datatype">(non-normative) XML Representation of Simple Type Definition Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.3 <a href="#d0e15439">(non-normative) Constraints on XML Representations of Simple Type Definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.4 <a href="#d0e15503">Simple Type Definition Validation Rules</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.5 <a href="#d0e15574">Simple Type Definition Information Set
Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.6 <a href="#coss-st">Constraints on Simple Type Definition
Schema Components</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.14.7 <a href="#d0e16395">Built-in Simple Type Definition</a><br/>
</div><div class="note"><b>Note:&#xa0;</b>This section consists of a combination of non-normative versions of
normative material from <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, for local cross-reference
purposes, and normative material relating to the interface between schema
components defined in this specification and the simple type definition component.</div><p>Simple type definitions provide for constraining character information item <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of element and attribute
information items.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:simpleType name=&quot;fahrenheitWaterTemp&quot;&gt;
 &lt;xs:restriction base=&quot;xs:number&quot;&gt;
  &lt;xs:fractionDigits value=&quot;2&quot;/&gt;
  &lt;xs:minExclusive value=&quot;0.00&quot;/&gt;
  &lt;xs:maxExclusive value=&quot;100.00&quot;/&gt;
 &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;</pre></div><div class="exampleWrapper">The XML representation of a simple type definition.</div></div><div class="div3">
<h4><a id="Simple_Type_Definition_details" name="Simple_Type_Definition_details"/>3.14.1 (non-normative) The Simple Type Definition Schema Component</h4><p>The simple type definition schema component has the following properties:
</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#Simple_Type_Definition">Simple Type Definition</a></div><div class="compBody">
  <dl class="props">
   <dt><a name="st-name" id="st-name"><span class="propdef">{name}</span></a></dt><dd>Optional.  An NCName as defined by
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
   <dt><a name="st-target_namespace" id="st-target_namespace"><span class="propdef">{target namespace}</span></a></dt><dd>Either
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, as defined in
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
   <dt><a name="st-base_type_definition" id="st-base_type_definition"><span class="propdef">{base type definition}</span></a></dt><dd>A simple type definition, which may be the
<a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>.</dd>
   <dt><a name="facets" id="facets"><span class="propdef">{facets}</span></a></dt><dd>A set of constraining
facets.</dd>
   <dt><a name="fundamental_facets" id="fundamental_facets"><span class="propdef">{fundamental facets}</span></a></dt><dd>A set of
fundamental facets.</dd>
   <dt><a name="st-final" id="st-final"><span class="propdef">{final}</span></a></dt><dd>
    A subset of {<i>extension</i>, <i>list</i>, <i>restriction</i>, <i>union</i>}.
   </dd>
   <dt><a name="variety" id="variety"><span class="propdef">{variety}</span></a></dt><dd>One of {<i>atomic</i>, <i>list</i>,
<i>union</i>}.  Depending on the value of <a class="propref" href="#variety">{variety}</a>, further properties are
defined as follows:
    <dl><dt class="label">atomic</dt><dd><dl class="props">
        <dt><a name="st-primitive_type_definition" id="st-primitive_type_definition"><span class="propdef">{primitive type definition}</span></a></dt><dd>A
built-in primitive simple type definition.</dd>
       </dl></dd><dt class="label">list</dt><dd><dl class="props">
        <dt><a name="st-item_type_definition" id="st-item_type_definition"><span class="propdef">{item type definition}</span></a></dt><dd>A
simple type definition.</dd>
       </dl></dd><dt class="label">union</dt><dd><dl class="props">
        <dt><a name="st-member_type_definitions" id="st-member_type_definitions"><span class="propdef">{member type definitions}</span></a></dt><dd>A non-empty sequence of
simple type definitions.</dd>
       </dl></dd></dl>
   </dd>    
   <dt><a name="st-annotation" id="st-annotation"><span class="propdef">{annotation}</span></a></dt><dd>Optional.  An
annotation.</dd>
  </dl>
  </div></div><p>Simple types are identified by their <a class="propref" href="#st-name">{name}</a> and <a class="propref" href="#st-target_namespace">{target namespace}</a>.  Except
for anonymous simple types (those with no <a class="propref" href="#st-name">{name}</a>), since
type definitions (i.e. both simple and complex type definitions taken together) must be uniquely identified within an <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML
Schema<span class="arrow">&#xb7;</span></a>, no simple type definition can have the same name as another
simple or complex type definition.  Simple type <a class="propref" href="#st-name">{name}</a>s and <a class="propref" href="#ct-target_namespace">{target namespace}</a>s
are provided for reference from
instances (see <a href="#xsi_type">xsi:type (&#xa7;2.6.1)</a>), and for use in the XML
representation of schema components
(specifically in <a class="eltref" href="#element-element">&lt;element&gt;</a> and <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a>).  See <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a> for the use of component
identifiers when importing one schema into another.</p><div class="note"><b>Note:&#xa0;</b>The <a class="propref" href="#st-name">{name}</a> of a simple type is not <em>ipso
facto</em> the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[(local) name]</a> of the
  element or attribute information items <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by that definition. The connection between a
  name and a type definition is described in <a href="#cElement_Declarations">Element Declarations (&#xa7;3.3)</a> and <a href="#cAttribute_Declarations">Attribute Declarations (&#xa7;3.2)</a>. </div><p>A simple type definition with an empty specification for <a class="propref" href="#st-final">{final}</a> can be used as the
<a class="propref" href="#st-base_type_definition">{base type definition}</a> for other types derived by either of
extension or restriction, or as the <a class="propref" href="#st-item_type_definition">{item type definition}</a> in
the definition of a list, or in the <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> of
a union; the explicit values <i>extension</i>, <i>restriction</i>,
<i>list</i> and <i>union</i> prevent further
derivations by extension (to yield a complex type) and restriction (to yield a
simple type) and use in constructing lists and unions respectively.</p><p><a class="propref" href="#variety">{variety}</a> determines whether the simple type corresponds to
an <i>atomic</i>, <i>list</i> or <i>union</i> type as defined by <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</p><p>As described in <a href="#Type_Derivation">Type Definition Hierarchy (&#xa7;2.2.1.1)</a>, every simple type definition is
a <a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> of some other simple
type (the <a class="propref" href="#st-base_type_definition">{base type definition}</a>), which is the <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> if and only if the type
definition in question is one of the built-in primitive datatypes, or a list or
union type definition which is not itself derived by restriction from a
list or union respectively. Each
<em>atomic</em> type is ultimately a restriction of exactly one such
built-in primitive datatype, which is its <a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a>.</p><p><a class="propref" href="#facets">{facets}</a> for each simple type definition are selected from those defined in
<a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.  For <i>atomic</i> definitions, these are restricted to those appropriate for
the corresponding <a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a>.  Therefore, the value
space and lexical space (i.e. what is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by any atomic simple type) is determined by the
pair (<a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a>, <a class="propref" href="#facets">{facets}</a>). </p><p>As specified in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, <i>list</i> simple type definitions <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> space separated tokens, each of
which conforms to a specified simple type definition, the <a class="propref" href="#st-item_type_definition">{item type definition}</a>.  The item type specified
must not itself be a <i>list</i> type, and must be one of the types identified in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a> as a
suitable item type for a list simple type.  In this case the <a class="propref" href="#facets">{facets}</a>
apply to the list itself, and are restricted to those appropriate for lists.</p><p>A <i>union</i> simple type definition <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validates<span class="arrow">&#xb7;</span></a> strings which satisfy at
least one of its <a class="propref" href="#st-member_type_definitions">{member type definitions}</a>.  As in the case of
<i>list</i>, the <a class="propref" href="#facets">{facets}</a>
apply to the union itself, and are restricted to those appropriate for unions.</p><p>The <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>
must <em>not</em> be named as the <a class="termref" href="#st-base_type_definition"><span class="arrow">&#xb7;</span>base type definition<span class="arrow">&#xb7;</span></a> of any user-defined atomic simple type definitions:  as it has no constraining facets, this would be incoherent.</p><p>See <a href="#cAnnotations">Annotations (&#xa7;3.13)</a> for information on the role of the
<a class="propref" href="#st-annotation">{annotation}</a> property.</p></div><div class="div3">
<h4><a id="declare-datatype" name="declare-datatype"/>3.14.2 (non-normative) XML Representation of Simple Type Definition Schema Components</h4><div class="note"><b>Note:&#xa0;</b>This section reproduces a version of material from <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, for local cross-reference purposes.</div><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>simpleType</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-simpleType" id="element-simpleType">&lt;simpleType</a><br/>&#xa0;&#xa0;final = 
 
   (<var>#all</var> | List of (<var>list</var> | <var>union</var> | <var>restriction</var>))
 <br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;name = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-restriction">restriction</a> | <a class="eltref" href="#element-list">list</a> | <a class="eltref" href="#element-union">union</a>))<br/>&lt;/simpleType&gt;</p>
 <p class="element-syntax"><a name="element-restriction" id="element-restriction">&lt;restriction</a><br/>&#xa0;&#xa0;base = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, (<a class="eltref" href="#element-simpleType">simpleType</a>?, (<a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-minExclusive">minExclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-minInclusive">minInclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-maxExclusive">maxExclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-maxInclusive">maxInclusive</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-totalDigits">totalDigits</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-fractionDigits">fractionDigits</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-length">length</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-minLength">minLength</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-maxLength">maxLength</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-enumeration">enumeration</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-whiteSpace">whiteSpace</a> | <a class="eltref" href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#element-pattern">pattern</a>)*))<br/>&lt;/restriction&gt;</p>
 <p class="element-syntax"><a name="element-list" id="element-list">&lt;list</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;itemType = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, <a class="eltref" href="#element-simpleType">simpleType</a>?)<br/>&lt;/list&gt;</p>
 <p class="element-syntax"><a name="element-union" id="element-union">&lt;union</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;memberTypes = List of <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?, <a class="eltref" href="#element-simpleType">simpleType</a>*)<br/>&lt;/union&gt;</p>
 <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Simple_Type_Definition_details">Simple Type Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#st-name">{name}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>name</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#st-target_namespace">{target namespace}</a></td><td>The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> ancestor
element information item if present, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</td></tr><tr valign="top"><td><a class="propref" href="#st-base_type_definition">{base type definition}</a></td><td>
   The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> alternative is chosen, <b>then </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a>, if present, otherwise the
type definition corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> among
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a>.</div><div class="clnumber">2 <b>If </b>the <a class="eltref" href="#element-list">&lt;list&gt;</a> or <a class="eltref" href="#element-union">&lt;union&gt;</a> alternative is chosen, <b>then </b>the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>.</div></div>
  </td></tr><tr valign="top"><td><a class="propref" href="#st-final">{final}</a></td><td>As for the <a class="propref" href="#ct-exact">{prohibited substitutions}</a> property of
complex type definitions, but using the
<code>final</code> and <code>finalDefault</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> in place of the
<code>block</code> and <code>blockDefault</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> and with the
relevant set being <code>{</code><i>extension</i>,
<i>restriction</i>, <i>list</i>, <i>union</i><code>}</code>.</td></tr><tr valign="top"><td><a class="propref" href="#variety">{variety}</a></td><td>If the <a class="eltref" href="#element-list">&lt;list&gt;</a> alternative is chosen,
then <i>list</i>, otherwise if the <a class="eltref" href="#element-union">&lt;union&gt;</a> alternative is
chosen, then <i>union</i>, otherwise (the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a>
alternative is chosen), then the <a class="propref" href="#variety">{variety}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a>.</td></tr></tbody></table></td></tr></tbody></table></div>
  <div class="reprdep">If the <a class="propref" href="#variety">{variety}</a> is <i>atomic</i>, the following
additional property mappings also apply:</div>
  <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Simple_Type_Definition_details">Atomic Simple Type Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a></td><td>The built-in primitive type
definition from which the <a class="propref" href="#st-base_type_definition">{base type definition}</a> is derived.</td></tr><tr valign="top"><td><a class="propref" href="#facets">{facets}</a></td><td>A set of facet components <a class="termref" href="#key-facets-restriction"><span class="arrow">&#xb7;</span>constituting a restriction<span class="arrow">&#xb7;</span></a>
of the <a class="propref" href="#facets">{facets}</a> of the
<a class="propref" href="#st-base_type_definition">{base type definition}</a> with respect to a
set of facet components corresponding to the appropriate element information items among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> (i.e. those which specify facets, if any), as
defined in <a href="#st-restrict-facets">Simple Type Restriction (Facets) (&#xa7;3.14.6)</a>.</td></tr></tbody></table></td></tr></tbody></table></div>
  <div class="reprdep">If the <a class="propref" href="#variety">{variety}</a> is <i>list</i>, the following
additional property mappings also apply:</div>
  <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Simple_Type_Definition_details">List Simple Type Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#st-item_type_definition">{item type definition}</a></td><td>
    The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <a class="eltref" href="#element-list">&lt;list&gt;</a> alternative is chosen, <b>then </b>the type definition <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>itemType</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <a class="eltref" href="#element-list">&lt;list&gt;</a>, if present, otherwise the
type definition corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> among
the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-list">&lt;list&gt;</a>.</div><div class="clnumber">2 <b>If </b>the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> option is chosen, <b>then </b>the <a class="propref" href="#st-item_type_definition">{item type definition}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a>.</div></div>
   </td></tr><tr valign="top"><td><a class="propref" href="#facets">{facets}</a></td><td>If the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> alternative is
chosen, a set of facet components <a class="termref" href="#key-facets-restriction"><span class="arrow">&#xb7;</span>constituting a restriction<span class="arrow">&#xb7;</span></a>
of the <a class="propref" href="#facets">{facets}</a> of the
<a class="propref" href="#st-base_type_definition">{base type definition}</a> with respect to a
set of facet components corresponding to the appropriate element information items among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> (i.e. those which specify facets, if any), as
defined in <a href="#st-restrict-facets">Simple Type Restriction (Facets) (&#xa7;3.14.6)</a>, otherwise the empty set.</td></tr></tbody></table></td></tr></tbody></table></div>
  <div class="reprdep">If the <a class="propref" href="#variety">{variety}</a> is <i>union</i>, the following
additional property mappings also apply:</div>
  <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#Simple_Type_Definition_details">Union Simple Type Definition</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#st-member_type_definitions">{member type definitions}</a></td><td>The appropriate <b>case</b> among the following:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <a class="eltref" href="#element-union">&lt;union&gt;</a> alternative is chosen, <b>then </b><span class="termdef"><a id="key-exm" name="key-exm">[Definition:]&#xa0;&#xa0;</a>define the
<b>explicit members</b> as</span> the type definitions <a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolved<span class="arrow">&#xb7;</span></a> to by the
items in the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>memberTypes</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, if any, followed by the
type definitions corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>s among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-union">&lt;union&gt;</a>, if any.  The actual value is then formed by replacing any union type definition
in the <a class="termref" href="#key-exm"><span class="arrow">&#xb7;</span>explicit members<span class="arrow">&#xb7;</span></a> with the members of
their <a class="propref" href="#st-member_type_definitions">{member type definitions}</a>, in order.</div><div class="clnumber">2 <b>If </b>the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> option is chosen, <b>then </b>the <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a>.</div></div>
   </td></tr><tr valign="top"><td><a class="propref" href="#facets">{facets}</a></td><td>If the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> alternative is
chosen, a set of facet components <a class="termref" href="#key-facets-restriction"><span class="arrow">&#xb7;</span>constituting a restriction<span class="arrow">&#xb7;</span></a>
of the <a class="propref" href="#facets">{facets}</a> of the
<a class="propref" href="#st-base_type_definition">{base type definition}</a> with respect to a
set of facet components corresponding to the appropriate element information items among the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> (i.e. those which specify facets, if any), as
defined in <a href="#st-restrict-facets">Simple Type Restriction (Facets) (&#xa7;3.14.6)</a>, otherwise the empty set.</td></tr></tbody></table></td></tr></tbody></table></div>
 </div></div></div><div class="div3">
<h4><a id="d0e15439" name="d0e15439"/>3.14.3  Constraints on XML Representations of Simple Type Definitions</h4><div class="constraintnote"><a name="src-simple-type" id="src-simple-type"/><b>Schema Representation Constraint:  Simple Type Definition Representation OK</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> element
information items by the schema for schemas,
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The corresponding simple type definition, if any, must satisfy the conditions set
out in <a href="#coss-st">Constraints on Simple Type Definition
Schema Components (&#xa7;3.14.6)</a>.</div><div class="clnumber">2 If the <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> alternative is chosen, either
it must have a <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> or a <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>
among its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but not both.</div><div class="clnumber">3 If the <a class="eltref" href="#element-list">&lt;list&gt;</a> alternative is chosen, either
it must have an <code>itemType</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> or a <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>
among its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but not both.</div><div class="clnumber">4 Circular union type definition is disallowed.  That is, if the <a class="eltref" href="#element-union">&lt;union&gt;</a> alternative is chosen, there must not be any entries in the <code>memberTypes</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> at any depth which resolve to the component corresponding to the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a>.</div></div>
  </div></div></div><div class="div3">
<h4><a id="d0e15503" name="d0e15503"/>3.14.4 Simple Type Definition Validation Rules</h4><div class="constraintnote"><a name="cvc-simple-type" id="cvc-simple-type"/><b>Validation Rule:  String Valid</b><br/><div class="constraint">For a string to be locally <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to a simple type definition 
  <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 It is schema-valid with respect to that definition as defined by
<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-datatype-valid">Datatype Valid</a> in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div><div class="clnumber">2 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.1 <b>If </b>The definition is <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ENTITY">ENTITY</a> or is validly
derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ENTITY">ENTITY</a> given the empty set,
as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>, <b>then </b>the string must be a <a class="termref" href="#key-vde"><span class="arrow">&#xb7;</span>declared
entity name<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.2 <b>If </b>The definition is <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ENTITIES">ENTITIES</a> or is validly
derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ENTITIES">ENTITIES</a> given the empty set,
as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>, <b>then </b>every whitespace-delimited substring of the string must be a <a class="termref" href="#key-vde"><span class="arrow">&#xb7;</span>declared
entity name<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.3 <b>otherwise </b>no further condition applies.</div></div></div></div>
 <p/><span class="termdef"><a id="key-vde" name="key-vde">[Definition:]&#xa0;&#xa0;</a>A string is a <b>declared entity name</b> if it is equal to the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.entity.unparsed">[name]</a> of some unparsed entity
information item in the value of the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.document">[unparsedEntities]</a> property of the document information item
at the root of the infoset containing the element or attribute information item
whose <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> the string is.</span></div></div></div><div class="div3">
<h4><a id="d0e15574" name="d0e15574"/>3.14.5 Simple Type Definition Information Set
Contributions</h4><p>None as such.</p></div><div class="div3">
<h4><a id="coss-st" name="coss-st"/>3.14.6 Constraints on Simple Type Definition
Schema Components</h4><p>All simple type definitions other than the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type
definition<span class="arrow">&#xb7;</span></a> and the built-in primitive datatype definitions (see <a href="#Simple_Type_Definitions">Simple Type Definitions (&#xa7;3.14)</a>) must satisfy both the following constraints.</p><div class="constraintnote"><a name="st-props-correct" id="st-props-correct"/><b>Schema Component Constraint:  Simple Type Definition Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of a simple type definition must be as described in
the property tableau in
<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dc-defn">Datatype definition</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>.</div><div class="clnumber">2 All simple type definitions must be derived
ultimately from the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type
definition (so<span class="arrow">&#xb7;</span></a> circular definitions are disallowed).  That is, it must be possible to reach a built-in
primitive datatype or the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> by repeatedly following the <a class="propref" href="#st-base_type_definition">{base type definition}</a>.</div><div class="clnumber">3 The <a class="propref" href="#st-final">{final}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> must not contain <i>restriction</i>.</div></div></div></div><div class="constraintnote"><a name="cos-st-restricts" id="cos-st-restricts"/><b>Schema Component Constraint:  Derivation Valid (Restriction, Simple)</b><br/><div class="constraint">The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the <a class="propref" href="#variety">{variety}</a> is <i>atomic</i>, <b>then </b>
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1 The <a class="propref" href="#st-base_type_definition">{base type definition}</a> must be an atomic simple type
definition or a built-in
primitive datatype.</div><div class="clnumber">1.2 The <a class="propref" href="#st-final">{final}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> must not contain <i>restriction</i>.</div><div class="clnumber">1.3 For each facet in the <a class="propref" href="#facets">{facets}</a> (call this <b>DF</b>) 
        <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.3.1 <b>DF</b> must be an allowed constraining facet for the
<a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a>, as specified in the appropriate
subsection of <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#built-in-primitive-datatypes">3.2 Primitive datatypes</a>.</div><div class="clnumber">1.3.2 If there is a facet of the same kind in the
<a class="propref" href="#facets">{facets}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> (call
this <b>BF</b>),then the <b>DF</b>'s
<span class="anonRef">{value}</span> must be a valid restriction of <b>BF</b>'s <span class="anonRef">{value}</span>  as
defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div></div>
        </div></div></div><div class="clnumber">2 <b>If </b>the <a class="propref" href="#variety">{variety}</a> is <i>list</i>, <b>then </b>
        <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The <a class="propref" href="#st-item_type_definition">{item type definition}</a> must have a <a class="propref" href="#variety">{variety}</a> of <i>atomic</i> or <i>union</i> (in which case all the <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> must be <i>atomic</i>).</div><div class="clnumber">2.2 </div><div class="clnumber">2.3 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.3.1 <b>If </b>the <a class="propref" href="#st-base_type_definition">{base type definition}</a>
is  the
<a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>        
          , <b>then </b>
            <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.3.1.1 The <a class="propref" href="#st-final">{final}</a> of the <a class="propref" href="#st-item_type_definition">{item type definition}</a> must not contain <i>list</i>.</div><div class="clnumber">2.3.1.2 The <a class="propref" href="#facets">{facets}</a> must only contain the
<i>whiteSpace</i> facet component.</div></div>
           </div><div class="clnumber">2.3.2 <b>otherwise </b>
            <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.3.2.1 The <a class="propref" href="#st-base_type_definition">{base type definition}</a> must have a <a class="propref" href="#variety">{variety}</a> of <i>list</i>.</div><div class="clnumber">2.3.2.2 The <a class="propref" href="#st-final">{final}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> must not contain <i>restriction</i>.</div><div class="clnumber">2.3.2.3 The <a class="propref" href="#st-item_type_definition">{item type definition}</a> must
be validly derived from the <a class="propref" href="#st-base_type_definition">{base type definition}</a>'s <a class="propref" href="#st-item_type_definition">{item type definition}</a> given the empty set, as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>.</div><div class="clnumber">2.3.2.4 Only <i>length</i>, <i>minLength</i>, <i>maxLength</i>, <i>whiteSpace</i>,
<i>pattern</i> and <i>enumeration</i> facet components are allowed among
the <a class="propref" href="#facets">{facets}</a>.</div><div class="clnumber">2.3.2.5 For each facet in the <a class="propref" href="#facets">{facets}</a> (call this <b>DF</b>), if there is a facet of the same kind in the
<a class="propref" href="#facets">{facets}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> (call
this <b>BF</b>),then the <b>DF</b>'s
<span class="anonRef">{value}</span> must be a valid restriction of <b>BF</b>'s <span class="anonRef">{value}</span>  as
defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div></div>
           </div></div>The first case above will apply when a list is derived by
specifying an item type, the second when derived by restriction from another list.</div></div></div><div class="clnumber">3 <b>If </b>the <a class="propref" href="#variety">{variety}</a> is <i>union</i>, <b>then </b>
        <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1 The <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> must all have <a class="propref" href="#variety">{variety}</a> of <i>atomic</i> or <i>list</i>.</div><div class="clnumber">3.2 </div><div class="clnumber">3.3 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">3.3.1 <b>If </b>the <a class="propref" href="#st-base_type_definition">{base type definition}</a>
is  the
<a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>        
          , <b>then </b>
            <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.3.1.1 All of the <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> must
have a <a class="propref" href="#st-final">{final}</a> which does not contain <i>union</i>.</div><div class="clnumber">3.3.1.2 The <a class="propref" href="#facets">{facets}</a> must be empty.</div></div>
           </div><div class="clnumber">3.3.2 <b>otherwise </b>
            <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.3.2.1 The <a class="propref" href="#st-base_type_definition">{base type definition}</a> must have a <a class="propref" href="#variety">{variety}</a> of <i>union</i>.</div><div class="clnumber">3.3.2.2 The <a class="propref" href="#st-final">{final}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> must not contain <i>restriction</i>.</div><div class="clnumber">3.3.2.3 The <a class="propref" href="#st-member_type_definitions">{member type definitions}</a>, in order, must
be validly derived from the corresponding type definitions in the <a class="propref" href="#st-base_type_definition">{base type definition}</a>'s <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> given the empty set, as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&#xa7;3.14.6)</a>.</div><div class="clnumber">3.3.2.4 Only <i>pattern</i> and <i>enumeration</i> facet components are allowed among
the <a class="propref" href="#facets">{facets}</a>.</div><div class="clnumber">3.3.2.5 For each facet in the <a class="propref" href="#facets">{facets}</a> (call this <b>DF</b>), if there is a facet of the same kind in the
<a class="propref" href="#facets">{facets}</a> of the <a class="propref" href="#st-base_type_definition">{base type definition}</a> (call
this <b>BF</b>),then the <b>DF</b>'s
<span class="anonRef">{value}</span> must be a valid restriction of <b>BF</b>'s <span class="anonRef">{value}</span>  as
defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</div></div>
           </div></div>The first case above will apply when a union is derived by
specifying one or more member types, the second when derived by restriction from another union.</div></div></div></div><span class="termdef"><a id="cd-st-restriction" name="cd-st-restriction">[Definition:]&#xa0;&#xa0;</a>If this
constraint <a href="#cos-st-restricts">Derivation Valid (Restriction, Simple) (&#xa7;3.14.6)</a> holds of a simple type definition, it is a <b>valid
restriction</b> of its <a class="termref" href="#st-base_type_definition"><span class="arrow">&#xb7;</span>base type definition<span class="arrow">&#xb7;</span></a></span>.</div></div><p>The following constraint defines relations appealed to elsewhere in this specification.</p><div class="constraintnote"><a name="cos-st-derived-ok" id="cos-st-derived-ok"/><b>Schema Component Constraint:  Type Derivation OK (Simple)</b><br/><div class="constraint">For a simple type definition (call it <b>D</b>, for derived) to be validly
derived from a type definition (call this <b>B</b>, for base) given a
subset of {<i>extension</i>, <i>restriction</i>, <i>list</i>, <i>union</i>} (of which
only <i>restriction</i> is actually relevant)
    <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-stid" id="c-stid"> </a>They are the same type
definition.</div><div class="clnumber">2 <b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 <i>restriction</i> is not in the
subset, or in the <a class="propref" href="#st-final">{final}</a> of its own <a class="propref" href="#st-base_type_definition">{base type definition}</a>;</div><div class="clnumber">2.2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.2.1 <b>D</b>'s <a class="termref" href="#st-base_type_definition"><span class="arrow">&#xb7;</span>base type definition<span class="arrow">&#xb7;</span></a> is <b>B</b>.</div><div class="clnumber">2.2.2 <b>D</b>'s <a class="termref" href="#st-base_type_definition"><span class="arrow">&#xb7;</span>base type definition<span class="arrow">&#xb7;</span></a> is not the
<a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> and is validly derived
from <b>B</b> given the subset, as defined by this constraint.</div><div class="clnumber">2.2.3 <b>D</b>'s <a class="propref" href="#variety">{variety}</a> is <i>list</i> or <i>union</i> and <b>B</b>
is the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.2.4 <b>B</b>'s <a class="propref" href="#variety">{variety}</a> is <i>union</i> and
<b>D</b> is validly derived
from a type definition in <b>B</b>'s <a class="propref" href="#st-member_type_definitions">{member type definitions}</a> given the subset, as defined by this constraint.</div></div></div></div></div></div>    
   </div></div><div class="note"><b>Note:&#xa0;</b>With respect to clause <a href="#c-stid">1</a>, see the Note on identity at
the end of <a href="#no-identity"> (&#xa7;3.4.6)</a> above.</div><div class="constraintnote"><a name="st-restrict-facets" id="st-restrict-facets"/><b>Schema Component Constraint:  Simple Type Restriction (Facets)</b><br/><div class="constraint">For a simple type definition (call it <b>R</b>) to restrict another simple type
definition (call it <b>B</b>) with a
set of facets (call this <b>S</b>)
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The <a class="propref" href="#variety">{variety}</a>  of <b>R</b> is the same as that of <b>B</b>.</div><div class="clnumber">2 If <a class="propref" href="#variety">{variety}</a> is <i>atomic</i>, the 
<a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a> of <b>R</b> is the same as that of <b>B</b>.</div><div class="clnumber">3<a name="c-fr" id="c-fr"> </a>The <a class="propref" href="#facets">{facets}</a> of <b>R</b> are the union of <b>S</b> and
the <a class="propref" href="#facets">{facets}</a> of <b>B</b>, eliminating duplicates.  To eliminate
duplicates, when a facet of the same kind occurs in both <b>S</b> and
the <a class="propref" href="#facets">{facets}</a> of <b>B</b>, the one in the <a class="propref" href="#facets">{facets}</a>
of <b>B</b> is not included, with the exception of <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-enumeration">enumeration</a> and <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#dt-pattern">pattern</a> facets, for which multiple occurrences with distinct values are allowed.<p/>Additional constraint(s) may apply depending on the kind of facet, see
the appropriate sub-section of <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#rf-facets">4.3
Constraining Facets</a></div></div>
   <p/><span class="termdef"><a id="key-facets-restriction" name="key-facets-restriction">[Definition:]&#xa0;&#xa0;</a>If
clause <a href="#c-fr">3</a> above holds, the <a class="propref" href="#facets">{facets}</a> of <b>R</b>
<b>constitute a restriction</b> of the <a class="propref" href="#facets">{facets}</a> of
<b>B</b> with respect to <b>S</b></span>.</div></div></div><div class="div3">
<h4><a id="d0e16395" name="d0e16395"/>3.14.7 Built-in Simple Type Definition</h4><p>There is a simple type definition nearly equivalent to the <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> present in every
schema by definition.  It has the following properties:</p><table border="1" class="schemaComp"><thead><tr><th><strong><a name="simple-ur-type-itself" id="simple-ur-type-itself">Simple Type Definition of the Ur-Type</a></strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Value</th></tr></thead><tbody valign="top"><tr><td><a class="propref" href="#st-name">{name}</a></td><td>anySimpleType</td></tr><tr><td><a class="propref" href="#st-target_namespace">{target namespace}</a></td><td>http://www.w3.org/2001/XMLSchema</td></tr><tr><td><a class="propref" href="#st-base_type_definition">{base type definition}</a></td><td><a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>the ur-type definition<span class="arrow">&#xb7;</span></a></td></tr><tr><td><a class="propref" href="#st-final">{final}</a></td><td>The empty set</td></tr><tr><td><a class="propref" href="#variety">{variety}</a></td><td><a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a></td></tr></tbody></table></td></tr></tbody></table><p>The <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> is the root of the simple type definition
 hierarchy, and as such mediates between the other simple type
 definitions, which all eventually trace back to it via their <a class="propref" href="#st-base_type_definition">{base type definition}</a> properties, and the <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, which is
 <em>its</em> <a class="propref" href="#st-base_type_definition">{base type definition}</a>.  This is
 why the <a class="termref" href="#simple-ur-type-itself"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> is exempted
 from the first clause of <a href="#st-props-correct">Simple Type Definition Properties Correct (&#xa7;3.14.6)</a>, which would
otherwise bar it because of its derivation from a complex type definition and absence of <a class="propref" href="#variety">{variety}</a>.</p><p>Simple type definitions for all the built-in primitive datatypes, namely <i>string</i>, <i>boolean</i>, <i>float</i>,
<i>double</i>, <i>number</i>, <i>dateTime</i>, <i>duration</i>,
<i>time</i>, <i>date</i>, <i>gMonth</i>, <i>gMonthDay</i>, <i>gDay</i>, <i>gYear</i>, <i>gYearMonth</i>, <i>hexBinary</i>, <i>base64Binary</i>, <i>anyURI</i> (see the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#built-in-primitive-datatypes">Primitive
Datatypes</a> section of <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) are present by definition in every schema.  All
are in the XML Schema <a class="propref" href="#st-target_namespace">{target namespace}</a> (namespace
name <code>http://www.w3.org/2001/XMLSchema</code>), have an <i>atomic</i> <a class="propref" href="#variety">{variety}</a> with an empty
<a class="propref" href="#facets">{facets}</a> and the <a class="termref" href="#key-simpleUrType"><span class="arrow">&#xb7;</span>simple ur-type definition<span class="arrow">&#xb7;</span></a> as
their <a class="termref" href="#st-base_type_definition"><span class="arrow">&#xb7;</span>base type definition<span class="arrow">&#xb7;</span></a> and themselves as <a class="propref" href="#st-primitive_type_definition">{primitive type definition}</a>.</p><p>Similarly, simple type definitions for all the built-in derived
datatypes (see the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#built-in-derived">Derived
Datatypes</a> section of <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) are present by definition in every schema, with
properties as specified in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a> and as represented in XML in
<a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>.</p></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#Simple_Type_Definitions"><img src="previous.jpg" alt="previous sub-section"/></a> </span><a id="Schemas" name="Schemas"/>3.15 Schemas as a Whole</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.15.1 <a href="#Schema_details">The Schema Itself</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.15.2 <a href="#declare-schema">XML Representations of Schemas</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.15.3 <a href="#d0e16860">Constraints on XML Representations of Schemas</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.15.4 <a href="#d0e17196">Validation Rules for Schemas as a Whole</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.15.5 <a href="#d0e17275">Schema Information Set Contributions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;3.15.6 <a href="#coss-schema">Constraints on Schemas as a Whole</a><br/>
</div><p>A schema consists of a set of schema components.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:schema
    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
    targetNamespace=&quot;http://www.example.com/example&quot;&gt;
  . . .
&lt;/xs:schema&gt;</pre></div><div class="exampleWrapper">The XML representation of the skeleton of a schema.</div></div><div class="div3">
<h4><a id="Schema_details" name="Schema_details"/>3.15.1 The Schema Itself</h4><p>At the abstract level, the schema itself is just a container for its components.</p><div class="schemaComp"><div class="compHeader"><span class="schemaComp">Schema&#xa0;Component</span>:&#xa0;<a href="#key-schema">Schema</a></div><div class="compBody">
     <dl class="props">
      <dt><a name="type_definitions" id="type_definitions"><span class="propdef">{type definitions}</span></a></dt><dd>A set of
named simple and complex type definitions.</dd>
      <dt><a name="attribute_declarations" id="attribute_declarations"><span class="propdef">{attribute declarations}</span></a></dt><dd>A set of
named (top-level) attribute declarations.</dd>
      <dt><a name="element_declarations" id="element_declarations"><span class="propdef">{element declarations}</span></a></dt><dd>A set of
named (top-level) element declarations.</dd>
      <dt><a name="attribute_group_definitions" id="attribute_group_definitions"><span class="propdef">{attribute group definitions}</span></a></dt><dd>A set of named
attribute group definitions.</dd>
      <dt><a name="model_group_definitions" id="model_group_definitions"><span class="propdef">{model group definitions}</span></a></dt><dd>A set of named
model group definitions.</dd>
      <dt><a name="notation_declarations" id="notation_declarations"><span class="propdef">{notation declarations}</span></a></dt><dd>A set of
notation declarations.</dd>
      <dt><a name="annotations" id="annotations"><span class="propdef">{annotations}</span></a></dt><dd>A set of annotations.</dd>
     </dl>
    </div></div></div><div class="div3">
<h4><a id="declare-schema" name="declare-schema"/>3.15.2 XML Representations of Schemas</h4><p>A schema is represented in XML by one or more <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>, that is, one or more <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information items.  A <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema document<span class="arrow">&#xb7;</span></a> contains representations for a collection of schema components, e.g. type definitions and element declarations, which have a common <span class="anonRef">{target namespace}</span>.  A <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema document<span class="arrow">&#xb7;</span></a> which has one or more <a class="eltref" href="#element-import">&lt;import&gt;</a> element information items corresponds to a schema with components with more than one <span class="anonRef">{target namespace}</span>, see <a href="#src-import">Import Constraints and Semantics (&#xa7;4.2.3)</a>.</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>schema</code>&#xa0;Element Information Item</div><div class="reprBody">
      <p class="element-syntax-1"><a name="element-schema" id="element-schema">&lt;schema</a><br/>&#xa0;&#xa0;attributeFormDefault = (<var>qualified</var> | <var>unqualified</var>)&#xa0;:&#xa0;unqualified<br/>&#xa0;&#xa0;blockDefault = 
 
   (<var>#all</var> | List of (<var>extension</var> | <var>restriction</var> | <var>substitution</var>))
 &#xa0;:&#xa0;''<br/>&#xa0;&#xa0;elementFormDefault = (<var>qualified</var> | <var>unqualified</var>)&#xa0;:&#xa0;unqualified<br/>&#xa0;&#xa0;finalDefault = 
 
   (<var>#all</var> | List of (<var>extension</var> | <var>restriction</var> | <var>list</var> | <var>union</var>))
 &#xa0;:&#xa0;''<br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;targetNamespace = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;version = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#token">token</a><br/>&#xa0;&#xa0;xml:lang = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#language">language</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>((<a class="eltref" href="#element-include">include</a> | <a class="eltref" href="#element-import">import</a> | <a class="eltref" href="#element-redefine">redefine</a> | <a class="eltref" href="#element-annotation">annotation</a>)*, (((<a class="eltref" href="#element-simpleType">simpleType</a> | <a class="eltref" href="#element-complexType">complexType</a> | <a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>) | <a class="eltref" href="#element-element">element</a> | <a class="eltref" href="#element-attribute">attribute</a> | <a class="eltref" href="#element-notation">notation</a>), <a class="eltref" href="#element-annotation">annotation</a>*)*)<br/>&lt;/schema&gt;</p>
      <div class="reprcomp"><table class="reprcomp"><thead><tr><th><a href="#key-schema">Schema</a><strong>&#xa0;Schema Component</strong></th></tr></thead><tbody><tr><td><table cellpadding="3" border="0"><thead><tr><th align="left">Property</th><th align="left">Representation</th></tr></thead><tbody valign="top"><tr valign="top"><td><a class="propref" href="#type_definitions">{type definitions}</a></td><td>The simple and complex type definitions
corresponding to all the <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> and <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, plus any included or imported definitions, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#attribute_declarations">{attribute declarations}</a></td><td>The (top-level) attribute declarations
corresponding to all the <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, plus any included or imported declarations, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#element_declarations">{element declarations}</a></td><td>The (top-level) element declarations
corresponding to all the <a class="eltref" href="#element-element">&lt;element&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, plus any included or imported declarations, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#attribute_group_definitions">{attribute group definitions}</a></td><td>The attribute group definitions
corresponding to all the <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, plus any included or imported definitions, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#model_group_definitions">{model group definitions}</a></td><td>The model group definitions
corresponding to all the <a class="eltref" href="#element-group">&lt;group&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, plus any included or imported definitions, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#notation_declarations">{notation declarations}</a></td><td>The notation declarations
corresponding to all the <a class="eltref" href="#element-notation">&lt;notation&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any, plus any included or imported declarations, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>.</td></tr><tr valign="top"><td><a class="propref" href="#annotations">{annotations}</a></td><td>The annotations
corresponding to all the <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> element information items in the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, if any.</td></tr></tbody></table></td></tr></tbody></table></div>
     </div></div><p>Note that none of the attribute information items displayed above
correspond directly to properties of schemas.  The <code>blockDefault</code>,
<code>finalDefault</code>, <code>attributeFormDefault</code>, <code>elementFormDefault</code>and <code>targetNamespace</code> attributes are appealed to in the sub-sections above, as they provide
global information applicable to many representation/component correspondences.  The
other attributes (<code>id</code> and <code>version</code>) are for user
convenience, and this specification defines no semantics for them.</p><p>The definition of the schema abstract data model in <a href="#concepts-data-model">XML Schema Abstract Data Model (&#xa7;2.2)</a> makes clear that most components have a <span class="anonRef">{target namespace}</span>.  Most components corresponding to representations within a given <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item will have a <span class="anonRef">{target namespace}</span> which corresponds to the <code>targetNamespace</code> attribute. </p><p>Since the empty string is not a legal namespace name, supplying
an empty string for <code>targetNamespace</code> is incoherent, and is <em>not</em> the same
as not specifying it at all.  The appropriate form of schema document
corresponding to a <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>schema<span class="arrow">&#xb7;</span></a> whose components have no
<a class="propref" href="#e-target_namespace">{target namespace}</a> is one which has no
<code>targetNamespace</code> attribute specified at all.</p><div class="note"><b>Note:&#xa0;</b>The XML namespaces Recommendation discusses only instance document syntax for
elements and attributes; it therefore provides no direct framework for managing
the names of type definitions, attribute group definitions, and so on.
Nevertheless, the specification applies the target namespace facility uniformly to all
schema components, i.e. not only declarations but also definitions have a <span class="anonRef">{target namespace}</span>.</div><p>Although the example schema at the beginning of this section might be a complete XML document, <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
need not be the document element, but can appear within other documents.
Indeed there is no requirement that a schema correspond to a (text) document
at all:  it could correspond to an element information item constructed 'by
hand', for instance via a DOM-conformant API.</p><p>Aside from <a class="eltref" href="#element-include">&lt;include&gt;</a> and <a class="eltref" href="#element-import">&lt;import&gt;</a>, which do not correspond directly to any schema component at all, each of the element information
items which may appear in the content of <a class="eltref" href="#element-schema">&lt;schema&gt;</a> corresponds to
a schema component, and all except <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> are named.  The
sections below
present each such item in turn, setting out the
components to which it may correspond.</p><div class="div4">
<h5><a id="refSchemaConstructs" name="refSchemaConstructs"/>3.15.2.1 References to Schema Components</h5><p>Reference to
   schema components from a schema document is managed in a uniform way,
whether the component corresponds to an element information item from the same schema document or is imported
(<a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a>) from an external schema (which may,
but need not, correspond to an actual schema document). The form
of all such references is a
    <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>.</p><p><span class="termdef"><a id="gloss-QName" name="gloss-QName">[Definition:]&#xa0;&#xa0;</a>A <b>QName</b> is a name
with an optional namespace qualification, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.  When used in connection with the XML
representation of schema components or references to them, this refers to the
simple type <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a> as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a></span>.</p><p><span class="termdef"><a id="gloss-NCName" name="gloss-NCName">[Definition:]&#xa0;&#xa0;</a>An <b>NCName</b> is a name
with no colon, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.  When used in connection with the XML
representation of schema components in this specification, this refers to the
simple type <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a> as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a></span>.</p><p>In each of the XML
representation expositions in the following sections, an attribute is shown as
having type <code>QName</code> if and only if it is
interpreted as referencing a schema component.</p><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
            xmlns:xhtml=&quot;http://www.w3.org/1999/xhtml&quot;
            xmlns=&quot;http://www.example.com&quot;
            targetNamespace=&quot;http://www.example.com&quot;&gt;
  . . .

  &lt;xs:element name=&quot;elem1&quot; type=&quot;Address&quot;/&gt;

  &lt;xs:element name=&quot;elem2&quot; type=&quot;xhtml:blockquote&quot;/&gt;

  &lt;xs:attribute name=&quot;attr1&quot;
                type=&quot;xsl:quantity&quot;/&gt;
  . . .
&lt;/xs:schema&gt;

</pre></div><div class="exampleWrapper">The first of these is most probably a local reference, i.e. a reference
to a type
definition corresponding to a <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> element information item
located elsewhere in the schema document, the other two refer to type
definitions from schemas for other namespaces and assume that their namespaces
have been declared for import.  See <a href="#composition-schemaImport">References to schema components across namespaces (&#xa7;4.2.3)</a> for a discussion of importing.</div></div></div><div class="div4">
<h5><a id="d0e16826" name="d0e16826"/>3.15.2.2 References to Schema Components from Elsewhere</h5><p>The names of schema components such as type definitions and element
declarations are not of type <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a>:  they are not
unique within a schema, just within a symbol space.  This means that simple
fragment identifiers will not always work to reference schema components from outside
the context of schema documents.</p><p>There is currently no provision in the definition of the interpretation
of fragment identifiers for the <code>text/xml</code> MIME type, which is the
MIME type for schemas, for referencing
schema components as such.  However, 
<a href="#ref-xpointer">[XPointer]</a> provides a mechanism which maps well onto the
notion of symbol spaces as it is reflected in the XML representation of schema components.  A fragment identifier of the form
<code>#xpointer(xs:schema/xs:element[@name=&quot;person&quot;])</code> will uniquely identify
the representation of a top-level element declaration with name <code>person</code>, and similar fragment
identifiers can obviously be constructed for the other global symbol spaces.</p><p>Short-form fragment identifiers may also be used in some cases, that is
when a DTD or XML Schema is available for the schema in question, and the
provision of an <code>id</code> attribute for the representations of all primary and secondary schema
components, which <em>is</em> of type
<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a>, has been exploited.</p><p>It is a matter for applications to specify whether they interpret
document-level references of either of the above varieties as being to the relevant element information item (i.e. without
special recognition of the relation of schema documents to schema components) or as being to the
corresponding schema component.</p></div></div><div class="div3">
<h4><a id="d0e16860" name="d0e16860"/>3.15.3 Constraints on XML Representations of Schemas</h4><div class="constraintnote"><a name="src-qname" id="src-qname"/><b>Schema Representation Constraint:  QName Interpretation</b><br/><div class="constraint">Where the type of an attribute information item in a document involved in
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> is
identified as
<a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>, its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is composed of a
 <span class="termdef"><a id="q-local" name="q-local">[Definition:]&#xa0;&#xa0;</a><b>local name</b></span> and a <span class="termdef"><a id="q-uri" name="q-uri">[Definition:]&#xa0;&#xa0;</a><b>namespace name</b></span>.  Its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is determined based on its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> and
the containing element information item's <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[in-scope
namespaces]</a> following <a href="#ref-xml-namespaces">[XML-Namespaces]</a>:<p/>The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b>its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> is prefixed, <b>then </b>
      <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1 There must be a namespace in the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[in-scope
namespaces]</a> whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.namespace">[prefix]</a> matches the prefix.</div><div class="clnumber">1.2 its <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> is the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.namespace">[namespace
name]</a> of that namespace.</div><div class="clnumber">1.3 Its <a class="termref" href="#q-local"><span class="arrow">&#xb7;</span>local name<span class="arrow">&#xb7;</span></a> is the portion of
its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> after the colon (<code>':'</code>).</div></div>
     </div><div class="clnumber">2 <b>otherwise </b>(its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> is unprefixed) <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 its <a class="termref" href="#q-local"><span class="arrow">&#xb7;</span>local name<span class="arrow">&#xb7;</span></a> is its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">2.2 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">2.2.1 <b>If </b>there is a namespace in the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[in-scope
namespaces]</a> whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.namespace">[prefix]</a> has no value, <b>then </b>its <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> is the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.namespace">[namespace
name]</a> of that namespace.</div><div class="clnumber">2.2.2 <b>otherwise </b>its <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</div></div></div></div></div></div><p/>In the absence of the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[in-scope namespaces]</a> property in the infoset for the schema document in question, processors must reconstruct equivalent information as necessary, using the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[ namespace attributes]</a> of the containing element information item and its ancestors.</div></div><p><span class="termdef"><a id="key-resolve" name="key-resolve">[Definition:]&#xa0;&#xa0;</a>Whenever the word <b>resolve</b> in any form is used in this
chapter in connection with a <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> in a
schema document, the
following definition <a href="#src-resolve">QName resolution (Schema Document) (&#xa7;3.15.3)</a> should be understood</span>:</p><div class="constraintnote"><a name="src-resolve" id="src-resolve"/><b>Schema Representation Constraint:  QName resolution (Schema Document)</b><br/><div class="constraint">For a <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>
to resolve to a schema component of a specified kind
   <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 That component is a member of the value of the appropriate
property of the schema which corresponds to the schema
document within which the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>
appears, that is
      the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1.1 <b>If </b>the kind specified is simple or complex type definition, <b>then </b>the property is the <a class="propref" href="#type_definitions">{type definitions}</a>.</div><div class="clnumber">1.2 <b>If </b>the kind specified is attribute declaration, <b>then </b>the property is the <a class="propref" href="#attribute_declarations">{attribute declarations}</a>.</div><div class="clnumber">1.3 <b>If </b>the kind specified is element declaration, <b>then </b>the property is the <a class="propref" href="#element_declarations">{element declarations}</a>.</div><div class="clnumber">1.4 <b>If </b>the kind specified
is attribute group, <b>then </b>the property is the <a class="propref" href="#attribute_group_definitions">{attribute group definitions}</a>.</div><div class="clnumber">1.5 <b>If </b>the kind specified is
model group, <b>then </b>the property is the <a class="propref" href="#model_group_definitions">{model group definitions}</a>.</div><div class="clnumber">1.6 <b>If </b>the kind specified is notation declaration, <b>then </b>the property is the <a class="propref" href="#notation_declarations">{notation declarations}</a>.</div></div>
     </div><div class="clnumber">2 The
component's <span class="anonRef">{name}</span> matches the <a class="termref" href="#q-local"><span class="arrow">&#xb7;</span>local
name<span class="arrow">&#xb7;</span></a> of the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">3 The component's <span class="anonRef">{target namespace}</span> is identical to the <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> of the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">4 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">4.1 <b>If </b>the <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> of the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>, <b>then </b>
        <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">4.1.1 The <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item of the schema document containing the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> has no <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</div><div class="clnumber">4.1.2 The <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item of the that schema document contains an <a class="eltref" href="#element-import">&lt;import&gt;</a> element
information item with no <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</div></div>
       </div><div class="clnumber">4.2 <b>otherwise </b>the <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a> of the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> is
the same as
        <b>one</b> of the following:<div class="constraintlist"><div class="clnumber">4.2.1 The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of
the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item of the schema document containing the <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>.</div><div class="clnumber">4.2.2 The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of some
<a class="eltref" href="#element-import">&lt;import&gt;</a> element information item contained in the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item of that schema document.</div></div>.</div></div></div></div>
  </div></div></div><div class="div3">
<h4><a id="d0e17196" name="d0e17196"/>3.15.4 Validation Rules for Schemas as a Whole</h4><p>As the discussion above at <a href="#components">Schema Component Details (&#xa7;3)</a> makes clear, at the level of schema components and <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, reference to components by name is normally not involved.  In a
few cases, however, qualified names appearing in information items being
<a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> must be resolved to schema components by such lookup.  The following
constraint is appealed to in these cases.</p><div class="constraintnote"><a name="cvc-resolve-instance" id="cvc-resolve-instance"/><b>Validation Rule:  QName resolution (Instance)</b><br/><div class="constraint">A pair of a local name and a namespace name (or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>)
resolve to a schema component of a specified kind in the context of <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> by appeal to the appropriate
property of the schema being used for the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.  Each such property indexes components by name.  The property to use is determined by the kind of component specified, that is,
   the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1 <b>If </b>the kind specified is simple or complex type definition, <b>then </b>the property is the <a class="propref" href="#type_definitions">{type definitions}</a>.</div><div class="clnumber">2 <b>If </b>the kind specified is attribute declaration, <b>then </b>the property is the <a class="propref" href="#attribute_declarations">{attribute declarations}</a>.</div><div class="clnumber">3 <b>If </b>the kind specified is element declaration, <b>then </b>the property is the <a class="propref" href="#element_declarations">{element declarations}</a>.</div><div class="clnumber">4 <b>If </b>the kind specified
is attribute group, <b>then </b>the property is the <a class="propref" href="#attribute_group_definitions">{attribute group definitions}</a>.</div><div class="clnumber">5 <b>If </b>the kind specified is
model group, <b>then </b>the property is the <a class="propref" href="#model_group_definitions">{model group definitions}</a>.</div><div class="clnumber">6 <b>If </b>the kind specified is notation declaration, <b>then </b>the property is the <a class="propref" href="#notation_declarations">{notation declarations}</a>.</div></div>
   The component resolved to is the entry in the table whose <span class="anonRef">{name}</span> matches the local name of the pair and whose <span class="anonRef">{target namespace}</span> is identical to the namespace name of the pair.
  </div></div></div><div class="div3">
<h4><a id="d0e17275" name="d0e17275"/>3.15.5 Schema Information Set Contributions</h4><div class="constraintnote"><a name="sic-schema" id="sic-schema"/><b>Schema Information Set Contribution:  Schema Information</b><br/><div class="constraint">Schema components provide a wealth of information about the basis of
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, which may well be of relevance to
subsequent processing.  Reflecting component structure into a form suitable for
inclusion in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> is the way this specification provides for making this
information available.<p/>Accordingly, <span class="termdef"><a id="key-iso" name="key-iso">[Definition:]&#xa0;&#xa0;</a> by an <b>item isomorphic</b> to a component is meant an information item whose type is equivalent to the component's, with one property per property of the component, with the same name, and value either the same atomic value, or an information item corresponding in the same way to its component value, recursively, as necessary</span>.<p/>Processors must add a property in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>
to the element information item at which <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> began, as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
       <dt><a name="e-schema_information" id="e-schema_information"><span class="propdef">[schema information]</span></a></dt><dd>A set of <b>namespace schema information</b> information items, one for each namespace name which appears as the
<span class="anonRef">{target namespace}</span> of any schema component in the schema used for that
assessment, and one for <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> if any schema
component in the schema had no <span class="anonRef">{target namespace}</span>.  Each <b>namespace schema information</b> information item has the
following properties and values:
        <div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;namespace schema information&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
         <dt><a name="nsi-schema_namespace" id="nsi-schema_namespace"><span class="propdef">[schema namespace]</span></a></dt><dd>A namespace
name or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</dd>
         <dt><a name="nsi-schema_components" id="nsi-schema_components"><span class="propdef">[schema components]</span></a></dt><dd>A (possibly
empty) set of schema component information items, each one an <a class="termref" href="#key-iso"><span class="arrow">&#xb7;</span>item isomorphic<span class="arrow">&#xb7;</span></a> to a component whose <span class="anonRef">{target
namespace}</span> is the sibling <a class="propref" href="#nsi-schema_namespace">[schema namespace]</a>
property above, drawn from the schema used for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.</dd>
         <dt><a name="nsi-schema_documents" id="nsi-schema_documents"><span class="propdef">[schema documents]</span></a></dt><dd>A
(possibly empty) set of <b>schema document</b> information items, with
properties and values as follows, for each schema document which
contributed components to the schema, and whose
<code>targetNamespace</code> matches the sibling <a class="propref" href="#nsi-schema_namespace">[schema namespace]</a> property above (or whose
<code>targetNamespace</code> was <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>
but that contributed components to that namespace by being <a class="eltref" href="#element-include">&lt;include&gt;</a>d
by a schema document with that <code>targetNamespace</code> as per <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&#xa7;4.2.1)</a>):
          <div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;schema document&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
           <dt><a name="sd-document_location" id="sd-document_location"><span class="propdef">[document location]</span></a></dt><dd>Either a URI reference, if available, otherwise
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>
           </dd>
           <dt><a name="sd-document" id="sd-document"><span class="propdef">[document]</span></a></dt><dd>A document
information item, if available, otherwise <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>.</dd>
          </dl></div></div>
         </dd>
        </dl></div></div>
       </dd>
      </dl></div></div>The <a class="propref" href="#nsi-schema_components">{schema components}</a> property is provided for
processors which wish to provide a single access point to the
components of the schema which was used during <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.  Lightweight processors are free to leave it empty, but if it <em>is</em> provided, it must contain at a minimum all the top-level (i.e. named) components which actually figured in the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, either directly or (because an anonymous component which figured is contained within) indirectly.</div></div><div class="constraintnote"><a name="sic-id" id="sic-id"/><b>Schema Information Set Contribution:  ID/IDREF Table</b><br/><div class="constraint">In the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> a set of <b>ID/IDREF binding</b> information items is associated
with the <a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation root<span class="arrow">&#xb7;</span></a> element information
item:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;element&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
       <dt><a name="e-ii_table" id="e-ii_table"><span class="propdef">[ID/IDREF table]</span></a></dt><dd>A (possibly empty) set of
<b>ID/IDREF binding</b> information items, as specified below.</dd>
      </dl></div></div><span class="termdef"><a id="key-eas" name="key-eas">[Definition:]&#xa0;&#xa0;</a>Let the
<b>eligible item set</b> be the set of consisting of every attribute or element
information item</span> for which
         <b>all</b> of the following are true<div class="constraintlist"><div class="clnumber">1 its  <span class="anonRef">[validation context]</span> is the
<a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation root<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">2 it was successfully <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> with respect to an attribute
declaration as per <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> or element declaration as per
<a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> (as appropriate) whose attribute <a class="propref" href="#a-simple_type_definition">{type definition}</a> or element <a class="propref" href="#type_definition">{type definition}</a> (respectively) is the
built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a>, <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#IDREF">IDREF</a> or <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#IDREFS">IDREFS</a> simple type definition or a type derived from one of them.</div></div><p/>Then there is one <b>ID/IDREF binding</b> in the <a class="propref" href="#e-ii_table">[ID/IDREF table]</a>
for every distinct string which is<b>one</b> of the following:<div class="constraintlist"><div class="clnumber">1 the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of a member of the <a class="termref" href="#key-eas"><span class="arrow">&#xb7;</span>eligible
item set<span class="arrow">&#xb7;</span></a> whose type definition is or is derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a> or <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#IDREF">IDREF</a>;</div><div class="clnumber">2 one of the items in the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of a member of the <a class="termref" href="#key-eas"><span class="arrow">&#xb7;</span>eligible
item set<span class="arrow">&#xb7;</span></a> whose type definition is or is derived from <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#IDREFS">IDREFS</a>.</div></div>Each <b>ID/IDREF binding</b> has properties as follows:<div class="psviDef"><div class="psviHeader"><span class="psviDef">PSVI Contributions
for</span>&#xa0;ID/IDREF binding&#xa0;information items
   </div><div class="psviBody"><dl class="psvi">
        <dt><a name="iib-id" id="iib-id"><span class="propdef">[id]</span></a></dt><dd>The string identified above.</dd>
        <dt><a name="iib-binding" id="iib-binding"><span class="propdef">[binding]</span></a></dt><dd>A set consisting of every element information item for which
          <b>all</b> of the following are true<div class="constraintlist"><div class="clnumber">1 its <a class="propref" href="#e-validation_context">[validation context]</a> is the
<a class="termref" href="#key-vr"><span class="arrow">&#xb7;</span>validation root<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">2 it has an attribute information item in
its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> or an element information item in its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> which was <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> by the
built-in <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a> simple type definition or a type derived from it whose
 <span class="anonRef">[schema normalized value]</span> is the <a class="propref" href="#iib-id">[id]</a> of
this <b>ID/IDREF binding</b>.</div></div>
        </dd>
       </dl></div></div>The net effect of the above is to have one entry for every string used as an
id, whether by declaration or by reference, associated with those elements, if
any, which actually purport to have that id.  See <a href="#cvc-id">Validation Root Valid (ID/IDREF) (&#xa7;3.3.4)</a> above
for the validation rule which actually checks for errors here.<div class="note"><b>Note:&#xa0;</b>The <b>ID/IDREF binding</b>
information item, unlike most other aspects of this
specification, is essentially an internal bookkeeping mechanism.  It is introduced to
support the definition of <a href="#cvc-id">Validation Root Valid (ID/IDREF) (&#xa7;3.3.4)</a> above. 
Accordingly, conformant processors may, but are <em>not</em> required to,
expose it in the <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>.
In other words, the above constraint may be read as saying <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> proceeds <em>as if</em> such an infoset item existed.</div></div></div></div><div class="div3">
<h4><a id="coss-schema" name="coss-schema"/>3.15.6 Constraints on Schemas as a Whole</h4><p>All schemas (see <a href="#Schemas">Schemas as a Whole (&#xa7;3.15)</a>) must satisfy the following constraint.</p><div class="constraintnote"><a name="sch-props-correct" id="sch-props-correct"/><b>Schema Component Constraint:  Schema Properties Correct</b><br/><div class="constraint"><b>All</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The values of the properties of a schema must be as described in
the property tableau in
<a href="#Schema_details">The Schema Itself (&#xa7;3.15.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>;</div><div class="clnumber">2<a name="c-nmd" id="c-nmd"> </a>Each of the <a class="propref" href="#type_definitions">{type definitions}</a>,  <a class="propref" href="#element_declarations">{element declarations}</a>, <a class="propref" href="#attribute_group_definitions">{attribute group definitions}</a>, <a class="propref" href="#model_group_definitions">{model group definitions}</a> and <a class="propref" href="#notation_declarations">{notation declarations}</a> must not contain two or more schema components with the same <span class="anonRef">{name}</span> and <span class="anonRef">{target
namespace}</span>.</div></div></div></div></div></div></div><div class="div1">
<h2><a id="composition" name="composition"/>4 Schemas and Namespaces: Access and Composition</h2><p>This chapter defines the mechanisms by which this specification establishes the necessary
precondition for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, namely access to
one or more schemas. This chapter also sets out in detail the relationship
between schemas and namespaces, as well as mechanisms for
modularization of schemas, including provision for incorporating definitions
and declarations from one schema in another, possibly with modifications.</p><p><a href="#concepts-conformance">Conformance (&#xa7;2.4)</a> describes three levels of conformance for schema
processors, and <a href="#conformance">Schemas and Schema-validity Assessment (&#xa7;5)</a> provides a formal definition of
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>. This section sets out
in detail the 3-layer architecture implied by the three conformance levels.
The layers
are: </p><ol class="enumar"><li>The <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> core, relating schema components and instance
information items; </li><li>Schema representation: the connections between XML
representations and schema components, including the
  relationships between namespaces and schema components; </li><li>XML Schema web-interoperability guidelines: instance-&gt;schema and
  schema-&gt;schema connections for the WWW. </li></ol><p>Layer 1 specifies the manner in which a schema composed of schema components
can be applied to in the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> of an instance element information item. Layer 2 specifies the use of <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
elements in XML documents as the standard XML representation for
schema information in a broad range of computer systems and execution
environments. To support interoperation over the World Wide Web in particular,
layer 3 provides a set of conventions for schema reference on the
Web. Additional details on each of the three layers is provided in the sections below.</p><div class="div2">
<h3><span class="nav"> <a class="nav" href="#layer2"><img src="next.jpg" alt="next sub-section"/></a></span><a id="layer1" name="layer1"/>4.1 Layer 1: Summary of the Schema-validity Assessment Core</h3><p>The fundamental purpose of the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> core is to define <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> for a single
element information item and its descendants with respect to a
complex type
definition. All processors are required to implement this core predicate in a
manner which conforms exactly to this specification. </p><p><a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> is defined with reference to an <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a> (note <em>not</em> a
<a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema document<span class="arrow">&#xb7;</span></a>) which consists of (at a minimum) the set of schema
components (definitions and declarations) required for that
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.  This is not a circular definition, but rather a
<em>post facto</em> observation:  no element information item can
be fully assessed unless all the components required by any aspect of
its (potentially recursive) <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> are present in the schema.</p><p>As specified above, each schema component is associated directly or
indirectly with a target namespace, or explicitly with no namespace. In the case of multi-namespace documents,
components for more than one target namespace will co-exist in a schema.</p><p>Processors have the option to assemble (and perhaps to optimize or
pre-compile) the entire schema prior to the start of an <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> episode, or to
gather the schema lazily as individual components are required. In all
cases it is required that:</p><ul><li>The processor succeed in locating the <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a>
  transitively required to complete an <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> (note that components derived
from <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a> can be integrated
with components obtained through other means);</li><li>no definition or declaration changes once it has been established;</li><li>if the processor chooses to acquire declarations and definitions
  dynamically, that there be no side effects of such dynamic acquisition that
  would cause the results of <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> to differ from that which would have
  been obtained from the same schema components acquired in bulk.</li></ul><div class="note"><b>Note:&#xa0;</b> the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> core is defined in terms of schema components at the
abstract level, and no mention is made of the schema definition
syntax (i.e. <a class="eltref" href="#element-schema">&lt;schema&gt;</a>). Although many processors will acquire
schemas in this format, others may operate on compiled representations, on a
programmatic representation as exposed in some programming language, etc.
</div><p>The obligation of a schema-aware processor as far as the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>
core is concerned is to implement one or more of the options for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> given below in <a href="#validation_outcome">Assessing Schema-Validity (&#xa7;5.2)</a>. Neither the
choice of element information item for that <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, nor which of the
means of initiating <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> are used, is within the scope of this specification.</p><p>Although <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> is defined recursively, it is also intended to be
implementable in streaming
processors.  Such processors may choose to incrementally assemble the schema during
processing in response, for example, to encountering new namespaces. 
The implication of the
invariants expressed above is that such incremental assembly must
result in an <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> 
outcome that is the 
<em>same</em> as would
be given if <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> was undertaken again
with the final, fully assembled schema. </p></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#layer1"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#composition-instances"><img src="next.jpg" alt="next sub-section"/></a></span><a id="layer2" name="layer2"/>4.2 Layer 2: Schema Documents, Namespaces and Composition</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;4.2.1 <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;4.2.2 <a href="#modify-schema">Including modified component definitions</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;4.2.3 <a href="#composition-schemaImport">References to schema components across namespaces</a><br/>
</div><p>The sub-sections of <a href="#components">Schema Component Details (&#xa7;3)</a> define an
XML representation for type definitions and element declarations and so on,
specifying their target namespace and collecting them into schema documents.
The two following sections relate to assembling a complete schema for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> from multiple sources.  They should <em>not</em> be understood as a form of text substitution, but rather as providing mechanisms for distributed definition of schema components, with appropriate schema-specific semantics.</p><div class="note"><b>Note:&#xa0;</b> The core <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> architecture requires that a complete schema with
all the necessary declarations and definitions be
available. This may involve resolving both
instance-&gt;schema and schema-&gt;schema references. As observed earlier in <a href="#concepts-conformance">Conformance (&#xa7;2.4)</a>,  the precise mechanisms for resolving such references are expected to evolve over time.
In support of such evolution, this specification observes the design principle that references from
one schema document to a schema use mechanisms that directly parallel those used to
reference a schema from an instance document.</div><div class="note"><b>Note:&#xa0;</b>In the sections below, &quot;schemaLocation&quot; really belongs at layer 3. 
For convenience, it is documented with the layer 2 mechanisms of import and
include, with which it is closely associated.</div><div class="div3">
<h4><a id="compound-schema" name="compound-schema"/>4.2.1 Assembling a schema for a single target namespace from multiple schema definition documents</h4><p>Schema components for a single target namespace can be assembled from
several <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>, that is several <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element
information items: </p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>include</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-include" id="element-include">&lt;include</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>schemaLocation</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/include&gt;</p>
</div></div><p>A <a class="eltref" href="#element-schema">&lt;schema&gt;</a> information item may contain any number of <a class="eltref" href="#element-include">&lt;include&gt;</a> elements. Their <code>schemaLocation</code> attributes, consisting of a URI reference, identify other <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>, that is <a class="eltref" href="#element-schema">&lt;schema&gt;</a> information items. 
</p><p>The <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a> corresponding 
to <a class="eltref" href="#element-schema">&lt;schema&gt;</a> contains not only the components corresponding to its definition and declaration <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but also
all the components of all the <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schemas<span class="arrow">&#xb7;</span></a> corresponding to any <a class="eltref" href="#element-include">&lt;include&gt;</a>d schema documents.
Such included schema documents must either (a) have the same
<code>targetNamespace</code> as the <a class="eltref" href="#element-include">&lt;include&gt;</a>ing schema document, or 
(b) no <code>targetNamespace</code> at all, in which case the <a class="eltref" href="#element-include">&lt;include&gt;</a>d schema document is converted to the <a class="eltref" href="#element-include">&lt;include&gt;</a>ing schema document's <code>targetNamespace</code>.</p><div class="constraintnote"><a name="src-include" id="src-include"/><b>Schema Representation Constraint:  Inclusion Constraints and Semantics</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-include">&lt;include&gt;</a> element
information items by the schema for schemas, 
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1<a name="c-ins" id="c-ins"> </a>If the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>schemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>
successfully resolves
      <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1.1<a name="c-vxd" id="c-vxd"> </a>It resolves to (a fragment of) a resource which is an XML
document (of type
<code>application/xml</code> or <code>text/xml</code> with an XML declaration
for preference, but this is not required), which in turn corresponds to a <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.</div><div class="clnumber">1.2 It resolves to a <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.</div></div>
      In either case call the <a class="eltref" href="#element-include">&lt;include&gt;</a>d <a class="eltref" href="#element-schema">&lt;schema&gt;</a> item <b>SII</b>, the valid
schema <b>I</b> and the <a class="eltref" href="#element-include">&lt;include&gt;</a>ing item's parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a> item <b>SII&#x2019;</b>.</div><div class="clnumber">2 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1<a name="c-normi" id="c-normi"> </a><b>SII</b> has a <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, and its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is identical to the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <b>SII&#x2019;</b> (which must have such an <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>).</div><div class="clnumber">2.2<a name="c-normi2" id="c-normi2"> </a>Neither <b>SII</b> nor <b>SII&#x2019;</b> have a <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</div><div class="clnumber">2.3<a name="c-chami" id="c-chami"> </a><b>SII</b> has no <code>targetNamespace</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> (but <b>SII&#x2019;</b> does).</div></div></div><div class="clnumber">3 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">3.1 <b>If </b>clause <a href="#c-normi">2.1</a> or clause <a href="#c-normi2">2.2</a> above is satisfied, <b>then </b>the schema corresponding to <b>SII&#x2019;</b> must include not only definitions or
declarations corresponding to the appropriate members of its own <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but also components identical to all the <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a> of <b>I</b>.</div><div class="clnumber">3.2<a name="c-docham" id="c-docham"> </a><b>If </b>clause <a href="#c-chami">2.3</a> above is satisfied, <b>then </b>the schema corresponding to the
<a class="eltref" href="#element-include">&lt;include&gt;</a>d
item's parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a> must include not only definitions or
declarations corresponding to the appropriate members of its own <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>,
but also components identical to all the <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema
components<span class="arrow">&#xb7;</span></a> of <b>I</b>, except that anywhere the <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> target
namespace name would have appeared, the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <b>SII&#x2019;</b> is used.  In
particular, it replaces <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> in the following places:
          <div class="constraintlist"><div class="clnumber">3.2.1 The  <span class="anonRef">{target namespace}</span> of named schema
components, both at the top level and (in the case of nested type
definitions and nested attribute and
element declarations whose <code>code</code> was <i>qualified</i>) nested within definitions;</div><div class="clnumber">3.2.2 The <a class="propref" href="#namespace_constraint">{namespace constraint}</a> of a wildcard, whether negated or not;</div></div>
         </div></div></div></div>
   <p/>It is <em>not</em> an error for the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>schemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> to fail to resolve it all, in which case no
corresponding inclusion is performed.  It
<em>is</em> an error for it to resolve but the rest of clause 1 above to
fail to be satisfied.  Failure to resolve may well cause less than complete
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> outcomes, of course.<p/>As discussed in <a href="#conformance-missing">Missing Sub-components (&#xa7;5.3)</a>, <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>s in XML representations may fail to
<a class="termref" href="#key-resolve"><span class="arrow">&#xb7;</span>resolve<span class="arrow">&#xb7;</span></a>, rendering components incomplete
and unusable because of missing subcomponents.  During schema construction,
implementations must retain <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> values for such references, in case an appropriately-named component becomes available to discharge the reference by the time it is actually needed.  <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>Absent<span class="arrow">&#xb7;</span></a> target <a class="termref" href="#q-uri"><span class="arrow">&#xb7;</span>namespace name<span class="arrow">&#xb7;</span></a>s of such as-yet unresolved reference <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a>s in <a class="eltref" href="#element-include">&lt;include&gt;</a>d components must also be converted if clause <a href="#c-docham">3.2</a> is satisfied.</div></div><div class="note"><b>Note:&#xa0;</b>The above is carefully worded so that multiple <a class="eltref" href="#element-include">&lt;include&gt;</a>ing of the same schema document will not constitute a violation of
clause <a href="#c-nmd">2</a> of <a href="#sch-props-correct">Schema Properties Correct (&#xa7;3.15.6)</a>, but applications are
allowed, indeed encouraged, to avoid <a class="eltref" href="#element-include">&lt;include&gt;</a>ing the same schema document more than once to forestall the necessity of establishing identity
component by component.</div></div><div class="div3">
<h4><a id="modify-schema" name="modify-schema"/>4.2.2 Including modified component definitions</h4><p>In order to provide some support for evolution and versioning, it is
possible to incorporate components corresponding to a schema document
<em>with modifications</em>.  The modifications have a pervasive impact,
that is, only the redefined components are used, even when referenced from
other incorporated components, whether redefined themselves or not.</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>redefine</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-redefine" id="element-redefine">&lt;redefine</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;<b>schemaLocation</b> = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a> | (<a class="eltref" href="#element-simpleType">simpleType</a> | <a class="eltref" href="#element-complexType">complexType</a> | <a class="eltref" href="#element-group">group</a> | <a class="eltref" href="#element-attributeGroup">attributeGroup</a>))*<br/>&lt;/redefine&gt;</p>
</div></div><p>A <a class="eltref" href="#element-schema">&lt;schema&gt;</a> information item may contain any number of <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a> elements. Their <code>schemaLocation</code> attributes, consisting of a URI reference, identify other <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>, that is <a class="eltref" href="#element-schema">&lt;schema&gt;</a> information items. 
</p><p>The <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a> corresponding 
to <a class="eltref" href="#element-schema">&lt;schema&gt;</a> contains not only the components corresponding to its definition and declaration <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but also
all the components of all the <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schemas<span class="arrow">&#xb7;</span></a> corresponding to any <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d schema documents.
Such schema documents must either (a) have the same
<code>targetNamespace</code> as the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing schema document, or 
(b) no <code>targetNamespace</code> at all, in which case  the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d schema document is converted to the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing schema document's <code>targetNamespace</code>.</p><p>The definitions within the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a> element itself are
restricted to be redefinitions of components from the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d
schema document, <em>in terms of themselves</em>.  That is, 
  </p><ul><li>Type
definitions must use themselves as their base type definition;</li><li>
     Attribute
group definitions and model group definitions must be supersets or subsets of their original
definitions, either by including exactly one
reference to themselves or by containing only (possibly restricted) components
which appear in a corresponding way in their <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d selves.</li></ul><p>Not all the components of the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d
schema document need be redefined.</p><p>This mechanism is intended to provide a declarative and modular approach to
schema modification, with functionality no different except in scope from what
would be achieved by wholesale text copying and redefinition by editing.  In
particular redefining a type is not guaranteed to be side-effect free:  it may
have unexpected impacts on other type definitions which are based
on the redefined one, even to the extent that some such definitions become
ill-formed.</p><div class="note"><b>Note:&#xa0;</b>The pervasive impact of redefinition reinforces the need for
implementations to adopt some form of lazy or 'just-in-time' approach to
component construction, which is also called for in order to avoid
inappropriate dependencies on the order in which definitions and references appear in (collections of) schema documents.</div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleInner"><pre>v1.xsd:
 &lt;xs:complexType name=&quot;personName&quot;&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name=&quot;title&quot; minOccurs=&quot;0&quot;/&gt;
   &lt;xs:element name=&quot;forename&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;

 &lt;xs:element name=&quot;addressee&quot; type=&quot;personName&quot;/&gt;

v2.xsd:
 &lt;xs:redefine schemaLocation=&quot;v1.xsd&quot;&gt;
  &lt;xs:complexType name=&quot;personName&quot;&gt;
   &lt;xs:complexContent&gt;
    &lt;xs:extension base=&quot;personName&quot;&gt;
     &lt;xs:sequence&gt;
      &lt;xs:element name=&quot;generation&quot; minOccurs=&quot;0&quot;/&gt;
     &lt;/xs:sequence&gt;
    &lt;/xs:extension&gt;
   &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
 &lt;/xs:redefine&gt;

 &lt;xs:element name=&quot;author&quot; type=&quot;personName&quot;/&gt;
  </pre></div><div class="exampleWrapper">The schema corresponding to <code>v2.xsd</code> has everything specified
by <code>v1.xsd</code>, with the <code>personName</code> type redefined, as
well as everything it specifies itself.  According to
this schema, elements constrained
by the <code>personName</code> type may end with a <code>generation</code>
element.  This includes not only the <code>author</code> element, but also the
<code>addressee</code> element.</div></div><div class="constraintnote"><a name="src-redefine" id="src-redefine"/><b>Schema Representation Constraint:  Redefinition Constraints and Semantics</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a> element
information items by the schema for schemas
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 If there are any element information items among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>
other than <a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> then the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>schemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> must
successfully resolve.</div><div class="clnumber">2 If the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>schemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>
successfully resolves
      <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 it resolves to (a fragment of) a resource which is an XML document
(see clause <a href="#c-vxd">1.1</a>), which in turn corresponds to a <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.</div><div class="clnumber">2.2 It resolves to a <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.</div></div>
      In either case call the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d <a class="eltref" href="#element-schema">&lt;schema&gt;</a> item <b>SII</b>, the valid
schema <b>I</b> and the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing item's parent <a class="eltref" href="#element-schema">&lt;schema&gt;</a> item <b>SII&#x2019;</b>.</div><div class="clnumber">3 <b>One</b> of the following must be true:<div class="constraintlist"><div class="clnumber">3.1<a name="c-normir" id="c-normir"> </a><b>SII</b> has a <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, and its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is identical to the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <b>SII&#x2019;</b> (which must have such an <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>).</div><div class="clnumber">3.2<a name="c-normi2r" id="c-normi2r"> </a>Neither <b>SII</b> nor <b>SII&#x2019;</b> have a <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</div><div class="clnumber">3.3<a name="c-chamir" id="c-chamir"> </a><b>SII</b> has no <code>targetNamespace</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> (but <b>SII&#x2019;</b> does).</div></div></div><div class="clnumber">4 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">4.1 <b>If </b>clause <a href="#c-normir">3.1</a> or clause <a href="#c-normi2r">3.2</a> above is satisfied, <b>then </b>the schema corresponding to <b>SII&#x2019;</b> must include not only definitions or
declarations corresponding to the appropriate members of its own
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but also components identical to all the <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a> of <b>I</b>, with the
exception of those explicitly redefined (see <a href="#src-expredef">Individual Component Redefinition (&#xa7;4.2.2)</a> below).</div><div class="clnumber">4.2 <b>If </b>clause <a href="#c-chamir">3.3</a> above is satisfied, <b>then </b>the schema corresponding to <b>SII&#x2019;</b> must include not only definitions or
declarations corresponding to the appropriate members of its own <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>,
but also components identical to all the <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema
components<span class="arrow">&#xb7;</span></a> of <b>I</b>, with the
exception of those explicitly redefined (see <a href="#src-expredef">Individual Component Redefinition (&#xa7;4.2.2)</a>
below), except that anywhere the <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> target
namespace name would have appeared, the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
<code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <b>SII&#x2019;</b> is
used (see clause <a href="#c-docham">3.2</a> in <a href="#src-include">Inclusion Constraints and Semantics (&#xa7;4.2.1)</a> for details).</div></div></div><div class="clnumber">5 Within the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, each <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> must
have a <a class="eltref" href="#element-restriction">&lt;restriction&gt;</a> among its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> and each <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a> must have a <code>restriction</code> or <code>extension</code> among its grand-<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of whose <code>base</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> must be the same as the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of its own <code>name</code> attribute plus target namespace;</div><div class="clnumber">6 Within the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, for each <a class="eltref" href="#element-group">&lt;group&gt;</a> the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">6.1 <b>If </b>it has a <a class="eltref" href="#element-group">&lt;group&gt;</a> among its contents at some level the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of whose
<code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is the same as the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of its own
<code>name</code> attribute plus target namespace, <b>then </b>
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">6.1.1 It must have exactly one such group.</div><div class="clnumber">6.1.2 The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of both that group's <code>minOccurs</code> and
<code>maxOccurs</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> must be <code>1</code> (or <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>).</div></div>
        </div><div class="clnumber">6.2 <b>If </b>it has no such self-reference, <b>then </b>
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">6.2.1 The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of its own <code>name</code> attribute plus target
namespace must successfully <a class="termref" href="#key-resolve"><span class="arrow">&#xb7;</span>resolve<span class="arrow">&#xb7;</span></a> to a
model group definition in <b>I</b>.</div><div class="clnumber">6.2.2 The <a class="propref" href="#model_group">{model group}</a> of the model group definition which
corresponds to it per <a href="#declare-namedModelGroup">XML Representation of Model Group Definition Schema Components (&#xa7;3.7.2)</a> must be a <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid
restriction<span class="arrow">&#xb7;</span></a> of the <a class="propref" href="#model_group">{model group}</a> of that model group
definition in <b>I</b>, as defined in <a href="#cos-particle-restrict">Particle Valid (Restriction) (&#xa7;3.9.6)</a>.</div></div></div></div></div><div class="clnumber">7 Within the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, for each <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a>
       the appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">7.1 <b>If </b>it has an <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a> among its contents the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of whose
<code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is the same as the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of its own
<code>name</code> attribute plus target namespace, <b>then </b>it must have exactly one such group.</div><div class="clnumber">7.2<a name="c-agrere" id="c-agrere"> </a><b>If </b>it has no such self-reference, <b>then </b>
         <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">7.2.1 The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of its own <code>name</code> attribute plus target
namespace must successfully <a class="termref" href="#key-resolve"><span class="arrow">&#xb7;</span>resolve<span class="arrow">&#xb7;</span></a> to an
attribute group definition in <b>I</b>.</div><div class="clnumber">7.2.2 The <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> and <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a> of the attribute group definition which
corresponds to it per <a href="#declare-attributeGroup">XML Representation of Attribute Group Definition Schema Components (&#xa7;3.6.2)</a> must be <a class="termref" href="#cd-model-restriction"><span class="arrow">&#xb7;</span>valid
restrictions<span class="arrow">&#xb7;</span></a> of the <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> and
<a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a> of that attribute group
definition in <b>I</b>, as defined in clause <a href="#c-rad">2</a>, clause <a href="#c-rad2">3</a> and clause <a href="#c-raw">4</a> of <a href="#derivation-ok-restriction">Derivation Valid (Restriction, Complex) (&#xa7;3.4.6)</a> (where references to the base type definition are understood as references to the attribute group
definition in <b>I</b>).</div></div></div></div>
       <div class="note"><b>Note:&#xa0;</b>An attribute group restrictively redefined per clause <a href="#c-agrere">7.2</a> corresponds to an attribute group whose <a class="propref" href="#ag-attribute_declarations">{attribute uses}</a> consist all and only of those attribute uses corresponding to <a class="eltref" href="#element-attribute">&lt;attribute&gt;</a>s  explicitly present among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a>. No inheritance from the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d attribute group occurs.  Its  <a class="propref" href="#ag-attribute_wildcard">{attribute wildcard}</a> is similarly based purely on an explicit <a class="eltref" href="#element-anyAttribute">&lt;anyAttribute&gt;</a>, if present.</div>
      </div></div>
   </div></div><div class="constraintnote"><a name="src-expredef" id="src-expredef"/><b>Schema Representation Constraint:  Individual Component Redefinition</b><br/><div class="constraint">Corresponding to each non-<a class="eltref" href="#element-annotation">&lt;annotation&gt;</a> member of the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of a <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a> there are one or two schema components in
the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing schema:<div class="constraintlist"><div class="clnumber">1 The <a class="eltref" href="#element-simpleType">&lt;simpleType&gt;</a> and <a class="eltref" href="#element-complexType">&lt;complexType&gt;</a>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> information items each
correspond to two components:<div class="constraintlist"><div class="clnumber">1.1 One component which corresponds to the top-level definition item with
the same <code>name</code> in
the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d schema document, as defined in <a href="#components">Schema Component Details (&#xa7;3)</a>, except that its <span class="anonRef">{name}</span> is <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a>;</div><div class="clnumber">1.2 One component which corresponds to the information item itself, as defined
in <a href="#components">Schema Component Details (&#xa7;3)</a>, except that its <span class="anonRef">{base type definition}</span> is
the component defined in 1.1 above.</div></div>This pairing ensures the coherence constraints on type definitions
are respected, while at the same time achieving the desired effect, namely that
references to names of redefined components in both the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing and
<a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d schema documents resolve to the redefined component
as specified in 1.2 above.</div><div class="clnumber">2 The <a class="eltref" href="#element-group">&lt;group&gt;</a> and <a class="eltref" href="#element-attributeGroup">&lt;attributeGroup&gt;</a>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> each correspond to a single component, as defined in <a href="#components">Schema Component Details (&#xa7;3)</a>, except that if and when a self-reference based on a  <code>ref</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> whose <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> is the same as the item's <code>name</code> plus target namespace is resolved, a component which corresponds to the top-level definition item of that name and the appropriate kind in
<b>I</b> is used.</div></div>In all cases there must be a top-level definition item of the appropriate name and kind in
the <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>d schema document.</div></div><div class="note"><b>Note:&#xa0;</b>The above is carefully worded so that multiple equivalent <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing of the same schema document will not constitute a violation of
clause <a href="#c-nmd">2</a> of <a href="#sch-props-correct">Schema Properties Correct (&#xa7;3.15.6)</a>, but applications are
allowed, indeed encouraged, to avoid <a class="eltref" href="#element-redefine">&lt;redefine&gt;</a>ing the same
schema document in the same way more than once to forestall the necessity of
establishing identity component by component (although this will have to be
done for the individual redefinitions themselves).</div></div><div class="div3">
<h4><a id="composition-schemaImport" name="composition-schemaImport"/>4.2.3 References to schema components across namespaces</h4><p>As described in <a href="#concepts-data-model">XML Schema Abstract Data Model (&#xa7;2.2)</a>, every top-level schema component is associated with
a target namespace (or, explicitly, with none).  This section sets out
the exact mechanism and syntax in the XML form of
schema definition by which a reference to a foreign component is made, that is, a component with a different target namespace from that of the referring component.</p><p>Two things are required: not only a means
of addressing such foreign components but also a signal to schema-aware processors that a
schema document contains such references:</p><div class="reprdef"><div class="reprHeader"><span class="reprdef">XML&#xa0;Representation&#xa0;Summary</span>:&#xa0;<code>import</code>&#xa0;Element Information Item</div><div class="reprBody">
 <p class="element-syntax-1"><a name="element-import" id="element-import">&lt;import</a><br/>&#xa0;&#xa0;id = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ID">ID</a><br/>&#xa0;&#xa0;namespace = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;schemaLocation = <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#anyURI">anyURI</a><br/>&#xa0;&#xa0;<em>{any attributes with non-schema namespace . . .}</em>&gt;<br/><em>&#xa0;&#xa0;Content: </em>(<a class="eltref" href="#element-annotation">annotation</a>?)<br/>&lt;/import&gt;</p>
</div></div><p>The <a class="eltref" href="#element-import">&lt;import&gt;</a> element information item identifies namespaces
used in external references, i.e. those whose
<a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> identifies them as coming from a
different namespace (or none) than the enclosing schema document's
<code>targetNamespace</code>.  The <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of its <code>namespace</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> indicates that the containing schema document may contain
qualified references to schema components in that namespace (via one or more
prefixes declared with namespace declarations in the normal way).  If that
attribute is absent, then the import allows unqualified reference to components
with no target namespace.
Note that components to be imported need not be in the form of a
<a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema document<span class="arrow">&#xb7;</span></a>;  the processor
is free to access or construct components using means of its own
choosing.</p><p>The
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>schemaLocation</code>, if present, gives a
hint as to where a serialization of a <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema document<span class="arrow">&#xb7;</span></a> with declarations and definitions for that
namespace (or none) may be found.  When no
<code>schemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present, the schema author is leaving the
identification of that schema to the instance, application or user, via the mechanisms described
below in <a href="#composition-instances">Layer 3: Schema Document Access and Web-interoperability (&#xa7;4.3)</a>.  When a <code>schemaLocation</code> is present, it
must contain a single URI reference which the schema author
warrants will resolve to a serialization of a <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema document<span class="arrow">&#xb7;</span></a> containing the component(s) in the
<a class="eltref" href="#element-import">&lt;import&gt;</a>ed namespace referred to elsewhere in the containing
schema document.</p><div class="note"><b>Note:&#xa0;</b>Since both the <code>namespace</code> and <code>schemaLocation</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> are optional, a bare <code>&lt;import/&gt;</code> information item
is allowed.  This simply allows unqualified reference to foreign
components with no target namespace without giving any hints as to where to find them.</div><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleWrapper">The same namespace may be used both for real work, and in the course of
defining schema components in terms of foreign components:</div><div class="exampleInner"><pre>&lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;
        xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;
        targetNamespace=&quot;uri:mywork&quot; xmlns:my=&quot;uri:mywork&quot;&gt;

 &lt;import namespace=&quot;http://www.w3.org/1999/xhtml&quot;/&gt;

 &lt;annotation&gt;
  &lt;documentation&gt;
   &lt;html:p&gt;[Some documentation for my schema]&lt;/html:p&gt;
  &lt;/documentation&gt;
 &lt;/annotation&gt;

 . . .

 &lt;complexType name=&quot;myType&quot;&gt;
  &lt;sequence&gt;
   &lt;element ref=&quot;html:p&quot; minOccurs=&quot;0&quot;/&gt;
  &lt;/sequence&gt;
  . . .
 &lt;/complexType&gt;

 &lt;element name=&quot;myElt&quot; type=&quot;my:myType&quot;/&gt;
&lt;/schema&gt;
</pre></div><div class="exampleWrapper">The treatment of references as <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QNames<span class="arrow">&#xb7;</span></a> implies that since (with the exception of
the schema for schemas) the target namespace and the XML Schema namespace
differ, without massive redeclaration of the default namespace
<em>either</em> internal references to the names being defined in a schema document
<em>or</em> the schema declaration and definition elements themselves must
be explicitly qualified.  This example takes the first option -- most other
examples in this specification have taken the second.</div></div><div class="constraintnote"><a name="src-import" id="src-import"/><b>Schema Representation Constraint:  Import Constraints and Semantics</b><br/><div class="constraint">In addition to the conditions imposed on <a class="eltref" href="#element-import">&lt;import&gt;</a> element
information items by the schema for schemas
    <b>all</b> of the following must be true:<div class="constraintlist"><div class="clnumber">1 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">1.1 <b>If </b>the <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is present, <b>then </b>its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> must not match the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the
enclosing <a class="eltref" href="#element-schema">&lt;schema&gt;</a>'s <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.</div><div class="clnumber">1.2 <b>If </b>the <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is not present, <b>then </b>the enclosing <a class="eltref" href="#element-schema">&lt;schema&gt;</a> must have a <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></div></div></div><div class="clnumber">2<a name="c-ims" id="c-ims"> </a>If the application schema reference strategy using the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of
the <code>schemaLocation</code> and <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a>,
provides a referent, as defined by <a href="#schema_reference">Schema Document Location Strategy (&#xa7;4.3.2)</a>, 
      <b>one</b> of the following must be true:<div class="constraintlist"><div class="clnumber">2.1 The referent is (a fragment of) a resource which is an XML document
(see clause <a href="#c-vxd">1.1</a>), which in turn corresponds to a <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.</div><div class="clnumber">2.2 The referent is a <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.</div></div>
      In either case call the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> item <b>SII</b> and the valid schema <b>I</b>.</div><div class="clnumber">3 The appropriate <b>case</b> among the following
must be true:<div class="constraintlist"><div class="clnumber">3.1 <b>If </b>there is a <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, <b>then </b>its <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> must be identical to the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of the <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> of <b>SII</b>.</div><div class="clnumber">3.2 <b>If </b>there is no <code>namespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>, <b>then </b><b>SII</b>
must have no <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a></div></div></div></div>
   <p/>It is <em>not</em> an error for the application schema reference
strategy to fail.  It
<em>is</em> an error for it to resolve but the rest of clause <a href="#c-ims">2</a> above to
fail to be satisfied.  Failure to find a referent may well cause less than complete
<a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> outcomes, of course.<p/>The <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a> (that is
<a class="propref" href="#type_definitions">{type definitions}</a>, <a class="propref" href="#attribute_declarations">{attribute declarations}</a>, <a class="propref" href="#element_declarations">{element declarations}</a>, <a class="propref" href="#attribute_group_definitions">{attribute group definitions}</a>, <a class="propref" href="#model_group_definitions">{model group definitions}</a>, <a class="propref" href="#notation_declarations">{notation declarations}</a>) of a schema corresponding to a
<a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item with one or more <a class="eltref" href="#element-import">&lt;import&gt;</a> element information items must include not only definitions or declarations corresponding to the appropriate members of its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, but also, for each of those <a class="eltref" href="#element-import">&lt;import&gt;</a> element information items for which clause <a href="#c-ims">2</a> above is satisfied, a set of <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a> identical to all the <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a> of <b>I</b>.</div></div><div class="note"><b>Note:&#xa0;</b>The above is carefully worded so that multiple <a class="eltref" href="#element-import">&lt;import&gt;</a>ing of the same schema document will not constitute a violation of
clause <a href="#c-nmd">2</a> of <a href="#sch-props-correct">Schema Properties Correct (&#xa7;3.15.6)</a>, but applications are
allowed, indeed encouraged, to avoid <a class="eltref" href="#element-import">&lt;import&gt;</a>ing the same schema document more than once to forestall the necessity of establishing identity
component by component.  Given that the <code>schemaLocation</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a> is only a hint, it is open to applications to ignore all but the
first <a class="eltref" href="#element-import">&lt;import&gt;</a> for a given namespace, regardless of the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of
<code>schemaLocation</code>, but such a strategy risks missing useful
information when new <code>schemaLocation</code>s are offered.</div></div></div><div class="div2">
<h3 class="withToc"><span class="nav"><a class="nav" href="#layer2"><img src="previous.jpg" alt="previous sub-section"/></a> </span><a id="composition-instances" name="composition-instances"/>4.3 Layer 3: Schema Document Access and Web-interoperability</h3><div class="localToc">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;4.3.1 <a href="#schema-repr">Standards for representation of schemas and retrieval of schema documents on the Web</a><br/>
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;4.3.2 <a href="#schema-loc">How schema definitions are located on the Web</a><br/>
</div><p>Layers 1 and 2 provide a framework for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> and XML definition of schemas in a broad variety of environments. Over time, a range
of standards and conventions may well evolve to support interoperability of XML
Schema implementations on the World Wide Web. Layer 3 defines the minimum level
of function required of all conformant processors operating on the Web:
it is intended that, over time, future standards (e.g. XML Packages) for interoperability on the
Web and in other environments can be introduced without the need to republish
this specification.</p><div class="div3">
<h4><a id="schema-repr" name="schema-repr"/>4.3.1 Standards for representation of schemas and retrieval of schema documents on the Web</h4><p>For interoperability, serialized <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>, like all other Web resources, may be identified by
URI and retrieved using the standard mechanisms of the Web (e.g. http, https,
etc.) Such documents on the Web must be part of XML documents (see clause <a href="#c-vxd">1.1</a>), and are represented in the
standard XML schema definition form described by layer 2 (that is as <a class="eltref" href="#element-schema">&lt;schema&gt;</a>
element information items). </p><div class="note"><b>Note:&#xa0;</b> there will often be times when a schema document will be a
complete XML 1.0 document whose document element is <a class="eltref" href="#element-schema">&lt;schema&gt;</a>. There will be
other occasions in which <a class="eltref" href="#element-schema">&lt;schema&gt;</a> items will be contained in other
documents, perhaps referenced using fragment and/or XPointer notation.
</div><div class="note"><b>Note:&#xa0;</b>The variations among server software and web site administration policies
make it difficult to recommend any particular approach to retrieval requests
intended to retrieve serialized <a class="termref" href="#key-schemaDoc"><span class="arrow">&#xb7;</span>schema documents<span class="arrow">&#xb7;</span></a>.  An <code>Accept</code> header of <code>application/xml,
text/xml; q=0.9, */*</code> is perhaps a reasonable starting point.</div></div><div class="div3">
<h4><a id="schema-loc" name="schema-loc"/>4.3.2 How schema definitions are located on the Web</h4><p>As described in <a href="#layer1">Layer 1: Summary of the Schema-validity Assessment Core (&#xa7;4.1)</a>, processors are responsible for providing the
schema components (definitions and declarations) needed for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>. This
section introduces a set of normative conventions to facilitate interoperability
for instance and schema documents retrieved and processed from the Web.</p><div class="note"><b>Note:&#xa0;</b> As discussed above in <a href="#layer2">Layer 2: Schema Documents, Namespaces and Composition (&#xa7;4.2)</a>, other non-Web mechanisms for delivering schemas for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> may exist, but are outside the scope of this specification.</div><p>Processors on the Web are free to undertake <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> against arbitrary
schemas in any of the ways set out in <a href="#validation_outcome">Assessing Schema-Validity (&#xa7;5.2)</a>. However, it
is useful to have a common convention for determining the schema to use. Accordingly, general-purpose schema-aware processors (i.e. those not
specialized to one or a fixed set of pre-determined schemas)
undertaking <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> of a document on the web
must behave as follows:
</p><ul><li>unless directed otherwise by the user, <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> is undertaken on the document
element information item of the specified document;</li><li>unless directed otherwise by the user, the
processor is required to construct a schema corresponding to a schema document
whose <code>targetNamespace</code> is
identical to the
namespace name, if any, of the element information item on which <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> is undertaken.</li></ul><p>
</p><p>The composition of the complete
schema for use in <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> is discussed in <a href="#layer2">Layer 2: Schema Documents, Namespaces and Composition (&#xa7;4.2)</a> above.
The means used to locate appropriate schema document(s) are processor and
application dependent, subject to the following requirements: </p><ol class="enumar"><li>Schemas are represented on the Web in the form specified above in <a href="#schema-repr">Standards for representation of schemas and retrieval of schema documents on the Web (&#xa7;4.3.1)</a>;</li><li>The author of a document uses namespace declarations to indicate the intended
interpretation of names appearing therein; there may or may not be a schema
retrievable via the namespace name.  Accordingly whether a processor's default
behavior is or is not to attempt such dereferencing, it must always provide
for user-directed overriding of that default.
<div class="note"><b>Note:&#xa0;</b> Experience suggests that it is not in all cases safe or desirable from
a performance point of view to dereference namespace names as a matter of course.  User community and/or
consumer/provider agreements may establish circumstances in which such dereference is a sensible
default strategy:  this specification allows but does not require particular communities to
establish and implement such conventions.  Users are always free to supply namespace names as schema location information when dereferencing <em>is</em> desired:  see below.</div></li><li>
On the other hand, in case a document author (human or not) created a
document with a particular schema in view, and warrants that some or
all of the document conforms to that schema, the
<code>schemaLocation</code> and <code>noNamespaceSchemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> (in the XML Schema instance namespace,
that is, <code>http://www.w3.org/2001/XMLSchema-instance</code>) (hereafter
<code>xsi:schemaLocation</code> and
<code>xsi:noNamespaceSchemaLocation</code>) are provided.  The first records
the author's warrant with pairs of URI references (one for the namespace name, and
one for a hint as to the location of a schema document defining names for that
namespace name).  The second similarly provides a URI reference as a hint as to
the location of a schema document with no <code>targetNamespace</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attribute]</a>.<p/>Unless directed otherwise, for example by the invoking application
or by command line option, processors
should attempt to dereference each schema document location URI in the
<a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a> of such
<code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a>, see details below.</li><li><code>xsi:schemaLocation</code> and
<code>xsi:noNamespaceSchemaLocation</code> <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> can occur on any
element.  However, it is an error if such an attribute occurs
<em>after</em> the first appearance of an element or attribute information
item within an
element information item initially <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> whose <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a> it addresses. According to the rules of
  <a href="#layer1">Layer 1: Summary of the Schema-validity Assessment Core (&#xa7;4.1)</a>, the corresponding schema may be lazily assembled, but is otherwise
  stable throughout <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>. Although schema location attributes can occur
  on any element, and can be processed incrementally as discovered, their effect
  is essentially global to the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>. Definitions and declarations remain
  in effect beyond the scope of the element on which the binding is declared.
  </li></ol><div class="exampleOuter"><div class="exampleHeader">Example</div><div class="exampleWrapper">Multiple schema bindings can be declared using a single
attribute.  For example consider a stylesheet:</div><div class="exampleInner"><pre>
 &lt;stylesheet xmlns=&quot;http://www.w3.org/1999/XSL/Transform&quot;
            xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;
            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
            xsi:schemaLocation=&quot;http://www.w3.org/1999/XSL/Transform
                                http://www.w3.org/1999/XSL/Transform.xsd
                                http://www.w3.org/1999/xhtml
                                http://www.w3.org/1999/xhtml.xsd&quot;&gt;
</pre></div><div class="exampleWrapper">The namespace names used in <code>schemaLocation</code> can, but need not
  be identical to those actually qualifying the element within whose start tag
it is found or its other attributes. For example, as above, all
  schema location information can be declared on the document element
of a document, if desired,
  regardless of where the namespaces are actually used. </div></div><div class="constraintnote"><a name="schema_reference" id="schema_reference"/><b>Schema Representation Constraint:  Schema Document Location Strategy</b><br/><div class="constraint">Given a namespace name (or none) and (optionally) a URI reference from
<code>xsi:schemaLocation</code> or <code>xsi:noNamespaceSchemaLocation</code>,
schema-aware processors may implement any combination of the following 
strategies, in any order:
<div class="constraintlist"><div class="clnumber">1 
Do nothing, for instance because a schema containing components for the
given namespace name is already known to be available, or because it
is known in advance that no efforts to locate schema documents will be successful 
(for
example in embedded systems);
</div><div class="clnumber">2 
Based on the location URI, 
identify an existing schema document,
either as a resource which is an XML document or a <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element
information item, in some local schema repository;
</div><div class="clnumber">3 
Based on the namespace name, identify an existing schema document,
either as a resource which is an XML document or a <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element
information item, in some local schema repository;
</div><div class="clnumber">4 
Attempt to resolve the location URI, 
to locate a
resource on the web which is or contains or references a <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element;
</div><div class="clnumber">5 
Attempt to resolve the namespace name to locate such a resource.
</div></div>
Whenever possible configuration and/or invocation options for selecting and/or ordering 
the implemented strategies should be provided.
</div></div><p>Improved or alternative conventions for Web interoperability can
be standardized in the future without reopening this specification. For
example, the W3C is currently considering initiatives to standardize the
packaging of resources relating to particular documents and/or namespaces: this
would be an addition to the mechanisms described here for layer 3. This
architecture also facilitates innovation at layer 2: for example, it would be
possible in the future to define an additional standard for the representation of
schema components which allowed e.g. type definitions to be specified piece by
piece, rather than all at once.</p></div></div></div><div class="div1">
<h2><a id="conformance" name="conformance"/>5 Schemas and Schema-validity Assessment</h2><p>The architecture of schema-aware processing allows for a rich characterization of XML documents:  schema validity is not a binary predicate.</p><p>This specification distinguishes between errors in schema construction and structure, on the
one hand, and schema validation outcomes, on the other.</p><div class="div2">
<h3><span class="nav"> <a class="nav" href="#validation_outcome"><img src="next.jpg" alt="next sub-section"/></a></span><a id="conformance-schemaValidity" name="conformance-schemaValidity"/>5.1 Errors in Schema Construction and Structure</h3><p>Before <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> can be attempted, a schema is required. 
Special-purpose applications are free to determine a schema for use in <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> by whatever
means are appropriate, but general purpose processors should implement the
strategy set out in <a href="#schema_reference">Schema Document Location Strategy (&#xa7;4.3.2)</a>, starting with the
namespaces declared in the document whose <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> is being undertaken, and the <a class="termref" href="#key-vv"><span class="arrow">&#xb7;</span>actual value<span class="arrow">&#xb7;</span></a>s of the
<code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code>
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> thereof, if any, along with any other information about
schema identity or schema document location provided by users in
application-specific ways, if any.</p><p>It is an
error if a
schema and all the components which are the value of any of its properties,
recursively, fail to satisfy all the relevant Constraints on Schemas set out in
the last section of each of the subsections of <a href="#components">Schema Component Details (&#xa7;3)</a>.</p><p>If a schema is derived from one or more schema documents (that is, one or
more <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information items) based on the
correspondence rules set out in <a href="#components">Schema Component Details (&#xa7;3)</a> and <a href="#composition">Schemas and Namespaces: Access and Composition (&#xa7;4)</a>, two additional
conditions hold:
  </p><ul><li>It is an error if any such schema document would not be fully valid with respect
to a schema corresponding to the <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>, that
is, following schema-validation with such a schema, the <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element
information items would have a <a class="propref" href="#e-validation_attempted">[validation attempted]</a>
property with value <i>full</i> or <i>partial</i> and a
<a class="propref" href="#e-validity">[validity]</a> property
with value <i>valid</i>.</li><li>It is an error if any such schema document is or contains any element
information items which violate any of the relevant Schema Representation
Constraints set out in <a href="#outcome-src">Schema Representation Constraints (&#xa7;C.3)</a>.</li></ul><p>
 </p><p>The three cases described above are the only types of error which this
specification defines.  With respect to the processes of the checking of schema structure
and the construction of schemas corresponding to schema documents, this
specification imposes no restrictions on processors after an error is detected.
However <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> with respect to schema-like entities which do <em>not</em>
satisfy all the above conditions is incoherent.  Accordingly, conformant
processors must not attempt to undertake <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> using such non-schemas.</p></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#conformance-schemaValidity"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#conformance-missing"><img src="next.jpg" alt="next sub-section"/></a></span><a id="validation_outcome" name="validation_outcome"/>5.2 Assessing Schema-Validity</h3><p>With a schema which satisfies the conditions expressed in <a href="#conformance-schemaValidity">Errors in Schema Construction and Structure (&#xa7;5.1)</a> above, the schema-validity of an element information item can be assessed.  Three primary approaches to this are possible:
   </p><div class="constraintlist"><div class="clnumber">1 The user or application identifies a complex type definition from among the
<a class="propref" href="#type_definitions">{type definitions}</a> of the schema, and appeals to <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> (clause <a href="#c-td">1.2</a>);</div><div class="clnumber">2<a name="c-res" id="c-res"> </a>The user or application identifies a element declaration  from among the
<a class="propref" href="#element_declarations">{element declarations}</a> of the schema, checks that its <a class="propref" href="#e-name">{name}</a> and <a class="propref" href="#e-target_namespace">{target namespace}</a> match the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[local name]</a> and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a> of the item, and appeals to <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> (clause <a href="#c-ed">1.1</a>);</div><div class="clnumber">3 The processor starts from <a href="#cvc-assess-elt">Schema-Validity Assessment (Element) (&#xa7;3.3.4)</a> with no
stipulated declaration or definition, and either <a class="termref" href="#key-sva"><span class="arrow">&#xb7;</span>strict<span class="arrow">&#xb7;</span></a> or <a class="termref" href="#key-lva"><span class="arrow">&#xb7;</span>lax<span class="arrow">&#xb7;</span></a> assessment ensues, depending on whether or not the element information and the schema determine either an element declaration (by name) or a type definition (via <code>xsi:type</code>) or not.</div></div><p>
  </p><p>The outcome of this effort, in any case, will be manifest in the
 <span class="anonRef">[validation attempted]</span>
and  <span class="anonRef">[validity]</span> properties on
the element information item and its <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>,
recursively, as defined by <a href="#sic-e-outcome">Assessment Outcome (Element) (&#xa7;3.3.5)</a> and <a href="#sic-a-outcome">Assessment Outcome (Attribute) (&#xa7;3.2.5)</a>.  It is up to applications to decide what constitutes a successful outcome.</p><p>Note that every element and attribute information item
participating in the <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> will also have a  <span class="anonRef">[validation context]</span> property
which refers back to the element information item at which <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> began.  <span class="termdef"><a id="key-vr" name="key-vr">[Definition:]&#xa0;&#xa0;</a>This item, that is the element information item at which <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> began, is called the <b>validation root</b></span>.</p><div class="note"><b>Note:&#xa0;</b>This specification does not reconstruct the XML 1.0 notion of
      <em>root</em> in either schemas or instances.  Equivalent
functionality is provided for at <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>
invocation, via clause <a href="#c-res">2</a> above.</div><div class="note"><b>Note:&#xa0;</b>This specification has nothing normative to say about multiple <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>
episodes.  It should however be clear from the above that if a processor
restarts <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> with respect to a <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>
some <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a> contributions from the previous <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>
may be overwritten.  Restarting nonetheless may be useful, particularly at a node whose
 <span class="anonRef">[validation attempted]</span> property is <i>none</i>, in which
case there are three obvious cases in which additional useful information may result:
    <ul><li><a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> was not attempted because
of a <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> failure, but declarations
and/or definitions are available for at least some of the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> or <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a>;</li><li><a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> was not attempted because a
named definition or declaration was missing, but after further effort the
processor has retrieved it.</li><li><a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> was not attempted because
it was <i>skip</i>ped, but the processor has at least some declarations
and/or definitions available for at least some of the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> or <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a>.</li></ul>
   </div></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#validation_outcome"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#conformance-processorResponsibilities"><img src="next.jpg" alt="next sub-section"/></a></span><a id="conformance-missing" name="conformance-missing"/>5.3 Missing Sub-components</h3><p>At the beginning of <a href="#components">Schema Component Details (&#xa7;3)</a>, attention is drawn to the
fact that most kinds of schema components have properties which are described therein
as having other components, or sets of other components, as values, but that
when components are constructed on the basis of their correspondence with
element information items in schema documents, such properties usually
correspond to <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QNames</a>, and the
<a class="termref" href="#src-resolve"><span class="arrow">&#xb7;</span>resolution<span class="arrow">&#xb7;</span></a> of such <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QNames</a> may fail, resulting in one or more values of or containing <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> where a component is mandated.</p><p>If at any time during <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>, an
element or attribute information item is being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a> with respect to a component of any kind any of whose
properties has or contains such an <a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> value,
the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> is modified, as following:
   </p><ul><li>In the case of attribute information items, the effect is
as if clause <a href="#c-a1">1</a> of <a href="#cvc-attribute">Attribute Locally Valid (&#xa7;3.2.4)</a> had failed;</li><li>In the case of element information items, the effect is
as if clause <a href="#c-ea">1</a> of <a href="#cvc-elt">Element Locally Valid (Element) (&#xa7;3.3.4)</a> had failed;</li><li>In the case of element information items, processors may choose to
continue <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>: see <a class="termref" href="#key-lva"><span class="arrow">&#xb7;</span>lax assessment<span class="arrow">&#xb7;</span></a>.</li></ul><p>
  </p><p>Because of the value specification for <a class="propref" href="#e-validation_attempted">[validation attempted]</a> in <a href="#sic-e-outcome">Assessment Outcome (Element) (&#xa7;3.3.5)</a>, if this situation ever arises, the
document as a whole cannot show a <a class="propref" href="#e-validation_attempted">[validation attempted]</a>
of <i>full</i>.</p></div><div class="div2">
<h3><span class="nav"><a class="nav" href="#conformance-missing"><img src="previous.jpg" alt="previous sub-section"/></a> </span><a id="conformance-processorResponsibilities" name="conformance-processorResponsibilities"/>5.4 Responsibilities of Schema-aware Processors</h3><p>Schema-aware processors are responsible for processing XML documents,
schemas and schema documents, as appropriate given the level of conformance
(as defined in <a href="#concepts-conformance">Conformance (&#xa7;2.4)</a>) they support,
consistently with the conditions set out above.</p></div></div></div><div class="back"><div class="div1">
<h2><a id="normative-schemaSchema" name="normative-schemaSchema"/>A Schema for Schemas (normative)</h2><p>The XML representation of the schema for schema documents is presented here
as a normative
part of the specification, and as an illustrative example of how the XML Schema
language can
define itself using its own constructs. The names of XML
Schema language types, elements, attributes and groups defined here
are evocative of their purpose, but are occasionally verbose. </p><p>There is some annotation in comments, but a fuller annotation will require
the use of embedded documentation facilities or a hyperlinked external
annotation for which tools are not yet readily available.</p><p>Since a schema document is an XML document, it has optional XML and doctype
declarations that are provided here for completeness. The root
<code>schema</code> element defines a new schema. Since this is a schema for
<em>XML Schema: Structures</em>, the <code>targetNamespace</code> references the XML Schema namespace itself.</p><pre>&lt;!DOCTYPE xs:schema PUBLIC &quot;-//W3C//DTD XMLSCHEMA 200102//EN&quot; &quot;XMLSchema.dtd&quot; [

&lt;!-- provide ID type information even for parsers which only read the
     internal subset --&gt;
&lt;!ATTLIST xs:schema          id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:complexType     id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:complexContent  id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:simpleContent   id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:extension       id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:element         id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:group           id  ID  #IMPLIED&gt; 
&lt;!ATTLIST xs:all             id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:choice          id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:sequence        id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:any             id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:anyAttribute    id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:attribute       id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:attributeGroup  id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:unique          id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:key             id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:keyref          id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:selector        id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:field           id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:include         id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:import          id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:redefine        id  ID  #IMPLIED&gt;
&lt;!ATTLIST xs:notation        id  ID  #IMPLIED&gt;
]&gt;

&lt;?xml version='1.0'?&gt;
&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; blockDefault=&quot;#all&quot;
           elementFormDefault=&quot;qualified&quot; xml:lang=&quot;EN&quot;
           targetNamespace=&quot;http://www.w3.org/2001/XMLSchema&quot;
           version=&quot;Id: structures.xsd,v 1.2 2004/01/15 11:34:25 ht Exp &quot;&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation source=&quot;../structures/structures-with-errata.html.html&quot;&gt;
   The schema corresponding to this document is normative,
   with respect to the syntactic constraints it expresses in the
   XML Schema language.  The documentation (within &amp;lt;documentation&gt; elements)
   below, is not normative, but rather highlights important aspects of
   the W3C Recommendation of which this is a part&lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
   The simpleType element and all of its members are defined
   in datatypes.xsd&lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:include schemaLocation=&quot;datatypes.xsd&quot;/&gt;
  &lt;xs:import namespace=&quot;http://www.w3.org/XML/1998/namespace&quot;
             schemaLocation=&quot;http://www.w3.org/2001/xml.xsd&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
       Get access to the xml: attribute groups for xml:lang
       as declared on 'schema' and 'documentation' below
     &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:import&gt;
  &lt;xs:complexType name=&quot;openAttrs&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
       This type is extended by almost all schema types
       to allow attributes from other namespaces to be
       added to user schemas.
     &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:anyType&quot;&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;annotated&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
       This type is extended by all types which allow annotation
       other than &amp;lt;schema&gt; itself
     &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:openAttrs&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:ID&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:group name=&quot;schemaTop&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   This group is for the
   elements which occur freely at the top level of schemas.
   All of their types are based on the &quot;annotated&quot; type by extension.&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:choice&gt;
      &lt;xs:group ref=&quot;xs:redefinable&quot;/&gt;
      &lt;xs:element ref=&quot;xs:element&quot;/&gt;
      &lt;xs:element ref=&quot;xs:attribute&quot;/&gt;
      &lt;xs:element ref=&quot;xs:notation&quot;/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:group name=&quot;redefinable&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   This group is for the
   elements which can self-redefine (see &amp;lt;redefine&gt; below).&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:choice&gt;
      &lt;xs:element ref=&quot;xs:simpleType&quot;/&gt;
      &lt;xs:element ref=&quot;xs:complexType&quot;/&gt;
      &lt;xs:element ref=&quot;xs:group&quot;/&gt;
      &lt;xs:element ref=&quot;xs:attributeGroup&quot;/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:simpleType name=&quot;formChoice&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:restriction base=&quot;xs:NMTOKEN&quot;&gt;
      &lt;xs:enumeration value=&quot;qualified&quot;/&gt;
      &lt;xs:enumeration value=&quot;unqualified&quot;/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:simpleType name=&quot;reducedDerivationControl&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:restriction base=&quot;xs:derivationControl&quot;&gt;
      &lt;xs:enumeration value=&quot;extension&quot;/&gt;
      &lt;xs:enumeration value=&quot;restriction&quot;/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:simpleType name=&quot;derivationSet&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
      &lt;xs:documentation&gt;
   #all or (possibly empty) subset of {extension, restriction}&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:union&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base=&quot;xs:token&quot;&gt;
          &lt;xs:enumeration value=&quot;#all&quot;/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:list itemType=&quot;xs:reducedDerivationControl&quot;/&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:union&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:simpleType name=&quot;typeDerivationControl&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:restriction base=&quot;xs:derivationControl&quot;&gt;
      &lt;xs:enumeration value=&quot;extension&quot;/&gt;
      &lt;xs:enumeration value=&quot;restriction&quot;/&gt;
      &lt;xs:enumeration value=&quot;list&quot;/&gt;
      &lt;xs:enumeration value=&quot;union&quot;/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:simpleType name=&quot;fullDerivationSet&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
      &lt;xs:documentation&gt;
   #all or (possibly empty) subset of {extension, restriction, list, union}&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:union&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base=&quot;xs:token&quot;&gt;
          &lt;xs:enumeration value=&quot;#all&quot;/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:list itemType=&quot;xs:typeDerivationControl&quot;/&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:union&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:element name=&quot;schema&quot; id=&quot;schema&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-schema&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:openAttrs&quot;&gt;
          &lt;xs:sequence&gt;
            &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
              &lt;xs:element ref=&quot;xs:include&quot;/&gt;
              &lt;xs:element ref=&quot;xs:import&quot;/&gt;
              &lt;xs:element ref=&quot;xs:redefine&quot;/&gt;
              &lt;xs:element ref=&quot;xs:annotation&quot;/&gt;
            &lt;/xs:choice&gt;
            &lt;xs:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
              &lt;xs:group ref=&quot;xs:schemaTop&quot;/&gt;
              &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;
                          maxOccurs=&quot;unbounded&quot;/&gt;
            &lt;/xs:sequence&gt;
          &lt;/xs:sequence&gt;
          &lt;xs:attribute name=&quot;targetNamespace&quot; type=&quot;xs:anyURI&quot;/&gt;
          &lt;xs:attribute name=&quot;version&quot; type=&quot;xs:token&quot;/&gt;
          &lt;xs:attribute name=&quot;finalDefault&quot; type=&quot;xs:fullDerivationSet&quot;
                        default=&quot;&quot; use=&quot;optional&quot;/&gt;
          &lt;xs:attribute name=&quot;blockDefault&quot; type=&quot;xs:blockSet&quot; default=&quot;&quot;
                        use=&quot;optional&quot;/&gt;
          &lt;xs:attribute name=&quot;attributeFormDefault&quot; type=&quot;xs:formChoice&quot;
                        default=&quot;unqualified&quot; use=&quot;optional&quot;/&gt;
          &lt;xs:attribute name=&quot;elementFormDefault&quot; type=&quot;xs:formChoice&quot;
                        default=&quot;unqualified&quot; use=&quot;optional&quot;/&gt;
          &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:ID&quot;/&gt;
          &lt;xs:attribute ref=&quot;xml:lang&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
    &lt;xs:key name=&quot;element&quot;&gt;
      &lt;xs:selector xpath=&quot;xs:element&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
    &lt;xs:key name=&quot;attribute&quot;&gt;
      &lt;xs:selector xpath=&quot;xs:attribute&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
    &lt;xs:key name=&quot;type&quot;&gt;
      &lt;xs:selector xpath=&quot;xs:complexType|xs:simpleType&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
    &lt;xs:key name=&quot;group&quot;&gt;
      &lt;xs:selector xpath=&quot;xs:group&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
    &lt;xs:key name=&quot;attributeGroup&quot;&gt;
      &lt;xs:selector xpath=&quot;xs:attributeGroup&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
    &lt;xs:key name=&quot;notation&quot;&gt;
      &lt;xs:selector xpath=&quot;xs:notation&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
    &lt;xs:key name=&quot;identityConstraint&quot;&gt;
      &lt;xs:selector xpath=&quot;.//xs:key|.//xs:unique|.//xs:keyref&quot;/&gt;
      &lt;xs:field xpath=&quot;@name&quot;/&gt;
    &lt;/xs:key&gt;
  &lt;/xs:element&gt;
  &lt;xs:simpleType name=&quot;allNNI&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   for maxOccurs&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:union memberTypes=&quot;xs:nonNegativeInteger&quot;&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base=&quot;xs:NMTOKEN&quot;&gt;
          &lt;xs:enumeration value=&quot;unbounded&quot;/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:union&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:attributeGroup name=&quot;occurs&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   for all particles&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:attribute name=&quot;minOccurs&quot; type=&quot;xs:nonNegativeInteger&quot; default=&quot;1&quot;
                  use=&quot;optional&quot;/&gt;
    &lt;xs:attribute name=&quot;maxOccurs&quot; type=&quot;xs:allNNI&quot; default=&quot;1&quot; use=&quot;optional&quot;/&gt;
  &lt;/xs:attributeGroup&gt;
  &lt;xs:attributeGroup name=&quot;defRef&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   for element, group and attributeGroup,
   which both define and reference&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot;/&gt;
    &lt;xs:attribute name=&quot;ref&quot; type=&quot;xs:QName&quot;/&gt;
  &lt;/xs:attributeGroup&gt;
  &lt;xs:group name=&quot;typeDefParticle&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   'complexType' uses this&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:choice&gt;
      &lt;xs:element name=&quot;group&quot; type=&quot;xs:groupRef&quot;/&gt;
      &lt;xs:element ref=&quot;xs:all&quot;/&gt;
      &lt;xs:element ref=&quot;xs:choice&quot;/&gt;
      &lt;xs:element ref=&quot;xs:sequence&quot;/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:group name=&quot;nestedParticle&quot;&gt;
    &lt;xs:choice&gt;
      &lt;xs:element name=&quot;element&quot; type=&quot;xs:localElement&quot;/&gt;
      &lt;xs:element name=&quot;group&quot; type=&quot;xs:groupRef&quot;/&gt;
      &lt;xs:element ref=&quot;xs:choice&quot;/&gt;
      &lt;xs:element ref=&quot;xs:sequence&quot;/&gt;
      &lt;xs:element ref=&quot;xs:any&quot;/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:group name=&quot;particle&quot;&gt;
    &lt;xs:choice&gt;
      &lt;xs:element name=&quot;element&quot; type=&quot;xs:localElement&quot;/&gt;
      &lt;xs:element name=&quot;group&quot; type=&quot;xs:groupRef&quot;/&gt;
      &lt;xs:element ref=&quot;xs:all&quot;/&gt;
      &lt;xs:element ref=&quot;xs:choice&quot;/&gt;
      &lt;xs:element ref=&quot;xs:sequence&quot;/&gt;
      &lt;xs:element ref=&quot;xs:any&quot;/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:complexType name=&quot;attribute&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element name=&quot;simpleType&quot; type=&quot;xs:localSimpleType&quot; minOccurs=&quot;0&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attributeGroup ref=&quot;xs:defRef&quot;/&gt;
        &lt;xs:attribute name=&quot;type&quot; type=&quot;xs:QName&quot;/&gt;
        &lt;xs:attribute name=&quot;use&quot; default=&quot;optional&quot; use=&quot;optional&quot;&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:NMTOKEN&quot;&gt;
              &lt;xs:enumeration value=&quot;prohibited&quot;/&gt;
              &lt;xs:enumeration value=&quot;optional&quot;/&gt;
              &lt;xs:enumeration value=&quot;required&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:attribute name=&quot;default&quot; type=&quot;xs:string&quot;/&gt;
        &lt;xs:attribute name=&quot;fixed&quot; type=&quot;xs:string&quot;/&gt;
        &lt;xs:attribute name=&quot;form&quot; type=&quot;xs:formChoice&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;topLevelAttribute&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:attribute&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:element name=&quot;simpleType&quot; type=&quot;xs:localSimpleType&quot; minOccurs=&quot;0&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;ref&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;form&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;use&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:group name=&quot;attrDecls&quot;&gt;
    &lt;xs:sequence&gt;
      &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
        &lt;xs:element name=&quot;attribute&quot; type=&quot;xs:attribute&quot;/&gt;
        &lt;xs:element name=&quot;attributeGroup&quot; type=&quot;xs:attributeGroupRef&quot;/&gt;
      &lt;/xs:choice&gt;
      &lt;xs:element ref=&quot;xs:anyAttribute&quot; minOccurs=&quot;0&quot;/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;
  &lt;xs:element name=&quot;anyAttribute&quot; type=&quot;xs:wildcard&quot; id=&quot;anyAttribute&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-anyAttribute&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:group name=&quot;complexTypeModel&quot;&gt;
    &lt;xs:choice&gt;
      &lt;xs:element ref=&quot;xs:simpleContent&quot;/&gt;
      &lt;xs:element ref=&quot;xs:complexContent&quot;/&gt;
      &lt;xs:sequence&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;
   This branch is short for
   &amp;lt;complexContent&gt;
   &amp;lt;restriction base=&quot;xs:anyType&quot;&gt;
   ...
   &amp;lt;/restriction&gt;
   &amp;lt;/complexContent&gt;&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
        &lt;xs:group ref=&quot;xs:typeDefParticle&quot; minOccurs=&quot;0&quot;/&gt;
        &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:complexType name=&quot;complexType&quot; abstract=&quot;true&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:group ref=&quot;xs:complexTypeModel&quot;/&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot;&gt;
          &lt;xs:annotation&gt;
            &lt;xs:documentation&gt;
      Will be restricted to required or forbidden&lt;/xs:documentation&gt;
          &lt;/xs:annotation&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:attribute name=&quot;mixed&quot; type=&quot;xs:boolean&quot; default=&quot;false&quot;
                      use=&quot;optional&quot;&gt;
          &lt;xs:annotation&gt;
            &lt;xs:documentation&gt;
      Not allowed if simpleContent child is chosen.
      May be overriden by setting on complexContent child.&lt;/xs:documentation&gt;
          &lt;/xs:annotation&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:attribute name=&quot;abstract&quot; type=&quot;xs:boolean&quot; default=&quot;false&quot;
                      use=&quot;optional&quot;/&gt;
        &lt;xs:attribute name=&quot;final&quot; type=&quot;xs:derivationSet&quot;/&gt;
        &lt;xs:attribute name=&quot;block&quot; type=&quot;xs:derivationSet&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;topLevelComplexType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:complexType&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:complexTypeModel&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;localComplexType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:complexType&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:complexTypeModel&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;name&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;abstract&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;final&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;block&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;restrictionType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:group ref=&quot;xs:typeDefParticle&quot;/&gt;
            &lt;xs:group ref=&quot;xs:simpleRestrictionModel&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;base&quot; type=&quot;xs:QName&quot; use=&quot;required&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;complexRestrictionType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:restrictionType&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
              &lt;xs:documentation&gt;This choice is added simply to
                   make this a valid restriction per the REC&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:group ref=&quot;xs:typeDefParticle&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;extensionType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:group ref=&quot;xs:typeDefParticle&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;base&quot; type=&quot;xs:QName&quot; use=&quot;required&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name=&quot;complexContent&quot; id=&quot;complexContent&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-complexContent&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:choice&gt;
            &lt;xs:element name=&quot;restriction&quot; type=&quot;xs:complexRestrictionType&quot;/&gt;
            &lt;xs:element name=&quot;extension&quot; type=&quot;xs:extensionType&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:attribute name=&quot;mixed&quot; type=&quot;xs:boolean&quot;&gt;
            &lt;xs:annotation&gt;
              &lt;xs:documentation&gt;
       Overrides any setting on complexType parent.&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
          &lt;/xs:attribute&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:complexType name=&quot;simpleRestrictionType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:restrictionType&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:annotation&gt;
              &lt;xs:documentation&gt;This choice is added simply to
                   make this a valid restriction per the REC&lt;/xs:documentation&gt;
            &lt;/xs:annotation&gt;
            &lt;xs:group ref=&quot;xs:simpleRestrictionModel&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;simpleExtensionType&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:extensionType&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:annotation&gt;
            &lt;xs:documentation&gt;
      No typeDefParticle group reference&lt;/xs:documentation&gt;
          &lt;/xs:annotation&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name=&quot;simpleContent&quot; id=&quot;simpleContent&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-simpleContent&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:choice&gt;
            &lt;xs:element name=&quot;restriction&quot; type=&quot;xs:simpleRestrictionType&quot;/&gt;
            &lt;xs:element name=&quot;extension&quot; type=&quot;xs:simpleExtensionType&quot;/&gt;
          &lt;/xs:choice&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;complexType&quot; type=&quot;xs:topLevelComplexType&quot; id=&quot;complexType&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-complexType&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:simpleType name=&quot;blockSet&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
    A utility type, not for public use&lt;/xs:documentation&gt;
      &lt;xs:documentation&gt;
    #all or (possibly empty) subset of {substitution, extension,
    restriction}&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:union&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base=&quot;xs:token&quot;&gt;
          &lt;xs:enumeration value=&quot;#all&quot;/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:list&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:derivationControl&quot;&gt;
              &lt;xs:enumeration value=&quot;extension&quot;/&gt;
              &lt;xs:enumeration value=&quot;restriction&quot;/&gt;
              &lt;xs:enumeration value=&quot;substitution&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:list&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:union&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:complexType name=&quot;element&quot; abstract=&quot;true&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   The element element can be used either
   at the top level to define an element-type binding globally,
   or within a content model to either reference a globally-defined
   element or type or declare an element-type binding locally.
   The ref form is not allowed at the top level.&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:element name=&quot;simpleType&quot; type=&quot;xs:localSimpleType&quot;/&gt;
            &lt;xs:element name=&quot;complexType&quot; type=&quot;xs:localComplexType&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:identityConstraint&quot; minOccurs=&quot;0&quot;
                    maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attributeGroup ref=&quot;xs:defRef&quot;/&gt;
        &lt;xs:attribute name=&quot;type&quot; type=&quot;xs:QName&quot;/&gt;
        &lt;xs:attribute name=&quot;substitutionGroup&quot; type=&quot;xs:QName&quot;/&gt;
        &lt;xs:attributeGroup ref=&quot;xs:occurs&quot;/&gt;
        &lt;xs:attribute name=&quot;default&quot; type=&quot;xs:string&quot;/&gt;
        &lt;xs:attribute name=&quot;fixed&quot; type=&quot;xs:string&quot;/&gt;
        &lt;xs:attribute name=&quot;nillable&quot; type=&quot;xs:boolean&quot; default=&quot;false&quot;
                      use=&quot;optional&quot;/&gt;
        &lt;xs:attribute name=&quot;abstract&quot; type=&quot;xs:boolean&quot; default=&quot;false&quot;
                      use=&quot;optional&quot;/&gt;
        &lt;xs:attribute name=&quot;final&quot; type=&quot;xs:derivationSet&quot;/&gt;
        &lt;xs:attribute name=&quot;block&quot; type=&quot;xs:blockSet&quot;/&gt;
        &lt;xs:attribute name=&quot;form&quot; type=&quot;xs:formChoice&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;topLevelElement&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:element&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:element name=&quot;simpleType&quot; type=&quot;xs:localSimpleType&quot;/&gt;
            &lt;xs:element name=&quot;complexType&quot; type=&quot;xs:localComplexType&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:identityConstraint&quot; minOccurs=&quot;0&quot;
                    maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;ref&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;form&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;minOccurs&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;maxOccurs&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;localElement&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:element&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:element name=&quot;simpleType&quot; type=&quot;xs:localSimpleType&quot;/&gt;
            &lt;xs:element name=&quot;complexType&quot; type=&quot;xs:localComplexType&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:identityConstraint&quot; minOccurs=&quot;0&quot;
                    maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;substitutionGroup&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;final&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;abstract&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name=&quot;element&quot; type=&quot;xs:topLevelElement&quot; id=&quot;element&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-element&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:complexType name=&quot;group&quot; abstract=&quot;true&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   group type for explicit groups, named top-level groups and
   group references&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:group ref=&quot;xs:particle&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;xs:attributeGroup ref=&quot;xs:defRef&quot;/&gt;
        &lt;xs:attributeGroup ref=&quot;xs:occurs&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;realGroup&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:group&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;
            &lt;xs:element ref=&quot;xs:all&quot;/&gt;
            &lt;xs:element ref=&quot;xs:choice&quot;/&gt;
            &lt;xs:element ref=&quot;xs:sequence&quot;/&gt;
          &lt;/xs:choice&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;namedGroup&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:realGroup&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;&gt;
            &lt;xs:element name=&quot;all&quot;&gt;
              &lt;xs:complexType&gt;
                &lt;xs:complexContent&gt;
                  &lt;xs:restriction base=&quot;xs:all&quot;&gt;
                    &lt;xs:group ref=&quot;xs:allModel&quot;/&gt;
                    &lt;xs:attribute name=&quot;minOccurs&quot; use=&quot;prohibited&quot;/&gt;
                    &lt;xs:attribute name=&quot;maxOccurs&quot; use=&quot;prohibited&quot;/&gt;
                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
                  &lt;/xs:restriction&gt;
                &lt;/xs:complexContent&gt;
              &lt;/xs:complexType&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name=&quot;choice&quot; type=&quot;xs:simpleExplicitGroup&quot;/&gt;
            &lt;xs:element name=&quot;sequence&quot; type=&quot;xs:simpleExplicitGroup&quot;/&gt;
          &lt;/xs:choice&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:attribute name=&quot;ref&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;minOccurs&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;maxOccurs&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;groupRef&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:realGroup&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;ref&quot; type=&quot;xs:QName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:attribute name=&quot;name&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;explicitGroup&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   group type for the three kinds of group&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:group&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:nestedParticle&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;ref&quot; type=&quot;xs:QName&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;simpleExplicitGroup&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:explicitGroup&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:nestedParticle&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;minOccurs&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:attribute name=&quot;maxOccurs&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:group name=&quot;allModel&quot;&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
      &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;This choice with min/max is here to
                          avoid a pblm with the Elt:All/Choice/Seq
                          Particle derivation constraint&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
        &lt;xs:element name=&quot;element&quot; type=&quot;xs:narrowMaxMin&quot;/&gt;
      &lt;/xs:choice&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;
  &lt;xs:complexType name=&quot;narrowMaxMin&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;restricted max/min&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:localElement&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:choice minOccurs=&quot;0&quot;&gt;
            &lt;xs:element name=&quot;simpleType&quot; type=&quot;xs:localSimpleType&quot;/&gt;
            &lt;xs:element name=&quot;complexType&quot; type=&quot;xs:localComplexType&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:group ref=&quot;xs:identityConstraint&quot; minOccurs=&quot;0&quot;
                    maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;minOccurs&quot; default=&quot;1&quot; use=&quot;optional&quot;&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:nonNegativeInteger&quot;&gt;
              &lt;xs:enumeration value=&quot;0&quot;/&gt;
              &lt;xs:enumeration value=&quot;1&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:attribute name=&quot;maxOccurs&quot; default=&quot;1&quot; use=&quot;optional&quot;&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:allNNI&quot;&gt;
              &lt;xs:enumeration value=&quot;0&quot;/&gt;
              &lt;xs:enumeration value=&quot;1&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;all&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   Only elements allowed inside&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:explicitGroup&quot;&gt;
        &lt;xs:group ref=&quot;xs:allModel&quot;/&gt;
        &lt;xs:attribute name=&quot;minOccurs&quot; default=&quot;1&quot; use=&quot;optional&quot;&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:nonNegativeInteger&quot;&gt;
              &lt;xs:enumeration value=&quot;0&quot;/&gt;
              &lt;xs:enumeration value=&quot;1&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:attribute name=&quot;maxOccurs&quot; default=&quot;1&quot; use=&quot;optional&quot;&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:allNNI&quot;&gt;
              &lt;xs:enumeration value=&quot;1&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name=&quot;all&quot; type=&quot;xs:all&quot; id=&quot;all&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation source=&quot;http://www.w3.org/TR/xmlschema-1/#element-all&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;choice&quot; type=&quot;xs:explicitGroup&quot; id=&quot;choice&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-choice&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;sequence&quot; type=&quot;xs:explicitGroup&quot; id=&quot;sequence&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-sequence&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;group&quot; type=&quot;xs:namedGroup&quot; id=&quot;group&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation source=&quot;http://www.w3.org/TR/xmlschema-1/#element-group&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:complexType name=&quot;wildcard&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:attribute name=&quot;namespace&quot; type=&quot;xs:namespaceList&quot; default=&quot;##any&quot;
                      use=&quot;optional&quot;/&gt;
        &lt;xs:attribute name=&quot;processContents&quot; default=&quot;strict&quot; use=&quot;optional&quot;&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base=&quot;xs:NMTOKEN&quot;&gt;
              &lt;xs:enumeration value=&quot;skip&quot;/&gt;
              &lt;xs:enumeration value=&quot;lax&quot;/&gt;
              &lt;xs:enumeration value=&quot;strict&quot;/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:attribute&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name=&quot;any&quot; id=&quot;any&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation source=&quot;http://www.w3.org/TR/xmlschema-1/#element-any&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:wildcard&quot;&gt;
          &lt;xs:attributeGroup ref=&quot;xs:occurs&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
   simple type for the value of the 'namespace' attr of
   'any' and 'anyAttribute'&lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
   Value is
              ##any      - - any non-conflicting WFXML/attribute at all

              ##other    - - any non-conflicting WFXML/attribute from
                              namespace other than targetNS

              ##local    - - any unqualified non-conflicting WFXML/attribute 

              one or     - - any non-conflicting WFXML/attribute from
              more URI        the listed namespaces
              references
              (space separated)

    ##targetNamespace or ##local may appear in the above list, to
        refer to the targetNamespace of the enclosing
        schema or an absent targetNamespace respectively&lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:simpleType name=&quot;namespaceList&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:union&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base=&quot;xs:token&quot;&gt;
          &lt;xs:enumeration value=&quot;##any&quot;/&gt;
          &lt;xs:enumeration value=&quot;##other&quot;/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:list&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:union memberTypes=&quot;xs:anyURI&quot;&gt;
              &lt;xs:simpleType&gt;
                &lt;xs:restriction base=&quot;xs:token&quot;&gt;
                  &lt;xs:enumeration value=&quot;##targetNamespace&quot;/&gt;
                  &lt;xs:enumeration value=&quot;##local&quot;/&gt;
                &lt;/xs:restriction&gt;
              &lt;/xs:simpleType&gt;
            &lt;/xs:union&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:list&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:union&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:element name=&quot;attribute&quot; type=&quot;xs:topLevelAttribute&quot; id=&quot;attribute&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-attribute&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:complexType name=&quot;attributeGroup&quot; abstract=&quot;true&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;xs:attributeGroup ref=&quot;xs:defRef&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;namedAttributeGroup&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:attributeGroup&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
          &lt;xs:group ref=&quot;xs:attrDecls&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:attribute name=&quot;ref&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;attributeGroupRef&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base=&quot;xs:attributeGroup&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:annotation&quot; minOccurs=&quot;0&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;ref&quot; type=&quot;xs:QName&quot; use=&quot;required&quot;/&gt;
        &lt;xs:attribute name=&quot;name&quot; use=&quot;prohibited&quot;/&gt;
        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name=&quot;attributeGroup&quot; type=&quot;xs:namedAttributeGroup&quot;
              id=&quot;attributeGroup&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-attributeGroup&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;include&quot; id=&quot;include&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-include&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:attribute name=&quot;schemaLocation&quot; type=&quot;xs:anyURI&quot; use=&quot;required&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;redefine&quot; id=&quot;redefine&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-redefine&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:openAttrs&quot;&gt;
          &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
            &lt;xs:element ref=&quot;xs:annotation&quot;/&gt;
            &lt;xs:group ref=&quot;xs:redefinable&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:attribute name=&quot;schemaLocation&quot; type=&quot;xs:anyURI&quot; use=&quot;required&quot;/&gt;
          &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:ID&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;import&quot; id=&quot;import&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-import&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:attribute name=&quot;namespace&quot; type=&quot;xs:anyURI&quot;/&gt;
          &lt;xs:attribute name=&quot;schemaLocation&quot; type=&quot;xs:anyURI&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;selector&quot; id=&quot;selector&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-selector&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:attribute name=&quot;xpath&quot; use=&quot;required&quot;&gt;
            &lt;xs:simpleType&gt;
              &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;A subset of XPath expressions for use
in selectors&lt;/xs:documentation&gt;
                &lt;xs:documentation&gt;A utility type, not for public
use&lt;/xs:documentation&gt;
              &lt;/xs:annotation&gt;
              &lt;xs:restriction base=&quot;xs:token&quot;&gt;
                &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;The following pattern is intended to allow XPath
                           expressions per the following EBNF:
	  Selector    ::=    Path ( '|' Path )*  
	  Path    ::=    ('.//')? Step ( '/' Step )*  
	  Step    ::=    '.' | NameTest  
	  NameTest    ::=    QName | '*' | NCName ':' '*'  
                           child:: is also allowed
         &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
                &lt;xs:pattern
                     value=&quot;(\.//)?(((child::)?((\i\c*:)?(\i\c*|\*)))|\.)(/(((child::)?((\i\c*:)?(\i\c*|\*)))|\.))*(\|(\.//)?(((child::)?((\i\c*:)?(\i\c*|\*)))|\.)(/(((child::)?((\i\c*:)?(\i\c*|\*)))|\.))*)*&quot;/&gt;
              &lt;/xs:restriction&gt;
            &lt;/xs:simpleType&gt;
          &lt;/xs:attribute&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;field&quot; id=&quot;field&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation source=&quot;http://www.w3.org/TR/xmlschema-1/#element-field&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:attribute name=&quot;xpath&quot; use=&quot;required&quot;&gt;
            &lt;xs:simpleType&gt;
              &lt;xs:annotation&gt;
                &lt;xs:documentation&gt;A subset of XPath expressions for use
in fields&lt;/xs:documentation&gt;
                &lt;xs:documentation&gt;A utility type, not for public
use&lt;/xs:documentation&gt;
              &lt;/xs:annotation&gt;
              &lt;xs:restriction base=&quot;xs:token&quot;&gt;
                &lt;xs:annotation&gt;
                  &lt;xs:documentation&gt;The following pattern is intended to allow XPath
                           expressions per the same EBNF as for selector,
                           with the following change:
          Path    ::=    ('.//')? ( Step '/' )* ( Step | '@' NameTest ) 
         &lt;/xs:documentation&gt;
                &lt;/xs:annotation&gt;
                &lt;xs:pattern
                     value=&quot;(\.//)?((((child::)?((\i\c*:)?(\i\c*|\*)))|\.)/)*((((child::)?((\i\c*:)?(\i\c*|\*)))|\.)|((attribute::|@)((\i\c*:)?(\i\c*|\*))))(\|(\.//)?((((child::)?((\i\c*:)?(\i\c*|\*)))|\.)/)*((((child::)?((\i\c*:)?(\i\c*|\*)))|\.)|((attribute::|@)((\i\c*:)?(\i\c*|\*)))))*&quot;/&gt;
              &lt;/xs:restriction&gt;
            &lt;/xs:simpleType&gt;
          &lt;/xs:attribute&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:complexType name=&quot;keybase&quot;&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element ref=&quot;xs:selector&quot;/&gt;
          &lt;xs:element ref=&quot;xs:field&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;unbounded&quot;/&gt;
        &lt;/xs:sequence&gt;
        &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:group name=&quot;identityConstraint&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;The three kinds of identity constraints, all with
                     type of or derived from 'keybase'.
   &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:choice&gt;
      &lt;xs:element ref=&quot;xs:unique&quot;/&gt;
      &lt;xs:element ref=&quot;xs:key&quot;/&gt;
      &lt;xs:element ref=&quot;xs:keyref&quot;/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;
  &lt;xs:element name=&quot;unique&quot; type=&quot;xs:keybase&quot; id=&quot;unique&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-unique&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;key&quot; type=&quot;xs:keybase&quot; id=&quot;key&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation source=&quot;http://www.w3.org/TR/xmlschema-1/#element-key&quot;/&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;keyref&quot; id=&quot;keyref&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-keyref&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:keybase&quot;&gt;
          &lt;xs:attribute name=&quot;refer&quot; type=&quot;xs:QName&quot; use=&quot;required&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;notation&quot; id=&quot;notation&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-notation&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:annotated&quot;&gt;
          &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:NCName&quot; use=&quot;required&quot;/&gt;
          &lt;xs:attribute name=&quot;public&quot; type=&quot;xs:public&quot;/&gt;
          &lt;xs:attribute name=&quot;system&quot; type=&quot;xs:anyURI&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:simpleType name=&quot;public&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   A utility type, not for public use&lt;/xs:documentation&gt;
      &lt;xs:documentation&gt;
   A public identifier, per ISO 8879&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:restriction base=&quot;xs:token&quot;/&gt;
  &lt;/xs:simpleType&gt;
  &lt;xs:element name=&quot;appinfo&quot; id=&quot;appinfo&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-appinfo&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType mixed=&quot;true&quot;&gt;
      &lt;xs:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
        &lt;xs:any processContents=&quot;lax&quot;/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name=&quot;source&quot; type=&quot;xs:anyURI&quot;/&gt;
      &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;documentation&quot; id=&quot;documentation&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-documentation&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType mixed=&quot;true&quot;&gt;
      &lt;xs:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
        &lt;xs:any processContents=&quot;lax&quot;/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name=&quot;source&quot; type=&quot;xs:anyURI&quot;/&gt;
      &lt;xs:attribute ref=&quot;xml:lang&quot;/&gt;
      &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;lax&quot;/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:element name=&quot;annotation&quot; id=&quot;annotation&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation
           source=&quot;http://www.w3.org/TR/xmlschema-1/#element-annotation&quot;/&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base=&quot;xs:openAttrs&quot;&gt;
          &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
            &lt;xs:element ref=&quot;xs:appinfo&quot;/&gt;
            &lt;xs:element ref=&quot;xs:documentation&quot;/&gt;
          &lt;/xs:choice&gt;
          &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:ID&quot;/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
   notations for use within XML Schema schemas&lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:notation name=&quot;XMLSchemaStructures&quot; public=&quot;structures&quot;
               system=&quot;http://www.w3.org/2000/08/XMLSchema.xsd&quot;/&gt;
  &lt;xs:notation name=&quot;XML&quot; public=&quot;REC-xml-19980210&quot;
               system=&quot;http://www.w3.org/TR/1998/REC-xml-19980210&quot;/&gt;
  &lt;xs:complexType name=&quot;anyType&quot; mixed=&quot;true&quot;&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
   Not the real urType, but as close an approximation as we can
   get in the XML representation&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:sequence&gt;
      &lt;xs:any minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; processContents=&quot;lax&quot;/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:anyAttribute processContents=&quot;lax&quot;/&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;
</pre><div class="note"><b>Note:&#xa0;</b>And that is the end of the schema for schema documents.</div></div><div class="div1">
<h2><a id="normative-references" name="normative-references"/>B References (normative)</h2><dl><dt class="label"><a id="ref-xml" name="ref-xml"/>XML 1.0 (Second Edition)</dt><dd> <em>Extensible
Markup Language (XML) 1.0, Second Edition</em>, Tim Bray et al., eds., W3C,
6 October 2000. See
<a href="http://www.w3.org/TR/2000/REC-xml-20001006">http://www.w3.org/TR/2000/REC-xml-20001006</a>
</dd><dt class="label"><a id="ref-xsreq" name="ref-xsreq"/>XML Schema Requirements</dt><dd>
<em>XML Schema Requirements </em>, Ashok Malhotra and Murray Maloney, eds.,
W3C, 15 February 1999. See <a href="http://www.w3.org/TR/1999/NOTE-xml-schema-req-19990215">http://www.w3.org/TR/1999/NOTE-xml-schema-req-19990215</a> </dd><dt class="label"><a id="ref-xsp2" name="ref-xsp2"/>XML Schemas: Datatypes</dt><dd>
<em>XML Schema Part 2: Datatypes</em>, Paul V. Biron and Ashok
Malhotra, eds., W3C, 2 May 2001.  See <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html">http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html</a> </dd><dt class="label"><a id="ref-xmlinfo" name="ref-xmlinfo"/>XML-Infoset</dt><dd><em>XML Information Set</em>,
John Cowan and Richard Tobin, eds., W3C, 16 March 2001. See
<a href="http://www.w3.org/TR/2001/WD-xml-infoset-20010316/">http://www.w3.org/TR/2001/WD-xml-infoset-20010316/</a>
</dd><dt class="label"><a id="ref-xml-namespaces" name="ref-xml-namespaces"/>XML-Namespaces</dt><dd>
<em>Namespaces in XML</em>, Tim Bray et al., eds., W3C, 14 January 1999. See
<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114/">http://www.w3.org/TR/1999/REC-xml-names-19990114/</a> </dd><dt class="label"><a id="bib-xpath" name="bib-xpath"/>XPath</dt><dd><em>XML Path Language</em>, James Clark
and Steve DeRose, eds., W3C, 16 November 1999.  See <a href="http://www.w3.org/TR/1999/REC-xpath-19991116">http://www.w3.org/TR/1999/REC-xpath-19991116</a></dd><dt class="label"><a id="ref-xpointer" name="ref-xpointer"/>XPointer</dt><dd> <em>XML
Pointer Language (XPointer)</em>, Eve Maler and Steve DeRose, eds., W3C, 8 January 2001. See <a href="http://www.w3.org/TR/2001/WD-xptr-20010108/">http://www.w3.org/TR/2001/WD-xptr-20010108/</a> </dd></dl></div><div class="div1">
<h2><a id="outcomes" name="outcomes"/>C Outcome Tabulations (normative)</h2><p>To facilitate consistent reporting of schema errors and <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>
failures, this section tabulates and provides unique names for all the
constraints listed in this document.  Wherever such constraints have numbered
parts, reports should use the name given below plus the part number, separated
by a period ('.').  Thus for example <code>cos-ct-extends.1.2</code> should be
used to report a violation of the clause <a href="#c-cte">1.2</a> of
<a href="#cos-ct-extends">Derivation Valid (Extension) (&#xa7;3.4.6)</a>.</p>
<h3><span class="nav"> <a class="nav" href="#PSVI_contributions"><img src="next.jpg" alt="next sub-section"/></a></span><a id="validation_failures" name="validation_failures"/>C.1 Validation Rules</h3><p/><dl><dt>cvc-assess-attr</dt><dd><a href="#cvc-assess-attr">Schema-Validity Assessment (Attribute)</a></dd><dt>cvc-assess-elt</dt><dd><a href="#cvc-assess-elt">Schema-Validity Assessment (Element)</a></dd><dt>cvc-attribute</dt><dd><a href="#cvc-attribute">Attribute Locally Valid</a></dd><dt>cvc-au</dt><dd><a href="#cvc-au">Attribute Locally Valid (Use)</a></dd><dt>cvc-complex-type</dt><dd><a href="#cvc-complex-type">Element Locally Valid (Complex Type)</a></dd><dt>cvc-datatype-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-datatype-valid">Datatype Valid</a></dd><dt>cvc-elt</dt><dd><a href="#cvc-elt">Element Locally Valid (Element)</a></dd><dt>cvc-enumeration-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-enumeration-valid">enumeration valid</a></dd><dt>cvc-facet-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-facet-valid">Facet Valid</a></dd><dt>cvc-fractionDigits-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-fractionDigits-valid">fractionDigits Valid</a></dd><dt>cvc-id</dt><dd><a href="#cvc-id">Validation Root Valid (ID/IDREF)</a></dd><dt>cvc-identity-constraint</dt><dd><a href="#cvc-identity-constraint">Identity-constraint Satisfied</a></dd><dt>cvc-length-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-length-valid">Length Valid</a></dd><dt>cvc-maxExclusive-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-maxExclusive-valid">maxExclusive Valid</a></dd><dt>cvc-maxInclusive-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-maxInclusive-valid">maxInclusive Valid</a></dd><dt>cvc-maxLength-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-maxLength-valid">maxLength Valid</a></dd><dt>cvc-minExclusive-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-minExclusive-valid">minExclusive Valid</a></dd><dt>cvc-minInclusive-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-minInclusive-valid">minInclusive Valid</a></dd><dt>cvc-minLength-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-minLength-valid">minLength Valid</a></dd><dt>cvc-model-group</dt><dd><a href="#cvc-model-group">Element Sequence Valid</a></dd><dt>cvc-particle</dt><dd><a href="#cvc-particle">Element Sequence Locally Valid (Particle)</a></dd><dt>cvc-pattern-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-pattern-valid">pattern valid</a></dd><dt>cvc-resolve-instance</dt><dd><a href="#cvc-resolve-instance">QName resolution (Instance)</a></dd><dt>cvc-simple-type</dt><dd><a href="#cvc-simple-type">String Valid</a></dd><dt>cvc-totalDigits-valid</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cvc-totalDigits-valid">totalDigits Valid</a></dd><dt>cvc-type</dt><dd><a href="#cvc-type">Element Locally Valid (Type)</a></dd><dt>cvc-wildcard</dt><dd><a href="#cvc-wildcard">Item Valid (Wildcard)</a></dd><dt>cvc-wildcard-namespace</dt><dd><a href="#cvc-wildcard-namespace">Wildcard allows Namespace Name</a></dd></dl>
<h3><span class="nav"><a class="nav" href="#validation_failures"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#outcome-src"><img src="next.jpg" alt="next sub-section"/></a></span><a id="PSVI_contributions" name="PSVI_contributions"/>C.2 Contributions to the post-schema-validation infoset</h3><dl><dt>attribute information item properties</dt><dd><a href="#a-declaration">[attribute declaration]</a>
       (<a href="#sic-attr-decl">Attribute Declaration</a>)
       <br/><a href="#a-member_type_definition">[member type definition]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-member_type_definition_anonymous">[member type definition anonymous]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-member_type_definition_name">[member type definition name]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-member_type_definition_namespace">[member type definition namespace]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-schema_default">[schema default]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-schema_error_code">[schema error code]</a>
       (<a href="#sic-attr-error-code">Validation Failure (Attribute)</a>)
       <br/><a href="#a-schema_normalized_value">[schema normalized value]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-schema_specified">[schema specified]</a>
       (<a href="#sic-a-outcome">Assessment Outcome (Attribute)</a>)
       <br/><a href="#a-type_definition">[type definition]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-type_definition_anonymous">[type definition anonymous]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-type_definition_name">[type definition name]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-type_definition_namespace">[type definition namespace]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-type_definition_type">[type definition type]</a>
       (<a href="#sic-attrType">Attribute Validated by Type</a>)
       <br/><a href="#a-validation_attempted">[validation attempted]</a>
       (<a href="#sic-a-outcome">Assessment Outcome (Attribute)</a>)
       <br/><a href="#a-validation_context">[validation context]</a>
       (<a href="#sic-a-outcome">Assessment Outcome (Attribute)</a>)
       <br/><a href="#a-validity">[validity]</a>
       (<a href="#sic-a-outcome">Assessment Outcome (Attribute)</a>)
       <br/></dd><dt>element information item properties</dt><dd><a href="#e-declaration">[element declaration]</a>
       (<a href="#sic-elt-decl">Element Declaration</a>)
       <br/><a href="#e-ii_table">[ID/IDREF table]</a>
       (<a href="#sic-id">ID/IDREF Table</a>)
       <br/><a href="#e-id_constraint_table">[identity-constraint table]</a>
       (<a href="#sic-key">Identity-constraint Table</a>)
       <br/><a href="#e-member_type_definition">[member type definition]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-member_type_definition_anonymous">[member type definition anonymous]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-member_type_definition_name">[member type definition name]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-member_type_definition_namespace">[member type definition namespace]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-nil">[nil]</a>
       (<a href="#sic-elt-decl">Element Declaration</a>)
       <br/><a href="#e-notation">[notation]</a>
       (<a href="#sic-notation-used">Validated with Notation</a>)
       <br/><a href="#e-notation_public">[notation public]</a>
       (<a href="#sic-notation-used">Validated with Notation</a>)
       <br/><a href="#e-notation_system">[notation system]</a>
       (<a href="#sic-notation-used">Validated with Notation</a>)
       <br/><a href="#e-schema_default">[schema default]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-schema_error_code">[schema error code]</a>
       (<a href="#sic-elt-error-code">Validation Failure (Element)</a>)
       <br/><a href="#e-schema_information">[schema information]</a>
       (<a href="#sic-schema">Schema Information</a>)
       <br/><a href="#e-schema_normalized_value">[schema normalized value]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-schema_specified">[schema specified]</a>
       (<a href="#sic-eltDefault">Element Default Value</a>)
       <br/><a href="#e-type_definition">[type definition]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-type_definition_anonymous">[type definition anonymous]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-type_definition_name">[type definition name]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-type_definition_namespace">[type definition namespace]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-type_definition_type">[type definition type]</a>
       (<a href="#sic-eltType">Element Validated by Type</a>)
       <br/><a href="#e-validation_attempted">[validation attempted]</a>
       (<a href="#sic-e-outcome">Assessment Outcome (Element)</a>)
       <br/><a href="#e-validation_context">[validation context]</a>
       (<a href="#sic-e-outcome">Assessment Outcome (Element)</a>)
       <br/><a href="#e-validity">[validity]</a>
       (<a href="#sic-e-outcome">Assessment Outcome (Element)</a>)
       <br/></dd><dt>ID/IDREF binding information item properties</dt><dd><a href="#iib-binding">[binding]</a>
       (<a href="#sic-id">ID/IDREF Table</a>)
       <br/><a href="#iib-id">[id]</a>
       (<a href="#sic-id">ID/IDREF Table</a>)
       <br/></dd><dt>Identity-constraint Binding information item properties</dt><dd><a href="#cb-definition">[definition]</a>
       (<a href="#sic-key">Identity-constraint Table</a>)
       <br/><a href="#cb-node_table">[node table]</a>
       (<a href="#sic-key">Identity-constraint Table</a>)
       <br/></dd><dt>namespace schema information information item properties</dt><dd><a href="#nsi-schema_components">[schema components]</a>
       (<a href="#sic-schema">Schema Information</a>)
       <br/><a href="#nsi-schema_documents">[schema documents]</a>
       (<a href="#sic-schema">Schema Information</a>)
       <br/><a href="#nsi-schema_namespace">[schema namespace]</a>
       (<a href="#sic-schema">Schema Information</a>)
       <br/></dd><dt>schema document information item properties</dt><dd><a href="#sd-document">[document]</a>
       (<a href="#sic-schema">Schema Information</a>)
       <br/><a href="#sd-document_location">[document location]</a>
       (<a href="#sic-schema">Schema Information</a>)
       <br/></dd></dl>
<h3><span class="nav"><a class="nav" href="#PSVI_contributions"><img src="previous.jpg" alt="previous sub-section"/></a> <a class="nav" href="#outcome-cos"><img src="next.jpg" alt="next sub-section"/></a></span><a id="outcome-src" name="outcome-src"/>C.3 Schema Representation Constraints</h3><p/><dl><dt>schema_reference</dt><dd><a href="#schema_reference">Schema Document Location Strategy</a></dd><dt>src-annotation</dt><dd><a href="#src-annotation">Annotation Definition Representation OK</a></dd><dt>src-attribute</dt><dd><a href="#src-attribute">Attribute Declaration Representation OK</a></dd><dt>src-attribute_group</dt><dd><a href="#src-attribute_group">Attribute Group Definition Representation OK</a></dd><dt>src-ct</dt><dd><a href="#src-ct">Complex Type Definition Representation OK</a></dd><dt>src-element</dt><dd><a href="#src-element">Element Declaration Representation OK</a></dd><dt>src-expredef</dt><dd><a href="#src-expredef">Individual Component Redefinition</a></dd><dt>src-identity-constraint</dt><dd><a href="#src-identity-constraint">Identity-constraint Definition Representation OK</a></dd><dt>src-import</dt><dd><a href="#src-import">Import Constraints and Semantics</a></dd><dt>src-include</dt><dd><a href="#src-include">Inclusion Constraints and Semantics</a></dd><dt>src-list-itemType-or-simpleType</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#src-list-itemType-or-simpleType">itemType attribute or simpleType child</a></dd><dt>src-model_group</dt><dd><a href="#src-model_group">Model Group Representation OK</a></dd><dt>src-model_group_defn</dt><dd><a href="#src-model_group_defn">Model Group Definition Representation OK</a></dd><dt>src-multiple-enumerations</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#src-multiple-enumerations">Multiple enumerations</a></dd><dt>src-multiple-patterns</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#src-multiple-patterns">Multiple patterns</a></dd><dt>src-notation</dt><dd><a href="#src-notation">Notation Definition Representation OK</a></dd><dt>src-qname</dt><dd><a href="#src-qname">QName Interpretation</a></dd><dt>src-redefine</dt><dd><a href="#src-redefine">Redefinition Constraints and Semantics</a></dd><dt>src-resolve</dt><dd><a href="#src-resolve">QName resolution (Schema Document)</a></dd><dt>src-restriction-base-or-simpleType</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#src-restriction-base-or-simpleType">base attribute or simpleType child</a></dd><dt>src-simple-type</dt><dd><a href="#src-simple-type">Simple Type Definition Representation OK</a></dd><dt>src-single-facet-value</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#src-single-facet-value">Single Facet Value</a></dd><dt>src-union-memberTypes-or-simpleTypes</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#src-union-memberTypes-or-simpleTypes">memberTypes attribute or simpleType children</a></dd><dt>src-wildcard</dt><dd><a href="#src-wildcard">Wildcard Representation OK</a></dd></dl>
<h3><span class="nav"><a class="nav" href="#outcome-src"><img src="previous.jpg" alt="previous sub-section"/></a> </span><a id="outcome-cos" name="outcome-cos"/>C.4 Schema Component Constraints</h3><dl><dt>a-props-correct</dt><dd><a href="#a-props-correct">Attribute Declaration Properties Correct</a></dd><dt>ag-props-correct</dt><dd><a href="#ag-props-correct">Attribute Group Definition Properties Correct</a></dd><dt>an-props-correct</dt><dd><a href="#an-props-correct">Annotation Correct</a></dd><dt>au-props-correct</dt><dd><a href="#au-props-correct">Attribute Use Correct</a></dd><dt>c-fields-xpaths</dt><dd><a href="#c-fields-xpaths">Fields Value OK</a></dd><dt>c-props-correct</dt><dd><a href="#c-props-correct">Identity-constraint Definition Properties Correct</a></dd><dt>c-selector-xpath</dt><dd><a href="#c-selector-xpath">Selector Value OK</a></dd><dt>cos-all-limited</dt><dd><a href="#cos-all-limited">All Group Limited</a></dd><dt>cos-applicable-facets</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cos-applicable-facets">applicable facets</a></dd><dt>cos-aw-intersect</dt><dd><a href="#cos-aw-intersect">Attribute Wildcard Intersection</a></dd><dt>cos-aw-union</dt><dd><a href="#cos-aw-union">Attribute Wildcard Union</a></dd><dt>cos-choice-range</dt><dd><a href="#cos-choice-range">Effective Total Range (choice)</a></dd><dt>cos-ct-derived-ok</dt><dd><a href="#cos-ct-derived-ok">Type Derivation OK (Complex)</a></dd><dt>cos-ct-extends</dt><dd><a href="#cos-ct-extends">Derivation Valid (Extension)</a></dd><dt>cos-element-consistent</dt><dd><a href="#cos-element-consistent">Element Declarations Consistent</a></dd><dt>cos-equiv-class</dt><dd><a href="#cos-equiv-class">Substitution Group</a></dd><dt>cos-equiv-derived-ok-rec</dt><dd><a href="#cos-equiv-derived-ok-rec">Substitution Group OK (Transitive)</a></dd><dt>cos-group-emptiable</dt><dd><a href="#cos-group-emptiable">Particle Emptiable</a></dd><dt>cos-list-of-atomic</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cos-list-of-atomic">list of atomic</a></dd><dt>cos-no-circular-unions</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#cos-no-circular-unions">no circular unions</a></dd><dt>cos-nonambig</dt><dd><a href="#cos-nonambig">Unique Particle Attribution</a></dd><dt>cos-ns-subset</dt><dd><a href="#cos-ns-subset">Wildcard Subset</a></dd><dt>cos-particle-extend</dt><dd><a href="#cos-particle-extend">Particle Valid (Extension)</a></dd><dt>cos-particle-restrict</dt><dd><a href="#cos-particle-restrict">Particle Valid (Restriction)</a></dd><dt>cos-seq-range</dt><dd><a href="#cos-seq-range">Effective Total Range (all and sequence)</a></dd><dt>cos-st-derived-ok</dt><dd><a href="#cos-st-derived-ok">Type Derivation OK (Simple)</a></dd><dt>cos-st-restricts</dt><dd><a href="#cos-st-restricts">Derivation Valid (Restriction, Simple)</a></dd><dt>cos-valid-default</dt><dd><a href="#cos-valid-default">Element Default Valid (Immediate)</a></dd><dt>ct-props-correct</dt><dd><a href="#ct-props-correct">Complex Type Definition Properties Correct</a></dd><dt>derivation-ok-restriction</dt><dd><a href="#derivation-ok-restriction">Derivation Valid (Restriction, Complex)</a></dd><dt>e-props-correct</dt><dd><a href="#e-props-correct">Element Declaration Properties Correct</a></dd><dt>enumeration-required-notation</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#enumeration-required-notation">enumeration facet value required for NOTATION</a></dd><dt>enumeration-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#enumeration-valid-restriction">enumeration valid restriction</a></dd><dt>fractionDigits-totalDigits</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#fractionDigits-totalDigits">fractionDigits less than or equal to totalDigits</a></dd><dt>fractionDigits-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#fractionDigits-valid-restriction">fractionDigits valid restriction</a></dd><dt>length-minLength-maxLength</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#length-minLength-maxLength">length and minLength or maxLength</a></dd><dt>length-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#length-valid-restriction">length valid restriction</a></dd><dt>maxExclusive-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#maxExclusive-valid-restriction">maxExclusive valid restriction</a></dd><dt>maxInclusive-maxExclusive</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#maxInclusive-maxExclusive">maxInclusive and maxExclusive</a></dd><dt>maxInclusive-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#maxInclusive-valid-restriction">maxInclusive valid restriction</a></dd><dt>maxLength-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#maxLength-valid-restriction">maxLength valid restriction</a></dd><dt>mg-props-correct</dt><dd><a href="#mg-props-correct">Model Group Correct</a></dd><dt>mgd-props-correct</dt><dd><a href="#mgd-props-correct">Model Group Definition Properties Correct</a></dd><dt>minExclusive-less-than-equal-to-maxExclusive</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minExclusive-less-than-equal-to-maxExclusive">minExclusive &lt;= maxExclusive</a></dd><dt>minExclusive-less-than-maxInclusive</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minExclusive-less-than-maxInclusive">minExclusive &lt; maxInclusive</a></dd><dt>minExclusive-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minExclusive-valid-restriction">minExclusive valid restriction</a></dd><dt>minInclusive-less-than-equal-to-maxInclusive</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minInclusive-less-than-equal-to-maxInclusive">minInclusive &lt;= maxInclusive</a></dd><dt>minInclusive-less-than-maxExclusive</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minInclusive-less-than-maxExclusive">minInclusive &lt; maxExclusive</a></dd><dt>minInclusive-minExclusive</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minInclusive-minExclusive">minInclusive and minExclusive</a></dd><dt>minInclusive-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minInclusive-valid-restriction">minInclusive valid restriction</a></dd><dt>minLength-less-than-equal-to-maxLength</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minLength-less-than-equal-to-maxLength">minLength &lt;= maxLength</a></dd><dt>minLength-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#minLength-valid-restriction">minLength valid restriction</a></dd><dt>n-props-correct</dt><dd><a href="#n-props-correct">Notation Declaration Correct</a></dd><dt>no-xmlns</dt><dd><a href="#no-xmlns">xmlns Not Allowed</a></dd><dt>no-xsi</dt><dd><a href="#no-xsi">xsi: Not Allowed</a></dd><dt>p-props-correct</dt><dd><a href="#p-props-correct">Particle Correct</a></dd><dt>range-ok</dt><dd><a href="#range-ok">Occurrence Range OK</a></dd><dt>rcase-MapAndSum</dt><dd><a href="#rcase-MapAndSum">Particle Derivation OK (Sequence:Choice -- MapAndSum)</a></dd><dt>rcase-NameAndTypeOK</dt><dd><a href="#rcase-NameAndTypeOK">Particle Restriction OK (Elt:Elt -- NameAndTypeOK)</a></dd><dt>rcase-NSCompat</dt><dd><a href="#rcase-NSCompat">Particle Derivation OK (Elt:Any -- NSCompat)</a></dd><dt>rcase-NSRecurseCheckCardinality</dt><dd><a href="#rcase-NSRecurseCheckCardinality">Particle Derivation OK (All/Choice/Sequence:Any -- NSRecurseCheckCardinality)</a></dd><dt>rcase-NSSubset</dt><dd><a href="#rcase-NSSubset">Particle Derivation OK (Any:Any -- NSSubset)</a></dd><dt>rcase-Recurse</dt><dd><a href="#rcase-Recurse">Particle Derivation OK (All:All,Sequence:Sequence -- Recurse)</a></dd><dt>rcase-RecurseAsIfGroup</dt><dd><a href="#rcase-RecurseAsIfGroup">Particle Derivation OK (Elt:All/Choice/Sequence -- RecurseAsIfGroup)</a></dd><dt>rcase-RecurseLax</dt><dd><a href="#rcase-RecurseLax">Particle Derivation OK (Choice:Choice -- RecurseLax)</a></dd><dt>rcase-RecurseUnordered</dt><dd><a href="#rcase-RecurseUnordered">Particle Derivation OK (Sequence:All -- RecurseUnordered)</a></dd><dt>sch-props-correct</dt><dd><a href="#sch-props-correct">Schema Properties Correct</a></dd><dt>st-props-correct</dt><dd><a href="#st-props-correct">Simple Type Definition Properties Correct</a></dd><dt>st-restrict-facets</dt><dd><a href="#st-restrict-facets">Simple Type Restriction (Facets)</a></dd><dt>totalDigits-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#totalDigits-valid-restriction">totalDigits valid restriction</a></dd><dt>w-props-correct</dt><dd><a href="#w-props-correct">Wildcard Properties Correct</a></dd><dt>whiteSpace-valid-restriction</dt><dd><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#whiteSpace-valid-restriction">whiteSpace valid restriction</a></dd></dl></div><div class="div1">
<h2><a id="infoset" name="infoset"/>D Required Information Set Items and Properties (normative)</h2><p>This specification requires as a precondition for <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> an information set as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a> which supports at least the following information items and properties:</p><dl><dt class="label">Attribute Information Item</dt><dd><a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[local name]</a>, <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[namespace name]</a>,
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[normalized value]</a></dd><dt class="label">Character Information Item</dt><dd><a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.character">[character code]</a></dd><dt class="label">Element Information Item</dt><dd><a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[local name]</a>, <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace name]</a>,
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>, <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a>, <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[in-scope namespaces]</a> or
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[namespace attributes]</a></dd><dt class="label">Namespace Information Item</dt><dd><a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.namespace">[prefix]</a>, <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.namespace">[namespace name]</a></dd></dl><p>In addition, infosets should support the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.document">[unparsedEntities]</a> property of the Document Information Item.  Failure to do so will mean all items of type <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ENTITY">ENTITY</a> or <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#ENTITIES">ENTITIES</a> will fail to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a>.</p><p>This specification does not require any destructive alterations to the input
information set: all the information set contributions specified herein are additive.</p><p>This appendix is intended to satisfy the requirements for <a href="http://www.w3.org/TR/2001/WD-xml-infoset-20010316/#conformance">Conformance</a> to the <a href="#ref-xmlinfo">[XML-Infoset]</a> specification.</p></div><div class="div1">
<h2><a id="component-diagram" name="component-diagram"/>E Schema Components Diagram (non-normative)</h2><img border="0" usemap="#compImage" alt="Diagram of schema components" src="components.gif"/><map id="compImage" name="compImage"><area title="Notation Declaration Schema Component" href="#Notation_Declaration_details" coords="13,1,163,66" alt="Notation Declaration Schema Component" shape="rect"/><area title="Schema Component" href="#Schema_details" coords="297,1,367,112" alt="Schema Component" shape="rect"/><area title="Element Declaration Schema Component" href="#Element_Declaration_details" coords="48,147,252,304" alt="Element Declaration Schema Component" shape="rect"/><area title="Identity Constraint Definition Schema Component" href="#Identity-constraint_Definition_details" coords="369,163,562,263" alt="Identity Constraint Definition Schema Component" shape="rect"/><area title="Model Group Definition Schema Component" href="#Model_Group_Definition_details" coords="445,287,609,333" alt="Model Group Definition Schema Component" shape="rect"/><area title="Simple Type Definition Schema Component" href="#Simple_Type_Definition_details" coords="13,439,176,521" alt="Simple Type Definition Schema Component" shape="rect"/><area title="Complex Type Definition Schema Component" href="#Complex_Type_Definition_details" coords="282,419,457,521" alt="Complex Type Definition Schema Component" shape="rect"/><area title="Particle Schema Component" href="#Particle_details" coords="480,457,585,521" alt="Particle Schema Component" shape="rect"/><area title="Model Group Schema Component" href="#Model_Group_details" coords="518,603,620,649" alt="Model Group Schema Component" shape="rect"/><area title="Attribute Use Schema Component" href="#AU_details" coords="224,690,352,754" alt="Attribute Use Schema Component" shape="rect"/><area title="Wildcard Schema Component" href="#Wildcard_details" coords="387,690,545,754" alt="Wildcard Schema Component" shape="rect"/><area title="Attribute Declaration Schema Component" href="#Attribute_Declaration_details" coords="13,786,165,848" alt="Attribute Declaration Schema Component" shape="rect"/><area title="Attribute Group Definition Schema Component" href="#Attribute_Group_Definition_details" coords="431,801,609,848" alt="Attribute Group Definition Schema Component" shape="rect"/><area alt="Schema Components" nohref="nohref" shape="default"/></map></div><div class="div1">
<h2><a id="normative-glossary" name="normative-glossary"/>F Glossary (non-normative)</h2><p>The listing below is for the benefit of readers of a printed version of this
document:  it collects together all the definitions which appear in the
document above.</p><dl><dt><a href="#key-null">absent</a></dt><dd>Throughout this specification, the
term <b>absent</b> is used as a distinguished property value denoting absence</dd><dt><a href="#key-vv">actual value</a></dt><dd>The
phrase <b>actual value</b> is used to refer to the member of the value space of the
simple type definition associated with an attribute information item which corresponds to
its <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a></dd><dt><a href="#key-va">assessment</a></dt><dd> the word <b>assessment</b> is used to refer
to the overall process of
local validation, schema-validity assessment and infoset augmentation</dd><dt><a href="#key-baseTypeDefinition">base type definition</a></dt><dd>A type definition used as the
basis for an <a class="termref" href="#key-typeExtension"><span class="arrow">&#xb7;</span>extension<span class="arrow">&#xb7;</span></a> or
<a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> is known as
the <b>base type definition</b> of that definition</dd><dt><a href="#key-compName">component name</a></dt><dd>Declarations and
definitions may have and be identified by <b>name</b>s, which are NCNames as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a></dd><dt><a href="#key-interchange">conformance to the XML Representation of Schemas</a></dt><dd><a class="termref" href="#key-minimallyConforming"><span class="arrow">&#xb7;</span>Minimally conforming<span class="arrow">&#xb7;</span></a> processors which accept
schemas represented in the form of XML documents as described in <a href="#layer2">Layer 2: Schema Documents, Namespaces and Composition (&#xa7;4.2)</a> are
additionally said to provide <b>conformance to the XML Representation of Schemas</b>.
</dd><dt><a href="#key-contentModel">content model</a></dt><dd>A particle can
be used in a complex type definition to constrain the <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>
of the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of an element information item; such a particle is called
a <b>content model</b></dd><dt><a href="#key-dd">context-determined declaration</a></dt><dd>During <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>, associations
between element and attribute information items among the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a>
and <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[attributes]</a> on the one hand, and element and attribute
declarations on the other, are established as a side-effect.  Such
declarations are called the <b>context-determined declarations</b></dd><dt><a href="#key-declaration">declaration</a></dt><dd><b>declaration</b> components are associated by
(qualified) name to information items being <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validated<span class="arrow">&#xb7;</span></a></dd><dt><a href="#key-vde">declared entity name</a></dt><dd>A string is a <b>declared entity name</b> if it is equal to the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.entity.unparsed">[name]</a> of some unparsed entity
information item in the value of the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.document">[unparsedEntities]</a> property of the document information item
at the root of the infoset containing the element or attribute information item
whose <a class="termref" href="#key-nv"><span class="arrow">&#xb7;</span>normalized value<span class="arrow">&#xb7;</span></a> the string is.</dd><dt><a href="#key-definition">definition</a></dt><dd><b>definition</b> components define
internal schema components that can be used in other schema components</dd><dt><a href="#key-equivalenceClass">element substitution group</a></dt><dd>Through
the new mechanism of <b>element substitution groups</b>, XML Schemas provides a more powerful model supporting substitution of one named element for another</dd><dt><a href="#key-typeExtension">extension</a></dt><dd>A complex type definition
which allows element or attribute content in addition to that allowed by
another specified type
definition is said to be an <b>extension</b></dd><dt><a href="#key-ct-final">final</a></dt><dd>the complex type is said to be
<b>final</b>, because no
further derivations are possible</dd><dt><a href="#key-fullyConforming">fully conforming</a></dt><dd> <b>Fully conforming</b>
processors are network-enabled processors which are not only both <a class="termref" href="#key-minimallyConforming"><span class="arrow">&#xb7;</span>minimally conforming<span class="arrow">&#xb7;</span></a> and <a class="termref" href="#key-interchange"><span class="arrow">&#xb7;</span>in conformance to the XML Representation of Schemas<span class="arrow">&#xb7;</span></a>, but which additionally must be capable of accessing
schema documents from the World Wide Web according to <a href="#web-representation">Representation of Schemas on the World Wide Web (&#xa7;2.7)</a> and <a href="#schema-loc">How schema definitions are located on the Web (&#xa7;4.3.2)</a>.
</dd><dt><a href="#key-impl-cont">implicitly contains</a></dt><dd>A list
of particles <b>implicitly contains</b> an element declaration if a
member of the list contains that
element declaration in its <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution group<span class="arrow">&#xb7;</span></a></dd><dt><a href="#key-iv">initial value</a></dt><dd>the
<b>initial value</b> of some
attribute information item is the value of the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.attribute">[normalized
value]</a> property of that item.  Similarly, the <b>initial value</b> of an element information item is the string composed of, in order, the
<a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.character">[character code]</a> of each character information item in the <a class="xpropref" href="http://www.w3.org/TR/xml-infoset/#infoitem.element">[children]</a> of that
element information item</dd><dt><a href="#key-iso">item isomorphic to a component</a></dt><dd> by an <b>item isomorphic</b> to a component is meant an information item whose type is equivalent to the component's, with one property per property of the component, with the same name, and value either the same atomic value, or an information item corresponding in the same way to its component value, recursively, as necessary</dd><dt><a href="#key-lva">laxly assessed</a></dt><dd>an element information item's
schema validity may be <b>laxly assessed</b> if its <a class="termref" href="#key-dd"><span class="arrow">&#xb7;</span>context-determined declaration<span class="arrow">&#xb7;</span></a> is not <i>skip</i> by <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validating<span class="arrow">&#xb7;</span></a> with respect to the <a class="termref" href="#ur-type-itself"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a> as per <a href="#cvc-type">Element Locally Valid (Type) (&#xa7;3.3.4)</a></dd><dt><a href="#key-minimallyConforming">minimally conforming</a></dt><dd><b>Minimally conforming</b> processors must completely and
correctly implement the <a class="termref" href="#gloss-cos"><span class="arrow">&#xb7;</span>Schema Component
Constraints<span class="arrow">&#xb7;</span></a>, <a class="termref" href="#gloss-cvc"><span class="arrow">&#xb7;</span>Validation Rules<span class="arrow">&#xb7;</span></a>,
and <a class="termref" href="#gloss-sic"><span class="arrow">&#xb7;</span>Schema Information
Set Contributions<span class="arrow">&#xb7;</span></a> contained in this specification</dd><dt><a href="#gloss-NCName">NCName</a></dt><dd>An <b>NCName</b> is a name
with no colon, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.  When used in connection with the XML
representation of schema components in this specification, this refers to the
simple type <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#NCName">NCName</a> as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a></dd><dt><a href="#key-nv">normalized value</a></dt><dd>The
<b>normalized value</b> of an element or
attribute information item is an <a class="termref" href="#key-iv"><span class="arrow">&#xb7;</span>initial value<span class="arrow">&#xb7;</span></a> whose white space, if any, has been
normalized according to the value of the <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#rf-whiteSpace">whiteSpace facet</a> of the
simple type definition used in its <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a>:
 </dd><dt><a href="#key-partition">partition</a></dt><dd>Define a
<b>partition</b> of a sequence as a sequence of sub-sequences, some or
all of which may be empty, such that concatenating all the sub-sequences yields
the original sequence</dd><dt><a href="#key-psvi">post-schema-validation infoset</a></dt><dd>We refer to the augmented infoset which results from conformant processing as defined in this specification as the <b>post-schema-validation infoset</b>, or PSVI</dd><dt><a href="#gloss-QName">QName</a></dt><dd>A <b>QName</b> is a name
with an optional namespace qualification, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.  When used in connection with the XML
representation of schema components or references to them, this refers to the
simple type <a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#QName">QName</a> as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a></dd><dt><a href="#key-resolve">resolve</a></dt><dd>Whenever the word <b>resolve</b> in any form is used in this
chapter in connection with a <a class="termref" href="#gloss-QName"><span class="arrow">&#xb7;</span>QName<span class="arrow">&#xb7;</span></a> in a
schema document, the
following definition <a href="#src-resolve">QName resolution (Schema Document) (&#xa7;3.15.3)</a> should be understood</dd><dt><a href="#key-typeRestriction">restriction</a></dt><dd>A type
definition whose
declarations or facets are in a one-to-one relation with those of another
specified type
definition, with each in turn restricting the possibilities of the one it
corresponds to, is said to be a <b>restriction</b></dd><dt><a href="#key-component">schema component</a></dt><dd> <b>Schema component</b> is the generic term for the building blocks that comprise the abstract data model of the schema.
</dd><dt><a href="#gloss-cos">Schema Component Constraint</a></dt><dd>Constraints on the schema components themselves, i.e.
conditions components must satisfy to be components at all.  Located in the
sixth sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#outcome-cos">Schema Component Constraints (&#xa7;C.4)</a></dd><dt><a href="#key-schemaDoc">schema document</a></dt><dd>A document in
this form (i.e. a <a class="eltref" href="#element-schema">&lt;schema&gt;</a> element information item) is a <b>schema document</b></dd><dt><a href="#gloss-sic">Schema Information Set Contribution</a></dt><dd>Augmentations to <a class="termref" href="#key-psvi"><span class="arrow">&#xb7;</span>post-schema-validation infoset<span class="arrow">&#xb7;</span></a>s
expressed by schema components, which follow
              as a consequence of <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> and/or <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a>.
Located in the
fifth sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#PSVI_contributions">Contributions to the post-schema-validation infoset (&#xa7;C.2)</a></dd><dt><a href="#gloss-src">Schema Representation Constraint</a></dt><dd>Constraints on the
representation of schema components in XML beyond those which are expressed
in <a href="#normative-schemaSchema">Schema for Schemas (normative) (&#xa7;A)</a>.  Located in the
third sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#outcome-src">Schema Representation Constraints (&#xa7;C.3)</a></dd><dt><a href="#key-simpleUrType">simple ur-type definition</a></dt><dd>the <b>simple
ur-type definition</b>, a special restriction of the
<a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type
definition<span class="arrow">&#xb7;</span></a>, whose name is <b>anySimpleType</b> in the XML Schema namespace</dd><dt><a href="#key-eq">substitution group</a></dt><dd>Every element
declaration (call this <b>HEAD</b>)
in the <a class="propref" href="#element_declarations">{element declarations}</a> of a schema defines a
<b>substitution group</b>, a subset of those <a class="propref" href="#element_declarations">{element declarations}</a>, as follows:</dd><dt><a href="#key-symbolSpace">symbol space</a></dt><dd>this specification introduces the term
<b>symbol space</b> to denote a
collection of names, each of which is unique with respect to the others</dd><dt><a href="#key-targetNS">target namespace</a></dt><dd>Several kinds
of component have a <b>target namespace</b>, which is either
<a class="termref" href="#key-null"><span class="arrow">&#xb7;</span>absent<span class="arrow">&#xb7;</span></a> or a namespace name, also as
defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a></dd><dt><a href="#key-typeDefn">type definition</a></dt><dd>This specification uses
the phrase <b>type definition</b> in cases where no distinction
need be made between simple and complex types</dd><dt><a href="#key-typeDefinitionHierarchy">Type Definition Hierarchy</a></dt><dd>Except for a distinguished <a class="termref" href="#key-urType"><span class="arrow">&#xb7;</span>ur-type definition<span class="arrow">&#xb7;</span></a>, every <a class="termref" href="#key-typeDefn"><span class="arrow">&#xb7;</span>type definition<span class="arrow">&#xb7;</span></a> is, by construction, either a
<a class="termref" href="#key-typeRestriction"><span class="arrow">&#xb7;</span>restriction<span class="arrow">&#xb7;</span></a> or an <a class="termref" href="#key-typeExtension"><span class="arrow">&#xb7;</span>extension<span class="arrow">&#xb7;</span></a> of some other type definition.  The graph of these relationships forms a tree known as the <b>Type Definition Hierarchy</b></dd><dt><a href="#key-urType">ur-type definition</a></dt><dd>A distinguished complex
type definition, the <b>ur-type
definition</b>, whose
name is <i>anyType</i> in the XML Schema namespace, is present in each <a class="termref" href="#key-schema"><span class="arrow">&#xb7;</span>XML Schema<span class="arrow">&#xb7;</span></a>, serving as the root of the type
definition hierarchy for that schema</dd><dt><a href="#key-vn">valid</a></dt><dd>the
word <b>valid</b> and its derivatives are used to refer to
clause <a href="#c-lsv">1</a> above, the determination of local
schema-validity</dd><dt><a href="#cd-ct-extension">valid extension</a></dt><dd>If this
constraint <a href="#cos-ct-extends">Derivation Valid (Extension) (&#xa7;3.4.6)</a> holds of a complex type definition, it is a <b>valid
extension</b> of its <a class="propref" href="#ct-base_type_definition">{base type definition}</a></dd><dt><a href="#cd-ct-restriction">valid restriction</a></dt><dd>If this
constraint <a href="#derivation-ok-restriction">Derivation Valid (Restriction, Complex) (&#xa7;3.4.6)</a> holds of a complex type definition, it is a <b>valid
restriction</b> of its <a class="propref" href="#ct-base_type_definition">{base type definition}</a></dd><dt><a href="#cd-st-restriction">valid restriction</a></dt><dd>If this
constraint <a href="#cos-st-restricts">Derivation Valid (Restriction, Simple) (&#xa7;3.14.6)</a> holds of a simple type definition, it is a <b>valid
restriction</b> of its <a class="termref" href="#st-base_type_definition"><span class="arrow">&#xb7;</span>base type definition<span class="arrow">&#xb7;</span></a></dd><dt><a href="#key-vr">validation root</a></dt><dd>This item, that is the element information item at which <a class="termref" href="#key-va"><span class="arrow">&#xb7;</span>assessment<span class="arrow">&#xb7;</span></a> began, is called the <b>validation root</b></dd><dt><a href="#gloss-cvc">Validation Rules</a></dt><dd>Contributions to <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validation<span class="arrow">&#xb7;</span></a> associated
with schema components.  Located in the
fourth sub-section of the per-component sections of <a href="#components">Schema Component Details (&#xa7;3)</a>
and tabulated in <a href="#validation_failures">Validation Rules (&#xa7;C.1)</a></dd><dt><a href="#key-schema">XML Schema</a></dt><dd>
An <b>XML Schema</b> is a
set of <a class="termref" href="#key-component"><span class="arrow">&#xb7;</span>schema components<span class="arrow">&#xb7;</span></a></dd></dl></div><div class="div1">
<h2><a id="nonnormative-schemaDTD" name="nonnormative-schemaDTD"/>G DTD for Schemas (non-normative)</h2><p>The DTD for schema documents is given below.  Note there is <em>no</em>
implication here that <code>schema</code> must be the root element of a
document.</p><p>Although this DTD is non-normative, any XML document which is
     not valid per this DTD, given redefinitions in its internal subset of the
     'p' and 's' parameter entities below appropriate to its namespace
     declaration of the XML Schema namespace, is almost certainly not
     a valid schema document, with the exception of documents with multiple namespace
     prefixes for the XML Schema namespace itself.  Accordingly
authoring XML Schema documents using this DTD and DTD-based authoring tools, and
specifying it as the DOCTYPE of documents intended to be XML Schema
documents and validating them with a validating XML parser, are
sensible development strategies which users are encouraged to adopt
until XML Schema-based authoring tools and validators are more widely available.</p><pre>&lt;!-- DTD for XML Schemas: Part 1: Structures
     Public Identifier: &quot;-//W3C//DTD XMLSCHEMA 200102//EN&quot;
     Official Location: http://www.w3.org/2001/XMLSchema.dtd --&gt;
&lt;!-- Id:  structures.dtd,v 1.1 2003/08/28 13:30:52 ht Exp  --&gt;
&lt;!-- With the exception of cases with multiple namespace
     prefixes for the XML Schema namespace, any XML document which is
     not valid per this DTD given redefinitions in its internal subset of the
     'p' and 's' parameter entities below appropriate to its namespace
     declaration of the XML Schema namespace is almost certainly not
     a valid schema. --&gt;

&lt;!-- The simpleType element and its constituent parts
     are defined in XML Schema: Part 2: Datatypes --&gt;
&lt;!ENTITY % xs-datatypes PUBLIC 'datatypes' 'datatypes.dtd' &gt;

&lt;!ENTITY % p 'xs:'&gt; &lt;!-- can be overriden in the internal subset of a
                         schema document to establish a different
                         namespace prefix --&gt;
&lt;!ENTITY % s ':xs'&gt; &lt;!-- if %p is defined (e.g. as foo:) then you must
                         also define %s as the suffix for the appropriate
                         namespace declaration (e.g. :foo) --&gt;
&lt;!ENTITY % nds 'xmlns%s;'&gt;

&lt;!-- Define all the element names, with optional prefix --&gt;
&lt;!ENTITY % schema &quot;%p;schema&quot;&gt;
&lt;!ENTITY % complexType &quot;%p;complexType&quot;&gt;
&lt;!ENTITY % complexContent &quot;%p;complexContent&quot;&gt;
&lt;!ENTITY % simpleContent &quot;%p;simpleContent&quot;&gt;
&lt;!ENTITY % extension &quot;%p;extension&quot;&gt;
&lt;!ENTITY % element &quot;%p;element&quot;&gt;
&lt;!ENTITY % unique &quot;%p;unique&quot;&gt;
&lt;!ENTITY % key &quot;%p;key&quot;&gt;
&lt;!ENTITY % keyref &quot;%p;keyref&quot;&gt;
&lt;!ENTITY % selector &quot;%p;selector&quot;&gt;
&lt;!ENTITY % field &quot;%p;field&quot;&gt;
&lt;!ENTITY % group &quot;%p;group&quot;&gt;
&lt;!ENTITY % all &quot;%p;all&quot;&gt;
&lt;!ENTITY % choice &quot;%p;choice&quot;&gt;
&lt;!ENTITY % sequence &quot;%p;sequence&quot;&gt;
&lt;!ENTITY % any &quot;%p;any&quot;&gt;
&lt;!ENTITY % anyAttribute &quot;%p;anyAttribute&quot;&gt;
&lt;!ENTITY % attribute &quot;%p;attribute&quot;&gt;
&lt;!ENTITY % attributeGroup &quot;%p;attributeGroup&quot;&gt;
&lt;!ENTITY % include &quot;%p;include&quot;&gt;
&lt;!ENTITY % import &quot;%p;import&quot;&gt;
&lt;!ENTITY % redefine &quot;%p;redefine&quot;&gt;
&lt;!ENTITY % notation &quot;%p;notation&quot;&gt;

&lt;!-- annotation elements --&gt;
&lt;!ENTITY % annotation &quot;%p;annotation&quot;&gt;
&lt;!ENTITY % appinfo &quot;%p;appinfo&quot;&gt;
&lt;!ENTITY % documentation &quot;%p;documentation&quot;&gt;

&lt;!-- Customisation entities for the ATTLIST of each element type.
     Define one of these if your schema takes advantage of the
     anyAttribute='##other' in the schema for schemas --&gt;

&lt;!ENTITY % schemaAttrs ''&gt;
&lt;!ENTITY % complexTypeAttrs ''&gt;
&lt;!ENTITY % complexContentAttrs ''&gt;
&lt;!ENTITY % simpleContentAttrs ''&gt;
&lt;!ENTITY % extensionAttrs ''&gt;
&lt;!ENTITY % elementAttrs ''&gt;
&lt;!ENTITY % groupAttrs ''&gt;
&lt;!ENTITY % allAttrs ''&gt;
&lt;!ENTITY % choiceAttrs ''&gt;
&lt;!ENTITY % sequenceAttrs ''&gt;
&lt;!ENTITY % anyAttrs ''&gt;
&lt;!ENTITY % anyAttributeAttrs ''&gt;
&lt;!ENTITY % attributeAttrs ''&gt;
&lt;!ENTITY % attributeGroupAttrs ''&gt;
&lt;!ENTITY % uniqueAttrs ''&gt;
&lt;!ENTITY % keyAttrs ''&gt;
&lt;!ENTITY % keyrefAttrs ''&gt;
&lt;!ENTITY % selectorAttrs ''&gt;
&lt;!ENTITY % fieldAttrs ''&gt;
&lt;!ENTITY % includeAttrs ''&gt;
&lt;!ENTITY % importAttrs ''&gt;
&lt;!ENTITY % redefineAttrs ''&gt;
&lt;!ENTITY % notationAttrs ''&gt;
&lt;!ENTITY % annotationAttrs ''&gt;
&lt;!ENTITY % appinfoAttrs ''&gt;
&lt;!ENTITY % documentationAttrs ''&gt;

&lt;!ENTITY % complexDerivationSet &quot;CDATA&quot;&gt;
      &lt;!-- #all or space-separated list drawn from derivationChoice --&gt;
&lt;!ENTITY % blockSet &quot;CDATA&quot;&gt;
      &lt;!-- #all or space-separated list drawn from
                      derivationChoice + 'substitution' --&gt;

&lt;!ENTITY % mgs '%all; | %choice; | %sequence;'&gt;
&lt;!ENTITY % cs '%choice; | %sequence;'&gt;
&lt;!ENTITY % formValues '(qualified|unqualified)'&gt;


&lt;!ENTITY % attrDecls    '((%attribute;| %attributeGroup;)*,(%anyAttribute;)?)'&gt;

&lt;!ENTITY % particleAndAttrs '((%mgs; | %group;)?, %attrDecls;)'&gt;

&lt;!-- This is used in part2 --&gt;
&lt;!ENTITY % restriction1 '((%mgs; | %group;)?)'&gt;

%xs-datatypes;

&lt;!-- the duplication below is to produce an unambiguous content model
     which allows annotation everywhere --&gt;
&lt;!ELEMENT %schema; ((%include; | %import; | %redefine; | %annotation;)*,
                    ((%simpleType; | %complexType;
                      | %element; | %attribute;
                      | %attributeGroup; | %group;
                      | %notation; ),
                     (%annotation;)*)* )&gt;
&lt;!ATTLIST %schema;
   targetNamespace      %URIref;               #IMPLIED
   version              CDATA                  #IMPLIED
   %nds;                %URIref;               #FIXED 'http://www.w3.org/2001/XMLSchema'
   xmlns                CDATA                  #IMPLIED
   finalDefault         %complexDerivationSet; ''
   blockDefault         %blockSet;             ''
   id                   ID                     #IMPLIED
   elementFormDefault   %formValues;           'unqualified'
   attributeFormDefault %formValues;           'unqualified'
   xml:lang             CDATA                  #IMPLIED
   %schemaAttrs;&gt;
&lt;!-- Note the xmlns declaration is NOT in the Schema for Schemas,
     because at the Infoset level where schemas operate,
     xmlns(:prefix) is NOT an attribute! --&gt;
&lt;!-- The declaration of xmlns is a convenience for schema authors --&gt;
 
&lt;!-- The id attribute here and below is for use in external references
     from non-schemas using simple fragment identifiers.
     It is NOT used for schema-to-schema reference, internal or
     external. --&gt;

&lt;!-- a type is a named content type specification which allows attribute
     declarations--&gt;
&lt;!-- --&gt;

&lt;!ELEMENT %complexType; ((%annotation;)?,
                         (%simpleContent;|%complexContent;|
                          %particleAndAttrs;))&gt;

&lt;!ATTLIST %complexType;
          name      %NCName;                        #IMPLIED
          id        ID                              #IMPLIED
          abstract  %boolean;                       #IMPLIED
          final     %complexDerivationSet;          #IMPLIED
          block     %complexDerivationSet;          #IMPLIED
          mixed (true|false) 'false'
          %complexTypeAttrs;&gt;

&lt;!-- particleAndAttrs is shorthand for a root type --&gt;
&lt;!-- mixed is disallowed if simpleContent, overriden if complexContent
     has one too. --&gt;

&lt;!-- If anyAttribute appears in one or more referenced attributeGroups
     and/or explicitly, the intersection of the permissions is used --&gt;

&lt;!ELEMENT %complexContent;  ((%annotation;)?, (%restriction;|%extension;))&gt;
&lt;!ATTLIST %complexContent;
          mixed (true|false) #IMPLIED
          id    ID           #IMPLIED
          %complexContentAttrs;&gt;

&lt;!-- restriction should use the branch defined above, not the simple
     one from part2; extension should use the full model  --&gt;

&lt;!ELEMENT %simpleContent;  ((%annotation;)?, (%restriction;|%extension;))&gt;
&lt;!ATTLIST %simpleContent;
          id    ID           #IMPLIED
          %simpleContentAttrs;&gt;

&lt;!-- restriction should use the simple branch from part2, not the 
     one defined above; extension should have no particle  --&gt;

&lt;!ELEMENT %extension;  ((%annotation;)?, (%particleAndAttrs;))&gt;
&lt;!ATTLIST %extension;
          base  %QName;      #REQUIRED
          id    ID           #IMPLIED
          %extensionAttrs;&gt;

&lt;!-- an element is declared by either:
 a name and a type (either nested or referenced via the type attribute)
 or a ref to an existing element declaration --&gt;

&lt;!ELEMENT %element; ((%annotation;)?, (%complexType;| %simpleType;)?,
                     (%unique; | %key; | %keyref;)*)&gt;
&lt;!-- simpleType or complexType only if no type|ref attribute --&gt;
&lt;!-- ref not allowed at top level --&gt;
&lt;!ATTLIST %element;
            name               %NCName;               #IMPLIED
            id                 ID                     #IMPLIED
            ref                %QName;                #IMPLIED
            type               %QName;                #IMPLIED
            minOccurs          %nonNegativeInteger;   #IMPLIED
            maxOccurs          CDATA                  #IMPLIED
            nillable           %boolean;              #IMPLIED
            substitutionGroup  %QName;                #IMPLIED
            abstract           %boolean;              #IMPLIED
            final              %complexDerivationSet; #IMPLIED
            block              %blockSet;             #IMPLIED
            default            CDATA                  #IMPLIED
            fixed              CDATA                  #IMPLIED
            form               %formValues;           #IMPLIED
            %elementAttrs;&gt;
&lt;!-- type and ref are mutually exclusive.
     name and ref are mutually exclusive, one is required --&gt;
&lt;!-- In the absence of type AND ref, type defaults to type of
     substitutionGroup, if any, else the ur-type, i.e. unconstrained --&gt;
&lt;!-- default and fixed are mutually exclusive --&gt;

&lt;!ELEMENT %group; ((%annotation;)?,(%mgs;)?)&gt;
&lt;!ATTLIST %group; 
          name        %NCName;               #IMPLIED
          ref         %QName;                #IMPLIED
          minOccurs   %nonNegativeInteger;   #IMPLIED
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %groupAttrs;&gt;

&lt;!ELEMENT %all; ((%annotation;)?, (%element;)*)&gt;
&lt;!ATTLIST %all;
          minOccurs   (1)                    #IMPLIED
          maxOccurs   (1)                    #IMPLIED
          id          ID                     #IMPLIED
          %allAttrs;&gt;

&lt;!ELEMENT %choice; ((%annotation;)?, (%element;| %group;| %cs; | %any;)*)&gt;
&lt;!ATTLIST %choice;
          minOccurs   %nonNegativeInteger;   #IMPLIED
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %choiceAttrs;&gt;

&lt;!ELEMENT %sequence; ((%annotation;)?, (%element;| %group;| %cs; | %any;)*)&gt;
&lt;!ATTLIST %sequence;
          minOccurs   %nonNegativeInteger;   #IMPLIED
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %sequenceAttrs;&gt;

&lt;!-- an anonymous grouping in a model, or
     a top-level named group definition, or a reference to same --&gt;

&lt;!-- Note that if order is 'all', group is not allowed inside.
     If order is 'all' THIS group must be alone (or referenced alone) at
     the top level of a content model --&gt;
&lt;!-- If order is 'all', minOccurs==maxOccurs==1 on element/any inside --&gt;
&lt;!-- Should allow minOccurs=0 inside order='all' . . . --&gt;

&lt;!ELEMENT %any; (%annotation;)?&gt;
&lt;!ATTLIST %any;
            namespace       CDATA                  '##any'
            processContents (skip|lax|strict)      'strict'
            minOccurs       %nonNegativeInteger;   '1'
            maxOccurs       CDATA                  '1'
            id              ID                     #IMPLIED
            %anyAttrs;&gt;

&lt;!-- namespace is interpreted as follows:
                  ##any      - - any non-conflicting WFXML at all

                  ##other    - - any non-conflicting WFXML from namespace other
                                  than targetNamespace

                  ##local    - - any unqualified non-conflicting WFXML/attribute
                  one or     - - any non-conflicting WFXML from
                  more URI        the listed namespaces
                  references

                  ##targetNamespace ##local may appear in the above list,
                    with the obvious meaning --&gt;

&lt;!ELEMENT %anyAttribute; (%annotation;)?&gt;
&lt;!ATTLIST %anyAttribute;
            namespace       CDATA              '##any'
            processContents (skip|lax|strict)  'strict'
            id              ID                 #IMPLIED
            %anyAttributeAttrs;&gt;
&lt;!-- namespace is interpreted as for 'any' above --&gt;

&lt;!-- simpleType only if no type|ref attribute --&gt;
&lt;!-- ref not allowed at top level, name iff at top level --&gt;
&lt;!ELEMENT %attribute; ((%annotation;)?, (%simpleType;)?)&gt;
&lt;!ATTLIST %attribute;
          name      %NCName;      #IMPLIED
          id        ID            #IMPLIED
          ref       %QName;       #IMPLIED
          type      %QName;       #IMPLIED
          use       (prohibited|optional|required) #IMPLIED
          default   CDATA         #IMPLIED
          fixed     CDATA         #IMPLIED
          form      %formValues;  #IMPLIED
          %attributeAttrs;&gt;
&lt;!-- type and ref are mutually exclusive.
     name and ref are mutually exclusive, one is required --&gt;
&lt;!-- default for use is optional when nested, none otherwise --&gt;
&lt;!-- default and fixed are mutually exclusive --&gt;
&lt;!-- type attr and simpleType content are mutually exclusive --&gt;

&lt;!-- an attributeGroup is a named collection of attribute decls, or a
     reference thereto --&gt;
&lt;!ELEMENT %attributeGroup; ((%annotation;)?,
                       (%attribute; | %attributeGroup;)*,
                       (%anyAttribute;)?) &gt;
&lt;!ATTLIST %attributeGroup;
                 name       %NCName;       #IMPLIED
                 id         ID             #IMPLIED
                 ref        %QName;        #IMPLIED
                 %attributeGroupAttrs;&gt;

&lt;!-- ref iff no content, no name.  ref iff not top level --&gt;

&lt;!-- better reference mechanisms --&gt;
&lt;!ELEMENT %unique; ((%annotation;)?, %selector;, (%field;)+)&gt;
&lt;!ATTLIST %unique;
          name     %NCName;       #REQUIRED
	  id       ID             #IMPLIED
	  %uniqueAttrs;&gt;

&lt;!ELEMENT %key;    ((%annotation;)?, %selector;, (%field;)+)&gt;
&lt;!ATTLIST %key;
          name     %NCName;       #REQUIRED
	  id       ID             #IMPLIED
	  %keyAttrs;&gt;

&lt;!ELEMENT %keyref; ((%annotation;)?, %selector;, (%field;)+)&gt;
&lt;!ATTLIST %keyref;
          name     %NCName;       #REQUIRED
	  refer    %QName;        #REQUIRED
	  id       ID             #IMPLIED
	  %keyrefAttrs;&gt;

&lt;!ELEMENT %selector; ((%annotation;)?)&gt;
&lt;!ATTLIST %selector;
          xpath %XPathExpr; #REQUIRED
          id    ID          #IMPLIED
          %selectorAttrs;&gt;
&lt;!ELEMENT %field; ((%annotation;)?)&gt;
&lt;!ATTLIST %field;
          xpath %XPathExpr; #REQUIRED
          id    ID          #IMPLIED
          %fieldAttrs;&gt;

&lt;!-- Schema combination mechanisms --&gt;
&lt;!ELEMENT %include; (%annotation;)?&gt;
&lt;!ATTLIST %include;
          schemaLocation %URIref; #REQUIRED
          id             ID       #IMPLIED
          %includeAttrs;&gt;

&lt;!ELEMENT %import; (%annotation;)?&gt;
&lt;!ATTLIST %import;
          namespace      %URIref; #IMPLIED
          schemaLocation %URIref; #IMPLIED
          id             ID       #IMPLIED
          %importAttrs;&gt;

&lt;!ELEMENT %redefine; (%annotation; | %simpleType; | %complexType; |
                      %attributeGroup; | %group;)*&gt;
&lt;!ATTLIST %redefine;
          schemaLocation %URIref; #REQUIRED
          id             ID       #IMPLIED
          %redefineAttrs;&gt;

&lt;!ELEMENT %notation; (%annotation;)?&gt;
&lt;!ATTLIST %notation;
	  name        %NCName;    #REQUIRED
	  id          ID          #IMPLIED
	  public      CDATA       #REQUIRED
	  system      %URIref;    #IMPLIED
	  %notationAttrs;&gt;

&lt;!-- Annotation is either application information or documentation --&gt;
&lt;!-- By having these here they are available for datatypes as well
     as all the structures elements --&gt;

&lt;!ELEMENT %annotation; (%appinfo; | %documentation;)*&gt;
&lt;!ATTLIST %annotation; %annotationAttrs;&gt;

&lt;!-- User must define annotation elements in internal subset for this
     to work --&gt;
&lt;!ELEMENT %appinfo; ANY&gt;   &lt;!-- too restrictive --&gt;
&lt;!ATTLIST %appinfo;
          source     %URIref;      #IMPLIED
          id         ID         #IMPLIED
          %appinfoAttrs;&gt;
&lt;!ELEMENT %documentation; ANY&gt;   &lt;!-- too restrictive --&gt;
&lt;!ATTLIST %documentation;
          source     %URIref;   #IMPLIED
          id         ID         #IMPLIED
          xml:lang   CDATA      #IMPLIED
          %documentationAttrs;&gt;

&lt;!NOTATION XMLSchemaStructures PUBLIC
           'structures' 'http://www.w3.org/2001/XMLSchema.xsd' &gt;
&lt;!NOTATION XML PUBLIC
           'REC-xml-1998-0210' 'http://www.w3.org/TR/1998/REC-xml-19980210' &gt;
</pre></div><div class="div1">
<h2><a id="non-ambig" name="non-ambig"/>H Analysis of the Unique Particle Attribution Constraint (non-normative)</h2><p>A specification of the import of <a href="#cos-nonambig">Unique Particle Attribution (&#xa7;3.8.6)</a> which does
not appeal to a processing model is difficult.  What follows is intended as
guidance, without claiming to be complete.</p><p><span class="termdef"><a id="key-overlap" name="key-overlap">[Definition:]&#xa0;&#xa0;</a>Two non-group
particles <b>overlap</b> if </span>
   </p><ul><li>They are both element declaration particles whose declarations have the
same <a class="propref" href="#e-name">{name}</a> and <a class="propref" href="#e-target_namespace">{target namespace}</a>.</li></ul><p>
    or
    </p><ul><li>They are both element declaration particles one of whose <a class="propref" href="#e-name">{name}</a> and <a class="propref" href="#e-target_namespace">{target namespace}</a> are the same as those of an element declaration in the
other's <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution group<span class="arrow">&#xb7;</span></a>.</li></ul><p>
    or
    </p><ul><li>They are both wildcards, and the intensional intersection of their <a class="propref" href="#namespace_constraint">{namespace constraint}</a>s as defined
in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&#xa7;3.10.6)</a> is not the empty set.</li></ul><p>
    or
    </p><ul><li>One is a wildcard and the other an element declaration, and the
<a class="propref" href="#e-target_namespace">{target namespace}</a>  of any
member of its <a class="termref" href="#key-eq"><span class="arrow">&#xb7;</span>substitution group<span class="arrow">&#xb7;</span></a> is <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>valid<span class="arrow">&#xb7;</span></a> with respect to the <a class="propref" href="#namespace_constraint">{namespace constraint}</a> of the wildcard.</li></ul><p>
   </p><p>A content model will violate the unique attribution constraint if it
contains two particles which <a class="termref" href="#key-overlap"><span class="arrow">&#xb7;</span>overlap<span class="arrow">&#xb7;</span></a> and which either
    </p><ul><li>are both in the <a class="propref" href="#particles">{particles}</a> of a <i>choice</i> or
<i>all</i> group</li></ul><p>
    or
    </p><ul><li>may <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> adjacent information items and the first has
<a class="propref" href="#p-min_occurs">{min occurs}</a> less than <a class="propref" href="#p-max_occurs">{max occurs}</a>.</li></ul><p>
   </p><p>Two particles may <a class="termref" href="#key-vn"><span class="arrow">&#xb7;</span>validate<span class="arrow">&#xb7;</span></a> adjacent information items if they are
separated by at most epsilon transitions in the most obvious transcription of a
content model into a finite-state automaton.</p><p>A precise formulation of this constraint can also be offered in terms of
operations on finite-state automaton:  transcribe the content model into an
automaton in the usual way using epsilon transitions for optionality and
unbounded maxOccurs, unfolding other numeric occurrence ranges and treating the heads of substitution groups as if
they were choices over all elements in the group, <em>but</em> using not
element QNames as transition labels, but rather pairs of element QNames and
positions in the model.  Determinize this automaton, treating wildcard transitions as opaque.  Now replace all
QName+position transition labels with the element QNames alone.  If the result has any states
with two or more identical-QName-labeled transitions from it, or a
QName-labeled transition and a wildcard transition which subsumes it, or two
wildcard transitions whose intentional intersection is non-empty, the model does not
satisfy the Unique Attribution constraint.   </p></div><div class="div1">
<h2><a id="nonnormative-references" name="nonnormative-references"/>I References (non-normative)</h2><dl><dt class="label"><a id="ref-dcd" name="ref-dcd"/>DCD</dt><dd> <em>Document
Content Description for XML (DCD)</em>, Tim Bray et al., eds., W3C, 10 August 1998.
See <a href="http://www.w3.org/TR/1998/NOTE-dcd-19980731">http://www.w3.org/TR/1998/NOTE-dcd-19980731</a> </dd><dt class="label"><a id="ref-ddml" name="ref-ddml"/>DDML</dt><dd> <em>Document
Definition Markup Language</em>, Ronald Bourret, John Cowan, Ingo Macherius,
Simon St. Laurent, eds., W3C, 19 January 1999. See
<a href="http://www.w3.org/TR/1999/NOTE-ddml-19990119">http://www.w3.org/TR/1999/NOTE-ddml-19990119
</a></dd><dt class="label"><a id="ref-sox" name="ref-sox"/>SOX</dt><dd> <em>Schema for
Object-oriented XML</em>, Andrew Davidson et al., eds., W3C, 1998. See
<a href="http://www.w3.org/1999/07/NOTE-SOX-19990730/">http://www.w3.org/1999/07/NOTE-SOX-19990730/</a> </dd><dt class="label"><a id="ref-sox-1.1" name="ref-sox-1.1"/>SOX-2</dt><dd> <em>Schema
for Object-oriented XML</em>, Version 2.0, Andrew Davidson, et al., W3C, 30
July 1999. See
<a href="http://www.w3.org/TR/NOTE-SOX/">http://www.w3.org/TR/NOTE-SOX/</a></dd><dt class="label"><a id="ref-xdr" name="ref-xdr"/>XDR</dt><dd> <em>XML-Data
Reduced</em>, Charles Frankston and Henry S. Thompson, 3 July 1998.  See
<a href="http://www.ltg.ed.ac.uk/~ht/XMLData-Reduced.htm">http://www.ltg.ed.ac.uk/~ht/XMLData-Reduced.htm
</a> </dd><dt class="label"><a id="bib-expo" name="bib-expo"/>XML Schema: Primer</dt><dd><em>XML Schema Part 0:
Primer</em>, David C. Fallside, ed., W3C, 2 May 2001.  See <a href="http://www.w3.org/TR/2004/REC-xmlschema-0-20041028/primer.html">http://www.w3.org/TR/2004/REC-xmlschema-0-20041028/primer.html</a></dd><dt class="label"><a id="ref-xml-data" name="ref-xml-data"/>XML-Data</dt><dd>
<em>XML-Data</em>, Andrew Layman et al., W3C, 05 January 1998. See
<a href="http://www.w3.org/TR/1998/NOTE-XML-data-0105/">http://www.w3.org/TR/1998/NOTE-XML-data-0105/</a> </dd></dl></div><div class="div1">
<h2><a id="acknowledgments" name="acknowledgments"/>J Acknowledgements (non-normative)</h2><p>The following  
contributed material to the first edition of this specification:</p><blockquote><p>David Fallside, IBM<br/>Scott Lawrence, Agranat Systems<br/>Andrew Layman, Microsoft<br/>Eve L. Maler, Sun Microsystems<br/>Asir S. Vedamuthu, webMethods, Inc</p></blockquote><p>The editors acknowledge the members of the XML Schema Working Group, the members of other W3C Working Groups, and industry experts in other
forums who have contributed directly or indirectly to the process or content of
creating this document. The Working Group is particularly grateful to Lotus
Development Corp. and IBM for providing teleconferencing facilities.</p><p>
At the time the first edition of this
specification was published, the members of the XML Schema Working Group 

were:</p><ul><li>Jim Barnette, Defense Information Systems Agency (DISA)</li><li>Paul V. Biron, Health Level Seven</li><li>Don Box, DevelopMentor</li><li>Allen Brown, Microsoft</li><li>Lee Buck, TIBCO Extensibility</li><li>Charles E. Campbell, Informix</li><li>Wayne Carr, Intel</li><li>Peter Chen, Bootstrap Alliance and LSU</li><li>David Cleary, Progress Software</li><li>Dan Connolly, W3C (<i>staff contact</i>) </li><li>Ugo Corda, Xerox</li><li>Roger L. Costello, MITRE</li><li>Haavard Danielson, Progress Software</li><li>Josef Dietl, Mozquito Technologies</li><li>David Ezell, Hewlett-Packard Company
 </li><li>Alexander Falk, Altova GmbH</li><li>David Fallside, IBM</li><li>Dan Fox, Defense Logistics Information Service (DLIS)</li><li>Matthew Fuchs, Commerce One</li><li>Andrew Goodchild, Distributed Systems Technology Centre (DSTC Pty Ltd)</li><li>Paul Grosso, Arbortext, Inc</li><li>Martin Gudgin, DevelopMentor</li><li>Dave Hollander, Contivo, Inc (<i>co-chair</i>) </li><li>Mary Holstege, Invited Expert</li><li>Jane Hunter, Distributed Systems Technology Centre (DSTC Pty Ltd)</li><li>Rick Jelliffe, Academia Sinica</li><li>Simon Johnston, Rational Software</li><li>Bob Lojek, Mozquito Technologies</li><li>Ashok Malhotra, Microsoft</li><li>Lisa Martin, IBM</li><li>Noah Mendelsohn, Lotus Development Corporation</li><li>Adrian Michel, Commerce One</li><li>Alex Milowski, Invited Expert</li><li>Don Mullen, TIBCO Extensibility</li><li>Dave Peterson, Graphic Communications Association</li><li>Jonathan Robie, Software AG</li><li>Eric Sedlar, Oracle Corp.</li><li>C. M. Sperberg-McQueen, W3C (<i>co-chair</i>) </li><li>Bob Streich, Calico Commerce</li><li>William K. Stumbo, Xerox</li><li>Henry S. Thompson, University of Edinburgh</li><li>Mark Tucker, Health Level Seven</li><li>Asir S. Vedamuthu, webMethods, Inc</li><li>Priscilla Walmsley, XMLSolutions</li><li>Norm Walsh, Sun Microsystems</li><li>Aki Yoshida, SAP AG</li><li>Kongyi Zhou, Oracle Corp.</li></ul><p>The XML Schema Working Group has benefited in its work from the
participation and contributions of a number of people not currently
members of the Working Group, including
in particular those named below.  Affiliations given are those current at
the time of their work with the WG.
</p><ul><li>Paula Angerstein, Vignette Corporation</li><li>David Beech, Oracle Corp.</li><li>Gabe Beged-Dov, Rogue Wave Software</li><li>Greg Bumgardner, Rogue Wave Software</li><li>Dean Burson, Lotus Development Corporation</li><li>Mike Cokus, MITRE</li><li>Andrew Eisenberg, Progress Software</li><li>Rob Ellman, Calico Commerce</li><li>George Feinberg, Object Design</li><li>Charles Frankston, Microsoft</li><li>Ernesto Guerrieri, Inso</li><li>Michael Hyman, Microsoft</li><li>Renato Iannella, Distributed Systems Technology Centre (DSTC Pty Ltd)</li><li>Dianne Kennedy, Graphic Communications Association</li><li>Janet Koenig, Sun Microsystems</li><li>Setrag Khoshafian, Technology Deployment International (TDI)</li><li>Ara Kullukian, Technology Deployment International (TDI)</li><li>Andrew Layman, Microsoft</li><li>Dmitry Lenkov, Hewlett-Packard Company</li><li>John McCarthy, Lawrence Berkeley National Laboratory</li><li>Murata Makoto, Xerox</li><li>Eve Maler, Sun Microsystems</li><li>Murray Maloney, Muzmo Communication, acting for Commerce One</li><li>Chris Olds, Wall Data</li><li>Frank Olken, Lawrence Berkeley National Laboratory</li><li>Shriram Revankar, Xerox</li><li>Mark Reinhold, Sun Microsystems</li><li>John C. Schneider, MITRE</li><li>Lew Shannon, NCR</li><li>William Shea, Merrill Lynch</li><li>Ralph Swick, W3C</li><li>Tony Stewart, Rivcom</li><li>Matt Timmermans, Microstar</li><li>Jim Trezzo, Oracle Corp.</li><li>Steph Tryphonas, Microstar</li></ul><p>The lists given above pertain to the first edition.
At the time work on this second edition was completed,
the membership of the Working Group was:</p><ul><li>Leonid Arbouzov, Sun Microsystems</li><li>Jim Barnette, Defense Information Systems Agency (DISA)</li><li>Paul V. Biron, Health Level Seven</li><li>Allen Brown, Microsoft</li><li>Charles E. Campbell, Invited expert</li><li>Peter Chen, Invited expert</li><li>Tony Cincotta, NIST</li><li>David Ezell, National Association of Convenience Stores</li><li>Matthew Fuchs, Invited expert</li><li>Sandy Gao, IBM</li><li>Andrew Goodchild, Distributed Systems Technology Centre (DSTC Pty Ltd)</li><li>Xan Gregg, Invited expert</li><li>Mary Holstege, Mark Logic</li><li>Mario Jeckle, DaimlerChrysler</li><li>Marcel Jemio, Data Interchange Standards Association</li><li>Kohsuke Kawaguchi, Sun Microsystems</li><li>Ashok Malhotra, Invited expert</li><li>Lisa Martin, IBM</li><li>Jim Melton, Oracle Corp</li><li>Noah Mendelsohn, IBM</li><li>Dave Peterson, Invited expert</li><li>Anli Shundi, TIBCO Extensibility</li><li>C. M. Sperberg-McQueen, W3C (<i>co-chair</i>) </li><li>Hoylen Sue, Distributed Systems Technology Centre (DSTC Pty Ltd)</li><li>Henry S. Thompson, University of Edinburgh</li><li>Asir S. Vedamuthu, webMethods, Inc</li><li>Priscilla Walmsley, Invited expert</li><li>Kongyi Zhou, Oracle Corp.</li></ul><p>
We note with sadness the accidental death of Mario Jeckle
shortly after the completion of work on this document.  
In addition to those named above, several
people served on the Working Group during the development
of this second edition:
</p><ul><li>Oriol Carbo, University of Edinburgh</li><li>Tyng-Ruey Chuang, Academia Sinica</li><li>Joey Coyle, Health Level 7</li><li>Tim Ewald, DevelopMentor</li><li>Nelson Hung, Corel</li><li>Melanie Kudela, Uniform Code Council</li><li>Matthew MacKenzie, XML Global</li><li>Cliff Schmidt, Microsoft</li><li>John Stanton, Defense Information Systems Agency</li><li>John Tebbutt, NIST</li><li>Ross Thompson, Contivo</li><li>Scott Vorthmann, TIBCO Extensibility</li></ul></div></div></body></html>
