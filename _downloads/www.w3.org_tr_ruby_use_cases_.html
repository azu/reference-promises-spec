<!-- http://www.w3.org/TR/ruby-use-cases/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document " about="" property="dcterms:language" content="en">
<head>
    <title>Use Cases &amp; Exploratory Approaches for Ruby Markup</title>
    <meta charset="utf-8">
	<style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.issue-title span, div.note-title span {
    text-transform: uppercase;
}
div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child { margin-top: 0 }
.issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}


</style><link href="local.css" rel="stylesheet">
    <!-- 
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    
    
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}
</style><link href="https://www.w3.org/StyleSheets/TR/W3C-WG-NOTE" rel="stylesheet"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
  <body id="respecDocument" role="document" class="h-entry"><div id="respecHeader" role="contentinfo" class="head">
  <p>
    
      <a href="http://www.w3.org/"><img src="https://www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72"></a>
    
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">Use Cases &amp; Exploratory Approaches for Ruby Markup</h1>
  
  <h2 id="w3c-working-group-note-08-october-2013" property="dcterms:issued" datatype="xsd:dateTime" content="2013-10-07T23:00:00.000Z"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note <time class="dt-published" datetime="2013-10-08">08 October 2013</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href="http://www.w3.org/TR/2013/NOTE-ruby-use-cases-20131008/">http://www.w3.org/TR/2013/NOTE-ruby-use-cases-20131008/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/ruby-use-cases/">http://www.w3.org/TR/ruby-use-cases/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://www.w3.org/International/docs/ruby/">http://www.w3.org/International/docs/ruby/</a></dd>
    
    
    
    
    
      <dt>Previous version:</dt>
      <dd><a rel="dcterms:replaces" href="http://www.w3.org/TR/2013/WD-ruby-use-cases-20130910/">http://www.w3.org/TR/2013/WD-ruby-use-cases-20130910/</a></dd>
    
    
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Richard Ishida</span>, <abbr title="World Wide Web Consortium">W3C</abbr></span>
</dd>

    
    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2012-2013
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), 
        
        All Rights Reserved.
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
      </p>
    
  
  <hr>
</div>
    <section rel="bibo:chapter" resource="#abstract" typeof="bibo:Chapter" datatype="" property="dcterms:abstract" class="introductory" id="abstract"><h2 id="h2_abstract" role="heading" aria-level="1">Abstract</h2><p>
This document aims to support discussion about what is needed in the HTML5 specification, and possibly other markup vocabularies, to adequately support ruby markup. It looks at a number of use cases involving ruby, and how well the following approaches support those use cases: the HTML5 model described in the Candidate Recommendation as of 17 December 2012, the XHTML Ruby Annotation model, and the Ruby Extension Specification proposed in February 2013.</p></section><section rel="bibo:chapter" resource="#sotd" typeof="bibo:Chapter" id="sotd" class="introductory"><h2 id="h2_sotd" role="heading" aria-level="1">Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other
          documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
          of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports
          index</a> at http://www.w3.org/TR/.</em>
        </p>
        This document aims to support discussion about what is needed in the HTML5 specification, and possibly other markup vocabularies, to adequately support ruby markup. 
        <p>
          This document was published by the <a href="http://www.w3.org/International/core/">Internationalization Working Group</a> as a Working Group Note.
          
          
          If you wish to make comments regarding this document, please send them to 
          <a href="mailto:public-i18n-cjk@w3.org">public-i18n-cjk@w3.org</a> 
          (<a href="mailto:public-i18n-cjk-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="http://lists.w3.org/Archives/Public/public-i18n-cjk/">archives</a>).
          
          
          
          
            All comments are welcome.</p>
          
        
          <p>
            Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership.
            This is a draft document and may be updated, replaced or obsoleted by other documents at 
            any time. It is inappropriate to cite this document as other than work in progress.
          </p>
        
        
        <p>
          
            This document was produced by a group operating under the 
             
                <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
            
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/32113/status" rel="disclosure">public list of any patent disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes instructions for 
            disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the
            information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 id="h2_toc" role="heading" aria-level="1" class="introductory">Table of Contents</h2><ul id="respecContents" role="directory" class="toc"><li class="tocline"><a class="tocxref" href="#intro"><span class="secno">1. </span>Introduction</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#conventions"><span class="secno">1.1 </span>Conventions used in this document</a></li><li class="tocline"><a class="tocxref" href="#approaches"><span class="secno">1.2 </span>Approaches listed here</a></li><li class="tocline"><a class="tocxref" href="#results"><span class="secno">1.3 </span>Overview of conclusions</a></li><li class="tocline"><a class="tocxref" href="#whatis"><span class="secno">1.4 </span>What is ruby?</a></li><li class="tocline"><a class="tocxref" href="#types"><span class="secno">1.5 </span>Types of ruby</a></li></ul></li><li class="tocline"><a class="tocxref" href="#usecasea"><span class="secno">2. </span>Use Case A: Ruby base styling</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#accessibility"><span class="secno">2.1 </span>Accessibility use case</a></li><li class="tocline"><a class="tocxref" href="#approach3"><span class="secno">2.2 </span>XHTML approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons"><span class="secno">2.2.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#implementations"><span class="secno">2.2.2 </span>Implementations</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case"><span class="secno">2.2.3 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#fonts-approach1-2a"><span class="secno">2.3 </span>HTML5 approach (basic)</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-1"><span class="secno">2.3.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-1"><span class="secno">2.3.2 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#approach1-2b"><span class="secno">2.4 </span>HTML5 approach with span</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-2"><span class="secno">2.4.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#implementations-1"><span class="secno">2.4.2 </span>Implementations</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-2"><span class="secno">2.4.3 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#approacha3b"><span class="secno">2.5 </span>Enhanced HTML5 approach, with implicit rb</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-3"><span class="secno">2.5.1 </span><span class="mw-headline">Pros and cons</span></a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-3"><span class="secno">2.5.2 </span><span class="mw-headline">Does it support the use case?</span></a></li></ul></li><li class="tocline"><a class="tocxref" href="#approacha3a"><span class="secno">2.6 </span> Extension Spec approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-4"><span class="secno">2.6.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#implementations-2"><span class="secno">2.6.2 </span>Implementations</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-4"><span class="secno">2.6.3 </span><span class="mw-headline">Does it support the use case?</span></a></li></ul></li></ul></li><li class="tocline"><a class="tocxref" href="#usecaseb"><span class="secno">3. </span>Use Case B: Fallback and inline ruby text for compound nouns</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#approachb1"><span class="secno">3.1 </span>XHTML approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-5"><span class="secno">3.1.1 </span><span class="mw-headline">Does it support the use case?</span></a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachb2"><span class="secno">3.2 </span>HTML5 approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-6"><span class="secno">3.2.1 </span><span class="mw-headline">Does it support the use case?</span></a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachb4"><span class="secno">3.3 </span>Extension spec approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-5"><span class="secno">3.3.1 </span><span class="mw-headline">Pros and cons</span></a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-7"><span class="secno">3.3.2 </span><span class="mw-headline">Does it support the use case?</span></a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachb9"><span class="secno">3.4 </span>Scripting flag</a></li></ul></li><li class="tocline"><a class="tocxref" href="#usecasec"><span class="secno">4. </span>Use Case C: Jukugo Ruby</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#approachc1"><span class="secno">4.1 </span>XHTML approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-6"><span class="secno">4.1.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-8"><span class="secno">4.1.2 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachc2"><span class="secno">4.2 </span>HTML5 approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-7"><span class="secno">4.2.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-9"><span class="secno">4.2.2 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachc4"><span class="secno">4.3 </span>Extension Spec approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-8"><span class="secno">4.3.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#implementations-3"><span class="secno">4.3.2 </span>Implementations</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-10"><span class="secno">4.3.3 </span>Does it support the use case?</a></li></ul></li></ul></li><li class="tocline"><a class="tocxref" href="#bopomofo"><span class="secno">5. </span>Use Case D: Bopomofo ruby</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#approachd1"><span class="secno">5.1 </span>XHTML approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#d1proscons2"><span class="secno">5.1.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#d1-ucsupport3"><span class="secno">5.1.2 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachd2"><span class="secno">5.2 </span>HTML5 approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-9"><span class="secno">5.2.1 </span>Pros and cons</a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-11"><span class="secno">5.2.2 </span>Does it support the use case?</a></li></ul></li><li class="tocline"><a class="tocxref" href="#approachd3"><span class="secno">5.3 </span>Extension Spec approach</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#pros-and-cons-10"><span class="secno">5.3.1 </span><span class="mw-headline">Pros and cons</span></a></li><li class="tocline"><a class="tocxref" href="#does-it-support-the-use-case-12"><span class="secno">5.3.2 </span><span class="mw-headline">Does it support the use case?</span></a></li></ul></li></ul></li><li class="tocline"><a class="tocxref" href="#usecasee"><span class="secno">6. </span>Use Case E: Double-sided ruby</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#approache1"><span class="secno">6.1 </span>XHTML approach</a></li><li class="tocline"><a class="tocxref" href="#approache2"><span class="secno">6.2 </span>HTML5 approach</a></li><li class="tocline"><a class="tocxref" href="#approache3"><span class="secno">6.3 </span>Ruby Extension approach</a></li></ul></li><li class="tocline"><a class="tocxref" href="#appendixa"><span class="secno">A. </span>Additional ruby markup notes</a></li><li class="tocline"><a class="tocxref" href="#app-b"><span class="secno">B. </span>References</a></li><li class="tocline"><a class="tocxref" href="#app-c"><span class="secno">C. </span> Revision Log</a></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><span class="secno">D. </span>Acknowledgements</a></li></ul></section>
  
    
<section rel="bibo:chapter" resource="#intro" typeof="bibo:Chapter" id="intro">
<!--OddPage--><h2 id="h2_intro" role="heading" aria-level="1"><span class="secno">1. </span>Introduction</h2>
<p>This document was designed to support discussion about what is needed in the HTML5 specification, and possibly other markup vocabularies, to adequately support ruby markup. It describes a number of use cases associated with ruby usage, and then examines a number of possible ruby markup approaches for each use case, listing pros and cons for each approach.</p>
<section rel="bibo:chapter" resource="#conventions" typeof="bibo:Chapter" id="conventions">
  <h3 id="h3_conventions" role="heading" aria-level="2"><span class="secno">1.1 </span>Conventions used in this document</h3>
  <p>Section 2 is concerned with the tags used inside the <code class="kw">ruby</code> element, and so those tags are shown in the examples. </p>
  <p>The other sections are more concerned with the order of items within the <code class="kw">ruby</code> element. Examples in those sections use a bullet to indicate the boundary between elements: red text represents  an <code class="kw">rb</code> element and its content or, where <code class="kw">rb</code> elements are not part of the model, the text of a single ruby base; orange text represents  an <code class="kw">rt</code> element and its content. Tags for all other markup are shown explicitly.</p>
</section>

<section rel="bibo:chapter" resource="#approaches" typeof="bibo:Chapter" id="approaches">
<h3 id="h3_approaches" role="heading" aria-level="2"><span class="secno">1.2 </span>Approaches listed here</h3>
    <p>For each of the  use cases the document  looks at the following three approaches to markup, and how effectively they  meet the needs of the use case. The document occasionally proposes additional ideas to extend  one of the markup models.</p>
    
    <dl>
    <dt>XHTML</dt>
    <dd>This is the  approach defined in the Ruby Annotation recommendation. This markup model is essentially described for historical context. For more information, see the <a href="http://www.w3.org/TR/ruby/">Ruby Annotation</a> specification.</dd>
    <dt>HTML5</dt>
    <dd>This is the approach  defined in the <a href="http://www.w3.org/TR/2012/CR-html5-20121217/">17 December 2012 Candidate Recommendation</a> of the HTML5 specification.  See the following sections of the  specification: <a href="http://www.w3.org/TR/2012/CR-html5-20121217/text-level-semantics.html#the-ruby-element">The ruby element</a>, <a href="http://www.w3.org/TR/2012/CR-html5-20121217/text-level-semantics.html#the-rt-element">The rt element</a>, and <a href="http://www.w3.org/TR/2012/CR-html5-20121217/text-level-semantics.html">The rp element</a>.</dd>
    <dt>Ruby Extension Specification</dt>
    <dd>This is the  approach defined in the <a href="http://darobin.github.io/html-ruby/snapshot20130225.html">Ruby Extension Specification of 25 February 2013</a>.</dd>
    </dl>
</section>


<section rel="bibo:chapter" resource="#results" typeof="bibo:Chapter" id="results">
    <h3 id="h3_results" role="heading" aria-level="2"><span class="secno">1.3 </span>Overview of conclusions</h3>
    <p>The following table summarizes how well each of the 3 ruby markup models supports each of the use cases.</p>
    <table id="conclusions">
      <tbody>
        <tr>
          <th rowspan="1" colspan="1">Use case</th>
          <th rowspan="1" colspan="1">XHTML </th>
          <th rowspan="1" colspan="1">HTML5 </th>
          <th rowspan="1" colspan="1">Extension spec </th>
          </tr>
        <tr>
          <th rowspan="1" colspan="1"><a href="#usecasea">Ruby base styling</a></th>
          <td rowspan="1" colspan="1">For most cases, yes, but not for styling base characters independently.</td>
          <td rowspan="1" colspan="1"><p>Basic approach:<br>
          Only in simple scenarios. It doesn't enable direct access to the ruby base text, therefore excluding various types of styling and causing problems for accessible rendering.</p>
          <p>With <code class="kw">span</code>:<br>
          Yes, for most simple styling cases. But for general styling of base text on a page you need to always use a <code class="kw">span</code>, and that begs the question why there isn't a semantic <code class="kw">rb</code> element instead. General conversion of ruby to ruby text only, for accessibility, is still problematic.</p></td>
          <td rowspan="1" colspan="1">Yes.</td>
          </tr>
        <tr>
          <th rowspan="1" colspan="1"><a href="#usecaseb">Fallback in one paren</a></th>
          <td rowspan="1" colspan="1">No, for fallback. Yes, using styling, for inline ruby text.</td>
          <td rowspan="1" colspan="1">No.</td>
          <td rowspan="1" colspan="1">Yes.</td>
          </tr>
        <tr>
          <th rowspan="1" colspan="1"><a href="#usecasec">Jukugo ruby</a></th>
          <td rowspan="1" colspan="1">Yes, although with slightly more markup than desirable. </td>
          <td rowspan="1" colspan="1">Yes.</td>
          <td rowspan="1" colspan="1">Yes.</td>
          </tr>
        <tr>
          <th colspan="1"><a href="#bopomofo">Bopmofo ruby</a></th>
          <td colspan="1">Yes, although with much more markup than desirable. </td>
          <td colspan="1">Yes.</td>
          <td colspan="1">Yes.</td>
        </tr>
        <tr>
          <th rowspan="1" colspan="1"><a href="#usecasee">Double-sided ruby</a></th>
          <td rowspan="1" colspan="1">Yes, but complicated markup.</td>
          <td rowspan="1" colspan="1">Yes, but complicated to author and implement because two different approaches needed.</td>
          <td rowspan="1" colspan="1">Yes.</td>
          </tr>
        </tbody>
      </table>
</section>


<section rel="bibo:chapter" resource="#whatis" typeof="bibo:Chapter" id="whatis">
    <h3 id="h3_whatis" role="heading" aria-level="2"><span class="secno">1.4 </span>What is ruby?</h3>
    <p>The term <dfn id="dfn-ruby">ruby</dfn> is used to refer to a particular type of annotation. Typically, ruby is used in East Asian scripts to provide
      phonetic transcriptions of obscure characters, or characters that the reader is not expected to be familiar with. For example it is widely used in
      educational materials and children's texts. It is also occasionally used to convey information about meaning. In some cases, the same base text may be annotated for both pronunciation and meaning.</p>
    <p>In Japanese, where ruby is sometimes called <dfn id="dfn-furigana">furigana</dfn>, phonetic transcriptions typically appear in hiragana above
      horizontal text and to the right of vertical text. In Chinese, phonetic annotations in <dfn id="dfn-pinyin">pinyin</dfn>, a Latin script transcription of the Chinese base characters, often appear below the base text.</p>
    <p>Here is an example of ruby in Japanese.</p>
    
    <blockquote>
      <p><img title="Example of ruby in a horizontal Japanese sentence." alt="Example of ruby in a horizontal Japanese sentence." src="images/horizontal-ja-ruby.png"></p>
      </blockquote>
    <p>When Japanese is set vertically, the ruby text above would normally appear to the right.</p>
    <blockquote>
      <p><img title="Example of ruby in a horizontal Japanese sentence." alt="Example of ruby in a horizontal Japanese sentence." src="images/vertical-ja-ruby.png"></p>
      </blockquote>
    <p>When ruby text is used in Japanese for semantic annotations it  typically appears below the horizontal text or to the left of vertical text.</p>
    <p>Although ruby in Japanese is typically in hiragana, it is also possible to  find annotations in kanji, katakana and Latin
      text.</p>
    <p>In Taiwan, <dfn id="dfn-zhuyin-fuhao">zhuyin fuhao</dfn> (<dfn id="dfn-bopomofo">bopomofo</dfn>) characters are used to indicate the pronunciation of Traditional Chinese. Rather than appearing above the
      main text, the annotation is usually included vertically to the right of each character, whether the main text is vertical or horizontal. Tone marks generally appear to the right of the column of bopomofo characters.</p>
    <p>For example: </p>
    
    <blockquote> 
      <p><img title="A picture of bopomofo based ruby with Traditional Chinese." alt="A picture of bopomofo based ruby with Traditional Chinese." src="images/tc-ruby.png"></p>
      </blockquote>
    <p>Ruby may also be used for non-Asian annotations and to support inter-linear text, but the use cases here focus on the main uses in Far Eastern scripts.</p>
    <p>For detailed information about ruby in Japanese, see <cite>Requirements for Japanese Text Layout</cite>, sections <a href="http://www.w3.org/TR/2009/NOTE-jlreq-20090604/#en-subheading2_3">3.3 Ruby and Emphasis Dots</a> and <a href="http://www.w3.org/TR/2009/NOTE-jlreq-20090604/#en-app6">Appendix F Positioning of Jukugo-ruby</a>.</p>
    
    <div class="note"><div id="h_note_1" role="heading" aria-level="3" class="note-title"><span>Note</span></div><div class="">
      <p> Ruby text  annotations should be disregarded in some situations, such as finding text or copying text. Underlining should not be split between bases or between ruby and adjacent underlined elements.</p></div></div>
  </section>
  
  
  <section rel="bibo:chapter" resource="#types" typeof="bibo:Chapter" id="types">
    <h3 id="h3_types" role="heading" aria-level="2"><span class="secno">1.5 </span>Types of ruby</h3>
    <p>There are three types of ruby behavior. </p>
    <p><dfn id="dfn-mono-ruby">Mono ruby</dfn> is commonly used for phonetic annotation of text. In mono-ruby all the ruby text for a given character is positioned alongside a single base character, and doesn't overlap adjacent base characters.  You can break a word that uses mono ruby at any point, and the ruby text just stays with the base character.</p>
    <p><dfn id="dfn-group-ruby">Group ruby</dfn> is often used where phonetic annotations don't map to discreet base characters, or for semantic glosses that span the whole base text. You can't split text that is annotated with group ruby. It has to wrap as a single unit onto the next line.</p>
    
    <p><dfn id="dfn-jukugo">Jukugo</dfn> refers to a Japanese compound noun, ie. a word made up of more than one kanji character. <dfn id="dfn-jukugo-ruby">Jukugo ruby</dfn> is a term that is used  to describe the alignment of ruby annotations over jukugo text. Jukugo ruby involves slightly different behavior. than for mono or group ruby. Jukugo ruby behaves like mono ruby, in that there is a strong association between ruby text and individual base characters. This becomes clear when you split a word at the end of a line:  the ruby text is split so that the ruby annotating a specific base character stays with that character.  What is different about jukugo ruby is that when the word is <em>not</em> split at the end of the line, there can be some significant amount of overlap of ruby text with adjacent base characters, which in some cases may make it <em>appear</em> like group ruby.</p>
     <div class="note"><div id="h_note_2" role="heading" aria-level="3" class="note-title"><span>Note</span></div><div class="">
    <div><img alt="Example of ruby text." src="images/img2_3_4.png" style="float: right; margin-left: 20px; margin-bottom: 20px;"></div>
   <p>Sometimes this may give the appearance that jukugo ruby behaves like group ruby, but this  actually only arises  in certain circumstances.</p>
    <p>The image to the right shows three examples of ruby annotating jukugo words. </p>
    <p>In the top two examples, mono ruby could be used to produce the desired effect, since neither of the base characters are overlapped by ruby text that doesn't relate to that character.</p>
    <p>The third example is where we see the difference that is referred to as <span class="qterm">jukugo ruby.</span> The first three ruby characters are associated with the first kanji base character. Just the last ruby character is associated with the second kanji base character. And yet the ruby text has been arranged evenly across both kanji characters.</p>
    <p>Note, however, that we aren't simply spreading the ruby over the whole word, as we would with group ruby.  There are rules that apply, and in some cases gaps will appear.  See the following examples of distribution of ruby text over jukugo words.</p>
    <p><img alt="Various examples of jukugo ruby." style="margin: auto;" src="images/img_a6_3.png"></p>
    <br style="clear:both;">
    </div></div>
</section>
</section>


<section rel="bibo:chapter" resource="#usecasea" typeof="bibo:Chapter" id="usecasea">
<!--OddPage--><h2 id="h2_usecasea" role="heading" aria-level="1"><span class="secno">2. </span>Use Case A: Ruby base styling</h2>

<p>This section is concerned more with the presence or absence of  elements representing the ruby base than with the order of the elements inside the <code class="kw">ruby</code> element.</p>
<p>A content author may want to apply  styling to the base text separately from the ruby text, in a way that requires direct access to the ruby base content itself.</p>
<p> One example may involve coloring the base text or styling it in some way differently from the surrounding text.</p>
<p> The image below shows another example,  a very common approach to educational materials, which requires the ruby base to be styled independently of the <code class="kw">ruby</code> and <code class="kw">rt</code> elements. </p> 
<p><img src="images/ruby-kokugo.jpg" alt="Ruby used for educational purposes." height="478" width="640">  
</p>
<p>A third example would be where you want to hide the base text and show only the ruby text. This would be useful for adapting content to suit children, students and others who have trouble with kanji.
</p><p>See also the related <a href="#accessibility">accessibility use case</a> below. </p>
<p>There are three ways in which these use cases may be applied: 
</p>
<ol>
  <li>
    <p>the style  may need to be applied to all base text in a page or section</p>
  </li>
  <li>
    <p>styling may be selectively applied to individual ruby base items</p>
  </li>
  <li>
    <p>styling may be applied to parts of one ruby base selectively, where the ruby base is composed of multiple characters. For an example of this, imagine that the figure above of educational material contained the word 今日. These two kanji characters are phonetically annotated with a single run of ruby text, きょう, but you would need to style the boxes around each kanji base character separately.</p>
  </li>
</ol>


<section rel="bibo:chapter" resource="#accessibility" typeof="bibo:Chapter" id="accessibility">
<h3 id="h3_accessibility" role="heading" aria-level="2"><span class="secno">2.1 </span>Accessibility use case</h3>

  <p>Research for elementary and junior-high students  by the Japanese government in 2010 indicated that 0.2% of them have difficulty reading hiragana, and 6.9% have difficulty with kanji. Kanji dyslexia is related to difficulty in visual recognition of complex drawings, and therefore adding ruby makes them even harder to read (ruby text adds more complexity.) </p>
  <p>The researchers tried several methods to improve  readability and found that the best method was to replace kanji with hiragana. For this use case, it would be ideal if user style sheet can replace kanji with its reading without changing markup.</p>
  <p>This implies that it would be necessary to have direct access to the ruby base, whether or not it is marked up with an <code class="kw">rb</code> tag.</p>
</section>




<section rel="bibo:chapter" resource="#approach3" typeof="bibo:Chapter" id="approach3">
  <h3 id="h3_approach3" role="heading" aria-level="2"><span class="secno">2.2 </span>XHTML approach</h3>
  <p>Simple ruby in XHTML requires <code class="kw">rb</code> elements in the ruby elements you want to style – only one <code class="kw">rb</code> element is allowed per <code class="kw">ruby</code> element, and it is mandatory. A closing tag is required for all elements.</p>
  <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">&lt;rb&gt;法&lt;/rb&gt;</span><span class="rt">&lt;rt&gt;ほ&lt;/rt&gt;</span><span class="markup">&lt;/ruby&gt;&lt;ruby&gt;</span><span class="rb">&lt;rb&gt;華&lt;/rb&gt;</span><br><span class="rt">&lt;rt&gt;け&lt;/rt&gt;</span><span class="markup">&lt;/ruby&gt;</span><span class="markup">&lt;ruby&gt;</span><span class="rb">&lt;rb&gt;経&lt;/rb&gt;</span><span class="rt">&lt;rt&gt;きょう&lt;/rt&gt;</span><span class="markup">&lt;/ruby&gt;</span>
  </pre>
  <p>It is possible to simply style the <code class="kw">rb</code> elements: </p>
  <pre>rb  { background-color: green; }</pre>
  <section id="pros-and-cons" rel="bibo:chapter" resource="#a1proscons" typeof="bibo:Chapter">
    <h4 role="heading" aria-level="3" id="a1proscons"><span class="secno">2.2.1 </span>Pros and cons</h4>
    <p>It is easy to identify the ruby base element and apply any kind of styling to it.  </p>
    <p>The XHTML model is, however, too inflexible and verbose. It <em>requires</em> <code class="kw">rb</code> tags always, including both opening and closing tags, and allows only one <code class="kw">rb</code> per <code class="kw">ruby</code> element. This leads to a large markup overhead, compared to other models, and can therefore make it harder to author and maintain source code.  </p>
    <p>The XHTML model doesn't allow for any markup within an <code class="kw">rb</code> element, so you could not style parts of a multi-character  ruby base separately. This rules out the educational styling shown above for words like 今日.</p>
    <p>There are other problems with the XHTML approach, such as the fact that requiring a separate <code class="kw">ruby</code> element for each base item makes it impossible to handle jukugo styling for compound words (see below), but these issues will be discussed later.</p>
    <p>An advantage of this approach is that, since <code class="kw">rb</code> tags are required, it would be easy to adapt a whole page for accessibility by replacing the base text with the ruby text.</p>
    <p>Another advantage is that you can break a line in the source text between the between <code class="kw">rb</code> and <code class="kw">rt</code> tags without introducing unwanted spaces to the rendered text (unlike the HTML5 example below).</p>
  </section>
<section id="implementations" rel="bibo:chapter" resource="#a1-implementations" typeof="bibo:Chapter">  <h4 role="heading" aria-level="3" id="a1-implementations"><span class="secno">2.2.2 </span>Implementations</h4>
  <p>It is currently not possible to style <code class="kw">rb</code> tags natively in IE8, but would be possible if  <code class="kw">rb</code> was added to the HTML5 shiv. It is possible in IE9 and current desktop versions of Firefox, Chrome, Safari and Opera. See the tests at <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling" class="external free" href="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling">http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling</a></p>
  <ul>
    <li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?test=ruby-014&amp;format=h5" class="external text" href="http://www.w3.org/International/tests/html-css/generate?test=ruby-014&amp;format=h5">Applying background color to rb elements</a> </li>
    <li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1020" class="external text" href="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1020">Styling the ruby base independently of the ruby and rt</a> </li>
</ul>
</section>  
<section id="does-it-support-the-use-case" rel="bibo:chapter" resource="#a1-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="a1-ucsupport"><span class="secno">2.2.3 </span>Does it support the use case?</h4>
  <p>For most cases, yes, but not for styling base characters independently.</p>
</section>
</section>


  <section rel="bibo:chapter" resource="#fonts-approach1-2a" typeof="bibo:Chapter" id="fonts-approach1-2a">
    <h3 id="h3_fonts-approach1-2a" role="heading" aria-level="2"><span class="secno">2.3 </span>HTML5 approach (basic)</h3>
<p>The  HTML5 CR approach does not have an <code class="kw">rb</code> element. This also means that, for multiple pairings within a single <code class="kw">ruby</code> element, you have to use closing tags for the <code class="kw">rt</code> elements (to separate them from the ruby base). </p>
<p>The markup would look like this:</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">法</span><span class="rt">&lt;rt&gt;ほ&lt;/rt&gt;</span><span class="rb">華</span><span class="rt">&lt;rt&gt;け&lt;/rt&gt;</span><span class="rb">経</span><span class="rt">&lt;rt&gt;きょう&lt;/rt&gt;</span><span class="markup">&lt;ruby&gt;</span>
</pre>
<p>To style the base element, apply a style to the <code class="kw">ruby</code> element, then apply a style to the <code class="kw">rt</code> element that overrides that style. For example. </p>

<pre>ruby { color: red; }
rt   { color: black; }
</pre>

<section id="pros-and-cons-1" rel="bibo:chapter" resource="#a2aproscons" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="a2aproscons"><span class="secno">2.3.1 </span>Pros and cons</h4>
<p>For styling that is achievable by this method, this is somewhat clumsy. For example, to keep the color of the <code class="kw">rt</code> text the same as that of the surrounding text you would have to change the <code class="kw">rt</code> text properties as well as that of the text surrounding the <code class="kw">ruby</code> element. </p>
<p>Some properties cannot be applied to base text with this method, such as <code class="kw">background</code> or <code class="kw">border</code>, so you would not be able to produce the educational example in the picture above by this method. Nor would you be able to replace the ruby base with the ruby text for the accessibility case.</p>
<p>Readability of the source code is improved slightly over the XHTML model by the absence of <code class="kw">rb</code> tags, but note that you cannot break a line in the source text between the opening and closing <code class="kw">ruby</code> tags without introducing unwanted spaces to the rendered text (unlike the XHTML example above, where the line can be broken between <code class="kw">rb</code> and <code class="kw">rt</code> tags). This may be a particular issue where an editor automatically formats the source code.</p>
</section>


<section id="does-it-support-the-use-case-1" rel="bibo:chapter" resource="#a2a-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="a2a-ucsupport"><span class="secno">2.3.2 </span>Does it support the use case?</h4>
<p>Only in simple scenarios. It doesn't enable direct access to the ruby base text, therefore excluding  various types of styling and causing problems for accessible rendering.</p>
</section>
</section>


  <section rel="bibo:chapter" resource="#approach1-2b" typeof="bibo:Chapter" id="approach1-2b">
    <h3 id="h3_approach1-2b" role="heading" aria-level="2"><span class="secno">2.4 </span>HTML5 approach with span</h3>
  <p>Use the <code class="kw">span</code> element for styling, eg. </p>
  <pre><span class="markup">&lt;ruby&gt;</span><span class="markup">&lt;span&gt;</span><span class="rb">法</span><span class="markup">&lt;/span&gt;</span><span class="rt">&lt;rt&gt;ほ&lt;/rt&gt;</span><span class="markup">&lt;span&gt;</span><span class="rb">華</span><span class="markup">&lt;/span&gt;</span><span class="rt">&lt;rt&gt;け&lt;/rt&gt;</span><span class="markup"><br>&lt;span&gt;</span><span class="rb">経</span><span class="markup">&lt;/span&gt;</span><span class="rt">&lt;rt&gt;きょう&lt;/rt&gt;</span><span class="markup">&lt;/ruby&gt;</span></pre>
  <p>Then style the <code class="kw">span</code> elements, eg. </p>
  <pre>ruby span { color: red; }</pre>
  
<section id="pros-and-cons-2" rel="bibo:chapter" resource="#a2bproscons" typeof="bibo:Chapter"> <h4 role="heading" aria-level="3" id="a2bproscons"><span class="secno">2.4.1 </span>Pros and cons</h4>
  <p>The <code class="kw">span</code> element can be used in place of the <code class="kw">rb</code> tag.  It is not as short as <code class="kw">rb</code>, which is a slight downside for hand editing and for legibility. </p>
  <p>Note also that the issue mentioned above about about line breaks in the source remains, and is made worse by the fact that the <code class="kw">span</code> tags significantly lengthen the <code class="kw">ruby</code> element.</p>
  <p>Unlike <code class="kw">rb</code>, several <code class="kw">span</code> elements could be used where one item of ruby text is associated with multiple base characters, such as to color three successive base characters with different colors, or to style just one of the characters.</p>
  <p>Although they could style specific base text this way, authors would be unlikely to add <code class="kw">span</code> elements around all base text just in case they needed to be styled. This implies that you will still have a problem if you want to achieve the accessibility use case through styling.</p>
  <p>If authors did use <code class="kw">span</code> elements around all base text items, to allow for styling, it  begs the question as to why there isn't an <code class="kw">rb</code> element to do this job. An <code class="kw">rb</code> element could reduce the markup required (especially if end tags are dispensed with, see below) and could be argued to be more semantically appropriate.</p>
</section>  

<section id="implementations-1" rel="bibo:chapter" resource="#a2b-implementations" typeof="bibo:Chapter">  <h4 role="heading" aria-level="3" id="a2b-implementations"><span class="secno">2.4.2 </span>Implementations</h4>
  <p>It is possible to style <code class="kw">span</code> tags inside <code class="kw">ruby</code> elements in IE8 and current desktop versions of Firefox, Chrome, Safari and Opera. See the tests at <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling" class="external free" href="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling">http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling</a> </p>
  <ul>
  <li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?test=ruby-015&amp;format=h5" class="external text" href="http://www.w3.org/International/tests/html-css/generate?test=ruby-015&amp;format=h5">Applying background color to span elements</a>
  </li><li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1021" class="external text" href="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1021">Styling the ruby base independently of the ruby and rt</a>
  </li><li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1022" class="external text" href="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1022">Styling parts of a single ruby base independently</a>
  </li><li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1023" class="external text" href="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1023">Replacing the ruby base with the ruby text</a>
    
  </li></ul>
  <p>Best viewed in Chrome and Safari (but works partially in IE too).</p>
</section>  


<section id="does-it-support-the-use-case-2" rel="bibo:chapter" resource="#a2b-ucsupport" typeof="bibo:Chapter"> <h4 role="heading" aria-level="3" id="a2b-ucsupport"><span class="secno">2.4.3 </span>Does it support the use case?</h4>
  <p>Yes, for most simple styling cases. But for general styling of base text on a page you need to always use a <code class="kw">span</code>, and that  begs the question why there isn't a semantic <code class="kw">rb</code> element instead. General conversion of ruby to ruby text only, for accessibility, is still problematic.</p>
</section>
</section>
  
  <section rel="bibo:chapter" resource="#approacha3b" typeof="bibo:Chapter" id="approacha3b">
  <h3 id="h3_approacha3b" role="heading" aria-level="2"><span class="secno">2.5 </span>Enhanced HTML5 approach, with implicit rb</h3>
  <p>The HTML5 approach could be extended to allow CSS to style ruby base directly without the need for markup. eg. use </p>
  <pre>rb { color: red; }</pre>
  <p>for the following markup </p>
  <pre> <span class="markup">&lt;ruby&gt;</span><span class="rb">法</span><span class="rt">&lt;rt&gt;ほ&lt;/rt&gt;</span><span class="rb">華</span><span class="rt">&lt;rt&gt;け&lt;/rt&gt;</span><span class="rb">経</span><span class="rt">&lt;rt&gt;きょう&lt;/rt&gt;</span><span class="markup">&lt;/ruby&gt;</span>
  </pre>
  <p>but add a ruby base element to the DOM, and/or allow CSS to add an anonymous box for styling.</p>
  <!--<pre> <span class="markup">&lt;ruby&gt;</span><span class="rb"><b>東</b></span><span class="rt">&lt;rt&gt;<b>とう</b>&lt;/rt&gt;</span><span class="rb"><b>京</b></span><span class="rt">&lt;rt&gt;<b>きょう</b>&lt;/rt&gt;</span><span class="markup">&lt;/ruby&gt;</span>
</pre>-->
<section id="pros-and-cons-3" rel="bibo:chapter" resource="#a3bproscons" typeof="bibo:Chapter">  <h4 role="heading" aria-level="3" id="a3bproscons"><span class="secno">2.5.1 </span><span class="mw-headline">Pros and cons</span></h4>
  <p>This approach allows  to style  ruby base text, but without the overhead of additional markup for the content developer.</p>
  <p>The designer could style any ruby text on a page. This provides a way of replacing all base text with ruby text for the accessibility use case (eg. using <code>rb { display:none; } rt { display:inline; } </code>), in addition to the other use cases described.</p>
  <p>Designers could also style individual ruby bases by using a class or id name on a <code class="kw">ruby</code> element that surrounds the ruby base to be styled. It would be slightly tricky, however, to style just one <code class="kw">rb</code> element out of many inside a <code class="kw">ruby</code> element, especially if you wanted to style a single ruby base in each of a number of <code class="kw">ruby</code> elements where the ruby base in question was in a different relative position within each <code class="kw">ruby</code> element. If you were able to use <code class="kw">rb</code> tags and thereby a class name, that would be trivial.</p>
  <p>It  would be possible to resort to <code class="kw">span</code> to selectively style part of a multi-character ruby base.</p>
  <p> Traversing the DOM becomes easier. Without <code class="kw">rb</code>, traversing needs to scan all children of <code class="kw">ruby</code> except <code class="kw">rt</code> and <code class="kw">rp</code> and combine them. If, for instance, base text is H<sub>2</sub>O, it consists of 3 nodes. CSS Ruby creates an anonymous box around the 3 boxes but there's no direct counterpart in the DOM without an implicit <code class="kw">rb</code> tag. </p>
  <p>There are two ways to implement this. </p>
  <ol>
    <li> Imply <code class="kw">rb</code> in the DOM, just like <code class="kw">tbody</code> is implied </li>
    <li> Assign <code class="kw">rb</code> style to a ruby base anonymous box </li>
  </ol>
  <p>The latter only works if they are styled as ruby, because the anonymous box exists for ruby but not for inline display, so it will not work when <a rel="nofollow" title="http://dev.w3.org/csswg/css-ruby/#rubypos" class="external text" href="http://dev.w3.org/csswg/css-ruby/#rubypos"><code class="kw">ruby-position</code></a> is set to <code class="kw">inter-character</code> or <code class="kw">inline</code>, and also when fallback occurs. </p>
  <p>Also, the former makes accessing base text slightly easier, as grabbing the <code class="kw">rb</code> element is easier than grabbing all elements other than <code class="kw">rt</code> and <code class="kw">rp</code> elements (and any future additions). </p>
  <p>On the other hand, the former requires changes in the parser. Also there are several cases that we need to define regarding behavior; e.g., what if <code class="kw">rb</code> and non-<code class="kw">rb</code> bases are mixed, what happens if non-<code class="kw">rb</code> content is inserted by JavaScript, etc. </p>
</section>  

<section id="does-it-support-the-use-case-3" rel="bibo:chapter" resource="#a3b-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="a3b-ucsupport"><span class="secno">2.5.2 </span><span class="mw-headline">Does it support the use case?</span></h4>
  <p>Yes, but a little tricky if you need to pick out, say, one ruby base per ruby element and they are not all in the same position.</p>
</section>
</section>
  
  
  
  <section rel="bibo:chapter" resource="#approacha3a" typeof="bibo:Chapter" id="approacha3a">
  <h3 id="h3_approacha3a" role="heading" aria-level="2"><span class="secno">2.6 </span> Extension Spec approach</h3>
      <p>The extension spec allows for optional <code class="kw">rb</code> elements in the <code class="kw">ruby</code> elements you want to style. You can have various amounts of markup, but the simplest approach would be:</p>
    <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">&lt;rb&gt;法</span><span class="rt">&lt;rt&gt;ほ</span><span class="rb">&lt;rb&gt;法</span><span class="rt">&lt;rt&gt;け</span><span class="rb">&lt;rb&gt;経</span><span class="rt">&lt;rt&gt;きょう</span><span class="markup">&lt;/ruby&gt;</span>
    </pre>
    <p>You can then style the <code class="kw">rb</code> elements very simply: </p>
    <pre>rb  { background-color: green; }
</pre>
    <p>Alternatively, you can group the <code class="kw">rb</code> and <code class="kw">rt</code> tags separately, like this:</p>
    <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">&lt;rb&gt;法</span><span class="rb">&lt;rb&gt;華</span><span class="rb">&lt;rb&gt;経</span><span class="rt">&lt;rt&gt;ほ</span><span class="rb"><b></b></span><span class="rt">&lt;rt&gt;け</span><span class="rt">&lt;rt&gt;きょう</span><span class="markup">&lt;/ruby&gt;</span></pre>
    <p>The ramifications of the ordering of elements in this model will be discussed below. With regards to the amount of markup, the situation is essentially the same in both cases.</p>
<section id="pros-and-cons-4" rel="bibo:chapter" resource="#a3aproscons" typeof="bibo:Chapter">    <h4 role="heading" aria-level="3" id="a3aproscons"><span class="secno">2.6.1 </span>Pros and cons</h4>
    <p>It is trivial to identify the ruby base element and apply any kind of styling to it, as long as an <code class="kw">rb</code> tag was used. </p>
    <p>The markup is more semantically clear than when using a <code class="kw">span</code> element. The extension spec still allows for <code class="kw">span</code> elements to be used inside <code class="kw">rb</code> elements for styling multiple characters in a single base item separately.</p>
    <p>The extension spec also allows you to selectively use <code class="kw">rb</code> tags for just the ruby bases that need styling, but the approach shown in the example above would not require any more markup than if the <code class="kw">rb</code> tag wasn't used (because you'd have to close the <code class="kw">rt</code> elements instead); as such this encourages use of the <code class="kw">rb</code> tag for all <code class="kw">ruby</code> elements. If this approach were used throughout the page, the content author could style any ruby text on a page. </p>
    <p>This markup approach also provides a way of replacing all base text with ruby text for the accessibility use case (eg. using <code>rb { display:none; } rt { display:inline; } </code>), in addition to the other use cases described.</p>
    <p>The markup shown above is also slightly easier to read than the standard HTML5 approach. It does have the drawback that it is not possible to use line breaks inside the <code class="kw">ruby</code> element in the source without introducing spurious space, but that can be dealt with  by using  closing  tags, either at the end of the line or throughout. Partly this depends on how the HTML is created: if the source is hand-crafted, it may be easier to use the approach above and tweak at line breaks; if it is created using an authoring tool or scripting, it may be as easy to use closing tags throughout. (It would also be possible for a browser to automatically eliminate white space surrounding a ruby base or ruby annotation.)</p>
</section>    


<section id="implementations-2" rel="bibo:chapter" resource="#a3a-implementations" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="a3a-implementations"><span class="secno">2.6.2 </span>Implementations</h4>
    <p>It is not possible to style <code class="kw">rb</code> tags natively in IE8, but it is possible if you use the HTML5 shiv after that has <code class="kw">rb</code> added to it. It is possible in IE9 and current desktop versions of Firefox, Chrome, Safari and Opera. See the tests at <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling" class="external free" href="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling">http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#styling</a> </p>
    <ul>
      <li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?test=ruby-014&amp;format=h5" class="external text" href="http://www.w3.org/International/tests/html-css/generate?test=ruby-014&amp;format=h5">Applying background color to rb elements</a>
      </li><li> <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1020" class="external text" href="http://www.w3.org/International/tests/html-css/generate?format=h5&amp;test=ruby-1020">Styling the ruby base independently of the ruby and rt</a>
      </li></ul>
</section>      
      
<section id="does-it-support-the-use-case-4" rel="bibo:chapter" resource="#a3a-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="a3a-ucsupport"><span class="secno">2.6.3 </span><span class="mw-headline">Does it support the use case?</span></h4>
    <p>Yes. </p>
</section>
  </section>
</section>


<section rel="bibo:chapter" resource="#usecaseb" typeof="bibo:Chapter" id="usecaseb">
<!--OddPage--><h2 id="h2_usecaseb" role="heading" aria-level="1"><span class="secno">3. </span>Use Case B: Fallback and inline ruby text for compound nouns</h2>
<p>When we refer here to <dfn id="dfn-fallback">fallback</dfn>, we mean what happens when a browser doesn't support ruby. If a browser doesn't support ruby, the content of the ruby element will be produced as ordinary characters, in the order in which they appear inside the <code class="kw">ruby</code> element.</p>
<p> The <code class="kw">rp</code> element is intended to contain characters that can be used to offset the ruby text from the base text, typically  parentheses. By placing the <code class="kw">rp</code> element at the right locations relative to the other ruby content, it is possible to make the fallback text more readable. The <code class="kw">rp</code> element is ignored by browsers that know what to do with ruby annotations.</p>
<p>Tokyo is written with two kanji characters, 東, which is pronounced とう, and 京, which
  is pronounced きょう. The key issue here is that, when multiple base characters are treated as a 'compound word', each base character should be annotated individually, but the fallback should be
  東京(とうきょう) not 東(とう)京(きょう). </p>
<p> Fallback requires <code class="kw">rp</code> elements  to make the text more readable.  This cannot be replicated by styling or scripting, since it is not possible to detect whether or not the browser supports ruby (although this could theoretically be signalled by some API feature.)</p>
<p>The importance of a good solution for fallback is inversely proportional to the number of browsers that support ruby.</p>
<p>Note that  content developers may also want to style content to look like this when the font size is too small for ruby to be
  readable. This is a separate use case. We  refer to this as <dfn id="dfn-inline-ruby">inline ruby</dfn>.</p>
<p>Inline ruby annotations have to be produced using styling. (CSS3 Ruby has an <code class="kw">inline</code> value for the <code class="kw">ruby-position</code> property.) The parentheses needed for  inline annotation can be provided using <code class="kw">rp</code> elements, or could be added using styling.</p>

<section rel="bibo:chapter" resource="#approachb1" typeof="bibo:Chapter" id="approachb1">
<h3 id="h3_approachb1" role="heading" aria-level="2"><span class="secno">3.1 </span>XHTML approach</h3>
  <p>The Ruby Annotation model distinguishes between simple and complex ruby. For simple ruby you need a ruby element around every base item. To associate several base items as a unit you would need to use complex ruby, like this:</p>
  <pre><span class="markup">&lt;ruby&gt;&lt;rbc&gt;</span><span class="rb">法</span>•<span class="rb">華</span>•<span class="rb">経</span><span class="markup">&lt;/rbc&gt;</span><span class="markup">&lt;rtc&gt;</span><span class="rt">ほ</span>•<span class="rt">け</span>•<span class="rt">きょう</span><span class="markup">&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
  <p>XHTML doesn't allow <code class="kw">rp</code> elements in complex ruby, so  fallback is not supported.</p>
  <p>For inline ruby text, it would be possible to style the <code class="kw">rtc</code> element so that parentheses can appear before or after it, using the following CSS:</p>
  <pre>rtc:before { content: '('; } 
rtc:after { content: ')'; }</pre>
  <p>You could only do this, however, for cases where you specifically want inline rendering. If the browser is capable of rendering the ruby above or below the base text, you would not want to see parentheses.</p>
  
<section id="does-it-support-the-use-case-5" rel="bibo:chapter" resource="#b1-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="b1-ucsupport"><span class="secno">3.1.1 </span><span class="mw-headline">Does it support the use case?</span></h4>
  <p>No, for  fallback. Yes, using styling, for inline ruby text.</p>
</section>  
</section>


<section rel="bibo:chapter" resource="#approachb2" typeof="bibo:Chapter" id="approachb2">
<h3 id="h3_approachb2" role="heading" aria-level="2"><span class="secno">3.2 </span>HTML5 approach</h3>
<p>With the current HTML5 model the ruby content is interleaved by default, ie.</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">法</span>&lt;rp&gt;（&lt;/rp&gt;<span class="rt">ほ</span>&lt;rp&gt;）&lt;/rp&gt;<span class="rb">華</span>&lt;rp&gt;（&lt;/rp&gt;<span class="rt">け</span>&lt;rp&gt;）&lt;/rp&gt;<span class="rb">経</span>&lt;rp&gt;（&lt;/rp&gt;<span class="rt">きょう</span><span class="markup">&lt;rp&gt;）&lt;/rp&gt;&lt;/ruby&gt;</span></pre>
<p>Fallback, therefore, cannot produce grouped ruby text for a compound noun.</p>
<p>For inline ruby text, there is no way to style this so that the ruby annotations all appear after the ruby bases.</p>
<p>A further problem of this approach is that it can prevent hits when searching for  terms like 法華経 in naive applications, since the kanji characters making up that word are  separated by intervening ruby text.</p>
<p>It is theoretically possible that a browser could automatically reorder the content within a ruby element for rendering inline ruby text. If a browser did that,  the content author would just have to be careful to place the <code class="kw">ruby</code>  tags at the right place for the fallback to work. </p>

<section id="does-it-support-the-use-case-6" rel="bibo:chapter" resource="#b2-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="b2-ucsupport"><span class="secno">3.2.1 </span><span class="mw-headline">Does it support the use case?</span></h4>
<p>No.</p>
</section>
</section>


<section rel="bibo:chapter" resource="#approachb4" typeof="bibo:Chapter" id="approachb4">
<h3 id="h3_approachb4" role="heading" aria-level="2"><span class="secno">3.3 </span>Extension spec approach</h3>
  <p>The desired fallback can be
    achieved if the ruby is written as </p>
  <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">法</span>•<span class="rb">華</span>•<span class="rb">経</span><span class="markup">&lt;rp&gt;(&lt;rp</span><span class="markup">&gt;</span><span class="rt">ほ</span>•<span class="rt">け</span>•<span class="rt">きょう</span><span class="markup">&lt;rp&gt;)&lt;/rp&gt;&lt;/ruby&gt;</span></pre>
  <p>This approach also allows you to associate ruby text with compound nouns within a compound noun phrase, if that is what you want to do. See the example here:</p>
  <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">常</span>•<span class="rb">用</span><span class="markup">&lt;rp&gt;(&lt;rp</span><span class="markup">&gt;</span><span class="rt">じょう</span>•<span class="rt">よう</span><span class="markup">&lt;rp&gt;)&lt;/rp&gt;</span><span class="rb">漢</span>•<span class="rb">字</span><span class="markup">&lt;rp&gt;(&lt;rp</span><span class="markup">&gt;</span><span class="rt">かん</span>•<span class="rt">じ</span><span class="rt"></span><span class="markup">&lt;rp&gt;)&lt;/rp&gt;
      </span><span class="rb">表</span><span class="markup">&lt;rp&gt;(&lt;rp</span><span class="markup">&gt;</span><span class="rt">ひょう</span><span class="rt"></span><span class="markup">&lt;rp&gt;)&lt;/rp&gt;&lt;/ruby&gt;</span></pre>
      
<section id="pros-and-cons-5" rel="bibo:chapter" resource="#b4proscons" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="b4proscons"><span class="secno">3.3.1 </span><span class="mw-headline">Pros and cons</span></h4>
      <p>This allows the desired grouping of ruby text by compound word in both fallback and inline scenarios. (In fact, it allows you to group ruby text however you like within the <code class="kw">ruby</code> element.)</p>
  <p>This approach doesn't prevent you from listing ruby text after each ideographic base character, if you wish. For example, bopomofo ruby can be associated with Chinese characters one at a time.</p>
  <p>Another benefit of this approach is that it helps when searching for  terms like 法華経 in naive applications, since the kanji characters making up that word are not separated by intervening ruby text.</p>
</section>  

<section id="does-it-support-the-use-case-7" rel="bibo:chapter" resource="#b4-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="b4-ucsupport"><span class="secno">3.3.2 </span><span class="mw-headline">Does it support the use case?</span></h4>
  <p>Yes.</p>
</section>  
</section>

<section rel="bibo:chapter" resource="#approachb9" typeof="bibo:Chapter" id="approachb9">
<h3 id="h3_approachb9" role="heading" aria-level="2"><span class="secno">3.4 </span>Scripting flag</h3>
  <p>The problem with fallback is that you can't provide characters such as parentheses to clarify the repetition of base and ruby text for the reader unless you  provide <code class="kw">rp</code> elements around all your ruby text. It is a tall order to expect that everyone will do that religiously. Not only does it significantly increase the amount of effort required to create ruby markup, but it makes the source text more difficult to read, and adds  complexity when it comes to searching text.</p>
  <p>For inline ruby text, styling can provide the needed delimiters, using :before and :after, but this approach can't be used for general fallback because such an approach would also produce delimiters around ruby text if the browser is capable of displaying ruby text above or below the base text.</p>
  <p>A possible solution might be to test whether the browser supports ruby using scripting. If it doesn't, then it would be possible to activate styling to introduce delimiters.</p>
  <p>For this to work, it would be necessary for the DOM API to indicate whether ruby is supported by the browser.</p>
</section>

</section>



<section rel="bibo:chapter" resource="#usecasec" typeof="bibo:Chapter" id="usecasec">
<!--OddPage--><h2 id="h2_usecasec" role="heading" aria-level="1"><span class="secno">4. </span>Use Case C: Jukugo Ruby</h2>
<p><dfn id="dfn-compound-words">Compound words</dfn> in Japanese (known as <dfn id="dfn-jukugo-1">jukugo</dfn>) allow for significant overlaps of the ruby text with adjacent base characters, however the relationships between ruby text and base text has to remain clear because line breaks can occur in the middle of the compound word and the base characters that move to the next line have to take with them all associated <code class="kw">rt</code> elements, and no more (unlike group ruby, which cannot admit line breaks). </p>
<p>For a description of jukugo ruby and how it differs from mono ruby and group ruby, see <a title="http://rishida.net/blog/?p=469" class="external free" href="http://rishida.net/blog/?p=469">this blog post</a>  (see in particular the images at the bottom of the page that show the complex distribution of ruby text, sometimes forcing gaps to appear. Jukugo ruby may often look like group ruby, but it is not.)
</p>
<p>Multiple kanji compound words can also form one <dfn id="dfn-compound-phrase">compound phrase</dfn>. In this case, there are two ways to attach ruby, i.e. attaching ruby to the compound phrase as a whole, or to each word which forms the compound. Similarly, a Japanese personal name consists of a given name and a family name, which together form a compound of a full name, and it is an editorial decision whether to attach two runs of ruby, one each for given name and family name, or to attach the full ruby text to the compound which represents the reading of the full name. </p>
<p>All of the approaches outlined here assume that the actual distribution of ruby text across the base text will be managed by CSS styling. The  role of the markup is to indicate the start and end of the compound noun or phrase across which the styling will be applied, and associate each individual ruby base with the appropriate ruby text to allow for line breaking.</p>
<p>Note also that the current version of the CSS Ruby spec prevents the use of this model for jukugo by forbidding line breaks within the <code class="kw">ruby</code> element. That will need to be changed to enable jukugo support, but it is not a facet of the markup itself.</p>

<section rel="bibo:chapter" resource="#approachc1" typeof="bibo:Chapter" id="approachc1">
<h3 id="h3_approachc1" role="heading" aria-level="2"><span class="secno">4.1 </span>XHTML approach</h3>
  <p>To define the boundaries of the  jukugo word you would need to use complex ruby from the Ruby Annotation spec. This would require use of <code class="kw">rb</code> but also <code class="kw">rbc</code> and <code class="kw">rtc</code>.</p>
  <pre><span class="markup">&lt;ruby&gt;&lt;rbc&gt;</span><span class="rb">法</span>•<span class="rb">華</span>•<span class="rb">経</span><span class="markup">&lt;/rbc&gt;</span><span class="markup">&lt;rtc&gt;</span><span class="rt">ほ</span>•<span class="rt">け</span>•<span class="rt">きょう</span><span class="markup">&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
  
<section id="pros-and-cons-6" rel="bibo:chapter" resource="#c1proscons" typeof="bibo:Chapter">  <h4 role="heading" aria-level="3" id="c1proscons"><span class="secno">4.1.1 </span>Pros and cons</h4>
  <p>This approach is  heavy on markup,  even though it does associate <code class="kw">rb</code> elements with <code class="kw">rt</code> elements, and define the boundaries of the jukugo word. </p>
  <p>It would not be possible to establish boundaries around compound words within a compound phrase, however. You would have to break the phrase into separate ruby elements.</p>
</section>

<section id="does-it-support-the-use-case-8" rel="bibo:chapter" resource="#c1-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="c1-ucsupport"><span class="secno">4.1.2 </span>Does it support the use case?</h4>
  <p>Yes, although with slightly more markup than desirable. </p>
</section>
</section>

<section rel="bibo:chapter" resource="#approachc2" typeof="bibo:Chapter" id="approachc2">
<h3 id="h3_approachc2" role="heading" aria-level="2"><span class="secno">4.2 </span>HTML5 approach</h3>
<p>It would  be possible to just use the current HMTL5 ruby model, but style the <code class="kw">ruby</code> element as jukugo ruby.</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">法</span>•<span class="rt">ほ</span>•<span class="rb">華</span>•<span class="rt">け</span>•<span class="rb">経</span>•<span class="rt">きょう</span><span class="markup">&lt;/ruby&gt;</span></pre>

<section id="pros-and-cons-7" rel="bibo:chapter" resource="#c2proscons" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="c2proscons"><span class="secno">4.2.1 </span>Pros and cons</h4>
<p>Users would need to put <code class="kw">ruby</code> tags around the jukugo words, to indicate the boundaries of the jukugo, which may mean slightly more <code class="kw">ruby</code> tags than otherwise, but that is probably unavoidable. </p>
<p>It would not be possible to establish boundaries around compound words within a compound phrase, however. You would have to break the phrase into separate ruby elements.</p>
<p>On the other hand, this approach has the advantage that it is slightly easier for browsers to determine which ruby text belongs to which base text.</p>
<p>This approach  can prevent hits when searching for  terms like 法華経 in naive applications, since the kanji characters making up that word are  separated by intervening ruby text.</p>
</section>

<section id="does-it-support-the-use-case-9" rel="bibo:chapter" resource="#c2-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="c2-ucsupport"><span class="secno">4.2.2 </span>Does it support the use case?</h4>
<p>Yes. </p>
</section>
</section>


<section rel="bibo:chapter" resource="#approachc4" typeof="bibo:Chapter" id="approachc4">
<h3 id="h3_approachc4" role="heading" aria-level="2"><span class="secno">4.3 </span>Extension Spec approach</h3>
<p>The extension spec allows for  markup like this.
</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">法</span>•<span class="rb">華</span>•<span class="rb">経</span>•<span class="rt">ほ</span>•<span class="rt">け</span>•<span class="rt">きょう</span><span class="markup">&lt;/ruby&gt;</span></pre>
<p>It also allows you to indicate jukugo word boundaries while marking up a whole compound phrase in a single ruby element, if that's what you want to do.</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">常</span>•<span class="rb">用</span>•<span class="markup"></span><span class="rt">じょう</span>•<span class="rt">よう</span>•<span class="rb">漢</span>•<span class="rb">字</span>•<span class="markup"></span><span class="rt">かん</span>•<span class="rt">じ</span><span class="rt"></span>•<span class="rb">表</span>•<span class="markup"></span><span class="rt">ひょう</span><span class="rt"></span><span class="markup">&lt;/ruby&gt;</span></pre>

<section id="pros-and-cons-8" rel="bibo:chapter" resource="#c4proscons" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="c4proscons"><span class="secno">4.3.1 </span>Pros and cons</h4>

<p>This approach  does associate <code class="kw">rb</code> elements with <code class="kw">rt</code> elements, and define the boundaries of the jukugo word, and is economical on markup.</p>
<p>The fact that you can define the boundaries of multiple compound words within a ruby element covering a whole compound phrase is an additional bonus. If you want the jukugo styling to apply across the whole compound phrase you would need to use a single group of <code class="kw">rb</code> elements, followed by a single group of <code class="kw">rt</code> elements.</p>
</section>

<section id="implementations-3" rel="bibo:chapter" resource="#c4-implementations" typeof="bibo:Chapter">
<h4 role="heading" aria-level="3" id="c4-implementations"><span class="secno">4.3.2 </span>Implementations</h4>
<p>IE's rendering of this markup is close to jukugo ruby already, but it doesn't allow line-breaking within the word. </p>
<p><a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?test=ruby-1025&amp;format=html5" class="external text" href="http://www.w3.org/International/tests/html-css/generate?test=ruby-1025&amp;format=html5">Line breaks in ruby elements</a></p>
</section>

<section id="does-it-support-the-use-case-10" rel="bibo:chapter" resource="#c3-ucsupport" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="c3-ucsupport"><span class="secno">4.3.3 </span>Does it support the use case?</h4>
<p>Yes.</p>
</section>

</section>

</section>




<section rel="bibo:chapter" resource="#bopomofo" typeof="bibo:Chapter" id="bopomofo">
<!--OddPage--><h2 id="h2_bopomofo" role="heading" aria-level="1"><span class="secno">5. </span>Use Case D: Bopomofo ruby</h2>
  <p>Traditional Chinese is often annotated with a phonetic script called  <dfn id="dfn-zh-y-n-f-h-o">zhùyīn fúhào</dfn>, also known as <dfn id="dfn-bopomofo-1">bopomofo</dfn>. </p>
  <p> As described in the introduction, rather than appearing above or below the
    main text, the annotation is usually situated vertically to the right of each character, whether the main text is vertical or horizontal.</p>
  <p>For example: </p>
  <blockquote>
    <p><img title="A picture of bopomofo based ruby with Traditional Chinese." alt="A picture of bopomofo based ruby with Traditional Chinese." src="images/tc-ruby.png"></p>
  </blockquote>
  <p>Bopomofo annotations are usually done on a character by character basis. The ruby text can contain a tone marker, always written after the bopomofo characters, but appearing in different places depending on the type of tone and the number of bopomofo characters.</p>
  <p>One tone appears above the vertical stack of bopomofo characters. The others appear to the right of the column of bopomofo characters, and the vertical position depends on the number of bopomofo characters in the stack.</p>
  <p>It is also possible to find bopomofo annotations that are horizontal, where the same complex positioning of tone marks occurs, though it is much less common.</p>
  <p>The precise positioning of tone marks is the most difficult thing to manage with respect to bopomofo ruby, but this is not markup dependent. In markup terms, this kind of ruby is just mono-ruby.  It is likely that a CSS property value will be needed to indicate that special handling is needed here, and that the browser itself apply the precise positioning of the ruby text content.</p>

<section rel="bibo:chapter" resource="#approachd1" typeof="bibo:Chapter" id="approachd1">
<h3 id="h3_approachd1" role="heading" aria-level="2"><span class="secno">5.1 </span>XHTML approach</h3>
    <p>For the XHTML approach use simple ruby.</p>
    <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">左</span>•<span class="rt">ㄗㄨㄛˇ</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">邊</span>•<span class="rt">ㄅㄧㄢ</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">一</span>•<span class="rt">ㄧ</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">隻</span>•<span class="rt"><br>ㄓ</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">貓</span>•<span class="rt">ㄇㄠ</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">喵</span>•<span class="rt">ㄇㄧㄠ˙</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">喵</span>•<br><span class="rt">ㄇㄧㄠ˙</span>&lt;/ruby&gt;&lt;ruby&gt;<span class="rb">叫</span>•<span class="rt">ㄐㄧㄠˋ</span><span class="rt"></span><span class="markup">&lt;/ruby&gt;</span></pre>
    <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">法</span>•<span class="rb">華</span>•<span class="rb">経</span><span class="markup">&lt;/rbc&gt;</span><span class="markup">&lt;rtc&gt;</span><span class="rt">ほ</span>•<span class="rt">け</span>•<span class="rt">きょう</span><span class="markup">&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
    
<section rel="bibo:chapter" resource="#d1proscons2" typeof="bibo:Chapter" id="d1proscons2"><h4 id="h4_d1proscons2" role="heading" aria-level="3"><span class="secno">5.1.1 </span>Pros and cons</h4>
    <p>This approach, like all the others, supports bopomofo ruby just as easily as mono-ruby. It is, however, very heavy on markup. </p>
    <p>This approach  can prevent hits when searching for  compound nouns in naive applications, since the ideographic characters making up that word are  separated by intervening ruby text, and possibly <code class="kw">rp</code> elements too. </p>
</section>

<section rel="bibo:chapter" resource="#d1-ucsupport3" typeof="bibo:Chapter" id="d1-ucsupport3">
<h4 id="h4_d1-ucsupport3" role="heading" aria-level="3"><span class="secno">5.1.2 </span>Does it support the use case?</h4>
    <p>Yes, although with much more markup than desirable. </p>
</section>
</section>

<section rel="bibo:chapter" resource="#approachd2" typeof="bibo:Chapter" id="approachd2">
<h3 id="h3_approachd2" role="heading" aria-level="2"><span class="secno">5.2 </span>HTML5 approach</h3>
    <p>It would  be possible to just use the current HMTL5 ruby model, but style the <code class="kw">ruby</code> element as jukugo ruby.</p>
    <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">左</span>•<span class="rt">ㄗㄨㄛˇ</span>•<span class="rb">邊</span>•<span class="rt">ㄅㄧㄢ</span>•<span class="rb">一</span>•<span class="rt">ㄧ</span>•<span class="rb">隻</span>•<span class="rt">ㄓ</span>•<span class="rb">貓</span>•<span class="rt">ㄇㄠ</span>•<span class="rb">喵</span>•<span class="rt">ㄇㄧㄠ˙</span>•<span class="rb">喵</span>•<span class="rt">ㄇㄧㄠ˙</span>•<span class="rb">叫</span>•<span class="rt">ㄐㄧㄠˋ</span><span class="markup">&lt;/ruby&gt;</span></pre>

<section id="pros-and-cons-9" rel="bibo:chapter" resource="#d2proscons2" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="d2proscons2"><span class="secno">5.2.1 </span>Pros and cons</h4>
    <p>The markup supports the associations adequately.</p>
    <p>It is difficult to break a line using this model without introducing spurious spaces.</p>
    <p>This approach  can prevent hits when searching for  compound nouns in naive applications, since the ideographic characters making up that word are  separated by intervening ruby text, and possibly <code class="kw">rp</code> elements too. </p>
</section>

<section id="does-it-support-the-use-case-11" rel="bibo:chapter" resource="#d2-ucsupport2" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="d2-ucsupport2"><span class="secno">5.2.2 </span>Does it support the use case?</h4>
    <p>Yes.</p>
</section>
</section>

<section rel="bibo:chapter" resource="#approachd3" typeof="bibo:Chapter" id="approachd3">
<h3 id="h3_approachd3" role="heading" aria-level="2"><span class="secno">5.3 </span>Extension Spec approach</h3>
    <p>The extension spec allows for  markup identical to the HTML5 approach, but also like this. </p>
    <pre><span class="markup">&lt;ruby&gt;</span><span class="rb">左</span>•<span class="rb">邊</span>•<span class="rb">一</span>•<span class="rb">隻...</span>•<span class="rt">ㄗㄨㄛˇ</span>•<span class="rt">ㄅㄧㄢ</span>•<span class="rt">ㄧ</span>•<span class="rt">ㄓ...</span><span class="markup">&lt;/ruby&gt;</span></pre>

<section id="pros-and-cons-10" rel="bibo:chapter" resource="#d3proscons2" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="d3proscons2"><span class="secno">5.3.1 </span><span class="mw-headline">Pros and cons</span></h4>
    <p>While the latter approach would allow for easy matching of compound words with a naïve search application, it is not clear whether the fallback produced by browsers that don't support ruby would be better or worse than the HTML5 model.    </p>
</section>

<section id="does-it-support-the-use-case-12" rel="bibo:chapter" resource="#d3-ucsupport2" typeof="bibo:Chapter"><h4 role="heading" aria-level="3" id="d3-ucsupport2"><span class="secno">5.3.2 </span><span class="mw-headline">Does it support the use case?</span></h4>
    <p>Yes. </p>
</section>

</section>

</section>




<section rel="bibo:chapter" resource="#usecasee" typeof="bibo:Chapter" id="usecasee">
<!--OddPage--><h2 id="h2_usecasee" role="heading" aria-level="1"><span class="secno">6. </span>Use Case E: Double-sided ruby</h2>
<p>Sometimes ruby is found on both sides of the base text. 
</p><p>There are a couple of sub use cases:

</p>
<ul>
<li> Double-sided ruby is often a combination of phonetic information (which is done on a mono ruby basis) plus semantic or other ruby text (which is realized as group ruby).
</li>
<li> For phonetic and semantic cases, often the two ruby texts are applied to different parts of the base text, like <a rel="nofollow" title="http://fontworks.co.jp/font/knowledge/image/caption_cont02_img02.gif" class="external text" href="http://fontworks.co.jp/font/knowledge/image/caption_cont02_img02.gif">this.</a></li><li> Sometimes the author may want to put mono ruby on both sides of the base text, so that each ruby base is associated with two ruby texts that are positioned relative to that ruby base.
</li></ul><h2 id="d-realexamples"><span class="mw-headline">Real Examples</span></h2>

<ul><li> Sometimes used in novels.
<ul>
<li> Aozora Bunko (<a rel="nofollow" title="http://en.wikipedia.org/wiki/Aozora_bunko" class="external text" href="http://en.wikipedia.org/wiki/Aozora_bunko">Wikipedia</a>) has 10,870 novels and 17 of them have double-sided ruby, which is roughly 0.16%. <a rel="nofollow" title="http://www2.mmc.atomi.ac.jp/~ohtsuka/data.html" class="external text" href="http://www2.mmc.atomi.ac.jp/~ohtsuka/data.html">Atomi University's research</a> shows 65,065 books were published in Japan in year 2000, so simple math gives us about 102 books with double-sided ruby are published every year.
  <ul><li> <a rel="nofollow" title="http://iphonereader.seesaa.net/article/226179098.html" class="external text" href="http://iphonereader.seesaa.net/article/226179098.html">A review article of Aozora Bunko reader software</a>
</li></ul>
</li><li> Harry Potter uses double-sided ruby for subtitles of incantations. In <a rel="nofollow" title="http://fontworks.co.jp/font/knowledge/image/caption_cont02_img02.gif" class="external text" href="http://fontworks.co.jp/font/knowledge/image/caption_cont02_img02.gif">this picture</a>, the upper shows the sound while the lower shows the reading of the meaning.

</li></ul>
</li><li> Widely used in school textbooks for Japanese, social studies, and histories.
<ul><li> Examples: <a rel="nofollow" title="http://www.katsumi.co.jp/blog/2009/09/post_1132.html" class="external text" href="http://www.katsumi.co.jp/blog/2009/09/post_1132.html">1</a> <a rel="nofollow" title="http://blogs.yahoo.co.jp/keito_fuwafuwa/49032897.html" class="external text" href="http://blogs.yahoo.co.jp/keito_fuwafuwa/49032897.html">2</a> <a rel="nofollow" title="http://epub-spec-discussions.googlegroups.com/attach/747b2ffa2a01928e/ryougawa_rubi.jpg?gda=NbLu7UYAAACsBXcPvoVkqY3lXFpgETNlYyqZw0JIkgXeOOpb-J2SE2ZQeG0JxX8tsgUengMBWBa1Q5L708GJdOdYRVixv9nDE-Ea7GxYMt0t6nY0uV5FIQ&amp;view=1&amp;part=2" class="external text" href="http://epub-spec-discussions.googlegroups.com/attach/747b2ffa2a01928e/ryougawa_rubi.jpg?gda=NbLu7UYAAACsBXcPvoVkqY3lXFpgETNlYyqZw0JIkgXeOOpb-J2SE2ZQeG0JxX8tsgUengMBWBa1Q5L708GJdOdYRVixv9nDE-Ea7GxYMt0t6nY0uV5FIQ&amp;view=1&amp;part=2">3</a> <a title="Ruby both side.pdf" class="internal" href="/International/wiki/images/b/bb/Ruby_both_side.pdf">4</a>
</li>
<li> Exam question examples: <a rel="nofollow" title="http://www.center.spec.ed.jp/?action=common_download_main&amp;upload_id=2993" class="external text" href="http://www.center.spec.ed.jp/?action=common_download_main&amp;upload_id=2993">1</a> (p. 10) <a rel="nofollow" title="http://www.center.spec.ed.jp/?action=common_download_main&amp;upload_id=2996" class="external text" href="http://www.center.spec.ed.jp/?action=common_download_main&amp;upload_id=2996">2</a> (p. 10) <!--a rel="nofollow" title="http://www.pref.osaka.jp/attach/6221/00067904/zenki-kokugo2.pdf" class="external text" href="http://www.pref.osaka.jp/attach/6221/00067904/zenki-kokugo2.pdf">3</a> (p. 2) <a rel="nofollow" title="http://www.mie-c.ed.jp/koukou/boshu/h23/kokugo-m.pdf" class="external text" href="http://www.mie-c.ed.jp/koukou/boshu/h23/kokugo-m.pdf">4</a> (p. 3, single-side double ruby) <a rel="nofollow" title="http://www.pref.hiroshima.lg.jp/kyouiku/hotline/06senior/2nd/h23_nyuushi/h23_kou/h23_kou.kennsayoushi/11%2823%29kokugomonndaiyousi.pdf" class="external text" href="http://www.pref.hiroshima.lg.jp/kyouiku/hotline/06senior/2nd/h23_nyuushi/h23_kou/h23_kou.kennsayoushi/11%2823%29kokugomonndaiyousi.pdf">5</a> (p. 6)-->

</li></ul>
</li><li> Widely used in Japanese history research papers.
<ul>
<li> One ruby for the pseudo-Chinese reading (On-yomi in Japanese) and another for Japanese reading (Kun-yomi in Japanese.)
</li><li> Example: <a rel="nofollow" title="http://klibredb.lib.kanagawa-u.ac.jp/dspace/bitstream/10487/3712/1/kana-12-5-0009.pdf" class="external text" href="http://klibredb.lib.kanagawa-u.ac.jp/dspace/bitstream/10487/3712/1/kana-12-5-0009.pdf">A research paper used in title (page 2) and also in page 13 to 14 (printed page number 164 to 165)</a>
</li><li> Example: <a rel="nofollow" title="http://d.hatena.ne.jp/t1mannen/20110513" class="external text" href="http://d.hatena.ne.jp/t1mannen/20110513">An article of a school law established in 1872</a>
</li><li> Often used in ancient documents research papers because the reading of ancient words only found in written materials were not determined and there are more than one possible way to read them.
</li></ul>
</li>
<li> Kanbun (classical Chinese text with annotation to help Japanese to read, <a rel="nofollow" title="http://en.wikipedia.org/wiki/Kanbun" class="external text" href="http://en.wikipedia.org/wiki/Kanbun">Wikipedia</a>) usually require double-sided ruby.
  
  <ul><li> <a rel="nofollow" title="http://www.lian.com/TANAKA/comhosei/print/photo/pp00016.jpg" class="external text" href="http://www.lian.com/TANAKA/comhosei/print/photo/pp00016.jpg">Example</a>
  </li><li> In a Q&amp;A site, <a rel="nofollow" title="http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1426219624" class="external text" href="http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1426219624">the question</a> is about how to layout Kanbun in word processors, and the best answer teaches how to enter double-sided ruby using Ichitaro, one of the most popular word processors in Japan.
  </li>
  </ul>
</li>
</ul>
<p>Note that sometimes the ruby text on either side of the base corresponds to a different set of base characters. Here is an example: <img src="images/protego.png" alt="The word mamore! annotated with mamo above and protego below."></p>

<section rel="bibo:chapter" resource="#approache1" typeof="bibo:Chapter" id="approache1">
<h3 id="h3_approache1" role="heading" aria-level="2"><span class="secno">6.1 </span>XHTML approach</h3>
  <p>Use complex ruby from the Ruby Annotation spec. The following markup allows for two <code class="kw">rt</code> elements to be associated with each <code class="kw">rb</code> like mono ruby. </p>
  <pre><span class="markup">&lt;ruby&gt;&lt;rbc&gt;</span><span class="rb">東</span>•<span class="rb">南</span><span class="rb"></span><span class="markup">&lt;/rbc&gt;</span><span class="markup">&lt;rtc&gt;</span><span class="rt">とう</span>•<span class="rt">なん</span><span class="markup">&lt;/rtc&gt;&lt;rtc&gt;<span class="rt">tou</span>•<span class="rt">nan</span>&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
  <p>The following markup, incorporating the <code class="kw">rbspan</code>, could be used for associating mono ruby on the top and group ruby below.</p>
  <pre><span class="markup">&lt;ruby&gt;&lt;rbc&gt;</span><span class="rb">東</span>•<span class="rb">南</span><span class="rb"></span><span class="markup">&lt;/rbc&gt;</span><span class="markup">&lt;rtc&gt;</span><span class="rt">とう</span>•<span class="rt">なん</span><span class="markup">&lt;/rtc&gt;&lt;rtc rbspan="2"&gt;<span class="rt"></span><span class="rt">たつみ</span>&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
  <h3 id="d1proscons">Pros and cons</h3>
  <p>This model allows for double-sided ruby, however there is a lot of markup, which makes it hard to author and maintain. </p>
  <p>You can achieve quite complicated tabular effects with <code class="kw">rbspan</code> attributes, but it's a little complicated to keep track of things, and it's not clear that that level of complexity is really required. </p>
  <h3 id="d1-implementations">Implementations</h3>
  <p>Firefox has an add-on that supports this approach, and has code in the browser that is close to being able to support this approach but is not yet part of the released product.</p>
  <h4 role="heading" aria-level="2" id="d1-ucsupport">Does it support the use case?</h4>
  <p>Yes, but rather complicated markup. </p>
</section>

<section rel="bibo:chapter" resource="#approache2" typeof="bibo:Chapter" id="approache2">
<h3 id="h3_approache2" role="heading" aria-level="2"><span class="secno">6.2 </span>HTML5 approach</h3>
<p>To arrange mono-ruby above and below the base text, you can use the following approach, where the base text has no <code class="kw">rb</code> tags, of course:</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">東</span><span class="rb"></span>•<span class="rt">とう</span>•<span class="rt">tou</span>•<span class="rb">南</span>•<span class="rt">なん</span>•<span class="rt">nan</span>&lt;/ruby&gt;</pre>
<p>You could achieve gaps on one side or the other by having no <code class="kw">rt</code> element or an empty element. </p>
<p>To arrange mono-ruby above and a single group ruby below the base text, you can use the following approach:</p>
<pre><span class="markup">&lt;ruby&gt;&lt;ruby&gt;</span><span class="rb">東</span><span class="rb"></span>•<span class="rt">とう</span>•<span class="rb">南</span>•<span class="rt">なん</span>&lt;/ruby&gt;<span class="rt">たつみ</span>&lt;/ruby&gt;</pre>
<p> In the following   <code class="kw">ruby</code> element  only the first base text item has ruby text on both sides.</p>
<pre><span class="markup">&lt;ruby&gt;&lt;ruby&gt;</span><span class="rb">護</span>•<span class="rt">まも</span>•<span class="rb">れ</span>&lt;/ruby&gt;<span class="rt">プロテゴ</span>&lt;/ruby&gt;！</pre>
<h3 id="d2proscons">Pros and cons</h3>
<p>It would be useful to specify in the HTML5 spec that by default an <code class="kw">rt</code> immediately following a <code class="kw">ruby</code> element should go below the base text. The desired effect could presumably be achieved using styling (with a selector such as <code>ruby+rt</code>) if CSS ruby-position is supported.</p>
<p>This is actually fairly simple markup, compared to the ruby annotation complex ruby markup.
</p>
<p>When two <code class="kw">rt</code> are paired with different parts of the base, nesting only works when one contains the other; e.g., for base "ABC", the first <code class="kw">rt</code> is for "AB" and the second <code class="kw">rt</code> is for "BC". From the data we have today, it looks like that covers  most use cases, but it might not be good enough for Kanbun use cases. In this regard,  we may need more research.</p>
<p>Having two different ways of arranging double-sided ruby is far from ideal, since it makes for a complicated model for content authors and implementers</p>
<h3 id="d2-implementations">Implementations</h3>
<p><a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?test=ruby-020&amp;format=h5" class="external text" href="http://www.w3.org/International/tests/html-css/generate?test=ruby-020&amp;format=h5">Nested ruby</a> works on Chrome and Safari, but not IE, but in Webkit both <code class="kw">rt</code> elements appear above the base, instead of one above and one below (for horizontal text).</p>
<p><a rel="nofollow" title="http://www.w3.org/International/tests/html-css/generate?test=ruby-021&amp;format=html5" class="external text" href="http://www.w3.org/International/tests/html-css/generate?test=ruby-021&amp;format=html5">Doubled rt tags after base text</a> Doesn't work on Chrome/Safari, but both rts are treated as a single annotation of the base text (ie. side by side but over the base text) by IE. </p>
<p>(See a summary of results and links to the test framework at <a rel="nofollow" title="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#multiply" class="external free" href="http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#multiply">http://www.w3.org/International/tests/html-css/ruby/results-ruby-markup#multiply</a> (Multiplying markup) ) </p>
<h4 role="heading" aria-level="2" id="d2-ucsupport">Does it support the use case?</h4>

<p>Yes, but complicated to author and implement because two different approaches needed.</p>
</section>

<section rel="bibo:chapter" resource="#approache3" typeof="bibo:Chapter" id="approache3">
<h3 id="h3_approache3" role="heading" aria-level="2"><span class="secno">6.3 </span>Ruby Extension approach</h3>
<p>Add an <code class="kw">rtc</code> element that can contain ruby text or a series of <code class="kw">rt</code> elements. </p><p>For example, to have mono ruby on both sides of a word, use
</p>
<p>To arrange mono-ruby above and below the base text, you can use the following approach, with minimal markup:</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">東</span>•<span class="rb">南</span>•<span class="rt">とう</span>•<span class="rt">なん</span>&lt;rtc&gt;<span class="rt">tou</span>•<span class="rt">nan</span><span class="markup">&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
<p>You could achieve gaps on one side or the other by having an empty <code class="kw">rt</code> element. </p>
<p>To arrange mono-ruby above and a single group ruby below the base text, you can use the following approach:</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">東</span>•<span class="rb">南</span>•<span class="rt">とう</span>•<span class="rt">なん</span>&lt;rtc&gt;<span class="rt">たつみ</span><span class="markup">&lt;/rtc&gt;&lt;/ruby&gt;</span></pre>
<p> In the following   <code class="kw">ruby</code> element  only the first base text item has ruby text on both sides. There is an empty <code class="kw">rt</code> element just before the <code class="kw">rtc</code> element.</p>
<pre><span class="markup">&lt;ruby&gt;</span><span class="rb">護</span>•<span class="rb">れ</span>•<span class="rt">まも</span>•<span class="rt"></span>&lt;rtc&gt;<span class="rt">プロテゴ</span><span class="markup">&lt;/rtc&gt;&lt;/ruby&gt;</span>！</pre>
<h3 id="d4proscons">Pros and cons</h3>
<p>This offers a more uniform approach to double-sided ruby markup, however it requires some rules for interpreting the markup and the mapping between elements. 
</p><p>It can be extended to handle everything else in Ruby Annotation's complex ruby model, if that becomes necessary in the future.
</p>
<p>Rules will need to be established for situations where the numbers of <code class="kw">rb</code> and <code class="kw">rt</code> elements doesn't match expectations.</p>
<h3 id="d4-ucsupport">Does it support the use case?</h3>
<p>Yes.</p>
</section>

</section>



<section rel="bibo:chapter" resource="#appendixa" typeof="bibo:Chapter" class="appendix" id="appendixa">
<!--OddPage--><h2 id="h2_appendixa" role="heading" aria-level="1"><span class="secno">A. </span>Additional ruby markup notes</h2>
<p>The document <a href="/International/notes/ruby-extension/">Ruby extension markup</a>  examines various possible models for marking up ruby using the proposed <a href="http://darobin.github.io/html-ruby/">Ruby Extension Spec as of 27 February 2013</a>, and considers whether the markup is conformant or not. It also considers whether the markup is conformant with the model found in the <a href="http://www.w3.org/TR/2012/WD-html5-20121025/">HTML5 draft of 25 October 2012</a>.  </p>
<p>It also provides a foundation for the development of future guidelines for authors on how to mark up ruby, and for development of basic ruby tests.</p>
</section>





<section rel="bibo:chapter" resource="#app-b" typeof="bibo:Chapter" class="appendix" id="app-b">
  <!--OddPage--><h2 id="h2_app-b" role="heading" aria-level="1"><span class="secno">B. </span>References</h2>
  <ul>
    <li>
      <p><abbr title="World Wide Web Consortium">W3C</abbr> Recommendation. 2001. "Ruby Annotation", <a href="http://www.w3.org/TR/2001/REC-ruby-20010531/">http://www.w3.org/TR/2001/REC-ruby-20010531/</a></p>
    </li>
    <li>
      <p><abbr title="World Wide Web Consortium">W3C</abbr> Candidate Recommendation. 2012. "HTML5", <a href="http://darobin.github.io/html-ruby/snapshot20130225.html"></a><a href="http://www.w3.org/TR/2012/CR-html5-20121217/">http://www.w3.org/TR/2012/CR-html5-20121217/</a></p>
    </li>
    <li>
      <p><abbr title="World Wide Web Consortium">W3C</abbr> Extension Specification Unofficial Draft. 2013. "HTML Ruby Markup Extensions", <a href="http://www.w3.org/TR/2001/REC-ruby-20010531/"></a><a href="http://www.w3.org/TR/2012/CR-html5-20121217/">http://darobin.github.io/html-ruby/snapshot20130225.html</a></p>
    </li>
  </ul>
</section>

<section rel="bibo:chapter" resource="#app-c" typeof="bibo:Chapter" class="appendix" id="app-c">
  <!--OddPage--><h2 id="h2_app-c" role="heading" aria-level="1"><span class="secno">C. </span> Revision Log</h2>
  <p>No feedback requesting changes was received since the previous 'Last Call' version of this document was published, so no changes have been made to this document since the previous publication other than those needed to prepare it for publication as a Working Group Note.</p></section><section id="acknowledgements" class="appendix">
<!--OddPage--><h2 id="h2_acknowledgements" role="heading" aria-level="1"><span class="secno">D. </span>Acknowledgements</h2>
<p>Thanks to Elika Etemad and Koji Ishii, who provided some of the ideas and in some cases material included here. Also members of the Internationalization Working Group and Interest Group, who provided feedback and suggestions.</p>
</section>
  

</body></html>