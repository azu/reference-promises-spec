<!-- http://www.w3.org/TR/xmlenc-core1-explain/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <title>Functional Explanation of Changes in XML Encryption 1.1</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    
          
<!--      <script src='../../../dap-dev/ReSpec.js/js/respec.js' -->
<!--              class='remove'></script> -->
     
    
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}


/* --- --- */
ol.algorithm { counter-reset:numsection; list-style-type: none; }
ol.algorithm li { margin: 0.5em 0; }
ol.algorithm li:before { font-weight: bold; counter-increment: numsection; content: counters(numsection, ".") ") "; }

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}
</style><link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-WG-NOTE"><!--[if lt IE 9]><script src='http://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
  <body><div class="head">
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="http://www.w3.org/Icons/w3c_home" alt="W3C"></a>
    
  </p>
  <h1 class="title" id="title">Functional Explanation of Changes in XML Encryption 1.1</h1>
  
  <h2 id="w3c-working-group-note-11-april-2013"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note 11 April 2013</h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a href="http://www.w3.org/TR/2013/NOTE-xmlenc-core1-explain-20130411/">http://www.w3.org/TR/2013/NOTE-xmlenc-core1-explain-20130411/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/xmlenc-core1-explain/">http://www.w3.org/TR/xmlenc-core1-explain/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://www.w3.org/2008/xmlsec/Drafts/xmlenc-core1-explain/">http://www.w3.org/2008/xmlsec/Drafts/xmlenc-core1-explain/</a></dd>
    
    
    
    
    
      <dt>Previous version:</dt>
      <dd><a href="http://www.w3.org/TR/2013/NOTE-xmlenc-core1-explain-20130124/">http://www.w3.org/TR/2013/NOTE-xmlenc-core1-explain-20130124/</a></dd>
    
    
    <dt>Editor:</dt>
    <dd><span>Frederick Hirsch</span></dd>

    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 
        2013
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> 
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
      </p>
    
  
  <hr>
</div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>This document provides a summary of non-editorial changes in XML Encryption
        1.1 from the XML Encryption Recommendation.</p>
    </section><section id="sotd" class="introductory"><h2>Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other
          documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
          of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports
          index</a> at http://www.w3.org/TR/.</em>
        </p>
        
      <p>In the case of any difference between this document and the  
XML Encryption 1.1 
specification [<cite><a class="bibref" href="#bib-XMLENC-CORE1">XMLENC-CORE1</a></cite>], the XML Encryption 1.1 specification
        is authoritative.
      </p>
      <p>This Working Group Note publication updates the references that
      have changed since the previous publication  (<a href="Overview_diff.html">diff</a>).</p> 
    
        <p>
          This document was published by the <a href="http://www.w3.org/2008/xmlsec/">XML Security Working Group</a> as a Working Group Note.
          
          
          If you wish to make comments regarding this document, please send them to 
          <a href="mailto:public-xmlsec@w3.org">public-xmlsec@w3.org</a> 
          (<a href="mailto:public-xmlsec-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="http://lists.w3.org/Archives/Public/public-xmlsec/">archives</a>).
          
          
          
          
        All comments are welcome.
        
        
          </p><p>
            Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership.
            This is a draft document and may be updated, replaced or obsoleted by other documents at 
            any time. It is inappropriate to cite this document as other than work in progress.
          </p>
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/42458/status" rel="disclosure">public list of any patent disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes instructions for 
            disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the
            information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 class="introductory">Table of Contents</h2><ul class="toc"><li class="tocline"><a href="#sec-Introduction" class="tocxref"><span class="secno">1. </span>Introduction</a></li><li class="tocline"><a href="#sec-Changes" class="tocxref"><span class="secno">2. </span>Changes</a><ul class="toc"><li class="tocline"><a href="#sec-DerivedKeysChange" class="tocxref"><span class="secno">2.1 </span>Added Key Derivation</a></li><li class="tocline"><a href="#sec-EllipticCurveAlgorithm" class="tocxref"><span class="secno">2.2 </span>Added Elliptic Curve Diffie-Hellman Key Agreement</a></li><li class="tocline"><a href="#sec-AlgorithmAdditions" class="tocxref"><span class="secno">2.3 </span>Added Algorithms</a></li><li class="tocline"><a href="#sec-AlgorithmChanges" class="tocxref"><span class="secno">2.4 </span>Changed Algorithms</a></li><li class="tocline"><a href="#sec-ClarificationChanges" class="tocxref"><span class="secno">2.5 </span>Clarifications</a></li><li class="tocline"><a href="#sec-SecurityConsiderationChanges" class="tocxref"><span class="secno">2.6 </span>Security Considerations Changes</a></li><li class="tocline"><a href="#sec-OtherChanges" class="tocxref"><span class="secno">2.7 </span>Other Changes</a></li></ul></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">A. </span>References</a><ul class="toc"><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">A.1 </span>Informative references</a></li></ul></li></ul></section>
    

    <section id="sec-Introduction">
      <!--OddPage--><h2><span class="secno">1. </span>Introduction</h2>
      <p>This document summarizes non-editorial changes in 
        XML Encryption 1.1  [<cite><a class="bibref" href="#bib-XMLENC-CORE1">XMLENC-CORE1</a></cite>]
        from the
        <a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210/">XML Encryption Recommendation</a> [<cite><a class="bibref" href="#bib-XMLENC-CORE">XMLENC-CORE</a></cite>].
      </p>
    </section>
    <section id="sec-Changes">
      <!--OddPage--><h2><span class="secno">2. </span>Changes</h2>
      <section id="sec-DerivedKeysChange">
        <h3><span class="secno">2.1 </span>Added Key Derivation</h3>
        <p>Added support for derived keys, in particular:
        </p>
        <ul>
          <li>Added definitions of Key Derivation algorithms
            <ul>
              <li>Added <code>ConcatKDF</code> algorithm.</li>
              <li>Added <code>PBKDF2</code> algorithm.</li>
          </ul></li>
          <li>Added XML <code>DerivedKey</code> element          </li>
          <li>Updated <code>RetrievalMethod</code> description to include <code>DerivedKey</code>.</li>
          <li>Updated <code>ReferenceList</code> description to include <code>DerivedKey</code>.</li>
        </ul>
      </section>
      <section id="sec-EllipticCurveAlgorithm">
        <h3><span class="secno">2.2 </span>Added Elliptic Curve Diffie-Hellman Key Agreement</h3>
        <ul>
          <li>Added Elliptic Curve Diffie-Hellman Key Agreement</li> 
        </ul>
      </section>
      <section id="sec-AlgorithmAdditions">
        <h3><span class="secno">2.3 </span>Added Algorithms</h3>
        <ul>

          <li>Added <code>AES-128-pad</code>, <code>AES-192-pad</code>,
            and <code>AES-256-pad</code> Symmetric Key Wrap 
            algorithms as <em class="rfc2119" title="OPTIONAL">OPTIONAL</em>.</li> 

          <li>Added <code>SHA-384</code> Message Digest as <em class="rfc2119" title="OPTIONAL">OPTIONAL</em></li>

          <li>Added Canonical XML 1.1 (omit comments) as <em class="rfc2119" title="OPTIONAL">OPTIONAL</em></li>

          <li>Added Canonical XML 1.1 with comments as <em class="rfc2119" title="OPTIONAL">OPTIONAL</em></li>

          <li>Added key derivation algorithms, <code>ConcatKDF</code> as
            <em class="rfc2119" title="REQUIRED">REQUIRED</em>, <code>PBKDF2</code> as <em class="rfc2119" title="OPTIONAL">OPTIONAL</em>.</li> 

          <li>Added Key Agreements, Diffie-Hellman Key Agreement
            (Ephemeral-Static mode) with Legacy Key Derivation Function and
            explicit Key Derivation Functions as Optional, and Elliptic Curve
            Diffie-Hellman (Ephemeral-Static mode) as <em class="rfc2119" title="REQUIRED">REQUIRED</em></li>

        </ul>
        <p>For all algorithms added, algorithm identifiers and information
          were added to the specification.</p>
      </section>
      <section id="sec-AlgorithmChanges">
        <h3><span class="secno">2.4 </span>Changed Algorithms</h3>
        <ul>
          <li>Changed <code>SHA-1</code> Message Digest to <em class="rfc2119" title="REQUIRED">REQUIRED</em>, but DISCOURAGED.</li>

          <li>Changed <code>SHA-256</code> Message Digest to <em class="rfc2119" title="REQUIRED">REQUIRED</em></li>

          <li>Changed <code>AES-128-GCM</code> Block Encryption as <em class="rfc2119" title="REQUIRED">REQUIRED</em>,
            added warning about 
            use of CBC 
            block encryption algorithms and reference to paper on attack.</li>

          <li>Enabled <code>RSA-OAEP</code> Key Transport to be used with
            arbitrary mask 
            generation 
            functions (e.g. <code>SHA2</code> 
            based) by defining an
            additional <code>RSA-OAEP</code> <code>URI</code> and significantly 
            revising specification text. Added definition of
            new <code>xenc11:MGF</code> element. 

          </li><li>Removed Message Authentication section (not normative)</li>

        </ul>
      </section>
      <section id="sec-ClarificationChanges">
        <h3><span class="secno">2.5 </span>Clarifications</h3>
        <ul>
          <li>Clarified <code>AES-GCM</code> Block Encryption description of the
            algorithm as equivalent to 
            encryption followed by signing. </li>
          <li>Revised processing rules section for clarity on aspects of
            processing model that are normative and those that are not.</li>
          <li>Clarified the <code>Encoding</code> attribute in the
            <code>EncryptedType</code> element.</li> 
          <li>Clarified that the syntax of <code>URI</code> and
            <code>Transforms</code> in the 
            <code>CipherReference</code> element is defined in XML Signature.</li>
          <li>Clarified that base64 encoded text is contained as element
            content when <code>CipherValue</code> element is used. </li>
        </ul>
      </section>

      <section id="sec-SecurityConsiderationChanges">
        <h3><span class="secno">2.6 </span>Security Considerations Changes</h3>
        <ul>
          <li>Added security consideration information on Chosen Ciphertext
            Attacks, including attacks against encrypted data and encrypted key. Provide
            specific notes on  CBC
            Block Encryption vulnerability, and the Bleichenbacher
            attack.</li>
          <li>Added new security consideration for implementations to limit
            information included in error responses for security algorithms.</li>
          <li>Added new security consideration warning implementers to consider
            timing attacks. </li>
          <li>Added new security consideration section on Backward
            Compatibility attacks.</li>
        </ul>
      </section>
      <section id="sec-OtherChanges">
        <h3><span class="secno">2.7 </span>Other Changes</h3>
        <ul>
          <li>Provided new 1.1 namespace for new 1.1 schema items</li>
          <li>Replaced normative SP800-56A reference (NIST Special Publication
            800-56A: Recommendation for Pair-Wise Key Establishment Schemes Using
            Discrete Logarithm Cryptography (Revised). March 2007) for ECDH in
            Section 5.6.4 (Elliptic Curve Diffie-Hellman (ECDH) Key Agreement)
            with [<cite><a class="bibref" href="#bib-ECC-ALGS">ECC-ALGS</a></cite>] reference.</li>
        </ul>
      </section>
    </section>
  

<section id="references" class="appendix"><!--OddPage--><h2><span class="secno">A. </span>References</h2><p>Dated references below are to the latest known or appropriate edition of the referenced work.  The referenced works may be subject to revision, and conformant implementations may follow, and are encouraged to investigate the appropriateness of following, some or all more recent editions or replacements of the works cited. It is in each case implementation-defined which  editions are supported.</p><section id="informative-references"><h3><span class="secno">A.1 </span>Informative references</h3><dl class="bibliography"><dt id="bib-ECC-ALGS">[ECC-ALGS]</dt><dd>D. McGrew; K. Igoe; M. Salter. <a href="http://www.rfc-editor.org/rfc/rfc6090.txt"><cite>RFC 6090: Fundamental Elliptic Curve Cryptography Algorithms</cite></a>. February 2011. IETF Informational RFC. URL: <a href="http://www.rfc-editor.org/rfc/rfc6090.txt">http://www.rfc-editor.org/rfc/rfc6090.txt</a>
</dd><dt id="bib-XMLENC-CORE">[XMLENC-CORE]</dt><dd>Donald Eastlake; Joseph Reagle. <a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210/"><cite>XML Encryption Syntax and Processing</cite></a>. 10 December 2002. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210/">http://www.w3.org/TR/2002/REC-xmlenc-core-20021210/</a>
</dd><dt id="bib-XMLENC-CORE1">[XMLENC-CORE1]</dt><dd>J. Reagle; D. Eastlake; F. Hirsch; T. Roessler. <a href="http://www.w3.org/TR/2013/REC-xmlenc-core1-20130411/"><cite>XML Encryption Syntax and Processing Version 1.1</cite></a>. 11 April 2013. W3C Recommendation. URL: <a href="http://www.w3.org/TR/2013/REC-xmlenc-core1-20130411/">http://www.w3.org/TR/2013/REC-xmlenc-core1-20130411/</a>
</dd></dl></section></section></body></html>
