<!-- http://www.w3.org/TR/i18n-html-tech-bidi/ -->
<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document " about="" >
<head>
    <title>Authoring HTML: Handling Right-to-left Scripts</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.issue-title span, div.note-title span {
    text-transform: uppercase;
}
div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child { margin-top: 0 }
.issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}


</style><link rel="stylesheet" href="local.css" type="text/css">
    <!-- 
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    
    
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><link href="https://www.w3.org/StyleSheets/TR/W3C-WG-NOTE" rel="stylesheet"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--></head>
  <body id="respecDocument" role="document" class="h-entry"><div id="respecHeader" role="contentinfo" class="head">
  <p>
    
      <a href="http://www.w3.org/"><img src="https://www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72"></a>
    
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">Authoring HTML: Handling Right-to-left Scripts</h1>
  
  <h2 id="w3c-editor-s-draft-29-may-2014" property="dcterms:issued" datatype="xsd:dateTime" content="2014-05-29T12:46:35.000Z"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note <time class="dt-published" datetime="2014-05-29">03 June 2014</time></h2>
  <dl>
    
    <dt>This version:</dt>
      <dd><a href="http://www.w3.org/TR/2014/NOTE-i18n-html-tech-bidi-20140603/">http://www.w3.org/TR/2014/NOTE-i18n-html-tech-bidi-20140603/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/i18n-html-tech-bidi/">http://www.w3.org/TR/i18n-html-tech-bidi/</a></dd>
    
      <dt>Previous version:</dt>
      <dd><a href="http://www.w3.org/TR/2009/NOTE-i18n-html-tech-bidi-20090908/">http://www.w3.org/TR/2009/NOTE-i18n-html-tech-bidi-20090908/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://www.w3.org/International/docs/bp-html-bidi/">http://www.w3.org/International/docs/bp-html-bidi/</a></dd>
    
    
    
    
    
      
    
    
    
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Richard Ishida</span>, <abbr title="World Wide Web Consortium">W3C</abbr></span>
</dd>

    
    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2007-2014
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), 
        
        All Rights Reserved.
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        
          <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
        
        rules apply.
      </p>
    
  
  <hr>
</div>
  

    <section rel="bibo:Chapter" resource="#abstract" typeof="bibo:Chapter" datatype="" property="dcterms:abstract" class="introductory" id="abstract"><h2 id="h2_abstract" role="heading" aria-level="1">Abstract</h2><p>
This document provides advice to content authors using HTML markup and CSS style sheets about how to create pages for languages that use right-to-left scripts, such as Arabic, Hebrew, Persian, Thaana, Urdu, etc. It explains how to create content in right-to-left scripts that builds on but goes beyond the Unicode bidirectional algorithm, as well as how to prepare content for localization into right-to-left scripts.
  </p></section><section rel="bibo:Chapter" resource="#sotd" typeof="bibo:Chapter" id="sotd" class="introductory"><h2 id="h2_sotd" role="heading" aria-level="1">Status of This Document</h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication.
          Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the
          latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
          http://www.w3.org/TR/.</em>
        </p>
        This document provides advice on practical techniques related to the creation of content in languages that use right-to-left scripts, such as Arabic and Hebrew, or content in other languages that includes fragments of text in these scripts. 
        <p>
          This document was published by the <a href="http://www.w3.org/International/core">Internationalization Working Group</a> as an Editor's Draft.
          
          
            If you wish to make comments regarding this document, please send them to 
            <a href="mailto:www-international@w3.org">www-international@w3.org</a> 
            (<a href="mailto:www-international-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="http://lists.w3.org/Archives/Public/www-international/">archives</a>).
          
          
          
          
            All comments are welcome.
          
        </p>
        
          <p>Publication as a Working Group Note does not imply endorsement by the W3C Membership. This document may be updated, replaced or obsoleted by other documents at any time. Therefore, quotes or references to specific information in the document should include the publication date of this version, 3 June 2014. It is inappropriate to cite this document as other than a Working Group Note, which is not an endorsed W3C Recommendation.</p>
        
        
        
        <p>
          
            This document was produced by a group operating under the 
            <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
            Policy</a>.
          
          
          
            
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/32113/status" rel="disclosure">public list of any patent
              disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
          
          
        </p>
        
      
    
  
</section><section id="toc"><h2 id="h2_toc" role="heading" aria-level="1" class="introductory">Table of Contents</h2><ul id="respecContents" role="directory" class="toc"><li class="tocline"><a class="tocxref" href="#ri20030912.142608197"><span class="secno">1. </span>Introduction</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#audience"><span class="secno">1.1 </span>Who should use this document?</a></li><li class="tocline"><a class="tocxref" href="#howtouse"><span class="secno">1.2 </span>How to use this document</a></li></ul></li><li class="tocline"><a class="tocxref" href="#d2e254"><span class="secno">2. </span>Important concepts</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#ri20040808.101452727"><span class="secno">2.1 </span>Bidirectional (bidi) text</a></li><li class="tocline"><a class="tocxref" href="#ri20050208.093646470."><span class="secno">2.2 </span>Relationship between language and direction</a></li></ul></li><li class="tocline"><a class="tocxref" href="#bidisource"><span class="secno">3. </span>Problems with bidirectional source text in markup</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#ri20060623.095434796"><span class="secno">3.1 </span>Working with markup</a></li><li class="tocline"><a class="tocxref" href="#ri20060623.095429759"><span class="secno">3.2 </span>Adding escapes to the content</a></li><li class="tocline"><a class="tocxref" href="#ri20060625.110946746"><span class="secno">3.3 </span>Example source text in Internationalization Activity articles</a></li></ul></li><li class="tocline"><a class="tocxref" href="#ri20030218.135303232"><span class="secno">4. </span>Setting up a right-to-left page</a></li><li class="tocline"><a class="tocxref" href="#ri20030728.09474480"><span class="secno">5. </span>Setting direction on block elements</a></li><li class="tocline"><a class="tocxref" href="#form-dir"><span class="secno">6. </span>Managing text direction in form controls</a></li><li class="tocline"><a class="tocxref" href="#ri20030218.135304584"><span class="secno">7. </span>Mixing text direction inline</a></li><li class="tocline"><a class="tocxref" href="#ri20030510.102858118"><span class="secno">8. </span>Handling parentheses &amp; other mirrored characters</a></li><li class="tocline"><a class="tocxref" href="#ri20030218.135307338"><span class="secno">9. </span>Overriding the Unicode bidirectional algorithm</a></li><li class="tocline"><a class="tocxref" href="#app-c"><span class="secno">A. </span> Revision Log</a></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><span class="secno">B. </span>Acknowledgements</a></li></ul></section>
  
  <section rel="bibo:Chapter" resource="#ri20030912.142608197" typeof="bibo:Chapter" id="ri20030912.142608197">
    <!--OddPage--><h2 id="h2_ri20030912.142608197" role="heading" aria-level="1"><span class="secno">1. </span>Introduction</h2>
    
<section rel="bibo:Chapter" resource="#audience" typeof="bibo:Chapter" id="audience">
  <h3 id="h3_audience" role="heading" aria-level="2"><span class="secno">1.1 </span>Who should use this document?</h3>
<p>All   authors and producers of HTML  and CSS who are working with text in a language that uses a right-to-left script, or whose content will be localized to a language that uses a right-to-left script. </p>
<p>This document provides guidance for developers of HTML that enables support for international deployment. Enabling international deployment is the responsibility of all content authors, not just localization groups or vendors, and is relevant from the very start of development. <!--Ignoring the advice in this document, or relegating it to a later phase in the development process, will only add unnecessary costs and resource issues at a later date.--></p><p>It is assumed that readers of this document are proficient in developing HTML  pages – this document  provides advice specifically related to internationalization.</p>
</section>

<section rel="bibo:Chapter" resource="#howtouse" typeof="bibo:Chapter" id="howtouse">
  <h3 id="h3_howtouse" role="heading" aria-level="2"><span class="secno">1.2 </span>How to use this document</h3>
<div class="note"><div id="h_note_1" role="heading" aria-level="3" class="note-title"><span>Note</span></div><div class="">If you don't know much about bidirectional text, you may find it useful to familiarise yourself with the concepts introduced in the tutorial <a href="/International/tutorials/bidi-xhtml/">Creating HTML Pages in Arabic, Hebrew and Other Right-to-left Scripts</a>. That tutorial provides an overview of how to create pages in right-to-left scripts.</div></div>
<p>This document lists a number of <span class="new-term">do's and don'ts</span>, which we will refer to as techniques, related to authoring pages in right-to-left scripts. Each technique is followed by a 'more...' link which points to an article or page that gives further details and explanations. You can find additional information  by following the links after each section, which point to  sections of the <a href="http://www.w3.org/International/technique-index">technique index</a>.</p>
<p>If a technique says 'consider', there are usually pros and cons involved in following the advice given, and you should follow the link to more detailed information to be sure you understand these. In some cases it may be that not all browsers support the features described. In other cases, it may be purely up to you to decide whether or not this is a good idea.</p></section>
  </section>


<section rel="bibo:Chapter" resource="#d2e254" typeof="bibo:Chapter" id="d2e254">
<!--OddPage--><h2 id="h2_d2e254" role="heading" aria-level="1"><span class="secno">2. </span>Important concepts</h2>

<section rel="bibo:Chapter" resource="#ri20040808.101452727" typeof="bibo:Chapter" id="ri20040808.101452727">
  <h3 id="h3_ri20040808.101452727" role="heading" aria-level="2"><span class="secno">2.1 </span>Bidirectional (bidi) text</h3>
<p>'<span class="qterm">Bidirectional</span>', or '<span class="qterm">bidi</span>', text typically refers to text written using a mixture
		  of right-to-left and left-to-right scripts. For example, in Arabic and Hebrew text the content flows predominantly from right to left, but
		  embedded numbers or text in other scripts (such as Latin script) still runs left to right. Text in other languages,
		  such as English, can also be bidirectional if it includes excerpts from languages such as Arabic and Hebrew.</p><p>Scripts such as Arabic and Hebrew, which are predominantly right-to-left in orientation, may be referred
		  to as '<span class="qterm">RTL</span>' (right-to-left) scripts.</p>
		  <p> Several languages use the Arabic script, such as Urdu and Persian. Several other scripts run predominantly right-to-left: these include Thaana, N'ko, and Syriac, as well as other scripts no longer in common use, such as Cypriot, Phoenician and Kharoshthi.</p></section>
<section rel="bibo:Chapter" resource="#ri20050208.093646470." typeof="bibo:Chapter" id="ri20050208.093646470.">
  <h3 id="h3_ri20050208.093646470." role="heading" aria-level="2"><span class="secno">2.2 </span>Relationship between language and direction</h3>
<p>Direction is a property of scripts, not language.</p>
<p>Be careful about assuming that information about directionality can be inferred from information about the language of the text, as this is
	not always true. There must be a one-to-one mapping between directionality and language for this to work, and there often isn't. For example, Azerbaijani can be written using both right-to-left and left-to-right scripts, and the language code <code class="kw">az</code> is relevant for either. </p>
<p>In addition, when using directional markup inline, the markup and the values of that markup do not necessarily coincide with language declarations. </p><p>Also, markup used to indicate directionality has values that indicate that the normal directionality should be overridden; it is not possible to indicate that using language related values.</p><p>In the same way, attributes indicating text direction in HTML  do not, and should not,  provide information about the language of
			 text.</p>
<p>Although it is theoretically possible to infer direction correctly much of the time from language information (no browser does so at the time of writing), it is much better to use directional markup.</p></section>
</section>


<section rel="bibo:Chapter" resource="#bidisource" typeof="bibo:Chapter" id="bidisource">
  <!--OddPage--><h2 id="h2_bidisource" role="heading" aria-level="1"><span class="secno">3. </span>Problems with bidirectional source text in markup</h2>

<p>There is currently a lack of good editing environments for creating HTML pages using right-to-left scripts. Because of the fact that HTML markup and escapes contain punctuation and strongly typed letters, you are always working with bidirectional source text.  However, if the editing application is not aware (as is usually the case) that the markup is not ordinary text, then it can produce some odd effects and make coding difficult. </p><p>This section simply mentions some of those problems, so that you are forewarned. It doesn't propose a full solution, but it does offer some advice which may help with problematic editing environments.</p>

<section rel="bibo:Chapter" resource="#ri20060623.095434796" typeof="bibo:Chapter" id="ri20060623.095434796">
  <h3 id="h3_ri20060623.095434796" role="heading" aria-level="2"><span class="secno">3.1 </span>Working with markup</h3>
<p>Unless your editor recognizes markup in source text as not being normal text, the strongly typed letters and punctuation in the markup will appear in places you wouldn't expect, and sometimes interfere with the order of the content itself.</p><p>If you are creating a large amount of right-to-left text, it makes sense to set the base direction of the editing window in your editor to right-to-left.  This helps ensure that the content is correctly ordered. Unfortunately, this tends to increase the likelihood that your markup looks strange in the source text.</p>
<p><a class="fig-ref" href="#ri20060625.100504543">Fig. <span class="figno">1</span> <span class="fig-title">Markup being rearranged in LTR source code</span></a> shows some simple markup in a left-to-right context.</p>
<p>The source contains a <code class="kw">p</code> tag followed by a <code class="kw">class</code> attribute, followed by a <code class="kw">title</code> attribute with some Arabic text (العربي) as its value. The content of the paragraph itself (مشس هخصث خهس تخت تخهثز) starts with Arabic text. The resulting order in a left-to-right environment (where Arabic text is indicated by text in square brackets) is shown below.</p>
<figure id="ri20060625.100504543" class="example">
  <figcaption>Fig. <span class="figno">1</span> <span class="fig-title">Markup being rearranged in LTR source code</span></figcaption>
<p>&lt;p class="myclass" title="العربي"&gt;مشس هخصث خهس تخت تخهثز.&lt;/p&gt;</p>
<p><code>&lt;p class="myclass" title="[paragraph_content]&lt;"[title_value].&lt;/p&gt;</code>.</p>
</figure>
<p>As <a class="fig-ref" href="#ri20060625.102000852">Fig. <span class="figno">2</span> <span class="fig-title">Markup being rearranged in RTL source code</span></a> shows, things are hardly better if the overall context for the source code is right-to-left. In this case, the resulting order for the same source text can be seen here.</p>
<figure id="ri20060625.102000852" class="example">
  <figcaption>Fig. <span class="figno">2</span> <span class="fig-title">Markup being rearranged in RTL source code</span></figcaption>
<p dir="rtl">&lt;p class="myclass" title="العربي"&gt;مشس هخصث خهس تخت تخهثز.&lt;/p&gt;</p>
<p style="text-align:right;"><code>&lt;p/&gt;[paragraph_content]&lt;"[title_value]"=p class="myclass" title&gt;</code>.</p>
</figure>
<p>Note, however, that this source will display correctly in a user agent.  This is just a problem for reading and maintaining the source text.</p>
<p>The <code class="kw">title</code> attribute with Arabic text makes the situation much worse than normal in the above examples.  The problem arises because there is only 'punctuation' (ie. the quote and angle bracket) between two runs of strongly-typed right-to-left text, so the Unicode bidirectional algorithm considers this to be a single run of text. </p>
<p>It helps a little, if you can do it, to ensure that an attribute with a  value that uses left-to-right script text (in the example below, the <code class="kw">class</code> attribute) appears last.  This would make the text in a left-to-right context look as expected, and in a right-to-left context it would prevent the interaction of markup with content (see <a class="fig-ref" href="#ri20060625.103644305">Fig. <span class="figno">3</span> <span class="fig-title">Separating RTL text in the source</span></a>). There are still some issues, however – things are still a little jumbled, and the quotation marks are not where you would expect.</p>
<figure id="ri20060625.103644305" class="example">
<figcaption>Fig. <span class="figno">3</span> <span class="fig-title">Separating RTL text in the source</span></figcaption>
<p dir="rtl">&lt;p title="العربي" class="myclass"&gt;مشس هخصث خهس تخت تخهثز.&lt;/p&gt;</p>
<p style="text-align:right;"><code>&lt;p/&gt;[paragraph_content]&lt;"class="myclass "[title_value]"=p  title&gt;</code>.</p>
</figure>
<p>It can also help to start the content on a new line (see <a class="fig-ref" href="#ri20060625.105702196">Fig. <span class="figno">4</span> <span class="fig-title">Starting content after a new line</span></a>), however this doesn't always help with inline markup.  Also, you should try to avoid including white space before the closing markup, as this can <a href="/International/questions/qa-bidi-space">lead to other problems</a>.</p>
<figure id="ri20060625.105702196" class="example">
<figcaption>Fig. <span class="figno">4</span> <span class="fig-title">Starting content after a new line</span></figcaption>
<p dir="rtl">&lt;p class="myclass" title="العربي"&gt;</p><p dir="rtl">مشس هخصث خهس تخت تخهثز.&lt;/p&gt;</p>
</figure>
<p>If you are dealing with content that is predominantly in a right-to-left script, the ideal solution would be a source editor that recognizes markup as a special construct, and protects it to produce a sensible order for the characters in the source text. Not only that, but if your markup includes a <code class="kw">dir</code> attribute to change the directional context of the content, your editor should recognize this and produce a corresponding change in the order of the source code.</p>
<p>For small edits, if they are unable to find a bidi-aware editor, some authors actually prefer to use an editor that knows nothing about bidi. This means that they have to read the right-to-left content backwards, but at least makes it easier to locate and change the items they are interested in.</p>
</section>

<section rel="bibo:Chapter" resource="#ri20060623.095429759" typeof="bibo:Chapter" id="ri20060623.095429759">
<h3 id="h3_ri20060623.095429759" role="heading" aria-level="2"><span class="secno">3.2 </span>Adding escapes to the content</h3>
<p>If you use a Unicode  control character such as the <span class="uname">RIGHT TO LEFT MARK</span> (RLM) or <span class="uname">ZERO-WIDTH NON JOINER</span>, you will not usually be able to see it in the source text, since it is invisible.  For this reason you may think that a useful way to represent these characters is with the pre-defined HTML character entities,
			 <code class="kw">&amp;rlm;</code> and <code class="kw">&amp;zwnj;</code>, or their numeric equivalents,  <code>&amp;#x200F;</code> and <code>&amp;#x200C;</code>.  </p>
<p>Unfortunately, such an approach typically has its problems, too. As described in the previous section related to markup in source text, the strongly-typed left-to-right characters and non-alphabetic characters in the escapes will normally cause the Unicode bidirectional algorithm to display very odd looking source text.</p>
		    <p>Very few editors currently recognize, for example, the sequence of characters in <code>&amp;#x200F;</code> as a single unit representing a character with a strong right-to-left direction. They treat this as simply text containing punctuation, numbers and two strongly-typed left-to-right characters (x and F), and apply the Unicode bidirectional algorithm to that as they would to any normal text.</p>
		    <p><a class="fig-ref" href="#ri20060623.091251616">Fig. <span class="figno">5</span> <span class="fig-title">Escape sequences  rearranged in RTL source code.</span></a> shows a typical view of source text after  adding an escape to bidirectional text in right-to-left ordered source text. Focus on the constituent parts of the character escape itself, rather than the order of the Arabic text. The sequence <code>&amp;#x200F;</code> is displayed <code>;x200F#&amp;</code> when embedded in right-to-left text. At the beginning or end of embedded English text the escape is broken into fragments, and  appears as <code>x200F;text in english#&amp;</code> or <code>;text in english&amp;#x200F</code>, respectively.</p><p>Note that the source will still display correctly in a user agent.  This is just a problem for reading and maintaining the source text.</p>
<figure id="ri20060623.091251616" class="example">
<figcaption>Fig. <span class="figno">5</span> <span class="fig-title">Escape sequences  rearranged in RTL source code.</span></figcaption>
<p dir="rtl">مشس&amp;#x200F; هخصث خهس text in english تخت تخهثز.</p>
<p dir="rtl">مشس هخصث خهس &amp;#x200F;text in english تخت تخهثز.</p>
<p dir="rtl">مشس هخصث خهس text in english&amp;#x200F; تخت تخهثز.</p>
</figure>
            
<p>Various approaches are possible, if you want to avoid using  characters that are invisible in your source code:</p><ul><li><p>use an editor that recognizes an escape as a single unit representing a RLM/LRM character and produces the expected effect on the surrounding source text</p></li><li><p>use an editor that provides a symbolic visual representation of the RLM/LRM character, so that you don't lose sight of it</p></li><li><p>break the source code line around the escape - works in some cases</p></li></ul>
<p>Otherwise, you just have to learn to live with the undesirable reordering effects for escapes.</p>
</section>

<section rel="bibo:Chapter" resource="#ri20060625.110946746" typeof="bibo:Chapter" id="ri20060625.110946746">
<h3 id="h3_ri20060625.110946746" role="heading" aria-level="2"><span class="secno">3.3 </span>Example source text in Internationalization Activity articles</h3>
<p>Given the discussion above, representing examples of source text in examples can be quite difficult. Should we show source text in right-to-left order, or left-to-right?  Should we assume that the editor recognizes and handles markup and escapes as separate entities from the content, and create source fragments that look like that – or should we show source as it really looks for many people who don't have such clever editors? And particularly, should we assume that the bidirectional algorithm is properly applied in the source editor, picking up cues from the markup, or not?</p>
<p>In most of our articles right-to-left text in code samples is represented by UPPERCASE TRANSLATIONS, and left-to-right text by lowercase. In this case, text in code samples reflects the direction of characters as stored in memory, rather than the displayed result. The original version of text in uppercase translations would be read from right-to-left.</p>
<figure id="ri20060623." class="example">
  <figcaption>Fig. <span class="figno">6</span> <span class="fig-title">An example of how source text examples are written.</span></figcaption>
  <p>In the following fragment of source code the upper case characters represent the  text written with a right-to-left script. What you see is a translation of the text, written from left to right. All the other text in the example is in Latin script, and so is written in lower case. The punctuation is also arranged from left to right, reflecting the order of text in memory rather than the order when displayed.</p>
  <p><code>&lt;p&gt;the phrase '&lt;span dir="rtl" lang="he"&gt;INTERNATIONALIZATION ACTIVITY!&lt;/span&gt;' was found in this page.&lt;/p&gt;</code></p>
  <p>In real life, the actual text in this example would look as follows, where the Hebrew text between the quotes is read right-to-left:</p>
  <p>The phrase '<span dir="rtl" lang="he">פעילות הבינאום!</span>' was found on this page.</p>
</figure>
</section>
</section>
<section rel="bibo:Chapter" resource="#ri20030218.135303232" typeof="bibo:Chapter" id="ri20030218.135303232">
  <!--OddPage--><h2 id="h2_ri20030218.135303232" role="heading" aria-level="1"><span class="secno">4. </span>Setting up a right-to-left page</h2>

<p> Only use bidi markup to set the base direction for the document as a whole, or where you need to <em>change</em> the base direction.<a href="/International/questions/qa-html-dir#markkupcrazy" class="detail" title="Click for explanations and further details."> more...</a></p>
<p>Add <code>dir="rtl"</code> to the <code class="kw">html</code> tag any time the overall document direction is right-to-left. <a href="/International/questions/qa-html-dir#documentlevel" class="detail" title="Click for explanations and further details.">more...</a></p>
<p>Don't add <code>dir="rtl"</code> to the <code class="kw">body</code> tag.<a href="/International/questions/qa-html-dir#documentlevel" class="detail" title="Click for explanations and further details."> more...</a>  If you need to avoid the scroll bar moving on some browsers, put <code class="kw">dir</code> on the <code class="kw">head</code> element and a <code class="kw">div</code> just inside the <code class="kw">body</code> element. <a href="/International/questions/qa-html-dir#documentlevel" class="detail" title="Click for explanations and further details.">more...</a><a href="/International/questions/qa-html-dir#ie" class="detail" title="Click for explanations and further details."></a></p>
<p>Use logical order, not visual ordering for Hebrew, and choose an appropriate encoding.<a href="/International/questions/qa-visual-vs-logical" class="detail" title="Click for explanations and further details."> more...</a>     Except for very rare circumstances you should always use the Unicode encoding UTF-8.<a href="/International/questions/qa-visual-vs-logical" class="detail" title="Click for explanations and further details."> more...</a><a href="/International/questions/qa-choosing-encodings#useunicode" class="detail" title="Click for explanations and further details."></a> If you have to use an ISO encoding for a Hebrew page, declare the encoding as <code class="kw">ISO-8859-8-i</code> rather than <code class="kw">ISO-8859-8</code>.<a href="/International/questions/qa-visual-vs-logical" class="detail" title="Click for explanations and further details."> more...</a><a href="/International/questions/qa-visual-vs-logical#characterencodings" class="detail" title="Click for explanations and further details."></a></p>
<p>Do not use CSS styling to control directionality in HTML. Use markup.	<a href="/International/questions/qa-visual-vs-logical" class="detail" title="Click for explanations and further details.">more...</a><a href="/International/questions/qa-bidi-css-markup" class="detail" title="Click for explanations and further details."></a></p>
<div class="technique-links">
<p><b>Learn more about:</b></p>
<ul>
<li><a href="/International/techniques/authoring-html#direction">Text direction</a></li>
<li><a href="/International/techniques/authoring-html#using">Setting up a right-to-left page</a></li>
</ul>
</div>
</section>



<section rel="bibo:Chapter" resource="#ri20030728.09474480" typeof="bibo:Chapter" id="ri20030728.09474480">
  <!--OddPage--><h2 id="h2_ri20030728.09474480" role="heading" aria-level="1"><span class="secno">5. </span>Setting direction on block elements</h2>

<p>Add the <code class="kw">dir</code> attribute to a block element to change base direction. <a href="/International/questions/qa-html-dir#blockelements" class="detail" title="Click for explanations and further details.">more...</a> Don't use CSS or Unicode control characters to control directionality in HTML. Use markup. <a href="/International/questions/qa-bidi-css-markup" class="detail" title="Click for explanations and further details.">more...</a></p>
          <p>Only use bidi markup to set the base direction for the document as a whole, or where you need to <em>change</em> the base direction. <a href="/International/questions/qa-html-dir#markkupcrazy" class="detail" title="Click for explanations and further details.">more...</a></p>
          <div class="technique-links">
<p><b>Learn more about:</b></p>
          <ul>
            <li><a href="/International/techniques/authoring-html#direction">Text direction</a></li>
            <li><a href="/International/techniques/authoring-html#blocks">Setting  direction on block elements</a></li>
          </ul>
          </div>
</section>


<section rel="bibo:Chapter" resource="#form-dir" typeof="bibo:Chapter" id="form-dir">
  <!--OddPage--><h2 id="h2_form-dir" role="heading" aria-level="1"><span class="secno">6. </span>Managing text direction in form controls</h2>

<p><span class="link">Add <code class="kw">dir="auto"</code> to <code class="kw">input</code> tags to automatically align text to the correct side of an input field</span>. <a href="/International/questions/qa-html-dir#autoinput" class="detail" title="Click for explanations and further details.">more...</a></p>
        <p><span class="link">Add <code class="kw">dir="auto"</code> to <code class="kw">textarea</code> and <code class="kw">pre</code> tags to make paragraphs align to the left or right according to the initial strong character</span>. <a href="/International/questions/qa-html-dir#autotextarea" class="detail" title="Click for explanations and further details.">more...</a></p>
        <p><span class="link">Consider using the <code class="kw">dirname</code> attribute to pass information to the server about the direction of  text in a text or search form control</span>. <a href="/International/questions/qa-html-dir#reportingdirection" class="detail" title="Click for explanations and further details.">more...</a></p>
        <div class="technique-links">
<p><b>Learn more about:</b></p>

          <ul>
            <li><a href="/International/techniques/authoring-html#direction">Text direction</a></li>
            <li><a href="/International/techniques/authoring-html#formdir">Managing text direction in form controls</a></li>
          </ul>
  </div>
</section>



<section rel="bibo:Chapter" resource="#ri20030218.135304584" typeof="bibo:Chapter" id="ri20030218.135304584">
  <!--OddPage--><h2 id="h2_ri20030218.135304584" role="heading" aria-level="1"><span class="secno">7. </span>Mixing text direction inline</h2>
  <p>If you know the phrase's direction, or can work it out for injected text,  tightly wrap every opposite-direction phrase in markup. Add the CSS shim to your style sheet, and use the <code class="kw" translate="no">dir</code> attribute on that markup. Be sure to nest markup to show the structure. <a href="/International/articles/inline-bidi-markup/#whattodo" class="detail" title="Click for explanations and further details.">more...</a><span class="link">If you want to bullet-proof your code for browsers that don't support the CSS shim where tightly-wrapped text is followed inline by a number or a logically separate opposite-direction phrase, add <code>&amp;rlm;</code> or <code>&amp;lrm;</code> immediately after the phrase. </span><a href="/International/articles/inline-bidi-markup/#whattodo" class="detail" title="Click for explanations and further details.">more...</a></p>
        <p><span class="link"> If you don't know the phrase's direction, ie. unknown text that will be injected at run time, then either wrap the phrase in <code class="kw">bdi</code> (no <code class="kw">dir</code> attribute needed), or if the phrase is tightly wrapped by an element already, just add <code>dir="auto"</code> to that element.</span> <a href="/International/articles/inline-bidi-markup/#whattodo" class="detail" title="Click for explanations and further details.">more...</a></p>
        <p>Use Unicode control characters for bidirectional control only for attribute text or element text that allows no internal markup. <a href="/International/questions/qa-bidi-controls" class="detail" title="Click for explanations and further details.">more...</a></p>
        <p>Consider using Unicode control characters to set the base direction around bidirectional text that will be displayed as tool tips, page titles, or on JavaScript dialog boxes. <a href="/International/questions/qa-bidi-controls" class="detail" title="Click for explanations and further details.">more...</a></p>
        <p>Do not leave white space at the end of inline elements that mark a directional boundary. <a href="/International/questions/qa-bidi-space" class="detail" title="Click for explanations and further details.">more...</a></p>
<div class="technique-links">
<p><b>Learn more about:</b></p>
          <ul>
            <li><a href="/International/techniques/authoring-html#direction">Text direction</a></li>
            <li><a href="/International/techniques/authoring-html#inline">Mixing text direction inline</a></li>
          </ul>
  </div>
</section>


<section rel="bibo:Chapter" resource="#ri20030510.102858118" typeof="bibo:Chapter" id="ri20030510.102858118">
  <!--OddPage--><h2 id="h2_ri20030510.102858118" role="heading" aria-level="1"><span class="secno">8. </span>Handling parentheses &amp; other mirrored characters</h2>
<p>Treat mirrored characters as if any word <code class="kw">left</code> in the name meant 'opening', and <code class="kw">right</code> meant 'closing'. <a href="/International/articles/inline-bidi-markup/#mirrored" class="detail" title="Click for explanations and further details.">more...</a></p>
<div class="technique-links">
<p><b>Learn more about:</b></p>
          <ul>
            <li><a href="/International/techniques/authoring-html#direction">Text direction</a></li>
            <li><a href="/International/techniques/authoring-html#mirrored">Handling parentheses &amp; other mirrored characters</a></li>
          </ul>
  </div>
</section>


<section rel="bibo:Chapter" resource="#ri20030218.135307338" typeof="bibo:Chapter" id="ri20030218.135307338">
  <!--OddPage--><h2 id="h2_ri20030218.135307338" role="heading" aria-level="1"><span class="secno">9. </span>Overriding the Unicode bidirectional algorithm</h2>
<p>Use the <code class="kw">bdo</code> element to force the directionality of a sequence of inline characters. <a href="/International/articles/inline-bidi-markup/#override" class="detail" title="Click for explanations and further details.">more...</a></p>
<div class="technique-links">
<p><b>Learn more about:</b></p>
          <ul>
            <li><a href="/International/techniques/authoring-html#direction">Text direction</a></li>
            <li><a href="/International/techniques/authoring-html#bdo">Overriding the Unicode bidirectional algorithm</a></li>
          </ul>
</div>
</section>


<!--section id="ri20030218.135307338">
  <h2>Overriding the Unicode bidirectional algorithm</h2>
  <p class="links">Learn more about:<br>
  <a href="/International/techniques/authoring-html#direction">Text direction</a><br>
  <a href="/International/techniques/authoring-html#bdo">Overriding the Unicode bidirectional algorithm</a></p>
  <p> Use the <code class="kw">bdo</code> element to force the directionality of a sequence of inline characters. <span class="link"> <a class="why" href="/International/questions/qa-html-dir#userexplicit"><img src="/International/icons/link.png" alt="Learn more..." title="Click to get details." /></a></span></p>
</section-->


<section rel="bibo:Chapter" resource="#app-c" typeof="bibo:Chapter" class="appendix" id="app-c">
  <!--OddPage--><h2 id="h2_app-c" role="heading" aria-level="1"><span class="secno">A. </span> Revision Log</h2>
  <p>This  version introduces the following changes:</p>
  <ul>
  <li>All detailed content from sections 4 to 9 has been removed, to leave only the summary do's and don'ts text.</li>
  <li>The section "Authoring with localization in mind" has been removed altogether.</li>
  <li>All do's and don'ts have been revised to incorporate recent changes, esp. related to HTML5.</li>
  <li>Some editorial changes were made to sections 1 to 3. The section "How to use this document" has been changed to reflect the new composition of the document.</li>
  <li>The document was recreated as an HTML5 page, and is now authored using respec, and the styles have been changed.</li>
  </ul>
</section>


<section id="acknowledgements" class="appendix">
<!--OddPage--><h2 id="h2_acknowledgements" role="heading" aria-level="1"><span class="secno">B. </span>Acknowledgements</h2>
<p>Members of the Internationalization Working Group and former GEO Working Group have contributed their time and valuable comments to shaping these guidelines.</p>
</section>
  

</body></html>