<!-- http://www.w3.org/TR/css-flexbox-1/ -->
<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Flexible Box Layout Module Level 1</title>
  <link href=default.css rel=stylesheet type=text/css>
  <link href=http://www.w3.org/StyleSheets/TR/W3C-WD rel=stylesheet type=text/css>

<style>
code.one-line { white-space: pre; }
.code-and-figure {
	display: table;
	margin: 0 auto;
	border-spacing: 1em;
}
.code-and-figure > div {
	display: table-cell;
	vertical-align: middle;
}
:not(code) var { font-style: normal; color: #005A9C; }

a > i { font-style: normal; }

ol[start="0"] { counter-reset: list -1; }
ol[start="0"],
ol.continue { list-style: none; }
ol[start="0"] > li,
ol.continue > li { position: relative; counter-increment: list; }
ol[start="0"] > li::before,
ol.continue > li::before { content: counter(list) "."; position: absolute; left: -4.5em; width: 4em; text-align: right; }
.compact, .compact li {
  margin-top: 0;
  margin-bottom: 0;
}

/* Overview catalog example */
#overview-example {
	display:table;
	margin: 0 auto 1em;
	border-spacing: .5em 0;
	min-width: 672px;
}
#overview-example > .col {
	display: table-column;
	background: hsl(60,100%,90%);
}
#overview-example > .desc {
	display: table-cell;
	vertical-align: top;
	width: 300px;
	padding: 1em 1em 0;
	text-align: left;
	border: thick solid hsl(60,80%,50%);
	border-radius: 1em 1em 0 0;
	border-bottom: none;
}
#overview-example > .desc > img {
	margin: 0 auto;
	display: block;
}
#overview-example > .desc > h1 {
	background: transparent;
}
#overview-example > .buttons {
	display: table-row;
}
#overview-example > .buttons > div {
	display: table-cell;
	border: thick solid hsl(60,80%,50%);
	border-radius: 0 0 1em 1em;
	border-top: none;
	text-align: center;
}
#overview-example button {
	background-color: hsl(120,100%,40%);
	border: medium inset hsl(120,70%,40%);
	border-radius: 1em;
	padding: .5em;
	font-weight: bold;
	color: white;
	font-size: 1.6em;
	cursor: pointer;
	width: 90%;
	margin: 1em auto;
}

/* Visibility: Collapse example */
#visibility-collapse-example {
	display: table;
	width: 100%;
	box-shadow: 3px 3px 10px #333;
}
#visibility-collapse-example > article,
#visibility-collapse-example > nav {
	display: table-cell;
}
#visibility-collapse-example > article {
	width: 100%;
	background: white;
}
#visibility-collapse-example ul,
#visibility-collapse-example li {
	list-style: none;
	margin: 0;
	padding: 0;
}
#visibility-collapse-example > nav > ul {
	background: #444;
	border-radius: 0.5em;
	padding: 0.075em;
}
#visibility-collapse-example li {
	padding: 0 0.5em;
	background: #ddd;
	color: black;
	border-radius: 0.40em;
	border: #444 solid 0.075em;
}
#visibility-collapse-example li li {
	background: #444;
	color: white;
	margin: 0 -0.5em;
	border-radius: 0;
}
#visibility-collapse-example li li:first-child {
	border-radius: 0.375em 0.375em 0 0;
}
#visibility-collapse-example a {
	background: transparent;
	color: inherit;
}
#visibility-collapse-example > nav > ul > li:target,
#visibility-collapse-example > nav > ul > li:hover {
	background: #888;
	color: white;
}
#visibility-collapse-example > nav > ul > li:not(:target):not(:hover) > ul {
	height: 0;
	overflow: hidden;
}

#auto-bar {
	overflow: hidden;
	padding: .25em 1em;
	background: #ddd;
	list-style: none;
	margin: 0;
	border-radius: .3em;
}
#auto-bar > li {
	float: left;
	color: black;
	margin: 0;
}
#auto-bar > li:first-child:after,
#auto-bar > li:first-child + li:after {
	content: " |  ";
	white-space: pre;
}
#auto-bar > li > a {
	display: inline-block;
	padding: 0 .25em;
	border-radius: .3em;
}
#auto-bar > li > a:not(:hover):not(:focus) {
	text-decoration: none;
}
#auto-bar > li > a:hover {
	color: #ddd;
	background: #444;
}
#auto-bar > #login { float: right; }


.cross-auto-figure > div {
	margin: 0 auto;
	width: 70px;
	background: #888;
	padding: 0 .5em;
	border-radius: 1em;
	border: 1px solid transparent;
}
.cross-auto-figure > div > div {
	border-spacing: 0;
	display: table;
	background: #ddd;
	color: black;
	text-align: center;
	margin: .5em auto;
	padding: .5em;
	border-radius: .5em;
}

.axis { color: hsl(  0,80%,40%); }
.side { color: hsl(240,80%,50%); }
.size { color: hsl(120,80%,30%); }
</style>

</head>
<body class=h-entry>
<div class=head>
  <p><a href=http://www.w3.org/>
    <img alt=W3C height=48 src=http://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Flexible Box Layout Module Level 1</h1>
  <h2 class="no-num no-toc no-ref heading settled heading" id=subtitle><span class=content>W3C Last Call Working Draft,
    <span class=dt-updated><span class=value-title title=20140325>25 March 2014</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl><dt>This version:<dd><a class=u-url href=http://www.w3.org/TR/2014/WD-css-flexbox-1-20140325/>http://www.w3.org/TR/2014/WD-css-flexbox-1-20140325/</a><dt>Latest version:<dd><a href=http://www.w3.org/TR/css-flexbox-1/>http://www.w3.org/TR/css-flexbox-1/</a><dt>Editor’s Draft:<dd><a href=http://dev.w3.org/csswg/css-flexbox/>http://dev.w3.org/csswg/css-flexbox/</a><dt>Previous Versions:<dd><a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/ rel=previous>http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/</a><dd><a href=http://www.w3.org/TR/2012/WD-css3-flexbox-20120612/ rel=previous>http://www.w3.org/TR/2012/WD-css3-flexbox-20120612/</a><dd><a href=http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/ rel=previous>http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/</a><dd><a href=http://www.w3.org/TR/2011/WD-css3-flexbox-20111129/ rel=previous>http://www.w3.org/TR/2011/WD-css3-flexbox-20111129/</a><dd><a href=http://www.w3.org/TR/2011/WD-css3-flexbox-20110322/ rel=previous>http://www.w3.org/TR/2011/WD-css3-flexbox-20110322/</a><dd><a href=http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/ rel=previous>http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/</a>
    <dt>Feedback:</dt>
        <dd><a href="mailto:www-style@w3.org?subject=%5Bcss-flexbox%5D%20feedback">www-style@w3.org</a>
            with subject line
            “<kbd>[css-flexbox] <var>… message topic …</var></kbd>”(<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)<dt>Test Suite:<dd><a href=http://test.csswg.org/suites/css3-flexbox/nightly-unstable/>http://test.csswg.org/suites/css3-flexbox/nightly-unstable/</a><dt>Editors:
<dd class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://xanthir.com/contact/>Tab Atkins Jr.</a> (<span class="p-org org">Google</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://fantasai.inkedblade.net/contact>fantasai</a> (<span class="p-org org">Mozilla</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:ratan@microsoft.com>Rossen Atanassov</a> (<span class="p-org org">Microsoft</span>)<dt>Former Editors:
<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:alexmog@microsoft.com>Alex Mogilevsky</a> (<span class="p-org org">Microsoft Corporation</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:dbaron@dbaron.org>L. David Baron</a> (<span class="p-org org">Mozilla Corporation</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:enndeakin@gmail.com>Neil Deakin</a> (<span class="p-org org">Mozilla Corporation</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:ian@hixie.ch>Ian Hickson</a> (<span class="p-org org">formerly of Opera Software</span>)<dd class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:hyatt@apple.com>David Hyatt</a> (<span class="p-org org">formerly of Netscape Corporation</span>)<dt>Issues List:<dd>http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012</dl></div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled heading" id=abstract><span class=content>Abstract</span></h2>
<p class=p-summary data-fill-with=abstract>The specification describes a CSS box model optimized for user interface design. In the flex layout model, the children of a flex container can be laid out in any direction, and can "flex" their sizes, either growing to fill unused space or shrinking to avoid overflowing the parent. Both horizontal and vertical alignment of the children can be easily manipulated. Nesting of these boxes (horizontal inside vertical, or vertical inside horizontal) can be used to build layouts in two dimensions.
<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</p>

<h2 class="no-num no-toc no-ref heading settled heading" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p><em>This section describes the status of this document at the time of
   its publication. Other documents may supersede this document. A list of
   current W3C publications and the latest revision of this technical report
   can be found in the <a href=http://www.w3.org/TR/>W3C technical reports
   index at http://www.w3.org/TR/.</a></em>

  <p>Publication as a Last Call Working Draft does not imply endorsement by the W3C
   Membership. This is a draft document and may be updated, replaced or
   obsoleted by other documents at any time. It is inappropriate to cite this
   document as other than work in progress.

  <p>The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public
   mailing list <a href=mailto:www-style@w3.org>www-style@w3.org</a> (see
   <a href=http://www.w3.org/Mail/Request>instructions</a>) is preferred
   for discussion of this specification. When sending e-mail, please put the
   text “css-flexbox” in the subject, preferably like this:
   “[css-flexbox] <em>…summary of comment…</em>”

  <p>This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a> (part of
   the <a href=http://www.w3.org/Style/>Style Activity</a>).

  <p>This document was produced by a group operating under the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential
   Claim(s)</a> must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section
   6 of the W3C Patent Policy</a>.</p>

  <p>This specification is a <strong>Last Call Working Draft</strong>. All
   persons are encouraged to review this document and <strong>send comments
   to the <a href=http://lists.w3.org/Archives/Public/www-style/>www-style</a>
   mailing list</strong> as described above. The <strong>deadline for
   comments</strong> is <strong>22 April 2014</strong>.</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref heading settled heading" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc>
	<li><a href=#intro><span class=secno>1</span> Introduction</a>
		<ul class=toc>
		<li><a href=#overview><span class=secno>1.1</span> Overview</a>
		<li><a href=#placement><span class=secno>1.2</span> Module interactions</a>
		<li><a href=#values><span class=secno>1.3</span> Values</a></ul>
	<li><a href=#box-model><span class=secno>2</span> Flex Layout Box Model and Terminology</a>
	<li><a href=#flex-containers><span class=secno>3</span> Flex Containers: the <span class=css data-link-type=maybe title=flex>flex</span> and <span class=css data-link-type=maybe title=inline-flex>inline-flex</span> <span class=property data-link-type=propdesc title=display>display</span> values</a>
	<li><a href=#flex-items><span class=secno>4</span> Flex Items</a>
		<ul class=toc>
		<li><a href=#abspos-items><span class=secno>4.1</span> Absolutely-Positioned Flex Children</a>
		<li><a href=#item-margins><span class=secno>4.2</span> Flex Item Margins and Paddings</a>
		<li><a href=#painting><span class=secno>4.3</span> Flex Item Z-Ordering</a>
		<li><a href=#visibility-collapse><span class=secno>4.4</span> Collapsed Items</a>
		<li><a href=#min-size-auto><span class=secno>4.5</span> Implied Minimum Size of Flex Items</a></ul>
	<li><a href=#flow-order><span class=secno>5</span> Ordering and Orientation</a>
		<ul class=toc>
		<li><a href=#flex-direction-property><span class=secno>5.1</span> Flex Flow Direction: the <span class=property data-link-type=propdesc title=flex-direction>flex-direction</span> property</a>
		<li><a href=#flex-wrap-property><span class=secno>5.2</span> Flex Line Wrapping: the <span class=property data-link-type=propdesc title=flex-wrap>flex-wrap</span> property</a>
		<li><a href=#flex-flow-property><span class=secno>5.3</span> Flex Direction and Wrap: the <span class=property data-link-type=propdesc title=flex-flow>flex-flow</span> shorthand</a>
		<li><a href=#order-property><span class=secno>5.4</span> Display Order: the <span class=property data-link-type=propdesc title=order>order</span> property</a>
			<ul class=toc>
			<li><a href=#order-accessibility><span class=secno>5.4.1</span> Reordering and Accessibility</a></ul></ul>
	<li><a href=#flex-lines><span class=secno>6</span> Flex Lines</a>
	<li><a href=#flexibility><span class=secno>7</span> Flexibility</a>
		<ul class=toc>
		<li><a href=#flex-property><span class=secno>7.1</span> The <span class=property data-link-type=propdesc title=flex>flex</span> Shorthand</a>
		<li><a href=#flex-common><span class=secno>7.2</span> Common Values of <span class=property data-link-type=propdesc title=flex>flex</span></a>
		<li><a href=#flex-components><span class=secno>7.3</span> Components of Flexibility</a>
			<ul class=toc>
			<li><a href=#flex-grow-property><span class=secno>7.3.1</span> The <span class=property data-link-type=propdesc title=flex-grow>flex-grow</span> property</a>
			<li><a href=#flex-shrink-property><span class=secno>7.3.2</span> The <span class=property data-link-type=propdesc title=flex-shrink>flex-shrink</span> property</a>
			<li><a href=#flex-basis-property><span class=secno>7.3.3</span> The <span class=property data-link-type=propdesc title=flex-basis>flex-basis</span> property</a></ul></ul>
	<li><a href=#alignment><span class=secno>8</span> Alignment</a>
		<ul class=toc>
		<li><a href=#auto-margins><span class=secno>8.1</span> Aligning with <span data-link-for=margin data-link-type=value title=auto>auto</span> margins</a>
		<li><a href=#justify-content-property><span class=secno>8.2</span> Axis Alignment: the <span class=property data-link-type=propdesc title=justify-content>justify-content</span> property</a>
		<li><a href=#align-items-property><span class=secno>8.3</span> Cross-axis Alignment: the <span class=property data-link-type=propdesc title=align-items>align-items</span> and <span class=property data-link-type=propdesc title=align-self>align-self</span> properties</a>
		<li><a href=#align-content-property><span class=secno>8.4</span> Packing Flex Lines: the <span class=property data-link-type=propdesc title=align-content>align-content</span> property</a>
		<li><a href=#flex-baselines><span class=secno>8.5</span> Flex Baselines</a></ul>
	<li><a href=#layout-algorithm><span class=secno>9</span> Flex Layout Algorithm</a>
		<ul class=toc>
		<li><a href=#box-manip><span class=secno>9.1</span> Initial Setup</a>
		<li><a href=#line-sizing><span class=secno>9.2</span> Line Length Determination</a>
		<li><a href=#main-sizing><span class=secno>9.3</span> Main Size Determination</a>
		<li><a href=#cross-sizing><span class=secno>9.4</span> Cross Size Determination</a>
		<li><a href=#main-alignment><span class=secno>9.5</span> Main-Axis Alignment</a>
		<li><a href=#cross-alignment><span class=secno>9.6</span> Cross-Axis Alignment</a>
		<li><a href=#resolve-flexible-lengths><span class=secno>9.7</span> Resolving Flexible Lengths</a>
		<li><a href=#intrinsic-sizes><span class=secno>9.8</span> Intrinsic Sizes</a></ul>
	<li><a href=#pagination><span class=secno>10</span> Fragmenting Flex Layout</a>
		<ul class=toc>
		<li><a href=#pagination-algo><span class=secno>10.1</span> Sample Flex Fragmentation Algorithm</a></ul>
	<li><a href=#acknowledgments><span class=secno></span>Acknowledgments</a>
	<li><a href=#changes><span class=secno></span>Changes</a>
		<ul class=toc>
		<li><a href=#changes-2012><span class=secno></span> Changes since the 18 September 2012 Candidate Recommendation</a></ul>
	<li><a href=#conformance><span class=secno></span> Conformance</a>
		<ul class=toc>
		<li><a href=#conventions><span class=secno></span> Document conventions</a>
		<li><a href=#conformance-classes><span class=secno></span> Conformance classes</a>
		<li><a href=#partial><span class=secno></span> Partial implementations</a>
		<li><a href=#experimental><span class=secno></span> Experimental implementations</a>
		<li><a href=#testing><span class=secno></span> Non-experimental implementations</a></ul>
	<li><a href=#references><span class=secno></span> References</a>
		<ul class=toc>
		<li><a href=#normative><span class=secno></span> Normative References</a>
		<li><a href=#informative><span class=secno></span> Informative References</a></ul>
	<li><a href=#index><span class=secno></span> Index</a>
	<li><a href=#property-index><span class=secno></span> Property index</a></ul></div>



<h2 class="heading settled heading" data-level=1 id=intro><span class=secno>1 </span><span class=content>
Introduction</span><a class=self-link href=#intro></a></h2>

	<p><em>This section is not normative.</em>

	<p>
		CSS 2.1 defined four layout modes — algorithms which determine
		the size and position of boxes based on their relationships
		with their sibling and ancestor boxes:

<p>	<ul class=compact>
		<li>block layout, designed for laying out documents
		<li>inline layout, designed for laying out text
		<li>table layout, designed for laying out 2D data in a tabular format
		<li>positioned layout, designed for very explicit positioning without much regard for other elements in the document
	</ul>

	<p>
		This module introduces a new layout mode, <dfn data-dfn-type=dfn data-export="" id=flex-layout>flex layout<a class=self-link href=#flex-layout></a></dfn>,
		which is designed for laying out more complex applications and webpages.

<h3 class="heading settled heading" data-level=1.1 id=overview><span class=secno>1.1 </span><span class=content>
Overview</span><a class=self-link href=#overview></a></h3>
	<p><em>This section is not normative.</em>

	<p>
		Flex layout is superficially similar to block layout.
		It lacks many of the more complex text- or document-centric properties
		that can be used in block layout, such as
		<a href=http://www.w3.org/TR/CSS21/visuren.html#floats>floats</a> and
		<a href=http://www.w3.org/TR/css3-multicol/>columns</a>.
		In return it gains simple and powerful tools
		for distributing space and aligning content
		in ways that webapps and complex web pages often need.
		The contents of a flex container:
	<ul>
		<li>
			can be laid out in any <a href=#flex-direction-property>flow direction</a>
			(leftwards, rightwards, downwards, or even upwards!)
		<li>
			can have their display order <a href=#valuedef-row-reverse>reversed</a> or
			<a href=#order-property>rearranged</a> at the style layer
			(i.e., visual order can be independent of source and speech order)
		<li>
			can be laid out linearly along a single (<a data-link-type=dfn href=#main-axis title="main axis">main</a>) axis or
			<a href=#flex-wrap-property>wrapped</a> into multiple lines along a secondary (<a data-link-type=dfn href=#cross-axis title="cross axis">cross</a>) axis
		<li>
			can <a href=#flexibility>“flex” their sizes</a>
			to respond to the available space
		<li>
			can be <a href=#alignment>aligned</a> with respect to their container or each other
		<li>
			can be dynamically <a href=#visibility-collapse>collapsed</a> or uncollapsed
			along the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a> while preserving the container’s <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>
	</ul>

	<div class=example>
		<p>
			Here’s an example of a catalog where each item has a title, an photo, a description, and a purchase button.
			The designer’s intention is that each entry has the same overall size,
			that the photo be above the text,
			and that the purchase buttons aligned at the bottom, regardless of the length of the item’s description.
			Flex layout makes many aspects of this design easy:

<p>		<ul>
			<li>
				The catalog uses flex layout to lay out rows of items horizontally,
				and to ensure that items within a row are all equal-height.
				Each entry is then itself a column flex container,
				laying out its contents vertically.

			<li>
				Within each entry, the source document content is ordered logically
				with the title first, followed by the description and the photo.
				This provides a sensible ordering for speech rendering and in non-CSS browsers.
				For a more compelling visual presentation, however,
				<a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> is used to pull the image up from later in the content to the top,
				and <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> is used to center it horizontally.

			<li>
				An <a href=#auto-margins><span class=css>auto</span> margin</a> above the purchase button
				forces it to the bottom within each entry box,
				regardless of the height of that item’s description.
		</ul>

		<pre>&lt;style&gt;
#deals {
  display: flex;        /* Flex layout so items <a href=#propdef-align-self title="Flex items stretch by default.">have equal height</a>  */
  flex-flow: row wrap;  /* <a href=http://dev.w3.org/csswg/css3-flexbox/#flex-flow-property>Allow items to wrap into multiple lines</a> */
}
.sale-item {
  display: flex;        /* Lay out each item using flex layout */
  flex-flow: column;    /* <a href=#flex-flow-property>Lay out item’s contents vertically</a>  */
}
.sale-item &gt; img {
  order: -1;            /* <a href=#order-property>Shift image before other content (in visual order)</a> */
  align-self: center;   /* <a href=#propdef-align-self>Center the image cross-wise (horizontally)</a>         */
}
.sale-item &gt; button {
  margin-top: auto;     /* <a href=#auto-margins>Auto top margin pushes button to bottom</a> */
}
&lt;/style&gt;</pre><pre>&lt;section id='deals'&gt;
  &lt;section class='sale-item'&gt;
    &lt;h1&gt;Computer Starter Kit&lt;/h1&gt;
    &lt;p&gt;This is the best computer money can buy, if you don’t have much money.
    &lt;ul&gt;
      &lt;li&gt;Computer
      &lt;li&gt;Monitor
      &lt;li&gt;Keyboard
      &lt;li&gt;Mouse
    &lt;/ul&gt;
    &lt;img src='images/computer.jpg'
         alt='You get: a white computer with matching peripherals.'&gt;
    &lt;button&gt;BUY NOW&lt;/button&gt;
  &lt;/section&gt;
  &lt;section class='sale-item'&gt;
    …
  &lt;/section&gt;
  …
&lt;/section&gt;</pre>		<figure>
			<div id=overview-example>
				<div class=col></div>
				<div class=col></div>
				<div class=desc>
					<img alt="You get: a white computer with matching keyboard and monitor." src=images/computer.jpg>
					<h1 id=quiet-pubrules-1 style="font-size: 1.4em;">Computer Starter Kit</h1>
					<p>
						This is the best computer money can buy,
						if you don’t have much money.
					<ul>
						<li>Computer
						<li>Monitor
						<li>Keyboard
						<li>Mouse
					</ul>
				</div>
				<div class=desc>
					<img alt="You get: beautiful ASCII art." src=images/printer.png>
					<h1 id=quiet-pubrules-2 style="font-size: 1.4em;">Printer</h1>
					<p>
						Only capable of printing
						ASCII art.
					<ul>
						<li>Paper and ink not included.
					</ul>
				</div>
				<div class=buttons>
					<div><button>BUY NOW</button></div>
					<div><button>BUY NOW</button></div>
				</div>
			</div>
			<figcaption>
				An example rendering of the code above.
			</figcaption>
		</figure>
	</div>

<h3 class="heading settled heading" data-level=1.2 id=placement><span class=secno>1.2 </span><span class=content>
Module interactions</span><a class=self-link href=#placement></a></h3>

	<p>
		This module extends the definition of the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> property <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>,
		adding a new block-level and new inline-level display type,
		and defining a new type of formatting context
		along with properties to control its layout.
		None of the properties defined in this module apply to the <span class=css data-link-type=maybe title=::first-line>::first-line</span> or <span class=css data-link-type=maybe title=::first-letter>::first-letter</span> pseudo-elements.

<h3 class="heading settled heading" data-level=1.3 id=values><span class=secno>1.3 </span><span class=content>
Values</span><a class=self-link href=#values></a></h3>

	<p>
		This specification follows the <a href=http://www.w3.org/TR/CSS21/about.html#property-defs>CSS property definition conventions</a> from <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>.
		Value types not defined in this specification are defined in CSS Level 2 Revision 1 <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>.
		Other CSS modules may expand the definitions of these value types:
		for example <a data-biblio-type=informative data-link-type=biblio href=#css3val title=css3val>[CSS3VAL]</a>, when combined with this module,
		expands the definition of the <var>&lt;length&gt;</var> value type as used in this specification.

	<p>In addition to the property-specific values listed in their definitions, all properties defined in this specification also accept the <span class=css data-link-type=maybe title=inherit>inherit</span> keyword as their property value. For readability it has not been repeated explicitly.

<h2 class="heading settled heading" data-level=2 id=box-model><span class=secno>2 </span><span class=content>
Flex Layout Box Model and Terminology</span><a class=self-link href=#box-model></a></h2>

	<p>
		A <dfn data-dfn-type=dfn data-export="" id=flex-container>flex container<a class=self-link href=#flex-container></a></dfn> is the box generated by an element with a
		computed <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> of <a class=css data-link-type=maybe href=#valuedef-flex title=flex>flex</a> or <a class=css data-link-type=maybe href=#valuedef-inline-flex title=inline-flex>inline-flex</a>.
		In-flow children of a flex container are called <dfn data-dfn-type=dfn data-export="" id=flex-item title="flex item">flex items<a class=self-link href=#flex-item></a></dfn>
		and are laid out using the flex layout model.

	<p>
		Unlike block and inline layout,
		whose layout calculations are biased to the <a href=http://www.w3.org/TR/css3-writing-modes/#abstract-box>block and inline flow directions</a>,
		flex layout is biased to the <dfn data-dfn-type=dfn data-noexport="" id=flex-direction title="flex direction">flex directions<a class=self-link href=#flex-direction></a></dfn>.
		To make it easier to talk about flex layout,
		this section defines a set of flex flow–relative terms.
		The <a class=property data-link-type=propdesc href=#propdef-flex-flow title=flex-flow>flex-flow</a> value determines how these terms map
		to physical directions (top/right/bottom/left),
		axes (vertical/horizontal), and sizes (width/height).

	</p><figure>
		<img alt="" height=277 src=images/flex-direction-terms.svg width=665>
		<figcaption>
			An illustration of the various directions and sizing terms as applied to a <a class=css data-link-type=maybe href=#valuedef-row title=row>row</a> flex container.
		</figcaption>
	</figure>

	<dl data-export="" id=main>
		<dt class=axis>main axis
		<dt class=axis>main dimension
		<dd>
			The <dfn data-dfn-type=dfn data-export="" id=main-axis title="main axis|main-axis">main axis<a class=self-link href=#main-axis></a></dfn> of a flex container is the primary axis along which <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> are laid out.
			It extends in the <dfn data-dfn-type=dfn data-export="" id=main-dimension>main dimension<a class=self-link href=#main-dimension></a></dfn>.

		<dt class=side>main-start
		<dt class=side>main-end
		<dd>
			The <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> are placed within the container
			starting on the <dfn data-dfn-type=dfn data-export="" id=main-start>main-start<a class=self-link href=#main-start></a></dfn> side
			and going toward the <dfn data-dfn-type=dfn data-export="" id=main-end>main-end<a class=self-link href=#main-end></a></dfn> side.

		<dt class=size>main size
		<dt class=size>main size property
		<dd>
			A <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s width or height,
			whichever is in the <a data-link-type=dfn href=#main-dimension title="main dimension">main dimension</a>,
			is the item’s <dfn data-dfn-type=dfn data-export="" id=main-size>main size<a class=self-link href=#main-size></a></dfn>.
			The <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s <dfn data-dfn-type=dfn data-export="" id=main-size-property>main size property<a class=self-link href=#main-size-property></a></dfn> is
			either the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a> or <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a> property,
			whichever is in the <a data-link-type=dfn href=#main-dimension title="main dimension">main dimension</a>.
	</dl>

	<dl data-export="" id=cross>
		<dt class=axis>cross axis
		<dt class=axis>cross dimension
		<dd>
			The axis perpendicular to the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a> is called the <dfn data-dfn-type=dfn data-export="" id=cross-axis title="cross axis|cross-axis">cross axis<a class=self-link href=#cross-axis></a></dfn>.
			It extends in the <dfn data-dfn-type=dfn data-export="" id=cross-dimension>cross dimension<a class=self-link href=#cross-dimension></a></dfn>.

		<dt class=side>cross-start
		<dt class=side>cross-end
		<dd>
			<a data-link-type=dfn href=#flex-line title="flex lines">Flex lines</a> are filled with items and placed into the container
			starting on the <dfn data-dfn-type=dfn data-export="" id=cross-start>cross-start<a class=self-link href=#cross-start></a></dfn> side of the flex container
			and going toward the <dfn data-dfn-type=dfn data-export="" id=cross-end>cross-end<a class=self-link href=#cross-end></a></dfn> side.

		<dt class=size>cross size
		<dt class=size>cross size property
		<dd>
			The width or height of a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
			whichever is in the <a data-link-type=dfn href=#cross-dimension title="cross dimension">cross dimension</a>,
			is the item’s <dfn data-dfn-type=dfn data-export="" id=cross-size>cross size<a class=self-link href=#cross-size></a></dfn>.
			The <dfn data-dfn-type=dfn data-export="" id=cross-size-property>cross size property<a class=self-link href=#cross-size-property></a></dfn> is
			whichever of <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a> or <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a> that is in the <a data-link-type=dfn href=#cross-dimension title="cross dimension">cross dimension</a>.
	</dl>

<h2 class="heading settled heading" data-level=3 id=flex-containers><span class=secno>3 </span><span class=content>
Flex Containers: the <a class=css data-link-type=maybe href=#valuedef-flex title=flex>flex</a> and <a class=css data-link-type=maybe href=#valuedef-inline-flex title=inline-flex>inline-flex</a> <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> values</span><a class=self-link href=#flex-containers></a></h2>

<table class="definition propdef partial"><tr><th>Name:<td><a class=css-code data-link-type=property href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a><tr><th>New values:<td>flex | inline-flex</table>
	<dl data-dfn-for=display data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=display data-dfn-type=value data-export="" id=valuedef-flex>flex<a class=self-link href=#valuedef-flex></a></dfn>
		<dd>
			This value causes an element to generate a block-level <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> box.

		<dt><dfn class=css-code data-dfn-for=display data-dfn-type=value data-export="" id=valuedef-inline-flex>inline-flex<a class=self-link href=#valuedef-inline-flex></a></dfn>
		<dd>
			This value causes an element to generate an inline-level <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> box.
	</dl>

	<p>
		A <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> establishes a new <dfn data-dfn-type=dfn data-export="" id=flex-formatting-context>flex formatting context<a class=self-link href=#flex-formatting-context></a></dfn> for its contents.
		This is the same as establishing a block formatting context,
		except that flex layout is used instead of block layout:
		floats do not intrude into the flex container,
		and the flex container’s margins do not collapse with the margins of its contents.
		<a data-link-type=dfn href=#flex-container title="flex containers">Flex containers</a> form a containing block for their contents
		<a href=http://www.w3.org/TR/CSS21/visudet.html#containing-block-details>exactly like block containers do</a>. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>
		The <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> property applies to <a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a>.


	<p>
		Flex containers are not block containers,
		and so some properties that were designed with the assumption of block layout don’t apply in the context of flex layout.
		In particular:

<p>	<ul>
		<li>
			all of the <a class=property data-link-type=propdesc title=column-*>column-*</a> properties in the Multicol module have no effect on a flex container.

		<li>
			<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-clear title=clear>clear</a> have no effect on a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
			and do not take it out-of-flow.
			However, the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> property can still affect box generation
			by influencing the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> property’s computed value.

		<li>
			<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-vertical-align title=vertical-align>vertical-align</a> has no effect on a flex item.

		<li>
			the <span class=css data-link-type=maybe title=::first-line>::first-line</span> and <span class=css data-link-type=maybe title=::first-letter>::first-letter</span> pseudo-elements do not apply to <a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a>.
	</ul>

	<p>
		If an element’s specified <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> is <a class=css data-link-type=maybe href=#valuedef-inline-flex title=inline-flex>inline-flex</a>,
		then its <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> property computes to <a class=css data-link-type=maybe href=#valuedef-flex title=flex>flex</a>
		in certain circumstances:
		the table in <a href=http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo>CSS 2.1 Section 9.7</a>
		is amended to contain an additional row,
		with <a class=css data-link-type=maybe href=#valuedef-inline-flex title=inline-flex>inline-flex</a> in the "Specified Value" column
		and <a class=css data-link-type=maybe href=#valuedef-flex title=flex>flex</a> in the "Computed Value" column.

<h2 class="heading settled heading" data-level=4 id=flex-items><span class=secno>4 </span><span class=content>
Flex Items</span><a class=self-link href=#flex-items></a></h2>

<p>	Loosely speaking, the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> of a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
	are the in-flow boxes generated from the contents
	of the element that generated the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>.

	<p>
		Each in-flow child of a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
		becomes a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
		and each contiguous run of text that is directly contained inside a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
		is wrapped in an anonymous <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>.
		However, an anonymous flex item that contains only
		<a href=http://www.w3.org/TR/CSS21/text.html#white-space-prop>white space</a>
		(i.e. characters that can be affected by the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-text/#white-space title=white-space>white-space</a> property)
		is not rendered, as if it were <span class=css data-link-type=maybe title=display:none>display:none</span>.

	<p>
		A <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> establishes a new formatting context for its contents.
		The type of this formatting context is determined by its <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> value, as usual.
		However, flex items themselves are flex-level boxes, not block-level boxes:
		they participate in their container’s flex formatting context,
		not in a block formatting context.

	<div class=example>
		<p>Examples of flex items:
		<pre>&lt;div style="display:flex"&gt;

    &lt;!-- flex item: block child --&gt;
    &lt;div id="item1"&gt;block&lt;/div&gt;

    &lt;!-- flex item: floated element; floating is ignored --&gt;
    &lt;div id="item2" style="float: left;"&gt;float&lt;/div&gt;

    &lt;!-- flex item: anonymous block box around inline content --&gt;
    anonymous item 3

    &lt;!-- flex item: inline child --&gt;
    &lt;span&gt;
        item 4
        &lt;!-- flex items do not split around blocks --&gt;
        &lt;div id=not-an-item&gt;item 4&lt;/div&gt;
        item 4
    &lt;/span&gt;
&lt;/div&gt;</pre>	</div>

	<p class=note>
		Authors reading this spec may want to
		<a href=#item-margins>skip past the following box-generation details</a>.

<p>	If the specified <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-display-3/#propdef-display-outside title=display-outside>display-outside</a> of an in-flow child of an element that generates a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
	is <span class=css data-link-type=maybe title=inline-level>inline-level</span>,
	it computes to <span class=css data-link-type=maybe title=block-level>block-level</span>.
	(This effectively converts any inline <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> values to their block equivalents.)

<p class=note>	Note: Some values of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-display-3/#propdef-display-outside title=display-outside>display-outside</a> trigger the creation of anonymous boxes around the original box.
	It’s the outermost box, the direct child of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> box,
	that becomes a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>.
	For example, given two contiguous child elements with <span class=css data-link-type=maybe title=display:table-cell>display:table-cell</span>,
	an anonymous table wrapper box around them becomes the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>.

	<p id=table-items>
		On a flex item with <a class=css data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display: table</a>, the table wrapper box becomes the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
		and the <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> and <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> properties apply to it.
		The contents of any caption boxes contribute to the calculation of
		the table wrapper box’s min-content and max-content sizes.
		However, like <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a>, the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> longhands apply to the table box as follows:
		the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s final size is calculated
		by performing layout as if the distance between
		the table wrapper box’s edges and the table box’s content edges
		were all part of the table box’s border+padding area,
		and the table box were the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>.

<h3 class="heading settled heading" data-level=4.1 id=abspos-items><span class=secno>4.1 </span><span class=content>
Absolutely-Positioned Flex Children</span><a class=self-link href=#abspos-items></a></h3>

<p>	An absolutely-positioned child of a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> does not participate in flex layout
	beyond the <a href=#algo-flex-order>reordering step</a>.

<p>	Its static position is calculated by first doing full flex layout without the absolutely-positioned children,
	then positioning each absolutely-positioned child as if it were the sole <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
	in the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>,
	assuming both the child and the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> were fixed size boxes of their used size.

	<div class=example>
		For example, by default, the static position of an absolutely positioned child aligns it to the main-start/cross-start corner,
		corresponding to the default values of <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> and <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> on the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>.
		Setting <span class=css data-link-type=maybe title=justify-content:center>justify-content:center</span> on the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>, however,
		would center it in the main axis.
	</div>

<h3 class="heading settled heading" data-level=4.2 id=item-margins><span class=secno>4.2 </span><span class=content>
Flex Item Margins and Paddings</span><a class=self-link href=#item-margins></a></h3>

	<p>
		The margins of adjacent <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> do not collapse.
		Auto margins absorb extra space in the corresponding dimension and can be used for alignment
		and to push adjacent flex items apart;
		see <a href=#auto-margins>Aligning with <span class=css>auto</span> margins</a>.

	<p>
		Percentage margins and paddings on <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> are always resolved against their respective dimensions;
		unlike blocks, they do not always resolve against the inline dimension of their containing block.

<h3 class="heading settled heading" data-level=4.3 id=painting><span class=secno>4.3 </span><span class=content>
Flex Item Z-Ordering</span><a class=self-link href=#painting></a></h3>

	<p>
		<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> paint exactly the same as inline blocks <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>,
		except that <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a>-modified document order is used in place of raw document order,
		and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#z-index title=z-index>z-index</a>
		values other than <span class=css data-link-for=z-index data-link-type=maybe title=auto>auto</span> create a stacking context
		even if <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#position title=position>position</a> is <span class=css data-link-type=maybe title=static>static</span>.

	<p class=note>
		Note: Descendants that are positioned outside a flex item still participate
		in any stacking context established by the flex item.

<h3 class="heading settled heading" data-level=4.4 id=visibility-collapse><span class=secno>4.4 </span><span class=content>
Collapsed Items</span><a class=self-link href=#visibility-collapse></a></h3>

	<p>
		Specifying <span class=css data-link-type=maybe title=visibility:collapse>visibility:collapse</span> on a flex item
		causes it to become a <dfn data-dfn-type=dfn data-noexport="" id=collapsed-flex-item title="collapsed flex item|collapsed">collapsed flex item<a class=self-link href=#collapsed-flex-item></a></dfn>,
		producing an effect similar to <span class=css data-link-type=maybe title=visibility:collapse>visibility:collapse</span> on a table-row or table-column:
		the collapsed flex item is removed from rendering entirely,
		but leaves behind a "strut" that keeps the flex line’s cross-size stable.
		Thus, if a flex container has only one flex line,
		dynamically collapsing or uncollapsing items
		is guaranteed to have no effect on the flex container’s <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>
		and won’t cause the rest of the page’s layout to "wobble".
		Flex line wrapping <em>is</em> re-done after collapsing, however,
		so the cross-size of a flex container with multiple lines might or might not change.

	<p>
		Though collapsed flex items aren’t rendered,
		they do appear in the <a href=http://www.w3.org/TR/CSS21/intro.html#formatting-structure>formatting structure</a>.
		Therefore, unlike on <span class=css data-link-type=maybe title=display:none>display:none</span> items <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>,
		effects that depend on a box appearing in the formatting structure
		(like incrementing counters or running animations and transitions)
		still operate on collapsed items.

	<div class=example>
		<p>In the following example,
		a sidebar is sized to fit its content.
		<a class=css data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visufx.html#propdef-visibility title=visibility>visibility: collapse</a> is used to dynamically hide parts of a navigation sidebar
		without affecting its width, even though the widest item (“Architecture”)
		is in a collapsed section.

		</p><figure>
			<figcaption>Sample rendering for example code below</figcaption>
			<div id=visibility-collapse-example>
			
			  <nav>
			    <ul>
			      <li id=nav-about><a href=#nav-about>About</a>
			        <ul>
			          <li><a href=#>History</a>
			          <li><a href=#>Mission</a>
			          <li><a href=#>People</a>
			        </ul>
			      <li id=nav-projects><a href=#nav-projects>Projects</a>
			        <ul>
			          <li><a href=#>Art</a>
			          <li><a href=#>Architecture</a>
			          <li><a href=#>Music</a>
			        </ul>
			      <li id=nav-interact><a href=#nav-interact>Interact</a>
			        <ul>
			          <li><a href=#>Blog</a>
			          <li><a href=#>Forums</a>
			          <li><a href=#>Events</a>
			        </ul>
			    </ul>
			  </nav>
			  <article>
			    Interesting Stuff to Read
			  </article>
			</div>
		</figure>

		<pre>  &lt;style&gt;
    @media (min-width: 60em) {
      /* <a href=http://www.w3.org/TR/css3-mediaqueries/#width>two column layout only when enough room</a> (relative to default text size) */
      header + div { display: flex; }
      #main {
        flex: 1;         /* <a href=#flexibility>Main takes up all remaining space</a> */
        order: 1;        /* <a href=#order-property>Place it after (to the right of) the navigation</a> */
        min-width: 12em; /* Optimize main content area sizing */
      }
    }
    /* menu items use flex layout so that visibility:collapse will work */
    nav &gt; ul &gt; li {
      display: flex;
      flex-flow: column;
    }
    /* dynamically collapse submenus when not targetted */
    nav &gt; ul &gt; li:not(:target):not(:hover) &gt; ul {
      visibility: collapse;
    }
  &lt;/style&gt;
  …
  &lt;/header&gt;
  &lt;div&gt;
    &lt;article id="main"&gt;
      Interesting Stuff to Read
    &lt;/article&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li id="nav-about"&gt;&lt;a href="#nav-about"&gt;About&lt;/a&gt;
          …
        &lt;li id="nav-projects"&gt;&lt;a href="#nav-projects"&gt;Projects&lt;/a&gt;
          &lt;ul&gt;
            &lt;li&gt;&lt;a href="…"&gt;Art&lt;/a&gt;
            &lt;li&gt;&lt;a href="…"&gt;Architecture&lt;/a&gt;
            &lt;li&gt;&lt;a href="…"&gt;Music&lt;/a&gt;
          &lt;/ul&gt;
        &lt;li id="nav-interact"&gt;&lt;a href="#nav-interact"&gt;Interact&lt;/a&gt;
          …
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/div&gt;
  &lt;footer&gt;
  …
</pre>	</div>

	<p>
		To compute the size of the strut, flex layout is first performed with all items uncollapsed,
		and then re-run with each collapsed item replaced by a strut that maintains
		the original cross-size of the item’s original line.
		See the <a href=#layout-algorithm>Flex Layout Algorithm</a>
		for the normative definition of how <span class=css data-link-type=maybe title=visibility:collapse>visibility:collapse</span>
		interacts with flex layout.

	<p class=note>
		Note that using <span class=css data-link-type=maybe title=visibility:collapse>visibility:collapse</span> on any flex items
		will cause the flex layout algorithm to repeat partway through,
		re-running the most expensive steps.
		It’s recommended that authors continue to use <span class=css data-link-type=maybe title=display:none>display:none</span> to hide items
		if the items will not be dynamically collapsed and uncollapsed,
		as that is more efficient for the layout engine.
		(Since only part of the steps need to be repeated when <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visufx.html#propdef-visibility title=visibility>visibility</a> is changed,
		however, 'visibility: collapse' is still recommended for dynamic cases.)


<h3 class="heading settled heading" data-level=4.5 id=min-size-auto><span class=secno>4.5 </span><span class=content>
Implied Minimum Size of Flex Items</span><a class=self-link href=#min-size-auto></a></h3>

<p>	To provide a more reasonable default minimum size for <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>,
	this specification introduces a new <span class=css data-link-for=min-width data-link-type=maybe title=auto>auto</span> value
	as the initial value of the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-width title=min-width>min-width</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-height title=min-height>min-height</a> properties defined in CSS 2.1. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>

<table class="definition propdef partial"><tr><th>Name:<td><a class=css-code data-link-type=property href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-width title=min-width>min-width</a>, <a class=css-code data-link-type=property href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-height title=min-height>min-height</a><tr><th>New values:<td>auto<tr><th>New computed value:<td>the percentage as specified or the absolute length or a keyword<tr><th>New initial value:<td>auto</table>
	<dl data-dfn-for="min-width, min-height" data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for="min-width, min-height" data-dfn-type=value data-export="" id=valuedef-auto0>auto<a class=self-link href=#valuedef-auto0></a></dfn>
		<dd>
			On a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> whose <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> is not <span class=css data-link-for=overflow data-link-type=maybe title=visible>visible</span>,
			this keyword specifies as the minimum size the smaller of:

<p>			<ul>
				<li>the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-measure title="min-content size">min-content size</a>, or
				<li>the computed <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a>, if that value is <a data-link-type=dfn href=#definite title=definite>definite</a>.
			</ul>

<p>			Otherwise,
			this keyword computes to <span class=css data-link-type=maybe title=0>0</span>
			(unless otherwise defined by a future specification).
	</dl>

	<div class=note id=min-size-opt><a class=self-link href=#min-size-opt></a>
		<p>
			Note that while a content-based minimum size is often appropriate,
			and helps prevent content from overlapping or spilling outside its container,
			in some cases it is not:

		<p>
			In particular, if flex sizing is being used for a major content area of a document,
			it is better to set an explicit font-relative minimum width such as <a class=css data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-width title=min-width>min-width: 12em</a>.
			A content-based minimum width could result in a large table or large image
			stretching the size of the entire content area into an overflow zone,
			and thereby making lines of text gratuitously long and hard to read.

		<p>
			Note also, when content-based sizing is used on an item with large amounts of content,
			the layout engine must traverse all of this content before finding its minimum size,
			whereas if the author sets an explicit minimum, this is not necessary.
			(For items with small amounts of content, however,
			this traversal is trivial and therefore not a performance concern.)
	</div>


<h2 class="heading settled heading" data-level=5 id=flow-order><span class=secno>5 </span><span class=content>
Ordering and Orientation</span><a class=self-link href=#flow-order></a></h2>

	<p>
		The contents of a flex container can be laid out in any direction and in any order.
		This allows an author to trivially achieve effects that would previously have required complex or fragile methods,
		such as hacks using the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-clear title=clear>clear</a> properties.
		This functionality is exposed through the <a class=property data-link-type=propdesc href=#propdef-flex-direction title=flex-direction>flex-direction</a>, <a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a>, and <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> properties.

	<p class=note>
		The reordering capabilities of flex layout intentionally affect
		<em>only the visual rendering</em>,
		leaving speech order and navigation based on the source order.
		This allows authors to manipulate the visual presentation
		while leaving the source order intact for non-CSS UAs and for
		linear models such as speech and sequential navigation.
		See <a href=#order-accessibility>Reordering and Accessibility</a>
		and the <a href=#overview>Flex Layout Overview</a> for examples
		that use this dichotomy to improve accessibility.

	<p>
		Authors <em>must not</em> use these techniques as a substitute for correct source ordering,
		as that can ruin the accessibility of the document.

<h3 class="heading settled heading" data-level=5.1 id=flex-direction-property><span class=secno>5.1 </span><span class=content>
Flex Flow Direction: the <a class=property data-link-type=propdesc href=#propdef-flex-direction title=flex-direction>flex-direction</a> property</span><a class=self-link href=#flex-direction-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex-direction>flex-direction<a class=self-link href=#propdef-flex-direction></a></dfn><tr><th>Value:<td class=prod>row | row-reverse | column | column-reverse<tr><th>Initial:<td>row<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-flex-direction title=flex-direction>flex-direction</a> property specifies how <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> are placed in the flex container,
		by setting the direction of the flex container’s <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>.
		This determines the direction that flex items are laid out in.

	<dl data-dfn-for=flex-direction data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=flex-direction data-dfn-type=value data-export="" id=valuedef-row>row<a class=self-link href=#valuedef-row></a></dfn>
		<dd>
			The flex container’s <a data-link-type=dfn href=#main-axis title="main axis">main axis</a> has the same orientation as the
			<a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#inline-axis- title="inline axis">inline axis</a>
			of the current <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a>.
			The <a data-link-type=dfn href=#main-start title=main-start>main-start</a> and <a data-link-type=dfn href=#main-end title=main-end>main-end</a> directions are equivalent to the
			<a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#inline-start title=inline-start>inline-start</a> and
			<a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#inline-end title=inline-end>inline-end</a> directions, respectively,
			of the current <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a>.

		<dt><dfn class=css-code data-dfn-for=flex-direction data-dfn-type=value data-export="" id=valuedef-row-reverse>row-reverse<a class=self-link href=#valuedef-row-reverse></a></dfn>
		<dd>
			Same as <a class=css data-link-type=maybe href=#valuedef-row title=row>row</a>,
			except the <a data-link-type=dfn href=#main-start title=main-start>main-start</a> and <a data-link-type=dfn href=#main-end title=main-end>main-end</a> directions are swapped.

		<dt><dfn class=css-code data-dfn-for=flex-direction data-dfn-type=value data-export="" id=valuedef-column>column<a class=self-link href=#valuedef-column></a></dfn>
		<dd>
			The flex container’s <a data-link-type=dfn href=#main-axis title="main axis">main axis</a> has the same orientation as the
			<a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#block-axis- title="block axis">block axis</a>
			of the current <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a>.
			The <a data-link-type=dfn href=#main-start title=main-start>main-start</a> and <a data-link-type=dfn href=#main-end title=main-end>main-end</a> directions are equivalent to the
			<a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#block-start title=block-start>block-start</a> and
			<a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#block-end title=block-end>block-end</a> directions, respectively,
			of the current <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a>.

		<dt><dfn class=css-code data-dfn-for=flex-direction data-dfn-type=value data-export="" id=valuedef-column-reverse>column-reverse<a class=self-link href=#valuedef-column-reverse></a></dfn>
		<dd>
			Same as <a class=css data-link-type=maybe href=#valuedef-column title=column>column</a>,
			except the <a data-link-type=dfn href=#main-start title=main-start>main-start</a> and <a data-link-type=dfn href=#main-end title=main-end>main-end</a> directions are swapped.
	</dl>

	<p class=note>
		The reverse values do not reverse box ordering;
		like <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-writing-modes/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-writing-modes/#propdef-direction title=direction>direction</a> <a data-biblio-type=informative data-link-type=biblio href=#css3-writing-modes title=css3-writing-modes>[CSS3-WRITING-MODES]</a>,
		they only change the direction of flow.
		Painting order, speech order, and sequential navigation orders
		are not affected.

<h3 class="heading settled heading" data-level=5.2 id=flex-wrap-property><span class=secno>5.2 </span><span class=content>
Flex Line Wrapping: the <a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a> property</span><a class=self-link href=#flex-wrap-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex-wrap>flex-wrap<a class=self-link href=#propdef-flex-wrap></a></dfn><tr><th>Value:<td class=prod>nowrap | wrap | wrap-reverse<tr><th>Initial:<td>nowrap<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a> property controls whether the flex container is <a data-link-type=dfn href=#single-line title=single-line>single-line</a> or <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a>,
		and the direction of the <a data-link-type=dfn href=#cross-axis title=cross-axis>cross-axis</a>,
		which determines the direction new lines are stacked in.

	<dl data-dfn-for=flex-wrap data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=flex-wrap data-dfn-type=value data-export="" id=valuedef-nowrap>nowrap<a class=self-link href=#valuedef-nowrap></a></dfn>
		<dd>
			The flex container is <a data-link-type=dfn href=#single-line title=single-line>single-line</a>.
			The <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> direction is equivalent to either
			the <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#inline-start title=inline-start>inline-start</a>
			or <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#block-start title=block-start>block-start</a>
			direction of the current <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a>,
			whichever is in the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>,
			and the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> direction is the opposite direction of <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a>.


		<dt><dfn class=css-code data-dfn-for=flex-wrap data-dfn-type=value data-export="" id=valuedef-wrap>wrap<a class=self-link href=#valuedef-wrap></a></dfn>
		<dd>
			The flex container is <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a>.
			The <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> direction is equivalent to either
			the <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#inline-start title=inline-start>inline-start</a>
			or <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#block-start title=block-start>block-start</a>
			direction of the current <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a>,
			whichever is in the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>,
			and the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> direction is the opposite direction of <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a>.

		<dt><dfn class=css-code data-dfn-for=flex-wrap data-dfn-type=value data-export="" id=valuedef-wrap-reverse>wrap-reverse<a class=self-link href=#valuedef-wrap-reverse></a></dfn>
		<dd>
			Same as <a class=css data-link-type=maybe href=#valuedef-wrap title=wrap>wrap</a>,
			except the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> and <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> directions are swapped.
	</dl>

<h3 class="heading settled heading" data-level=5.3 id=flex-flow-property><span class=secno>5.3 </span><span class=content>
Flex Direction and Wrap: the <a class=property data-link-type=propdesc href=#propdef-flex-flow title=flex-flow>flex-flow</a> shorthand</span><a class=self-link href=#flex-flow-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex-flow>flex-flow<a class=self-link href=#propdef-flex-flow></a></dfn><tr><th>Value:<td class=prod>&lt;<a class=property data-link-type=propdesc href=#propdef-flex-direction title=flex-direction>flex-direction</a>&gt; || &lt;<a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a>&gt;<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties</table>
	<p>The <a class=property data-link-type=propdesc href=#propdef-flex-flow title=flex-flow>flex-flow</a> property is a shorthand for setting the <a class=property data-link-type=propdesc href=#propdef-flex-direction title=flex-direction>flex-direction</a> and <a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a> properties,
	which together define the flex container’s main and cross axes.

	<div class=example>
		<p>Some examples of valid flows in an English (left-to-right, horizontal writing mode) document:

		<table style="margin: 0 auto; vertical-align: middle; border-spacing: 2em 1em;">
			<tr>
				<td><pre>
div { flex-flow: row; }
/* Initial value. Main-axis is
   inline, no wrap. */</pre>
				<td><img alt="" height=46 src=images/flex-flow1.svg width=205>
			<tr>
				<td><pre>
div { flex-flow: column wrap; }
/* Main-axis is block-direction (top to bottom)
   and lines wrap in the inline direction (rightwards). */</pre>
				<td><img alt="" height=160 src=images/flex-flow2.svg width=89>
			<tr>
				<td><pre>
div { flex-flow: row-reverse wrap-reverse; }
/* Main-axis is the opposite of inline direction
   (right to left). New lines wrap upwards. */</pre>
				<td><img alt="" height=89 src=images/flex-flow3.svg width=160>
		</table>
	</div>

	<div class=note>
		<p>
			Note that the <a class=property data-link-type=propdesc href=#propdef-flex-flow title=flex-flow>flex-flow</a> directions are <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#writing-mode0 title="writing mode">writing mode</a> sensitive.
			In vertical Japanese, for example,
			a <a class=css data-link-type=maybe href=#valuedef-row title=row>row</a> flex container lays out its contents from top to bottom,
			as seen in this example:

		<table style="margin: 1em auto; text-align: center;">
			<thead>
				<tr>
					<th>English
					<th>Japanese
			<tbody>
				<tr>
					<td><pre>flex-flow: row wrap;<br>writing-mode: horizontal-tb;</pre>
					<td><pre>flex-flow: row wrap;<br>writing-mode: vertical-rl;</pre>
				<tr>
					<td><img alt="" src=images/flex-flow-english.svg>
					<td><img alt="" src=images/flex-flow-japanese.svg>
		</table>
	</div>



<h3 class="heading settled heading" data-level=5.4 id=order-property><span class=secno>5.4 </span><span class=content>
Display Order: the <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> property</span><a class=self-link href=#order-property></a></h3>

	<p>
		<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> are, by default, displayed and laid out in the same order as they appear in the source document.
		The <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> property can be used to change this ordering.

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-order>order<a class=self-link href=#propdef-order></a></dfn><tr><th>Value:<td class=prod><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-syntax/#typedef-integer title="<integer>">&lt;integer&gt;</a><tr><th>Initial:<td>0<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a> and absolutely-positioned children of <a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>yes</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> property controls the order in which flex items appear within their flex container,
		by assigning them to ordinal groups.
		It takes a single <dfn class=css-code data-dfn-for=order data-dfn-type=value data-export="" id=valuedef-integer><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-syntax/#typedef-integer title="<integer>">&lt;integer&gt;</a><a class=self-link href=#valuedef-integer></a></dfn> value,
		which specifies which ordinal group the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> belongs to.

	<p>
		A flex container lays out its content in <dfn data-dfn-type=dfn data-export="" id=order-modified-document-order>order-modified document order<a class=self-link href=#order-modified-document-order></a></dfn>,
		starting from the lowest numbered ordinal group and going up.
		Items with the same ordinal group are laid out in the order they appear in the source document.
		This also affects the <a href=http://www.w3.org/TR/CSS2/zindex.html>painting order</a> <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>,
		exactly as if the flex items were reordered in the source document.

	<div class=example>
		<p>The following figure shows a simple tabbed interface, where the tab for the active pane is always first:

		<div class=figure><img alt="" src=images/flex-order-example.png></div>

		<p>This could be implemented with the following CSS (showing only the relevant code):

		<pre>.tabs {
  display: flex;
}
.tabs &gt; * {
  min-width: min-content;
  /* Prevent tabs from getting too small for their content. */
}
.tabs &gt; .current {
  order: -1; /* Lower than the default of 0 */
}</pre>
	</div>

	<p>
		Unless otherwise specified by a future specification,
		this property has no effect on boxes that are not <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>.

<h4 class="heading settled heading" data-level=5.4.1 id=order-accessibility><span class=secno>5.4.1 </span><span class=content>
Reordering and Accessibility</span><a class=self-link href=#order-accessibility></a></h4>

	<p>
		The <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> property <em>does not</em> affect ordering in non-visual media
		(such as <a href=http://www.w3.org/TR/css3-speech/>speech</a>).
		Likewise, <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> does not affect
		the default traversal order of sequential navigation modes
		(such as cycling through links, see e.g. <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-ui/#nav-index0 title=nav-index>nav-index</a> <a data-biblio-type=informative data-link-type=biblio href=#css3ui title=css3ui>[CSS3UI]</a> or <a href=http://www.w3.org/TR/1999/REC-html401-19991224/interact/forms.html#adef-tabindex><code>tabindex</code></a> <a data-biblio-type=informative data-link-type=biblio href=#html40 title=html40>[HTML40]</a>).
		Authors <em>must</em> use <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> only for visual, not logical, reordering of content;
		style sheets that use <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> to perform logical reordering are non-conforming.

	<p class=note>
		This is so that non-visual media and non-CSS UAs,
		which typically present content linearly,
		can rely on a logical source order,
		while <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> is used to tailor the visual order.
		(Since visual perception is two-dimensional and non-linear,
		the desired visual order is not always logical.)

	<div class=example>
		<p>
			Many web pages have a similar shape in the markup,
			with a header on top,
			a footer on bottom,
			and then a content area and one or two additional columns in the middle.
			Generally,
			it’s desirable that the content come first in the page’s source code,
			before the additional columns.
			However, this makes many common designs,
			such as simply having the additional columns on the left and the content area on the right,
			difficult to achieve.
			This has been addressed in many ways over the years,
			often going by the name "Holy Grail Layout" when there are two additional columns.
			<a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> makes this trivial.
			For example, take the following sketch of a page’s code and desired layout:

		<div class=code-and-figure>
			<div><pre>&lt;!DOCTYPE html&gt;
&lt;header&gt;...&lt;/header&gt;
&lt;div id='main'&gt;
   &lt;article&gt;...&lt;/article&gt;
   &lt;nav&gt;...&lt;/nav&gt;
   &lt;aside&gt;...&lt;/aside&gt;
&lt;/div&gt;
&lt;footer&gt;...&lt;/footer&gt;</pre></div>
			<div><img alt="In this page the header is at the top and the footer at the bottom, but the article is in the center, flanked by the nav on the right and the aside on the left." height=360 src=images/flex-order-page.svg width=400></div>
		</div>

		<p>
			This layout can be easily achieved with flex layout:

		<pre>#main { display: flex; }
#main &gt; article { order: 2; min-width: 12em; flex:1; }
#main &gt; nav     { order: 1; width: 200px; }
#main &gt; aside   { order: 3; width: 200px; }</pre>
		<p>
			As an added bonus,
			the columns will all be <a href=#valuedef-stretch0>equal-height</a> by default,
			and the main content will be as wide as necessary to fill the screen.
			Additionally,
			this can then be combined with media queries to switch to an all-vertical layout on narrow screens:

		<pre>@media all and (max-width: 600px) {
  /* Too narrow to support three columns */
  #main { flex-flow: column; }
  #main &gt; article, #main &gt; nav, #main &gt; aside {
/* Return them to document order */
order: 0; width: auto;
  }
}</pre>
		<p><small>(Further use of multi-line flex containers to achieve even more intelligent wrapping left as an exercise for the reader.)</small>
	</div>

<h2 class="heading settled heading" data-level=6 id=flex-lines><span class=secno>6 </span><span class=content>
Flex Lines</span><a class=self-link href=#flex-lines></a></h2>

	<p>
		<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> in a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> are laid out and aligned
		within <dfn data-dfn-type=dfn data-export="" id=flex-line title="flex line">flex lines<a class=self-link href=#flex-line></a></dfn>,
		hypothetical containers used for grouping and alignment by the layout algorithm.
		A flex container can be either <a data-link-type=dfn href=#single-line title=single-line>single-line</a> or <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a>,
		depending on the <a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a> property:
	<ul>
		<li>
			A <dfn data-dfn-type=dfn data-noexport="" id=single-line>single-line<a class=self-link href=#single-line></a></dfn> flex container lays out all of its children in a single line,
			even if that would cause its contents to overflow.

		<li>
			A <dfn data-dfn-type=dfn data-noexport="" id=multi-line>multi-line<a class=self-link href=#multi-line></a></dfn> flex container breaks its <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> across multiple lines,
			similar to how text is broken onto a new line when it gets too wide to fit on the existing line.
			When additional lines are created,
			they are stacked in the flex container along the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>
			according to the <a class=property data-link-type=propdesc href=#propdef-flex-wrap title=flex-wrap>flex-wrap</a> property.
			Every line contains at least one <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
			unless the flex container itself is completely empty.
	</ul>

	<div class=example>
		<p>
			This example shows four buttons that do not fit horizontally.

		<pre>&lt;style&gt;
#flex {
  display: flex;
  flex-flow: row wrap;
  width: 300px;
}
.item {
  width: 80px;
}
&lt;/style&gt;

&lt;div id="flex"&gt;
  &lt;div class='item'&gt;1&lt;/div&gt;
  &lt;div class='item'&gt;2&lt;/div&gt;
  &lt;div class='item'&gt;3&lt;/div&gt;
  &lt;div class='item'&gt;4&lt;/div&gt;
&lt;/div&gt;</pre>
		<p>
			Since the container is 300px wide, only three of the items fit onto a single line.
			They take up 240px, with 60px left over of remaining space.
			Because the <a class=property data-link-type=propdesc href=#propdef-flex-flow title=flex-flow>flex-flow</a> property specifies a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> flex container
			(due to the <a class=css data-link-type=maybe href=#valuedef-wrap title=wrap>wrap</a> keyword appearing in its value),
			the flex container will create an additional line to contain the last item.

		</p><figure>
			<img src=images/multiline-no-flex.svg>

			<figcaption>
				An example rendering of the multi-line flex container.
			</figcaption>
		</figure>
	</div>

	<p>
		Once content is broken into lines,
		each line is laid out independently;
		flexible lengths and the <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> and <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> properties only consider the items on a single line at a time.

	<p>
		When a flex container has multiple lines, the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of each line
		is the minimum size necessary to contain the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the line
		(after aligment due to <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a>),
		and the lines are aligned within the flex container with the <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> property.
		When a flex container (even a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> one) has only one line,
		the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of the line is the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of the flex container,
		and <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> has no effect.
		The <a data-link-type=dfn href=#main-size title="main size">main size</a> of a line is always the same as the <a data-link-type=dfn href=#main-size title="main size">main size</a> of the flex container’s content box.

	<div class=example>
		<p>
			Here’s the same example as the previous,
			except that the flex items have all been given <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: auto</a>.
			The first line has 60px of remaining space,
			and all of the items have the same flexibility,
			so each of the three items on that line will receives 20px of extra width,
			ending up 100px wide.
			The remaining item is on a line of its own
			and will stretch to the entire width of the line, or 300px.

		</p><figure>
			<img src=images/multiline-flex.svg>

			<figcaption>
				A rendering of the same as above,
				but with the items all given <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: auto</a>.
			</figcaption>
		</figure>
	</div>



<h2 class="heading settled heading" data-level=7 id=flexibility><span class=secno>7 </span><span class=content>
Flexibility</span><a class=self-link href=#flexibility></a></h2>

	<p>
		The defining aspect of flex layout is the ability to make the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> "flex",
		altering their width or height to fill the available space.
		This is done with the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> property.
		A flex container distributes free space to its items proportional to their <a data-link-type=dfn href=#flex-grow-factor title="flex grow factor">flex grow factor</a>,
		or shrinks them to prevent overflow proportional to their <a data-link-type=dfn href=#flex-shrink-factor title="flex shrink factor">flex shrink factor</a>.


<h3 class="heading settled heading" data-level=7.1 id=flex-property><span class=secno>7.1 </span><span class=content>
The <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> Shorthand</span><a class=self-link href=#flex-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex>flex<a class=self-link href=#propdef-flex></a></dfn><tr><th>Value:<td class=prod>none | [ <a class=production data-link-type=propdesc href=#propdef-flex-grow title=flex-grow>&lt;‘flex-grow’&gt;</a> <a class=production data-link-type=propdesc href=#propdef-flex-shrink title=flex-shrink>&lt;‘flex-shrink’&gt;</a>? || <a class=production data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>&lt;‘flex-basis’&gt;</a> ]<tr><th>Initial:<td>see individual properties<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a><tr><th>Inherited:<td>see individual properties<tr><th>Media:<td>visual<tr><th>Computed value:<td>see individual properties<tr><th>Canonical order:<td>per grammar</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> property specifies the components of a <dfn data-dfn-type=dfn data-noexport="" id=flexible-length>flexible length<a class=self-link href=#flexible-length></a></dfn>:
		the <a data-link-type=dfn href=#flex-grow-factor title="flex grow factor">flex grow factor</a>
		and <a data-link-type=dfn href=#flex-shrink-factor title="flex shrink factor">flex shrink factor</a>,
		and the <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a>.
		When a box is a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
		<a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> is consulted <em>instead of</em> the <a data-link-type=dfn href=#main-size-property title="main size property">main size property</a>
		to determine the <a data-link-type=dfn href=#main-size title="main size">main size</a> of the box.
		If a box is not a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
		<a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> has no effect.

	<dl data-dfn-for=flex data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=flex data-dfn-type=value data-export="" id=valuedef-flex-grow><a class=production data-link-type=propdesc href=#propdef-flex-grow title=flex-grow>&lt;‘flex-grow’&gt;</a><a class=self-link href=#valuedef-flex-grow></a></dfn>
		<dd>
			<p>
				This <var>&lt;number&gt;</var> component sets <a class=property data-link-type=propdesc href=#propdef-flex-grow title=flex-grow>flex-grow</a> <a href=#flex-components>longhand</a>
				and specifies the <dfn data-dfn-type=dfn data-noexport="" id=flex-grow-factor>flex grow factor<a class=self-link href=#flex-grow-factor></a></dfn>,
				which determines how much the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> will grow
				relative to the rest of the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> in the flex container
				when positive free space is distributed.
				When omitted, it is set to <span class=css data-link-type=maybe title=1>1</span>.

		<dt><dfn class=css-code data-dfn-for=flex data-dfn-type=value data-export="" id=valuedef-flex-shrink><a class=production data-link-type=propdesc href=#propdef-flex-shrink title=flex-shrink>&lt;‘flex-shrink’&gt;</a><a class=self-link href=#valuedef-flex-shrink></a></dfn>
		<dd>
			<p>
				This <var>&lt;number&gt;</var> component sets <a class=property data-link-type=propdesc href=#propdef-flex-shrink title=flex-shrink>flex-shrink</a> <a href=#flex-components>longhand</a>
				and specifies the <dfn data-dfn-type=dfn data-noexport="" id=flex-shrink-factor>flex shrink factor<a class=self-link href=#flex-shrink-factor></a></dfn>,
				which determines how much the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> will shrink
				relative to the rest of the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> in the flex container
				when negative free space is distributed.
				When omitted, it is set to <span class=css data-link-type=maybe title=1>1</span>.
				The <a data-link-type=dfn href=#flex-shrink-factor title="flex shrink factor">flex shrink factor</a> is multiplied by the <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> when distributing negative space.

		<dt><dfn class=css-code data-dfn-for=flex data-dfn-type=value data-export="" id=valuedef-flex-basis><a class=production data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>&lt;‘flex-basis’&gt;</a><a class=self-link href=#valuedef-flex-basis></a></dfn>
		<dd>
			<p>
				This component, which takes the same values as the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a> property,
				sets the <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> <a href=#flex-components>longhand</a>
				and specifies the <dfn data-dfn-type=dfn data-noexport="" id=flex-basis>flex basis<a class=self-link href=#flex-basis></a></dfn>:
				the initial <a data-link-type=dfn href=#main-size title="main size">main size</a> of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
				before free space is distributed according to the flex factors.
				When omitted from the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> shorthand, its specified value is <span class=css data-link-type=maybe title=0%>0%</span>.
			<p>
				If the specified <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> is <a class=css-code data-link-for=flex-basis data-link-type=value href=#valuedef-auto1 title=auto>auto</a>,
				the used <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> is the value of the flex item’s <a data-link-type=dfn href=#main-size-property title="main size property">main size property</a>.
				(This can itself be the keyword <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>, which sizes the flex item based on its contents.)

			</p><figure>
				<img height=240 src=images/rel-vs-abs-flex.svg width=504>
				<figcaption>
					A diagram showing the difference between "absolute" flex
					(starting from a basis of zero)
					and "relative" flex
					(starting from a basis of the item’s content size).
					The three items have flex factors of <span class=css data-link-type=maybe title=1>1</span>, <span class=css data-link-type=maybe title=1>1</span>, and <span class=css data-link-type=maybe title=2>2</span>, respectively.
				</figcaption>
			</figure>

		<dt><dfn class=css-code data-dfn-for=flex data-dfn-type=value data-export="" id=valuedef-none>none<a class=self-link href=#valuedef-none></a></dfn>
		<dd>
			<p>The keyword <a class=css data-link-type=maybe href=#valuedef-none title=none>none</a> computes to <span class=css data-link-type=maybe title="0 0 auto">0 0 auto</span>.
	</dl>

	<p>
		The initial values of the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> components are equivalent to <a class=css-code href=#flex-initial>flex: 0 1 auto</a>.
	<p class=note>
		Note that the initial values of <a class=property data-link-type=propdesc href=#propdef-flex-grow title=flex-grow>flex-grow</a> and <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a>
		are different from their defaults when omitted in the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> shorthand.
		This so that the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> shorthand can better accommodate the most <a href=#flex-common>common cases</a>.

	<p>
		A unitless zero that is not already preceded by two flex factors
		must be interpreted as a flex factor.
		To avoid misinterpretation or invalid declarations,
		authors must specify a zero <a class=production data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>&lt;‘flex-basis’&gt;</a> component
		with a unit or precede it by two flex factors.

<h3 class="heading settled heading" data-level=7.2 id=flex-common><span class=secno>7.2 </span><span class=content>
Common Values of <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a></span><a class=self-link href=#flex-common></a></h3>

	<p><em>This section is informative.</em>

	<p>
		The list below summarizes the effects of the most common <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> values:

	<dl>
		<dt id=flex-initial><a class=self-link href=#flex-initial></a><a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: 0 auto</a>
		<dt><a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: initial</a>
		<dd>
			Equivalent to <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: 0 1 auto</a>. (This is the initial value.)
			Sizes the item based on the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a> properties.
			(If the item’s <a data-link-type=dfn href=#main-size-property title="main size property">main size property</a> computes to <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>,
			this will size the flex item based on its contents.)
			Makes the flex item inflexible when there is positive free space,
			but allows it to shrink to its min-size when there is insufficient space.
			The <a href=#alignment>alignment abilities</a> or <a href=#auto-margins><span class=css>auto</span> margins</a>
			can be used to align flex items along the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>.

		<dt><a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: auto</a>
		<dd>
			Equivalent to <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: 1 1 auto</a>.
			Sizes the item based on the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a> properties,
			but makes them fully flexible, so that they absorb any free space along the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>.
			If all items are either <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: auto</a>, <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: initial</a>, or <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: none</a>,
			any positive free space after the items have been sized will be distributed evenly to the items with <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: auto</a>.

		<dt><a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: none</a>
		<dd>
			Equivalent to <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: 0 0 auto</a>.
			This value sizes the item according to the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a> properties,
			but makes the flex item fully inflexible.
			This is similar to <span class=css data-link-type=maybe title=initial>initial</span>,
			except that flex items are not allowed to shrink,
			even in overflow situations.

		<dt><a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: &lt;positive-number&gt;</a>
		<dd>
			Equivalent to <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: &lt;positive-number&gt; 1 0%</a>.
			Makes the flex item flexible and sets the <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> to zero,
			resulting in an item that receives the specified proportion of the free space in the flex container.
			If all items in the flex container use this pattern,
			their sizes will be proportional to the specified flex factor.
	</dl>

	<p>
		By default, flex items won’t shrink below their minimum content size
		(the length of the longest word or fixed-size element).
		To change this, set the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-width title=min-width>min-width</a> or <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-height title=min-height>min-height</a> property.
		(See <a href=#min-size-auto>Implied Minimum Size of Flex Items</a>.)

<h3 class="heading settled heading" data-level=7.3 id=flex-components><span class=secno>7.3 </span><span class=content>
Components of Flexibility</span><a class=self-link href=#flex-components></a></h3>

	<p>
		Individual components of flexibility can be controlled by independent longhand properties.

	<p class=note>
		Authors are encouraged to control flexibility using the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> shorthand
		rather than with component properties,
		as the shorthand correctly resets any unspecified components
		to accommodate <a href=#flex-common>common uses</a>.

<h4 class="heading settled heading" data-level=7.3.1 id=flex-grow-property><span class=secno>7.3.1 </span><span class=content>
The <a class=property data-link-type=propdesc href=#propdef-flex-grow title=flex-grow>flex-grow</a> property</span><a class=self-link href=#flex-grow-property></a></h4>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex-grow>flex-grow<a class=self-link href=#propdef-flex-grow></a></dfn><tr><th>Value:<td class=prod><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#number-value title="<number>">&lt;number&gt;</a><tr><th>Initial:<td>0<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>yes, except between <span class=css data-link-type=maybe title=0>0</span> and other values</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-flex-grow title=flex-grow>flex-grow</a> property sets the <a data-link-type=dfn href=#flex-grow-factor title="flex grow factor">flex grow factor</a>
		to the provided <dfn class=css-code data-dfn-for=flex-grow data-dfn-type=value data-export="" id=valuedef-number0><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#number-value title="<number>">&lt;number&gt;</a><a class=self-link href=#valuedef-number0></a></dfn>.
		Negative numbers are invalid.

<h4 class="heading settled heading" data-level=7.3.2 id=flex-shrink-property><span class=secno>7.3.2 </span><span class=content>
The <a class=property data-link-type=propdesc href=#propdef-flex-shrink title=flex-shrink>flex-shrink</a> property</span><a class=self-link href=#flex-shrink-property></a></h4>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex-shrink>flex-shrink<a class=self-link href=#propdef-flex-shrink></a></dfn><tr><th>Value:<td class=prod><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#number-value title="<number>">&lt;number&gt;</a><tr><th>Initial:<td>1<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>yes, except between <span class=css data-link-type=maybe title=0>0</span> and other values</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-flex-shrink title=flex-shrink>flex-shrink</a> property sets the <a data-link-type=dfn href=#flex-shrink-factor title="flex shrink factor">flex shrink factor</a>
		to the provided <dfn class=css-code data-dfn-for=flex-shrink data-dfn-type=value data-export="" id=valuedef-number><a class="production css-code" data-link-type=type href=http://www.w3.org/TR/css3-values/#number-value title="<number>">&lt;number&gt;</a><a class=self-link href=#valuedef-number></a></dfn>.
		Negative numbers are invalid.

<h4 class="heading settled heading" data-level=7.3.3 id=flex-basis-property><span class=secno>7.3.3 </span><span class=content>
The <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> property</span><a class=self-link href=#flex-basis-property></a></h4>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-flex-basis>flex-basis<a class=self-link href=#propdef-flex-basis></a></dfn><tr><th>Value:<td class=prod>auto | <a class=production data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>&lt;‘width’&gt;</a><tr><th>Initial:<td>auto<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>as specified, with lengths made absolute<tr><th>Percentages:<td>realtive to the <a data-link-type=dfn href=#flex-container title="flex container’s">flex container’s</a> inner <a data-link-type=dfn href=#main-size title="main size">main size</a><tr><th>Animatable:<td>as <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a></table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> property sets the <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a>.
		Negative lengths are invalid.

	<p>
		Except for <dfn class=css-code data-dfn-for=flex-basis data-dfn-type=value data-export="" id=valuedef-auto1>auto<a class=self-link href=#valuedef-auto1></a></dfn>,
		which retrieves the value of the <a data-link-type=dfn href=#main-size-property title="main size property">main size property</a>,
		<a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> is resolved the same way as <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a> in horizontal writing modes <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>:
		percentage values of <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> are resolved against
		the flex item’s containing block, i.e. its flex container,
		and if that containing block’s size is <a data-link-type=dfn href=#indefinite title=indefinite>indefinite</a>,
		the result is the same as a <a data-link-type=dfn href=#main-size title="main size">main size</a> of <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>.
		Similarly, <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> determines the size of the content box,
		unless otherwise specified
		such as by <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-ui/#box-sizing0 title=box-sizing>box-sizing</a> <a data-biblio-type=informative data-link-type=biblio href=#css3ui title=css3ui>[CSS3UI]</a>.

<h2 class="heading settled heading" data-level=8 id=alignment><span class=secno>8 </span><span class=content>
Alignment</span><a class=self-link href=#alignment></a></h2>

	<p>
		After a flex container’s contents have finished their flexing
		and the dimensions of all flex items are finalized,
		they can then be aligned within the flex container.

	<p>
		The <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/box.html#propdef-margin title=margin>margin</a> properties can be used to align items in a manner similar to, but more powerful than, what margins can do in block layout.
		<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> also respect the alignment properties from the Box Alignment spec,
		which allow easy keyword-based alignment of items in both the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a> and <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>.
		These properties make many common types of alignment trivial,
		including some things that were very difficult in CSS 2.1,
		like horizontal and vertical centering.

	<p class=note>
		While the alignment properties are defined in the Box Alignment spec,
		Flexible Box Layout reproduces the definitions of the relevant ones here
		so as to not create a normative dependency that may slow down advancement of the spec.
		These properties apply only to flex layout
		until Box Alignment is finished
		and defines their effect for other layout modes.


<h3 class="heading settled heading" data-level=8.1 id=auto-margins><span class=secno>8.1 </span><span class=content>
Aligning with <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins</span><a class=self-link href=#auto-margins></a></h3>

	<p>
		<em>This section is non-normative.
			The normative definition of how margins affect flex items is in the <a href=#layout-algorithm>Flex Layout Algorithm</a> section.</em>

	<p>
		Auto margins on flex items have an effect very similar to auto margins in block flow:

<p>	<ul>
		<li>
			During calculations of flex bases and flexible lengths, auto margins are treated as <span class=css data-link-type=maybe title=0>0</span>.

		<li>
			Prior to alignment via <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> and <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a>,
			any positive free space is distributed to auto margins in that dimension.

		<li>
			Overflowing boxes ignore their auto margins and overflow in the <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#end title=end>end</a> direction.
	</ul>

	<p class=note>
		Note that, if free space is distributed to auto margins,
		the alignment properties will have no effect in that dimension
		because the margins will have stolen all the free space
		left over after flexing.

	<div class=example>
		<p>
			One use of <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins in the main axis is to separate flex items into distinct "groups".
			The following example shows how to use this to reproduce a common UI pattern -
			a single bar of actions with some aligned on the left and others aligned on the right.

		</p><figure>
			<figcaption>
				Sample rendering of the code below.
			</figcaption>
			<ul id=auto-bar>
				<li><a href=#>About</a>
				<li><a href=#>Projects</a>
				<li><a href=#>Interact</a>
				<li id=login><a href=#>Login</a>
			</ul>
		</figure>

		<pre>&lt;style&gt;
nav &gt; ul {
  display: flex;
}
nav &gt; ul &gt; li {
  min-width: min-content;
  /* Prevent items from getting too small for their content. */
}
nav &gt; ul &gt; #login {
  margin-left: auto;
}
&lt;/style&gt;
&lt;nav&gt;
  &lt;ul&gt;
&lt;li&gt;&lt;a href=/about&gt;About&lt;/a&gt;
&lt;li&gt;&lt;a href=/projects&gt;Projects&lt;/a&gt;
&lt;li&gt;&lt;a href=/interact&gt;Interact&lt;/a&gt;
&lt;li id='login'&gt;&lt;a href=/login&gt;Login&lt;/a&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</pre>	</div>

	<div class=example>
		<p>
			The figure below illustrates the difference in cross-axis alignment in overflow situations between
			using <a href=#auto-margins><span class=css>auto</span> margins</a>
			and using the <a href=#align-items-property>alignment properties</a>.

		</p><figure>
			<div style="display:table; margin: 0 auto 1em;">
				<div class=cross-auto-figure style="display:table-cell; padding-right: 50px;">
					<div>
						<div>About</div>
						<div>Authoritarianism</div>
						<div>Blog</div>
					</div>
				</div>
				<div class=cross-auto-figure style="display:table-cell; padding-left: 50px;">
					<div>
						<div>About</div>
						<div style="margin-left: -31px;">Authoritarianism</div>
						<div>Blog</div>
					</div>
				</div>
			</div>
			<figcaption>
				The items in the figure on the left are centered with margins,
				while those in the figure on the right are centered with <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a>.
				If this column flex container was placed against the left edge of the page,
				the margin behavior would be more desirable,
				as the long item would be fully readable.
				In other circumstances,
				the true centering behavior might be better.
			</figcaption>
		</figure>
	</div>

<h3 class="heading settled heading" data-level=8.2 id=justify-content-property><span class=secno>8.2 </span><span class=content>
Axis Alignment: the <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> property</span><a class=self-link href=#justify-content-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-justify-content>justify-content<a class=self-link href=#propdef-justify-content></a></dfn><tr><th>Value:<td class=prod>flex-start | flex-end | center | space-between | space-around<tr><th>Initial:<td>flex-start<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> property aligns <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> along the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a> of the current line of the flex container.
		This is done <em title="">after</em> any flexible lengths and any <a href=#auto-margins>auto margins</a> have been resolved.
		Typically it helps distribute extra free space leftover when either
		all the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on a line are inflexible,
		or are flexible but have reached their maximum size.
		It also exerts some control over the alignment of items when they overflow the line.

	<dl data-dfn-for=justify-content data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=justify-content data-dfn-type=value data-export="" id=valuedef-flex-start0>flex-start<a class=self-link href=#valuedef-flex-start0></a></dfn>
		<dd>
			<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> are packed toward the start of the line.
			The <a data-link-type=dfn href=#main-start title=main-start>main-start</a> margin edge of the first <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the line
			is placed flush with the <a data-link-type=dfn href=#main-start title=main-start>main-start</a> edge of the line,
			and each subsequent <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> is placed flush with the preceding item.

		<dt><dfn class=css-code data-dfn-for=justify-content data-dfn-type=value data-export="" id=valuedef-flex-end0>flex-end<a class=self-link href=#valuedef-flex-end0></a></dfn>
		<dd>
			<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> are packed toward the end of the line.
			The <a data-link-type=dfn href=#main-end title=main-end>main-end</a> margin edge of the last <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
			is placed flush with the <a data-link-type=dfn href=#main-end title=main-end>main-end</a> edge of the line,
			and each preceding <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> is placed flush with the subsequent item.

		<dt><dfn class=css-code data-dfn-for=justify-content data-dfn-type=value data-export="" id=valuedef-center0>center<a class=self-link href=#valuedef-center0></a></dfn>
		<dd>
			<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> are packed toward the center of the line.
			The <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the line are placed flush with each other
			and aligned in the center of the line,
			with equal amounts of empty space between the <a data-link-type=dfn href=#main-start title=main-start>main-start</a> edge of the line and the first item on the line
			and between the <a data-link-type=dfn href=#main-end title=main-end>main-end</a> edge of the line and the last item on the line.
			(If the leftover free-space is negative,
			the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> will overflow equally in both directions.)

		<dt><dfn class=css-code data-dfn-for=justify-content data-dfn-type=value data-export="" id=valuedef-space-between0>space-between<a class=self-link href=#valuedef-space-between0></a></dfn>
		<dd>
			<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> are evenly distributed in the line.
			If the leftover free-space is negative
			or there is only a single <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the line,
			this value is identical to <a class=css-code data-link-for=justify-content data-link-type=value href=#valuedef-flex-start0 title=flex-start>flex-start</a>.
			Otherwise,
			the <a data-link-type=dfn href=#main-start title=main-start>main-start</a> margin edge of the first <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the line
			is placed flush with the <a data-link-type=dfn href=#main-start title=main-start>main-start</a> edge of the line,
			the <a data-link-type=dfn href=#main-end title=main-end>main-end</a> margin edge of the last <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the line
			is placed flush with the <a data-link-type=dfn href=#main-end title=main-end>main-end</a> edge of the line,
			and the remaining <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the line are distributed
			so that the spacing between any two adjacent items is the same.

		<dt><dfn class=css-code data-dfn-for=justify-content data-dfn-type=value data-export="" id=valuedef-space-around0>space-around<a class=self-link href=#valuedef-space-around0></a></dfn>
		<dd>
			<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> are evenly distributed in the line,
			with half-size spaces on either end.
			If the leftover free-space is negative or
			there is only a single <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the line,
			this value is identical to <a class=css-code data-link-for=justify-content data-link-type=value href=#valuedef-center0 title=center>center</a>.
			Otherwise, the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the line are distributed
			such that the spacing between any two adjacent <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the line is the same,
			and the spacing between the first/last <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> and the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> edges
			is half the size of the spacing between <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>.
	</dl>

	<div class=figure>
		<img alt="" height=270 src=images/flex-pack.svg width=504>
		<p class=caption>An illustration of the five <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> keywords and their effects on a flex container with three colored items.
	</div>


<h3 class="heading settled heading" data-level=8.3 id=align-items-property><span class=secno>8.3 </span><span class=content>
Cross-axis Alignment: the <a class=property data-link-type=propdesc href=#propdef-align-items title=align-items>align-items</a> and <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> properties</span><a class=self-link href=#align-items-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-align-items>align-items<a class=self-link href=#propdef-align-items></a></dfn><tr><th>Value:<td class=prod>flex-start | flex-end | center | baseline | stretch<tr><th>Initial:<td>stretch<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-align-self>align-self<a class=self-link href=#propdef-align-self></a></dfn><tr><th>Value:<td class=prod>auto | flex-start | flex-end | center | baseline | stretch<tr><th>Initial:<td>auto<tr><th>Applies to:<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td><a class=css-code data-link-for=align-self data-link-type=value href=#valuedef-auto title=auto>auto</a> computes to parent’s <a class=property data-link-type=propdesc href=#propdef-align-items title=align-items>align-items</a> value; otherwise as specified</table>
	<p>
		<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> can be aligned in the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a> of the current line of the flex container,
		similar to <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> but in the perpendicular direction.
		<a class=property data-link-type=propdesc href=#propdef-align-items title=align-items>align-items</a> sets the default alignment for all of the flex container’s <a data-link-type=dfn href=#flex-item title="flex items">items</a>,
		including anonymous <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>.
		<a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> allows this default alignment to be overridden for individual <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>.
		(For anonymous flex items,
		<a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> always matches the value of <a class=property data-link-type=propdesc href=#propdef-align-items title=align-items>align-items</a> on their associated flex container.)

	<p>
		If either of the <a data-link-type=dfn href=#flex-item title="flex item’s">flex item’s</a> cross-axis margins are <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a>,
		<a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> has no effect.

	<p>
		A value of <dfn class=css-code data-dfn-for=align-self data-dfn-type=value data-export="" id=valuedef-auto>auto<a class=self-link href=#valuedef-auto></a></dfn> for <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a>
		computes to the value of <a class=property data-link-type=propdesc href=#propdef-align-items title=align-items>align-items</a> on the element’s parent,
		or <a class=css data-link-for=align-self data-link-type=maybe href=#valuedef-stretch0 title=stretch>stretch</a> if the element has no parent.
		The alignments are defined as:

	<dl data-dfn-for="align-items align-self" data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for="align-items align-self" data-dfn-type=value data-export="" id=valuedef-flex-start1>flex-start<a class=self-link href=#valuedef-flex-start1></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> margin edge of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
			is placed flush with the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the line.

		<dt><dfn class=css-code data-dfn-for="align-items align-self" data-dfn-type=value data-export="" id=valuedef-flex-end1>flex-end<a class=self-link href=#valuedef-flex-end1></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> margin edge of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
			is placed flush with the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> edge of the line.

		<dt><dfn class=css-code data-dfn-for="align-items align-self" data-dfn-type=value data-export="" id=valuedef-center1>center<a class=self-link href=#valuedef-center1></a></dfn>
		<dd>
			The <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s margin box is centered in the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a> within the line.
			(If the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of the flex line is less than that of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
			it will overflow equally in both directions.)

		<dt><dfn class=css-code data-dfn-for="align-items align-self" data-dfn-type=value data-export="" id=valuedef-baseline>baseline<a class=self-link href=#valuedef-baseline></a></dfn>
		<dd>
			<p>
				If the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s inline axis is the same as the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>,
				this value is identical to <a class=css-code data-link-for=align-self data-link-type=value href=#valuedef-flex-start1 title=flex-start>flex-start</a>.

			<p>
				Otherwise,
				it <dfn data-dfn-type=dfn data-noexport="" id=baseline-participation>participates in baseline alignment<a class=self-link href=#baseline-participation></a></dfn>:
				all participating <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the line
				are aligned such that their baselines align,
				and the item with the largest distance between its baseline and its <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> margin edge
				is placed flush against the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the line.


		<dt><dfn class=css-code data-dfn-for="align-items align-self" data-dfn-type=value data-export="" id=valuedef-stretch0>stretch<a class=self-link href=#valuedef-stretch0></a></dfn>
		<dd>
			<p>
				If the <a data-link-type=dfn href=#cross-size-property title="cross size property">cross size property</a> of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> computes to <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>,
				its used value is the length necessary to make the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of the item’s margin box as close to the same size as the line as possible,
				while still respecting the constraints imposed by <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-height title=min-height>min-height</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-width title=min-width>min-width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-max-height title=max-height>max-height</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-max-width title=max-width>max-width</a>.

			<p class=note>
				Note that if the flex container’s height is constrained
				this value may cause the contents of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
				to overflow the item.

			<p>
				The <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> margin edge of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
				is placed flush with the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the line.
	</dl>

	<div class=figure>
		<img alt="" height=377 src=images/flex-align.svg width=508>
		<p class=caption>An illustration of the five <a class=property data-link-type=propdesc href=#propdef-align-items title=align-items>align-items</a> keywords and their effects on a flex container with four colored items.
	</div>

<h3 class="heading settled heading" data-level=8.4 id=align-content-property><span class=secno>8.4 </span><span class=content>
Packing Flex Lines: the <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> property</span><a class=self-link href=#align-content-property></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css-code data-dfn-type=property data-export="" id=propdef-align-content>align-content<a class=self-link href=#propdef-align-content></a></dfn><tr><th>Value:<td class=prod>flex-start | flex-end | center | space-between | space-around | stretch<tr><th>Initial:<td>stretch<tr><th>Applies to:<td><a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> <a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a><tr><th>Inherited:<td>no<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value</table>
	<p>
		The <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> property aligns a flex container’s lines within the flex container
		when there is extra space in the <a data-link-type=dfn href=#cross-axis title=cross-axis>cross-axis</a>,
		similar to how <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> aligns individual items within the <a data-link-type=dfn href=#main-axis title=main-axis>main-axis</a>.
		Note, this property has no effect when the flex container has only a single line.
		Values have the following meanings:

	<dl data-dfn-for=align-content data-dfn-type=value>
		<dt><dfn class=css-code data-dfn-for=align-content data-dfn-type=value data-export="" id=valuedef-flex-start>flex-start<a class=self-link href=#valuedef-flex-start></a></dfn>
		<dd>
			Lines are packed toward the start of the flex container.
			The <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the first line in the flex container
			is placed flush with the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the flex container,
			and each subsequent line is placed flush with the preceding line.

		<dt><dfn class=css-code data-dfn-for=align-content data-dfn-type=value data-export="" id=valuedef-flex-end>flex-end<a class=self-link href=#valuedef-flex-end></a></dfn>
		<dd>
			Lines are packed toward the end of the flex container.
			The <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> edge of the last line
			is placed flush with the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> edge of the flex container,
			and each preceding line is placed flush with the subsequent line.

		<dt><dfn class=css-code data-dfn-for=align-content data-dfn-type=value data-export="" id=valuedef-center>center<a class=self-link href=#valuedef-center></a></dfn>
		<dd>
			Lines are packed toward the center of the flex container.
			The lines in the flex container are placed flush with each other
			and aligned in the center of the flex container,
			with equal amounts of empty space
			between the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> content edge of the flex container
			and the first line in the flex container,
			and between the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> content edge of the flex container
			and the last line in the flex container.
			(If the leftover free-space is negative,
			the lines will overflow equally in both directions.)

		<dt><dfn class=css-code data-dfn-for=align-content data-dfn-type=value data-export="" id=valuedef-space-between>space-between<a class=self-link href=#valuedef-space-between></a></dfn>
		<dd>
			Lines are evenly distributed in the flex container.
			If the leftover free-space is negative
			this value is identical to <a class=css-code data-link-for=align-content data-link-type=value href=#valuedef-flex-start title=flex-start>flex-start</a>.
			Otherwise,
			the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the first line in the flex container
			is placed flush with the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> content edge of the flex container,
			the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> edge of the last line in the flex container
			is placed flush with the <a data-link-type=dfn href=#cross-end title=cross-end>cross-end</a> content edge of the flex container,
			and the remaining lines in the flex container are distributed
			so that the spacing between any two adjacent lines is the same.

		<dt><dfn class=css-code data-dfn-for=align-content data-dfn-type=value data-export="" id=valuedef-space-around>space-around<a class=self-link href=#valuedef-space-around></a></dfn>
		<dd>
			Lines are evenly distributed in the flex container,
			with half-size spaces on either end.
			If the leftover free-space is negative
			this value is identical to <a class=css-code data-link-for=align-content data-link-type=value href=#valuedef-center title=center>center</a>.
			Otherwise, the lines in the flex container are distributed
			such that the spacing between any two adjacent lines is the same,
			and the spacing between the first/last lines and the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> edges
			is half the size of the spacing between <a data-link-type=dfn href=#flex-line title="flex lines">flex lines</a>.

		<dt><dfn class=css-code data-dfn-for=align-content data-dfn-type=value data-export="" id=valuedef-stretch>stretch<a class=self-link href=#valuedef-stretch></a></dfn>
		<dd>
			Lines stretch to take up the remaining space.
			If the leftover free-space is negative,
			this value is identical to <a class=css-code data-link-for=align-content data-link-type=value href=#valuedef-flex-start title=flex-start>flex-start</a>.
			Otherwise,
			the free-space is split equally between all of the lines,
			increasing their cross size.
	</dl>

	<p class=note>
		Note: Only flex containers with multiple lines
		ever have free space in the <a data-link-type=dfn href=#cross-axis title=cross-axis>cross-axis</a> for lines to be aligned in,
		because in a flex container with a single line
		the sole line automatically stretches to fill the space.

	<div class=figure>
		<img alt="" height=508 src=images/align-content-example.svg width=612>
		<p class=caption>
			An illustration of the <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> keywords and their effects on a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> flex container.
	</div>

<h3 class="heading settled heading" data-level=8.5 id=flex-baselines><span class=secno>8.5 </span><span class=content>
Flex Baselines</span><a class=self-link href=#flex-baselines></a></h3>

	<p>
		The baselines of a flex container are determined as follows (after reordering with <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a>):

	<dl>
		<dt><dfn data-dfn-type=dfn data-export="" id=main-axis-baseline>main-axis baseline<a class=self-link href=#main-axis-baseline></a></dfn>
		<dd>
			<ol>
				<li>
					If any of the <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> on the flex container’s first line
					<a href=#baseline-participation>participate in baseline alignment</a>,
					the flex container’s <a data-link-type=dfn href=#main-axis-baseline title="main-axis baseline">main-axis baseline</a> is the baseline of those <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>.

				<li>
					Otherwise, if the flex container has at least one <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
					and its first <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> has a baseline
					parallel to the flex container’s <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>,
					the flex container’s <a data-link-type=dfn href=#main-axis-baseline title="main-axis baseline">main-axis baseline</a> is that baseline.

				<li>
					Otherwise, the flex container’s <a data-link-type=dfn href=#main-axis-baseline title="main-axis baseline">main-axis baseline</a> is <a href=http://www.w3.org/TR/css3-writing-modes/#inline-alignment>synthesized</a>
					from the first item’s content box,
					or, failing that, from the flex container’s content box.

					
			</ol>

		<dt><dfn data-dfn-type=dfn data-export="" id=cross-axis-baseline>cross-axis baseline<a class=self-link href=#cross-axis-baseline></a></dfn>
		<dd>
			<ol>
				<li>
					If the flex container has at least one <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
					and its first <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> has a baseline
					parallel to the flex container’s <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>,
					the flex container’s <a data-link-type=dfn href=#cross-axis-baseline title="cross-axis baseline">cross-axis baseline</a> is that baseline.

				<li>
					Otherwise, the flex container’s <a data-link-type=dfn href=#cross-axis-baseline title="cross-axis baseline">cross-axis baseline</a> is <a href=http://www.w3.org/TR/css3-writing-modes/#inline-alignment>synthesized</a>
					from the first item’s content box,
					or, failing that, from the flex container’s content box.
			</ol>
	</dl>

	<p>
		When calculating the baseline according to the above rules,
		if the box contributing a baseline has an <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> value that allows scrolling,
		the box must be treated as being in its initial scroll position
		for the purpose of determining its baseline.

	<p>
		When <a href=http://www.w3.org/TR/CSS21/tables.html#height-layout>determining the baseline of a table cell</a>,
		a flex container provides a baseline just as a line box or table-row does. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>

	<div class=note>
		<p>
			CSS 2.1 did not define the baseline of block or table boxes.
			It is expected that they will be defined consistent with those of <a href=http://www.w3.org/TR/CSS2/tables.html#height-layout>table cells</a>,
			as follows:

		<dl>
			<dt><span class=css data-link-type=maybe title=block>block</span>
			<dt><span class=css data-link-type=maybe title=list-item>list-item</span>
			<dd>
				<p>
					The inline-axis baseline of a block is the baseline of the first in-flow line box in the block,
					or the first in-flow block-level child in the block that has a baseline,
					whichever comes first.
					If there is no such line box or child,
					then the block has no baseline.
					For the purposes of finding a baseline,
					in-flow boxes with a scrolling mechanisms (see the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> property)
					must be considered as if scrolled to their origin position.

				<p>
					A block has no block-axis baseline.

			<dt><span class=css data-link-type=maybe title=table>table</span>
			<dd>
				<p>
					The inline-axis baseline of a table box is the baseline of its first row.
					However, when calculating the baseline of an inline-block,
					table boxes must be skipped.

				<p>
					The block-axis baseline of a table is undefined.
		</dl>
	</div>



<h2 class="heading settled heading" data-level=9 id=layout-algorithm><span class=secno>9 </span><span class=content>
Flex Layout Algorithm</span><a class=self-link href=#layout-algorithm></a></h2>

	<p>
		This section contains normative algorithms
		detailing the exact layout behavior of a flex container and its contents.
		The algorithms here are written to optimize readability and theoretical simplicity,
		and may not necessarily be the most efficient.
		Implementations may use whatever actual algorithms they wish,
		but must produce the same results as the algorithms described here.

	<p class=note>
		This section is mainly intended for implementors.
		Authors writing web pages should generally be served well by the individual property descriptions,
		and do not need to read this section unless they have a deep-seated urge to understand arcane details of CSS layout.

	<p>
		For the purposes of these definitions,
		a <dfn data-dfn-type=dfn data-noexport="" id=definite title="definite|definite size">definite size<a class=self-link href=#definite></a></dfn> is one that can be determined without measuring content,
		i.e. is a <var>&lt;length&gt;</var>,
		a size of the initial containing block,
		or a <var>&lt;percentage&gt;</var> that is resolved against a definite size.
		An <dfn data-dfn-type=dfn data-noexport="" id=indefinite title="indefinite|indefinite size">indefinite size<a class=self-link href=#indefinite></a></dfn> is one that is not <a data-link-type=dfn href=#definite title=definite>definite</a>.

	<p>
		As a special case for handling stretched <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>,
		if a <a data-link-type=dfn href=#single-line title=single-line>single-line</a> <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> has a definite cross size,
		the outer <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of any <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> with <a class=css data-link-type=propdesc href=#propdef-align-self title=align-self>align-self: stretch</a>
		is the flex container’s inner cross size (clamped to the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s min and max <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>)
		and is considered <a data-link-type=dfn href=#definite title=definite>definite</a>.

	<p>
		The following sections define the algorithm for laying out a flex container and its contents.

<h3 class="heading settled heading" data-level=9.1 id=box-manip><span class=secno>9.1 </span><span class=content>
Initial Setup</span><a class=self-link href=#box-manip></a></h3>

	<ol start=0>
		<li id=algo-anon-box><a class=self-link href=#algo-anon-box></a>
			<strong>Generate anonymous flex items</strong>
			as described in the <a href=#flex-items>Flex Items</a> section.

		<li id=algo-flex-order><a class=self-link href=#algo-flex-order></a>
			<strong>Re-order the flex items and absolutely positioned flex container children according to their <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a>.</strong>
			The flex items with the lowest (most negative) <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> values are first in the ordering.
			If multiple flex items share an <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> value,
			they’re ordered by document order.
			This effectively changes the order of their boxes in the box-tree,
			and how the rest of this algorithm deals with the generated flex items.
	</ol>

<h3 class="heading settled heading" data-level=9.2 id=line-sizing><span class=secno>9.2 </span><span class=content>
Line Length Determination</span><a class=self-link href=#line-sizing></a></h3>

	<ol class=continue>
		<li id=algo-available><a class=self-link href=#algo-available></a>
			<strong>Determine the available main and cross space for the flex items.</strong>
			For each dimension,
			if that dimension of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>’s content box is a <a data-link-type=dfn href=#definite title="definite size">definite size</a>, use that;
			otherwise, subtract the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>’s margin, border, and padding
			from the space available to the flex container in that dimension
			and use that value.
			<span class=note>This might result in an infinite value.</span>
			

			<div class=example>
				<p>For example, the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#available title="available space">available space</a> to a flex item in a
					<a href=http://www.w3.org/TR/CSS21/visuren.html#floats>floated</a> <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>-sized <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> is:
				<ul>
					<li>the width of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>’s containing block minus the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>’s margin, border, and padding in the horizontal dimension
					<li>infinite in the vertical dimension
				</ul>
			</div>

		<li id=algo-main-item><a class=self-link href=#algo-main-item></a>
			<strong>Determine the <dfn data-dfn-type=dfn data-noexport="" id=flex-base-size>flex base size<a class=self-link href=#flex-base-size></a></dfn> and <dfn data-dfn-type=dfn data-noexport="" id=hypothetical-main-size>hypothetical main size<a class=self-link href=#hypothetical-main-size></a></dfn> of each item:</strong>

			<ol type=A>
				<li>
					If the item has a <a data-link-type=dfn href=#definite title=definite>definite</a> flex basis,
					that’s the <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a>.

				<li>
					If the flex item has ...
					<ul>
						<li>an intrinsic aspect ratio,
						<li>a <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> of <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>, and
						<li>a definite <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>
					</ul>
					then the <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> is calculated from its inner <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>
					and the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s intrinsic aspect ratio.

				<li>
					If the <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> is <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a> or depends on its available size,
					and the flex container is being sized under a min-content or max-content constraint
					(e.g. when performing <a href=http://www.w3.org/TR/CSS21/tables.html#auto-table-layout>automatic table layout</a> <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>),
					size the item under that constraint.
					The <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> is the item’s resulting main size.

				<li>
					Otherwise,
					if the <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> is <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a> or depends on its available size,
					the available main size is infinite,
					and the flex item’s inline axis is parallel to the main axis,
					lay the item out using
					<a href=http://www.w3.org/TR/css3-writing-modes/#orthogonal-flows>the rules for a box in an orthogonal flow</a> <a data-biblio-type=normative data-link-type=biblio href=#css3-writing-modes title=css3-writing-modes>[CSS3-WRITING-MODES]</a>.
					The <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> is the item’s max-content main size.

				<li>
					Otherwise,
					lay out the item into the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#available title="available space">available space</a>
					using its <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> in place of its <a data-link-type=dfn href=#main-size title="main size">main size</a>,
					treating a <a data-link-type=dfn href=#main-size title="main size">main size</a> of <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a> as <span class=css data-link-type=maybe title=max-content>max-content</span>.
					If a <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> is needed to determine the <a data-link-type=dfn href=#main-size title="main size">main size</a>
					(e.g. when the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s <a data-link-type=dfn href=#main-size title="main size">main size</a> is in its block axis)
					and the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s cross size is <a class=css data-link-type=maybe href=#valuedef-auto0 title=auto>auto</a> and not <a data-link-type=dfn href=#definite title=definite>definite</a>,
					in this calculation use <span class=css data-link-type=maybe title=fit-content>fit-content</span> as the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>.
					The <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> is the item’s resulting <a data-link-type=dfn href=#main-size title="main size">main size</a>.

			</ol>

<p>			The <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main size">hypothetical main size</a> is the item’s <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a>
			clamped according to its min and max main size properties.

		<li id=algo-main-container><a class=self-link href=#algo-main-container></a>
			<strong>Determine the main size of the flex container</strong>
			using the rules of the formatting context in which it participates.
			For this computation, <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins on flex items are treated as <span class=css data-link-type=maybe title=0>0</span>.
	</ol>

<h3 class="heading settled heading" data-level=9.3 id=main-sizing><span class=secno>9.3 </span><span class=content>
Main Size Determination</span><a class=self-link href=#main-sizing></a></h3>

	<ol class=continue>
		<li id=algo-line-break><a class=self-link href=#algo-line-break></a>
			<strong>Collect flex items into flex lines:</strong>

<p>			<ul>
				<li>
					If the flex container is <a data-link-type=dfn href=#single-line title=single-line>single-line</a>,
					collect all the flex items into a single flex line.

				<li>
					Otherwise,
					starting from the first uncollected item,
					collect consecutive items one by one
					until the first time that the <em>next</em> collected item
					would not fit into the flex container’s inner main size,
					or until a forced break is encountered.
					If the very first uncollected item wouldn’t fit,
					collect just it into the line.
					A break is forced wherever
					the CSS2.1 <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/page.html#propdef-page-break-before title=page-break-before>page-break-before</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/page.html#propdef-page-break-after title=page-break-after>page-break-after</a> <a data-biblio-type=informative data-link-type=biblio href=#css21 title=css21>[CSS21]</a>
					or the CSS3 <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-before title=break-before>break-before</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-after title=break-after>break-after</a> <a data-biblio-type=informative data-link-type=biblio href=#css3-break title=css3-break>[CSS3-BREAK]</a> properties
					specify a fragmentation break.

					<p>
						For this step,
						the size of a flex item is its outer <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main size">hypothetical main size</a>.

					<p>
						Repeat until all flex items have been collected into flex lines.

					<p class=note>
						Note that the "collect as many" line will collect zero-sized flex items
						onto the end of the previous line
						even if the last non-zero item exactly "filled up" the line.
			</ul>

		<li id=algo-flex><a class=self-link href=#algo-flex></a>
			<strong><a href=#resolve-flexible-lengths>Resolve the flexible lengths</a></strong> of all the flex items
			to find their used main size (see section 9.7.).
	</ol>

<h3 class="heading settled heading" data-level=9.4 id=cross-sizing><span class=secno>9.4 </span><span class=content>
Cross Size Determination</span><a class=self-link href=#cross-sizing></a></h3>

	<ol class=continue>
		<li id=algo-cross-item><a class=self-link href=#algo-cross-item></a>
			<strong>Determine the <dfn data-dfn-type=dfn data-noexport="" id=hypothetical-cross-size>hypothetical cross size<a class=self-link href=#hypothetical-cross-size></a></dfn> of each item</strong>
			by performing layout with the used main size and the available space,
			treating <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a> as <span class=css data-link-type=maybe title=fit-content>fit-content</span>.

		<li id=algo-cross-line><a class=self-link href=#algo-cross-line></a>
			<strong>Calculate the cross size of each flex line.</strong>

			<p>
				If the flex container has only one <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>
				(even if it’s a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>)
				and has a <a data-link-type=dfn href=#definite title=definite>definite</a> <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>,
				the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of the <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>
				is the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>’s inner <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>.

			<p>
				Otherwise,
				for each flex line:

			<ol>
				<li>
					Collect all the flex items whose inline-axis is parallel to the main-axis,
					whose <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> is <a class=css data-link-for=align-self data-link-type=maybe href=#valuedef-baseline title=baseline>baseline</a>,
					and whose cross-axis margins are both non-<a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a>.
					Find the largest of the distances between each item’s baseline and its hypothetical outer cross-start edge,
					and the largest of the distances between each item’s baseline and its hypothetical outer cross-end edge,
					and sum these two values.

				<li>
					Among all the items not collected by the previous step,
					find the largest outer <a data-link-type=dfn href=#hypothetical-cross-size title="hypothetical cross size">hypothetical cross size</a>.

				<li>
					The used cross-size of the flex line is the largest of the numbers found in the previous two steps and zero.
			</ol>

		<li id=algo-line-stretch><a class=self-link href=#algo-line-stretch></a>
			<strong>Handle 'align-content: stretch'.</strong>
			If the flex container has a <a data-link-type=dfn href=#definite title=definite>definite</a> cross size,
			<a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> is <a class=css-code data-link-for=align-content data-link-type=value href=#valuedef-stretch title=stretch>stretch</a>,
			and the sum of the flex lines' cross sizes is less than the flex container’s inner cross size,
			increase the cross size of each flex line by equal amounts
			such that the sum of their cross sizes exactly equals the flex container’s inner cross size.

		<li id=algo-visibility><a class=self-link href=#algo-visibility></a>
			<strong>Collapse <span class=css data-link-type=maybe title=visibility:collapse>visibility:collapse</span> items.</strong>
			If any flex items have <a class=css data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visufx.html#propdef-visibility title=visibility>visibility: collapse</a>,
			note the cross size of the line they’re in as the item’s <dfn data-dfn-type=dfn data-noexport="" id=strut-size>strut size<a class=self-link href=#strut-size></a></dfn>,
			and restart layout from the beginning.

			<p>
				In this second layout round,
				when <a href=#algo-line-break>collecting items into lines</a>,
				treat the collapsed items as having zero main size.
				For the rest of the algorithm following that step,
				ignore the collapsed items entirely
				(as if they were <span class=css data-link-type=maybe title=display:none>display:none</span>)
				except that after <a href=#algo-cross-line>calculating the cross size of the lines</a>,
				if any line’s cross size is less than
				the largest <var>strut size</var>
				among all the collapsed items in the line,
				set its cross size to that <var>strut size</var>.

			<p>
				Skip this step in the second layout round.

		<li id=algo-stretch><a class=self-link href=#algo-stretch></a>
			<strong>Determine the used cross size of each flex item.</strong>
			If a flex item has <a class=css data-link-type=propdesc href=#propdef-align-self title=align-self>align-self: stretch</a>,
			its computed cross size property is <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>,
			and neither of its cross-axis margins are <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a>,
			the used outer cross size is the used cross size of its flex line,
			clamped according to the item’s min and max cross size properties.
			Otherwise,
			the used cross size is the item’s <a data-link-type=dfn href=#hypothetical-cross-size title="hypothetical cross size">hypothetical cross size</a>.

<p>			If the flex item has <a class=css data-link-type=propdesc href=#propdef-align-self title=align-self>align-self: stretch</a>,
			redo layout for its contents,
			treating this used size as its definite cross size
			so that percentage-sized children can be resolved.

			<p class=note>
				Note that this step does not affect the main size of the flex item,
				even if it has an intrinsic aspect ratio.
	</ol>

<h3 class="heading settled heading" data-level=9.5 id=main-alignment><span class=secno>9.5 </span><span class=content>
Main-Axis Alignment</span><a class=self-link href=#main-alignment></a></h3>

	<ol class=continue>
		<li id=algo-main-align><a class=self-link href=#algo-main-align></a>
			<strong>Distribute any remaining free space.</strong>
			For each flex line:

			<ol>
				<li>
					If the remaining free space is positive
					and at least one main-axis margin on this line is <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a>,
					distribute the free space equally among these margins.
					Otherwise, set all <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins to zero.

				<li>
					Align the items along the main-axis per <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a>.
			</ol>
	</ol>

<h3 class="heading settled heading" data-level=9.6 id=cross-alignment><span class=secno>9.6 </span><span class=content>
Cross-Axis Alignment</span><a class=self-link href=#cross-alignment></a></h3>

	<ol class=continue>
		<li id=algo-cross-margins><a class=self-link href=#algo-cross-margins></a>
			<strong>Resolve cross-axis <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins.</strong>
			If a flex item has <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> cross-axis margins:

<p>			<ul>
				<li>
					If its outer cross size
					(treating those <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins as zero)
					is less than the cross size of its flex line,
					distribute the difference in those sizes equally
					to the <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a> margins.
				<li>
					Otherwise,
					if the <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#block-start title=block-start>block-start</a> or <a data-link-type=dfn href=http://www.w3.org/TR/css3-writing-modes/#inline-start title=inline-start>inline-start</a> margin (whichever is in the cross axis)
					is <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a>, set it to zero;
					set the opposite margin so that the outer cross size of the item
					equals the cross size of its flex line.
			</ul>


		<li id=algo-cross-align><a class=self-link href=#algo-cross-align></a>
			<strong>Align all flex items along the cross-axis</strong> per <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a>,
			if neither of the item’s cross-axis margins are <a class=css-code data-link-for=margin data-link-type=value title=auto>auto</a>.

		<li id=algo-cross-container><a class=self-link href=#algo-cross-container></a>
			<strong>Determine the flex container’s used cross size:</strong>

<p>			<ul>
				<li>
					If the cross size property is a <a data-link-type=dfn href=#definite title=definite>definite</a> size,
					use that,
					clamped by the min and max cross size properties of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>.

				<li>
					Otherwise,
					use the sum of the flex lines' cross sizes,
					clamped by the min and max cross size properties of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>.
			</ul>

		<li id=algo-line-align><a class=self-link href=#algo-line-align></a>
			<strong>Align all flex lines</strong> per <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a>.
	</ol>

<h3 class="heading settled heading" data-level=9.7 id=resolve-flexible-lengths><span class=secno>9.7 </span><span class=content>
Resolving Flexible Lengths</span><a class=self-link href=#resolve-flexible-lengths></a></h3>

	<p>
		To resolve the flexible lengths of the items within a flex line:

	<ol>
		<li>
			<strong>Determine the used flex factor.</strong>
			Sum the outer <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main sizes">hypothetical main sizes</a> of all items on the line.
			If the sum is less than or equal to the flex container’s inner main size,
			use the <a data-link-type=dfn href=#flex-grow-factor title="flex grow factor">flex grow factor</a> for the rest of this algorithm;
			otherwise, use the <a data-link-type=dfn href=#flex-shrink-factor title="flex shrink factor">flex shrink factor</a>.

		<li>
			<strong>Size inflexible items.</strong>
			For any items that have a flex factor of zero,
			set their used main size
			to their <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main size">hypothetical main size</a>.

		<li>
			<strong>Calculate free space.</strong>
			Sum the outer <a data-link-type=dfn href=#flex-base-size title="flex base sizes">flex base sizes</a> of all items on the line,
			and subtract this from the flex container’s inner main size.
			This is the free space.

		<li>
			<strong>Calculate desired free space.</strong>
			If the free space is zero or positive,
			then for each <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the line,
			its <var>originally desired free space</var>
			is the free space multiplied by the flex grow factor.

<p>			Otherwise, if the free space is negative,
			then first sum the flex shrink factors of all the flex items on the line.
			If this number is greater than 1, set it to 1.
			Let this result be the <var>scaled flex factor sum</var>.
			For each flex item, multiply its flex shrink factor by its used based size.
			Then, renormalize each flex shrink factor so that their sum is the <var>scaled flex factor sum</var>.
			Then, multiple the flex shrink factor by the free space,
			and let the result be the <var>originally desired free space</var>.

		<li>
			Loop:

			<ol>
				<li>
					<strong>Check that you can distribute any space.</strong>
					If all the non-frozen flex items on the line have a flex factor of zero,
					exit the algorithm.

				<li>
					<strong>Reset desired free space.</strong>
					For each non-frozen flex item on the line,
					set its <var>desired free space</var>
					to its <var>originally desired free space</var>.

				<li>
					<strong>Recalculate free space.</strong>
					Sum the outer <a data-link-type=dfn href=#flex-base-size title="flex base sizes">flex base sizes</a> of all items on the line,
					and subtract this from the flex container’s inner main size.
					This is the free space.
					<span class=note>Note that this does not alter the desired free space of the items.</span>

				<li>
					<strong>Normalize desired free space if necessary.</strong>
					If the free space is positive,
					and the sum of the <var>desired free spaces</var> of all the non-frozen flex items on the line
					is greater than the free space,
					normalize all the <var>desired free spaces</var> so that they sum exactly to the free space
					while maintaining their magnitudes relative to each other.

<p>					Otherwise, if the free space is negative,
					and the sum of the <var>desired free spaces</var> of all the non-frozen flex items on the line
					is less than the free space,
					normalize all the <var>desired free spaces</var> so that they sum exactly to the free space
					while maintaining their magnitudes relative to each other.

				<li>
					<strong>Adjust main size.</strong>
					Set each non-frozen flex item’s used main size
					to the sum of it’s <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> and it’s <var>desired free space</var>.

<p class=note>					Note: This may result in a negative main size temporarily.

				<li>
					<strong>Fix min/max violations.</strong>
					Clamp each non-frozen item’s main size by its min and max main size properties.
					If the item’s main size was made smaller by this, it’s a max violation.
					If the item’s main size was made larger by this, it’s a min violation.

				<li>
					The total violation is the sum of the adjustments from the previous step
					(<code><var>clamped size</var> - <var>unclamped size</var></code>).
					If the total violation is:

					<dl>
						<dt>Zero
						<dd>
							Exit the algorithm.

						<dt>Positive
						<dd>
							Freeze all the items with min violations,
							reset all other items to their size upon entering this algorithm,
							and return to the start of this loop.

						<dt>Negative
						<dd>
							Freeze all the items with max violations,
							reset all other items to their size upon entering this algorithm,
							and return to the start of this loop.
					</dl>
			</ol>
	</ol>

<h3 class="heading settled heading" data-level=9.8 id=intrinsic-sizes><span class=secno>9.8 </span><span class=content>
Intrinsic Sizes</span><a class=self-link href=#intrinsic-sizes></a></h3>

	<p>
		The <dfn data-dfn-type=dfn data-noexport="" id=max-content-main-size>max-content main size<a class=self-link href=#max-content-main-size></a></dfn> of a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
		is the sum of the flex container’s items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-size-contribution title="max-size contributions">max-size contributions</a> in the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>.
		The <dfn data-dfn-type=dfn data-noexport="" id=min-content-main-size>min-content main size<a class=self-link href=#min-content-main-size></a></dfn> of a <a data-link-type=dfn href=#single-line title=single-line>single-line</a> flex container
		is the sum of the flex container’s items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-size-contribution title="min-size contributions">min-size contributions</a> in the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>;
		for a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> container,
		it is the largest of those contributions.

	<p>
		The <dfn data-dfn-type=dfn data-noexport="" id=min-content-cross-size>min-content cross size<a class=self-link href=#min-content-cross-size></a></dfn> and  <dfn data-dfn-type=dfn data-noexport="" id=max-content-cross-size>max-content cross size<a class=self-link href=#max-content-cross-size></a></dfn> of a flex container
		are the cross size of the flex container
		after performing layout into the given available <a data-link-type=dfn href=#main-axis title=main-axis>main-axis</a> space and infinite available <a data-link-type=dfn href=#cross-axis title=cross-axis>cross-axis</a> space.

	<p>
		The main-size <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-size-contribution title="min-size contribution">min-content</a>/<a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-size-contribution title="max-size contribution">max-size contribution</a> of a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
		is its outer <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main size">hypothetical main size</a>
		when sized under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-size-constraint title="min-size constraint">min-content</a>/<a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-size-constraint title="max-size constraint">max-size constraint</a> (respectively).

	<p>
		See <a data-biblio-type=normative data-link-type=biblio href=#css3-sizing title=css3-sizing>[CSS3-SIZING]</a> for a definition of the terms in this section.

<h2 class="heading settled heading" data-level=10 id=pagination><span class=secno>10 </span><span class=content>
Fragmenting Flex Layout</span><a class=self-link href=#pagination></a></h2>

	<p>
		Flex containers can break across pages
		between items,
		between lines of items (in <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> mode),
		and inside items.
		The <a class=css-code data-link-type=property href=http://www.w3.org/TR/css3-break/#break-before title=break-before>break-*</a> properties apply to flex containers as normal for block-level or inline-level boxes.
		This section defines how they apply to flex items
		and the contents of flex items.

	<p>
		The following breaking rules refer to the fragmentation container as the “page”.
		The same rules apply to any other fragmenters.
		(Substitute “page” with the appropriate fragmenter type as needed.)
		See the CSS3 Fragmentation Module <a data-biblio-type=normative data-link-type=biblio href=#css3-break title=css3-break>[CSS3-BREAK]</a>.
		For readability, in this section the terms "row" and "column" refer to the relative orientation
		of the flex container with respect to the block flow direction of the fragmentation context,
		rather than to that of the flex container itself.

	<p>
		The exact layout of a fragmented flex container is not defined in this level of Flexible Box Layout.
		However, breaks inside a flex container are subject to the following rules:

<p>	<ul>
		<li>
			In a row flex container,
			the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-before title=break-before>break-before</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-after title=break-after>break-after</a> properties on flex items
			are propagated to the flex line.
			The <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-before title=break-before>break-before</a> property on the first line
			and the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-after title=break-after>break-after</a> property on the last line
			are propagated to the flex container.

		<li>
			In a column flex container,
			the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-before title=break-before>break-before</a> property on the first item
			and the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-break/#break-after title=break-after>break-after</a> property on the last item
			are propagated to the flex container.
			Forced breaks on other items are applied to the item itself.

		<li>
			A forced break inside a flex item effectively increases the size of its contents;
			it does not trigger a forced break inside sibling items.

		<li>
			In a row flex container,
			<a href=http://www.w3.org/TR/css3-break/#btw-blocks>Class A break opportunities</a> occur between sibling flex lines,
			and <a href=http://www.w3.org/TR/css3-break/#end-block>Class C break opportunities</a> occur between the first/last flex line and the flex container’s content edges.
			In a column flex container,
			<a href=http://www.w3.org/TR/css3-break/#btw-blocks>Class A break opportunities</a> occur between sibling flex items,
			and <a href=http://www.w3.org/TR/css3-break/#end-block>Class C break opportunities</a> occur between the first/last flex items on a line and the flex container’s content edges.
			<a data-biblio-type=normative data-link-type=biblio href=#css3-break title=css3-break>[CSS3-BREAK]</a>

		<li>
			When a flex container is continued after a break,
			the space available to its <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>
			(in the block flow direction of the fragmentation context)
			is reduced by the space consumed by flex container fragments on previous pages.
			The space consumed by a flex container fragment is
			the size of its content box on that page.
			If as a result of this adjustment the available space becomes negative,
			it is set to zero.

		<li>
			If the first fragment of the flex container is not at the top of the page,
			and some of its flex items don’t fit in the remaining space on the page,
			the entire fragment is moved to the next page.

		<li>
			When a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> colum flex container breaks,
			each fragment has its own "stack" of flex lines,
			just like each fragment of a multi-column element
			has its own row of column boxes.

		<li>
			Aside from the rearrangement of items imposed by the previous point,
			UAs should attempt to minimize distortation of the flex container
			with respect to unfragmented flow.
	</ul>


<h3 class="heading settled heading" data-level=10.1 id=pagination-algo><span class=secno>10.1 </span><span class=content>
Sample Flex Fragmentation Algorithm</span><a class=self-link href=#pagination-algo></a></h3>

	<p>
		This informative section presents a possible fragmentation algorithm for flex containers.
		Implementors are encouraged to improve on this algorithm and <a href=#status>provide feedback to the CSS Working Group</a>.

<div class=example>

	<p class=note>
		This algorithm assumes that pagination always proceeds only in the forward direction;
		therefore, in the algorithms below, alignment is mostly ignored prior to pagination.
		Advanced layout engines may be able to honor alignment across fragments.

	<dl>
		<dt><a data-link-type=dfn href=#single-line title=single-line>Single-line</a> column flex container
		<dd>
			<ol>
				<li>
					Run the flex layout algorithm (without regards to pagination)
					through <a href=#cross-sizing>Cross Sizing Determination</a>.

				<li>
					Lay out as many consecutive flex items or item fragments as possible
					(but at least one or a fragment thereof),
					starting from the first,
					until there is no more room on the page
					or a forced break is encountered.

				<li>
					If the previous step ran out of room
					and the free space is positive,
					the UA may reduce the distributed free space on this page
					(down to, but not past, zero)
					in order to make room for the next unbreakable flex item or fragment.
					Otherwise,
					the item or fragment that does not fit is pushed to the next page.
					The UA should pull up if more than 50% of the fragment would have fit in the remaining space
					and should push otherwise.

				<li>
					If there are any flex items or fragments not laid out by the previous steps,
					rerun the flex layout algorithm
					from <a href=#line-sizing>Line Length Determination</a>
					through <a href=#cross-sizing>Cross Sizing Determination</a>
					with the next page’s size
					and <em>all</em> the contents (including those already laid out),
					and return to the previous step,
					but starting from the first item or fragment not already laid out.

				<li>
					For each fragment of the flex container,
					continue the flex layout algorithm
					from <a href=#main-alignment>Main-Axis Alignment</a>
					to its finish.
			</ol>

			<p class=note>
				It is the intent of this algorithm that column-direction <a data-link-type=dfn href=#single-line title=single-line>single-line</a> flex containers
				paginate very similarly to block flow.
				As a test of the intent,
				a flex container with <span class=css data-link-type=maybe title=justify-content:start>justify-content:start</span>
				and no flexible items
				should paginate identically to
				a block with in-flow children with same content,
				same used size and same used margins.

		<dt><a data-link-type=dfn href=#multi-line title=multi-line>Multi-line</a> column flex container
		<dd>
			<ol>
				<li>
					Run the flex layout algorithm
					<em>with</em> regards to pagination
					(limiting the flex container’s maximum line length to the space left on the page)
					through <a href=#cross-sizing>Cross Sizing Determination</a>.

				<li>
					Lay out as many flex lines as possible
					(but at least one)
					until there is no more room in the flex container
					in the cross dimension
					or a forced break is encountered:

					<ol>
						<li>
							Lay out as many consecutive flex items as possible
							(but at least one),
							starting from the first,
							until there is no more room on the page
							or a forced break is encountered.
							Forced breaks <em>within</em> flex items are ignored.

						<li>
							If this is the first flex container fragment,
							this line contains only a single flex item
							that is larger than the space left on the page,
							and the flex container is not at the top of the page already,
							move the flex container to the next page
							and restart flex container layout entirely.

						<li>
							If there are any flex items not laid out by the first step,
							rerun the flex layout algorithm
							from <a href=#main-sizing>Main Sizing Determination</a>
							through <a href=#cross-sizing>Cross Sizing Determination</a>
							using only the items not laid out on a previous line,
							and return to the previous step,
							starting from the first item not already laid out.
					</ol>

				<li>
					If there are any flex items not laid out by the previous step,
					rerun the flex layout algorithm
					from <a href=#line-sizing>Line Sizing Determination</a>
					through <a href=#cross-sizing>Cross Sizing Determination</a>
					with the next page’s size
					and only the items not already laid out,
					and return to the previous step,
					but starting from the first item not already laid out.

				<li>
					For each fragment of the flex container,
					continue the flex layout algorithm
					from <a href=#main-alignment>Main-Axis Alignment</a>
					to its finish.
			</ol>

			<p class=note>
				If a flex item does not entirely fit on a single page,
				it will <em>not</em> be paginated in <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> column flex containers.

		<dt><a data-link-type=dfn href=#single-line title=single-line>Single-line</a> row flex container
		<dd>
			<ol>
				<li>
					Run the entire flex layout algorithm (without regards to pagination),
					except treat any <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> other than <a class=css data-link-type=maybe href=http://www.w3.org/TR/css3-writing-modes/#start title=start>start</a> or <a class=css data-link-type=maybe href=#valuedef-baseline title=baseline>baseline</a> as <a class=css data-link-type=maybe href=http://www.w3.org/TR/css3-writing-modes/#start title=start>start</a>.

				<li>
					If an unbreakable item doesn’t fit within the space left on the page,
					and the flex container is not at the top of the page,
					move the flex container to the next page
					and restart flex container layout entirely.

				<li>
					For each item,
					lay out as much of its contents as will fit in the space left on the page,
					and fragment the remaining content onto the next page,
					rerunning the flex layout algorithm
					from <a href=#line-sizing>Line Length Determination</a>
					through <a href=#main-alignment>Main-Axis Alignment</a>
					into the new page size
					using <em>all</em> the contents (including items completed on previous pages).

					<p class=note>
						Any flex items that fit entirely into previous fragments
						still take up space in the main axis in later fragments.

				<li>
					For each fragment of the flex container,
					rerun the flex layout algorithm
					from <a href=#cross-alignment>Cross-Axis Alignment</a>
					to its finish.
					For all fragments besides the first,
					treat <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> and <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> as being <a class=css data-link-type=maybe href=http://www.w3.org/TR/css3-writing-modes/#start title=start>start</a> for all item fragments and lines.

				<li>
					If any item,
					when aligned according to its original <a class=property data-link-type=propdesc href=#propdef-align-self title=align-self>align-self</a> value
					into the combined cross size of all the flex container fragments,
					would fit entirely within a single flex container fragment,
					it may be shifted into that fragment
					and aligned appropriately.
			</ol>

		<dt><a data-link-type=dfn href=#multi-line title=multi-line>Multi-line</a> row flex container
		<dd>
			<ol>
				<li>
					Run the flex layout algorithm (without regards to pagination),
					through <a href=#cross-sizing>Cross Sizing Determination</a>.

				<li>
					Lay out as many flex lines as possible
					(but at least one),
					starting from the first,
					until there is no more room on the page
					or a forced break is encountered.

					<p>
						If a line doesn’t fit on the page,
						and the line is not at the top of the page,
						move the line to the next page
						and restart the flex layout algorithm entirely,
						using only the items in and following this line.

					<p>
						If a flex item itself causes a forced break,
						rerun the flex layout algorithm
						from <a href=#main-sizing>Main Sizing Determination</a>
						through <a href=#main-alignment>Main-Axis Alignment</a>,
						using only the items on this and following lines,
						but with the item causing the break automatically starting a new line
						in the <a href=#algo-line-break>line breaking step</a>,
						then continue with this step.
						Forced breaks <em>within</em> flex items are ignored.

				<li>
					If there are any flex items not laid out by the previous step,
					rerun the flex layout algorithm
					from <a href=#line-sizing>Line Length Determination</a>
					through <a href=#main-alignment>Main-Axis Alignment</a>
					with the next page’s size
					and only the items not already laid out.
					Return to the previous step,
					but starting from the first line not already laid out.

				<li>
					For each fragment of the flex container,
					continue the flex layout algorithm
					from <a href=#cross-alignment>Cross Axis Alignment</a>
					to its finish.
			</ol>
	</dl>
</div>


<h2 class="no-num heading settled heading" id=acknowledgments><span class=content>Acknowledgments</span><a class=self-link href=#acknowledgments></a></h2>

	<p>Thanks for feedback and contributions to

<p>Erik Anderson,
Tony Chang,
Phil Cupp,
Arron Eicholz,
James Elmore,
Andrew Fedoniouk,
Brian Heuston,
Shinichiro Hamaji,
Daniel Holbert,
Ben Horst,
John Jansen,
Brad Kemper,
Kang-hao Lu,
Markus Mielke,
Peter Moulder,
Robert O’Callahan,
Christoph Päper,
Ning Rogers,
Peter Salas,
Morten Stenshorne,
Christian Stockwell,
Ojan Vafai,
Eugene Veselov,
Boris Zbarsky.

<h2 class="no-num heading settled heading" id=changes><span class=content>Changes</span><a class=self-link href=#changes></a></h2>

<h3 class="heading settled heading" id=changes-2012><span class=content>
Changes since the 18 September 2012 Candidate Recommendation</span><a class=self-link href=#changes-2012></a></h3>

	<p>
		The following significant changes were made since the
		<a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/>18 September 2012 Candidate Recommendation</a>:
	<ul>
		<li id=change-2012-min-width><a class=self-link href=#change-2012-min-width></a>
			Changed the behavior of the new <span class=css data-link-for=min-width data-link-type=maybe title=auto>auto</span> initial value of <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-width title=min-width>min-width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-min-height title=min-height>min-height</a> to
			<ul>
				<li>Take into account whether <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> is <span class=css data-link-type=maybe title=visible>visible</span>,
					since when <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> is explicitly handled, it is confusing (and unnecessary)
					to force enough size to show all the content.
				<li>Take into account the specified <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a>,
					so that the implied minimum is never greater than the specified size.
				<li>Compute to itself (not to <span class=css data-link-type=maybe title=min-content>min-content</span>) on flex items,
					since they are no longer equivalent (due to above changes).
			</ul>
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-19>Issue 19</a>)
			<blockquote>
				<dl>
					<dt>auto
					<dd>
						<del>
							<p>When used as the value of a flex item’s min main size property,
							this keyword indicates a minimum of the min-content size,
							to help ensure that the item is large enough to fit its contents.
							<p class=note>
								It is intended that this will compute to the <span class=css data-link-type=maybe title=min-content>min-content</span> keyword
								when the specification defining it (<a data-biblio-type=informative data-link-type=biblio href=#css3-sizing title=css3-sizing>[CSS3-SIZING]</a>) is sufficiently mature.
						
						<ins>
							</ins><p>On a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> whose <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> is not <span class=css data-link-for=overflow data-link-type=maybe title=visible>visible</span>,
							this keyword specifies as the minimum size the smaller of:

<p>							<ul>
								<li>the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-content-measure title="min-content size">min-content size</a>, or
								<li>the computed <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-width title=width>width</a>/<a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visudet.html#propdef-height title=height>height</a>, if that value is <a data-link-type=dfn href=#definite title=definite>definite</a>.
							</ul>
						
				</del></dl>
			</blockquote>
		<li id=change-2012-percent-margins><a class=self-link href=#change-2012-percent-margins></a>
			Specified that percentage margins/paddings on flex items
			are resolved against their respective dimensions,
			not the inline dimension of the containing block like blocks do.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-16>Issue 16</a>)
			<blockquote>
				<ins>
					<p>Percentage margins and paddings on <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>
					are always resolved against their respective dimensions;
					unlike blocks, they do not always resolve against
					the inline dimension of their containing block.</p>
				</ins>
			</blockquote>
		<li id=change-2012-stretch-definite><a class=self-link href=#change-2012-stretch-definite></a>
			Pass definiteness of a single-line flex container’s size through to any stretched items.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-3>Issue 3</a>)
			<blockquote>
				<ins>
					<p>
						As a special case for handling stretched <a data-link-type=dfn href=#flex-item title="flex items">flex items</a>,
						if a <a data-link-type=dfn href=#single-line title=single-line>single-line</a> <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> has a definite cross size,
						the outer <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of any <a data-link-type=dfn href=#flex-item title="flex items">flex items</a> with <a class=css data-link-type=propdesc href=#propdef-align-self title=align-self>align-self: stretch</a>
						is the flex container’s inner cross size
						(clamped to the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s min and max <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>)
						and is considered <a data-link-type=dfn href=#definite title=definite>definite</a>.</p>
				</ins>
			</blockquote>
		<li id=change-2012-stretch-auto><a class=self-link href=#change-2012-stretch-auto></a>
			Allow percentages inside a stretched auto-height flex item to resolve by requiring a relayout pass.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-3>Issue 3</a>)
			<blockquote>
				<ins>
					<p>If the flex item has <a class=css data-link-type=propdesc href=#propdef-align-self title=align-self>align-self: stretch</a>, redo layout for its contents,
					treating this used size as its definite cross size
					so that percentage-sized children can be resolved.

 					<p class=note>Note that this step does not affect the main size of the flex item,
 					even if it has an intrinsic aspect ratio.</p>
 				</ins>
 			</blockquote>
		<li id=change-2012-intrinsic-ratio><a class=self-link href=#change-2012-intrinsic-ratio></a>
			Allow intrinsic aspect ratios to inform the <a href=#algo-main-item>main-size calculation.</a>
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-8>Issue 8</a>)
			<blockquote>
				<ins>
					<p>If the flex item has ...
					<ul>
						<li>an intrinsic aspect ratio,
						<li>a <a data-link-type=dfn href=#flex-basis title="flex basis">flex basis</a> of <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>, and
						<li>a definite <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>
					</ul>
					<p>then the <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> is calculated from its inner <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>
					and the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s intrinsic aspect ratio.</p>
				</ins>
			</blockquote>
		<li id=change-2012-main-depend-cross><a class=self-link href=#change-2012-main-depend-cross></a>
			Define <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main size">hypothetical main size</a> when the <a data-link-type=dfn href=#main-size title="main size">main size</a> depends on the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-23>Issue 23</a>)
			<blockquote>
				<p><ins>If a <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> is needed to determine the <a data-link-type=dfn href=#main-size title="main size">main size</a>
					(e.g. when the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s <a data-link-type=dfn href=#main-size title="main size">main size</a> is in its block axis)
					and the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s cross size is <a class=css data-link-type=maybe href=#valuedef-auto0 title=auto>auto</a> and not <a data-link-type=dfn href=#definite title=definite>definite</a>,
					in this calculation use <span class=css data-link-type=maybe title=fit-content>fit-content</span> as the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>’s <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>.</ins>
			</blockquote>
		<li id=change-2012-intrinsic-sizes><a class=self-link href=#change-2012-intrinsic-sizes></a>
			Defined the <a href=#intrinsic-sizes>intrinsic sizes of flex containers.</a>
			<blockquote>
				<p><strong>Determine the main size of the flex container</strong>
				using its main size property.
				<del>In this calculation, the min content main size of the flex container
				is the maximum of the flex container’s items' min-content size contributions,
				and the max content main size of the flex container
				is the sum of the flex container’s items' max-content size contributions.
				The min-content/max-content main size contribution of an item is
				its outer hypothetical main size
				when sized under a min-content/max-content constraint (respectively).</del>
				For this computation, ‘auto’ margins on flex items are treated as ‘0’.
			</blockquote>
			<blockquote>
				<ins>
				
					<p>
						The <a data-link-type=dfn href=#max-content-main-size title="max-content main size">max-content main size</a> of a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
						is the sum of the flex container’s items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-size-contribution title="max-size contributions">max-size contributions</a> in the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>.
						The <a data-link-type=dfn href=#min-content-main-size title="min-content main size">min-content main size</a> of a <a data-link-type=dfn href=#single-line title=single-line>single-line</a> flex container
						is the sum of the flex container’s items' <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-size-contribution title="min-size contributions">min-size contributions</a> in the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>;
						for a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> container,
						it is the largest of those contributions.

					<p>
						The <a data-link-type=dfn href=#min-content-cross-size title="min-content cross size">min-content cross size</a> and  <a data-link-type=dfn href=#max-content-cross-size title="max-content cross size">max-content cross size</a> of a flex container
						are the cross size of the flex container
						after performing layout into the given available <a data-link-type=dfn href=#main-axis title=main-axis>main-axis</a> space
						and infinite available <a data-link-type=dfn href=#cross-axis title=cross-axis>cross-axis</a> space.

					<p>
						The main-size <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-size-contribution title="min-size contribution">min-content</a>/<a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-size-contribution title="max-size contribution">max-size contribution</a> of a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>
						is its outer <a data-link-type=dfn href=#hypothetical-main-size title="hypothetical main size">hypothetical main size</a>
						when sized under a <a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#min-size-constraint title="min-size constraint">min-content</a>/<a data-link-type=dfn href=http://dev.w3.org/csswg/css-sizing-3/#max-size-constraint title="max-size constraint">max-size constraint</a> (respectively).

					<p>
						See <a data-biblio-type=normative data-link-type=biblio href=#css3-sizing title=css3-sizing>[CSS3-SIZING]</a> for a definition of the terms in this section.</p>
				</ins>
			</blockquote>
		<li id=change-2012-flex-line-bug><a class=self-link href=#change-2012-flex-line-bug></a>
			Correct an omission in the flex-line size determination,
			so a <a data-link-type=dfn href=#single-line title=single-line>single-line</a> flexbox will size to its contents
			if it doesn’t have a definite size.
			<blockquote>
				<p>
					If the flex container has only one <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>
					(even if it’s a <a data-link-type=dfn href=#multi-line title=multi-line>multi-line</a> <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>)
					<ins>and has a <a data-link-type=dfn href=#definite title=definite>definite</a> <a data-link-type=dfn href=#cross-size title="cross size">cross size</a></ins>,
					the <a data-link-type=dfn href=#cross-size title="cross size">cross size</a> of the <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>
					is the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>’s inner <a data-link-type=dfn href=#cross-size title="cross size">cross size</a>.
			</blockquote>
		<li id=change-2012-flex-line-floor><a class=self-link href=#change-2012-flex-line-floor></a>
			Flex lines have their size floored at 0.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-2>Issue 2</a>)
			<blockquote>
				<p>The used cross-size of the flex line is the <del>larger</del> <ins>largest</ins>
				of the numbers found in the previous two steps<ins> and zero</ins>.
			</blockquote>
		<li id=change-2012-atomic-painting><a class=self-link href=#change-2012-atomic-painting></a>
			Flex items paint like inline blocks rather than blocks.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-18>Issue 18</a>)
			<blockquote>
				<p>
					<a data-link-type=dfn href=#flex-item title="flex items">Flex items</a> paint exactly the same as <del>block-level elements in the normal flow</del> <ins>inline blocks <a data-biblio-type=normative data-link-type=biblio href=#css21 title=css21>[CSS21]</a></ins>.
			</blockquote>
		<li id=change-2012-flex-basis-zero><a class=self-link href=#change-2012-flex-basis-zero></a>
			An omitted <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> component of the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> shorthand
			now resolves to <span class=css data-link-type=maybe title=0%>0%</span> instead of <span class=css data-link-type=maybe title=0px>0px</span>.
			Because percentages resolved against indefinite sizes behave as <a class=css data-link-type=maybe href=#valuedef-auto0 title=auto>auto</a>,
			this gives better behavior in shrink-wrapped flex containers.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-20>Issue 20</a>)
			<blockquote>
				<p>When omitted from the <a class=property data-link-type=propdesc href=#propdef-flex title=flex>flex</a> shorthand, its specified value is <ins><span class=css data-link-type=maybe title=0%>0%</span></ins> <del>the length zero</del>.
			</blockquote>
			<blockquote>
				<dl>
					<dt><a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: &lt;positive-number&gt;</a>
					<dd>Equivalent to <a class=css data-link-type=propdesc href=#propdef-flex title=flex>flex: &lt;positive-number&gt; 1 <del>0px</del><ins>0%</ins></a>.
				</dl>
			</blockquote>
		<li id=change-2012-unresolvable-basis><a class=self-link href=#change-2012-unresolvable-basis></a>
			Defined that an unresolvable percentage <a data-link-type=dfn href=#flex-base-size title="flex base size">flex base size</a> is treated as <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>.
			<blockquote>
				<p>percentage values of <a class=property data-link-type=propdesc href=#propdef-flex-basis title=flex-basis>flex-basis</a> are resolved against
				the flex item’s containing block, i.e. its flex container,
				and if that containing block’s size is <a data-link-type=dfn href=#indefinite title=indefinite>indefinite</a>,
				the result is <del>undefined</del> <ins>the same as a <a data-link-type=dfn href=#main-size title="main size">main size</a> of <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a></ins>.
			</blockquote>
		<li id=change-2012-static-pos><a class=self-link href=#change-2012-static-pos></a>
			Simplified the static position of abspos children of <a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a> to be consistent with Grid Layout.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-6>Issue 6</a>)
			<blockquote>
				<p>An absolutely-positioned child of a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a> does not participate in flex layout
				beyond the <a href=#algo-flex-order>reordering step</a>.

				<del>
					</del><p>
						However, if both <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#left title=left>left</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#right title=right>right</a> or both <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#top title=top>top</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#bottom title=bottom>bottom</a> are <a class=css data-link-type=maybe href=#valuedef-auto0 title=auto>auto</a>,
						then the used value of those properties
						are computed from its <dfn data-dfn-type=dfn data-noexport="" id=flex-item-static-position>static position<a class=self-link href=#flex-item-static-position></a></dfn>, as follows:

					<p>
						If both <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#left title=left>left</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#right title=right>right</a> are <a class=css data-link-type=maybe href=#valuedef-auto0 title=auto>auto</a>,
						the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> must be positioned so that
						its <a data-link-type=dfn href=#main-start title=main-start>main-start</a> or <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge
						(whichever is in the horizontal axis)
						is aligned with the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a>.
						If both <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#top title=top>top</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-positioning/#bottom title=bottom>bottom</a> are <a class=css data-link-type=maybe href=#valuedef-auto0 title=auto>auto</a>,
						the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> must be positioned so that
						its <a data-link-type=dfn href=#main-start title=main-start>main-start</a> or <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge
						(whichever is in the vertical axis)
						is aligned with the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a>.

					<p>
						In the <a data-link-type=dfn href=#main-axis title="main axis">main axis</a>,

					<ol>
						<li>
							If there is a subsequent in-flow <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the same <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>,
							the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a> is the outer <a data-link-type=dfn href=#main-start title=main-start>main-start</a> edge of that <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>.

						<li>
							Otherwise, if there is a preceding in-flow <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> on the same <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>,
							the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a> is the outer <a data-link-type=dfn href=#main-end title=main-end>main-end</a> edge of that <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>.

						<li>
							Otherwise, the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a> is determined
							by the value of <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> on the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
							as if the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a> were represented by a zero-sized flex item.
					</ol>

					<p>
						In the <a data-link-type=dfn href=#cross-axis title="cross axis">cross axis</a>,

					<ol>
						<li>
							If there is a preceding in-flow <a data-link-type=dfn href=#flex-item title="flex item">flex item</a>,
							the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a> is the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge of the <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>
							that item is in.
						<li>
							Otherwise, the <a data-link-type=dfn href=#flex-item-static-position title="static position">static position</a> is the <a data-link-type=dfn href=#cross-start title=cross-start>cross-start</a> edge
							of the first <a data-link-type=dfn href=#flex-line title="flex line">flex line</a>.
					</ol>

					<p class=note>
						The static position is intended to more-or-less match the position of
						an anonymous 0×0 in-flow <a class=css data-link-for=align-self data-link-type=maybe href=#valuedef-flex-start1 title=flex-start>flex-start</a>-aligned
						flex item that participates in flex layout,
						the primary difference being that any packing spaces due to
						<a class=css data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content: space-around</a> or <a class=css data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content: space-between</a>
						are suppressed around the hypothetical item:
						between it and the next item if there is a real item after it,
						else between it and the previous item (if any) if there isn’t.
				
				<ins>
					</ins><p>Its static position is calculated by first doing full flex layout
					without the absolutely-positioned children,
					then positioning each absolutely-positioned child
					as if it were the sole <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> in the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>,
					assuming both the child and the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
					were fixed size boxes of their used size.
					<div class=example>
						For example, by default, the static position of
						an absolutely positioned child aligns it to the main-start/cross-start corner,
						corresponding to the default values of <a class=property data-link-type=propdesc href=#propdef-justify-content title=justify-content>justify-content</a> and <a class=property data-link-type=propdesc href=#propdef-align-content title=align-content>align-content</a> on the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>.
						Setting <span class=css data-link-type=maybe title=justify-content:center>justify-content:center</span> on the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>, however,
						would center it in the main axis.
					</div>
				
			</blockquote>
		<li id=change-2012-flex-continuity><a class=self-link href=#change-2012-flex-continuity></a>
			Changed algorithm for <a href=#resolve-flexible-lengths>resolving flexible lengths</a>
			to make behavior continuous as the sum of the flex factors approaches zero.
			(No change for a sum ≥ 1.)
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-30>Issue 30</a>)
			Replaces <a href=http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/#resolve-flexible-lengths>this section</a>
			with <a href=#resolve-flexible-lengths>this one</a>.
	</ul>

	<p>The following significant clarifications were also made:
	<ul>
		<li id=clarify-2012-abspos-items><a class=self-link href=#clarify-2012-abspos-items></a>
			Absolutely positioned children of a flex container are no longer called "flex items" (to avoid terminology confusion). (??)
			<blockquote>
				<table class=definition>
					<tr>
						<th>Name:
						<td>order
					<tr>
						<th>Applies to:
						<td><a data-link-type=dfn href=#flex-item title="flex items">flex items</a> <ins>and absolutely-positioned children of <a data-link-type=dfn href=#flex-container title="flex containers">flex containers</a></ins>
				</table>
			</blockquote>
			<blockquote>
				<p>Re-order the flex items <ins>and absolutely positioned flex container children</ins> according to their <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a>.
			</blockquote>
		<li id=clarify-2012-float-display><a class=self-link href=#clarify-2012-float-display></a>
			Clarified that <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> still affects the computed <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a>
			(which may affect box-fixup rules that run prior to flex item determination).
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-7>Issue 7</a>)
			<blockquote>
				<p><a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> and <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-clear title=clear>clear</a> have no effect on a <a data-link-type=dfn href=#flex-item title="flex item">flex item</a><ins>,
				and do not take it out-of-flow.
				However, the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-float title=float>float</a> property can still affect box generation
				by influencing the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> property’s computed value.</ins>
			</blockquote>
		<li id=clarify-2012-white-space><a class=self-link href=#clarify-2012-white-space></a>
			Clarify what is meant by “white space”. (<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-26>Issue 26</a>)
			<blockquote>
				<p>However, an anonymous flex item that contains only
				<a href=http://www.w3.org/TR/CSS21/text.html#white-space-prop>white space</a>
				<ins>(i.e. characters that can be affected by the <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css3-text/#white-space title=white-space>white-space</a> property)</ins>
				is not rendered, as if it were <span class=css data-link-type=maybe title=display:none>display:none</span>.
			</blockquote>
		<li id=clarify-2012-table-anon-boxes><a class=self-link href=#clarify-2012-table-anon-boxes></a>
			Clarified that table anonymous box generation occurs
			in place of computed value conversion for internal table elements.
		<li id=clarify-2012-display-blockification><a class=self-link href=#clarify-2012-display-blockification></a>
			Clarified interaction of flex item determination with <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-display-3/#propdef-display-inside title=display-inside>display-inside</a> / <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-display-3/#propdef-display-outside title=display-outside>display-outside</a>
			(the new longhands of <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> defined in the <a href=http://www.w3.org/TR/css-display/>CSS Display Module Level 3</a>).
			<blockquote>
				<ins><p>If the specified <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-display-3/#propdef-display-outside title=display-outside>display-outside</a> of an in-flow child of an element that generates a <a data-link-type=dfn href=#flex-container title="flex container">flex container</a>
					is <span class=css data-link-type=maybe title=inline-level>inline-level</span>,
					it computes to <span class=css data-link-type=maybe title=block-level>block-level</span>.
					(This effectively converts any inline <a class=property data-link-type=propdesc href=http://www.w3.org/TR/CSS21/visuren.html#propdef-display title=display>display</a> values to their block equivalents.)</p>
				</ins>
			</blockquote>
		<li id=clarify-2012-overflow-flex-containers><a class=self-link href=#clarify-2012-overflow-flex-containers></a>
			Clarified that <a class=property data-link-type=propdesc href=http://www.w3.org/TR/css-overflow-3/#overflow title=overflow>overflow</a> applies to flex containers.
		<li id=clarify-2012-first-line-letter><a class=self-link href=#clarify-2012-first-line-letter></a>
			Clarified that <span class=css data-link-type=maybe title=::first-line>::first-line</span> and <span class=css data-link-type=maybe title=::first-letter>::first-letter</span> pseudo-elements
			do not apply to flex containers (because they are not block containers).
		<li id=clarify-2012-stretch-computed-auto><a class=self-link href=#clarify-2012-stretch-computed-auto></a>
			Clarify that <a class=css-code data-link-for=align-self data-link-type=value href=#valuedef-stretch0 title=stretch>stretch</a> checks for the <em>computed</em>
			value of the cross-size property being <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>,
			which means that percentage cross-sizes that behave as <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>
			(because they don’t resolve against definite sizes) aren’t stretched.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-5>Issue 5</a>)
			<blockquote>
				<dl>
					<dt>stretch
					<dd>
						<p>
							If the <a data-link-type=dfn href=#cross-size-property title="cross size property">cross size property</a> of the <a data-link-type=dfn href=#flex-item title="flex item">flex item</a> <del>is</del> <ins>computes to</ins> <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>,
							its used value is …
				</dl>
			</blockquote>
			<blockquote>
				<p><strong>Determine the used cross size of each flex item.</strong>
				If a flex item has <a class=css data-link-type=propdesc href=#propdef-align-self title=align-self>align-self: stretch</a>,
				its <ins>computed</ins> cross size property is <a class=css-code data-link-for=width data-link-type=value title=auto>auto</a>,
				and …
			</blockquote>
		<li id=clarify-2012-flex-container-sizing><a class=self-link href=#clarify-2012-flex-container-sizing></a>
			Clarify that the rules of the formatting context are used for determining the flex container’s main size.
			<blockquote>
				<strong>Determine the main size of the flex container</strong>
				using <ins>the rules of the formatting context in which it participates</ins> <del>its main size property</del>.
			</blockquote>
		<li id=clarify-2012-painting-order><a class=self-link href=#clarify-2012-painting-order></a>
			Clarified that <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a>-modified document order is used instead of raw document order when painting.
			(This was already stated in the <a class=property data-link-type=propdesc href=#propdef-order title=order>order</a> section, but not in the section explicitly about painting order.)
		<li id=clarify-2012-line-breaking><a class=self-link href=#clarify-2012-line-breaking></a>
			Clarified line-breaking to precisely handle negatively-sized flex items and zero-size items at the end of a line.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-1>Issue 1</a>)
			<blockquote>
				<p>	Otherwise,
					starting from the first uncollected item,
					collect <ins>consecutive items one by one
					until the first time that the <em>next</em> collected item
					would not fit into the flex container’s inner main size,
					or until a forced break is encountered.
					If the very first uncollected item wouldn’t fit,
					collect just it into the line</ins>
					<del>as many consecutive flex items as will fit
					or until a forced break is encountered
					(but collect at least one)
					into the flex container’s inner main size into a flex line</del>.
			</blockquote>
			<blockquote>
				<p class=note>Note that <del>items with zero main size will never start a line
				unless they’re  the very first items in the flex container,
				or they’re preceded by a forced break.</del>
				The  "collect as many" line will collect <del>them</del> <ins>zero-sized flex items</ins>
				onto the end of the previous line
				even if the last non-zero item exactly "filled up" the line.
			</blockquote>
		<li id=clarify-2012-clamping><a class=self-link href=#clarify-2012-clamping></a>
			Clarified that flex container cross sizes are still clamped by the flex container’s min/max properties.
			(<a href=http://dev.w3.org/csswg/css-flexbox-1/issues-cr-2012#issue-24>Issue 24</a>)
			<blockquote>
				<ul>
					<li>
						If the cross size property is a <a data-link-type=dfn href=#definite title=definite>definite</a> size,
						use that,
						<ins>clamped by the min and max cross size properties of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a></ins>.
					<li>
						Otherwise,
						use the sum of the flex lines' cross sizes,
						<ins>clamped by the min and max cross size properties of the <a data-link-type=dfn href=#flex-container title="flex container">flex container</a></ins>.
				</ul>
			</blockquote>
	</ul>

	<p>A <a href=http://dev.w3.org/csswg/css3-flexbox/issues-cr-2012>Disposition of Candidate Recommendation Comments</a> is available.

<h2 class="no-ref no-num heading settled heading" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled heading" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#rfc2119 title=rfc2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

<h3 class="no-ref heading settled heading" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled heading" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled heading" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled heading" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.

<h2 class="no-num no-ref heading settled heading" id=references><span class=content>
References</span><a class=self-link href=#references></a></h2>

<h3 class="no-num no-ref heading settled heading" id=normative><span class=content>
Normative References</span><a class=self-link href=#normative></a></h3>
<div data-fill-with=normative-references><dl><dt id=css21 title=CSS21><a class=self-link href=#css21></a>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>http://www.w3.org/TR/2011/REC-CSS2-20110607</a><dt id=css3-break title=CSS3-BREAK><a class=self-link href=#css3-break></a>[CSS3-BREAK]<dd>Rossen Atanassov; Elika J. Etemad. <a href=http://www.w3.org/TR/2012/WD-css3-break-20120823/>CSS Fragmentation Module Level 3</a>. 23 August 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-break-20120823/>http://www.w3.org/TR/2012/WD-css3-break-20120823/</a><dt id=css3-sizing title=CSS3-SIZING><a class=self-link href=#css3-sizing></a>[CSS3-SIZING]<dd>Tab Atkins Jr.; Elika J. Etemad. <a href=http://www.w3.org/TR/2012/WD-css3-sizing-20120927/>CSS Intrinsic &amp; Extrinsic Sizing Module Level 3</a>. 27 September 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-sizing-20120927/>http://www.w3.org/TR/2012/WD-css3-sizing-20120927/</a><dt id=css3-writing-modes title=CSS3-WRITING-MODES><a class=self-link href=#css3-writing-modes></a>[CSS3-WRITING-MODES]<dd>Elika J. Etemad; Koji Ishii. <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>CSS Writing Modes Module Level 3</a>. 15 November 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/</a><dt id=rfc2119 title=RFC2119><a class=self-link href=#rfc2119></a>[RFC2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dl></div>

<h3 class="no-num no-ref heading settled heading" id=informative><span class=content>
Informative References</span><a class=self-link href=#informative></a></h3>
<div data-fill-with=informative-references><dl><dt id=css3ui title=CSS3UI><a class=self-link href=#css3ui></a>[CSS3UI]<dd>Tantek Çelik. <a href=http://www.w3.org/TR/2012/WD-css3-ui-20120117/>CSS Basic User Interface Module Level 3 (CSS3 UI)</a>. 17 January 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-ui-20120117/>http://www.w3.org/TR/2012/WD-css3-ui-20120117/</a><dt id=css3val title=CSS3VAL><a class=self-link href=#css3val></a>[CSS3VAL]<dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>CSS Values and Units Module Level 3</a>. 30 July 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>http://www.w3.org/TR/2013/CR-css3-values-20130730/</a><dt id=html40 title=HTML40><a class=self-link href=#html40></a>[HTML40]<dd>Ian Jacobs; David Raggett; Arnaud Le Hors. <a href=http://www.w3.org/TR/1998/REC-html40-19980424>HTML 4.0 Specification</a>. 24 April 1998. W3C Recommendation. URL: <a href=http://www.w3.org/TR/1998/REC-html40-19980424>http://www.w3.org/TR/1998/REC-html40-19980424</a></dl></div>

<h2 class="no-num no-ref heading settled heading" id=index><span class=content>
Index</span><a class=self-link href=#index></a></h2>
<div data-fill-with=index><ul class=indexlist>
<li>align-content, <a href=#propdef-align-content title="section 8.4">8.4</a>
<li>align-items, <a href=#propdef-align-items title="section 8.3">8.3</a>
<li>align-self, <a href=#propdef-align-self title="section 8.3">8.3</a>
<li>auto<ul><li>value for min-width,, min-height, <a href=#valuedef-auto0 title="section 4.5">4.5</a>
<li>value for flex-basis, <a href=#valuedef-auto1 title="section 7.3.3">7.3.3</a>
<li>value for align-self, <a href=#valuedef-auto title="section 8.3">8.3</a>
</ul><li>baseline, <a href=#valuedef-baseline title="section 8.3">8.3</a>
<li>center<ul><li>value for justify-content, <a href=#valuedef-center0 title="section 8.2">8.2</a>
<li>value for align-items, align-self, <a href=#valuedef-center1 title="section 8.3">8.3</a>
<li>value for align-content, <a href=#valuedef-center title="section 8.4">8.4</a>
</ul><li>collapsed, <a href=#collapsed-flex-item title="section 4.4">4.4</a>
<li>collapsed flex item, <a href=#collapsed-flex-item title="section 4.4">4.4</a>
<li>column, <a href=#valuedef-column title="section 5.1">5.1</a>
<li>column-reverse, <a href=#valuedef-column-reverse title="section 5.1">5.1</a>
<li>cross axis, <a href=#cross-axis title="section 2">2</a>
<li>cross-axis, <a href=#cross-axis title="section 2">2</a>
<li>cross-axis baseline, <a href=#cross-axis-baseline title="section 8.5">8.5</a>
<li>cross dimension, <a href=#cross-dimension title="section 2">2</a>
<li>cross-end, <a href=#cross-end title="section 2">2</a>
<li>cross size, <a href=#cross-size title="section 2">2</a>
<li>cross size property, <a href=#cross-size-property title="section 2">2</a>
<li>cross-start, <a href=#cross-start title="section 2">2</a>
<li>definite, <a href=#definite title="section 9">9</a>
<li>definite size, <a href=#definite title="section 9">9</a>
<li>flex<ul><li>value for display, <a href=#valuedef-flex title="section 3">3</a>
<li>(property), <a href=#propdef-flex title="section 7.1">7.1</a>
</ul><li>flex base size, <a href=#flex-base-size title="section 9.2">9.2</a>
<li>flex basis, <a href=#flex-basis title="section 7.1">7.1</a>
<li>flex-basis, <a href=#propdef-flex-basis title="section 7.3.3">7.3.3</a>
<li>&lt;‘flex-basis’&gt;, <a href=#valuedef-flex-basis title="section 7.1">7.1</a>
<li>flex container, <a href=#flex-container title="section 2">2</a>
<li>flex-direction, <a href=#propdef-flex-direction title="section 5.1">5.1</a>
<li>flex direction, <a href=#flex-direction title="section 2">2</a>
<li>flex-end<ul><li>value for justify-content, <a href=#valuedef-flex-end0 title="section 8.2">8.2</a>
<li>value for align-items, align-self, <a href=#valuedef-flex-end1 title="section 8.3">8.3</a>
<li>value for align-content, <a href=#valuedef-flex-end title="section 8.4">8.4</a>
</ul><li>flex-flow, <a href=#propdef-flex-flow title="section 5.3">5.3</a>
<li>flex formatting context, <a href=#flex-formatting-context title="section 3">3</a>
<li>flex-grow, <a href=#propdef-flex-grow title="section 7.3.1">7.3.1</a>
<li>&lt;‘flex-grow’&gt;, <a href=#valuedef-flex-grow title="section 7.1">7.1</a>
<li>flex grow factor, <a href=#flex-grow-factor title="section 7.1">7.1</a>
<li>flexible length, <a href=#flexible-length title="section 7.1">7.1</a>
<li>flex item, <a href=#flex-item title="section 2">2</a>
<li>flex layout, <a href=#flex-layout title="section 1">1</a>
<li>flex line, <a href=#flex-line title="section 6">6</a>
<li>&lt;‘flex-shrink’&gt;, <a href=#valuedef-flex-shrink title="section 7.1">7.1</a>
<li>flex-shrink, <a href=#propdef-flex-shrink title="section 7.3.2">7.3.2</a>
<li>flex shrink factor, <a href=#flex-shrink-factor title="section 7.1">7.1</a>
<li>flex-start<ul><li>value for justify-content, <a href=#valuedef-flex-start0 title="section 8.2">8.2</a>
<li>value for align-items, align-self, <a href=#valuedef-flex-start1 title="section 8.3">8.3</a>
<li>value for align-content, <a href=#valuedef-flex-start title="section 8.4">8.4</a>
</ul><li>flex-wrap, <a href=#propdef-flex-wrap title="section 5.2">5.2</a>
<li>hypothetical cross size, <a href=#hypothetical-cross-size title="section 9.4">9.4</a>
<li>hypothetical main size, <a href=#hypothetical-main-size title="section 9.2">9.2</a>
<li>indefinite, <a href=#indefinite title="section 9">9</a>
<li>indefinite size, <a href=#indefinite title="section 9">9</a>
<li>inline-flex, <a href=#valuedef-inline-flex title="section 3">3</a>
<li>&lt;integer&gt;, <a href=#valuedef-integer title="section 5.4">5.4</a>
<li>justify-content, <a href=#propdef-justify-content title="section 8.2">8.2</a>
<li>main axis, <a href=#main-axis title="section 2">2</a>
<li>main-axis, <a href=#main-axis title="section 2">2</a>
<li>main-axis baseline, <a href=#main-axis-baseline title="section 8.5">8.5</a>
<li>main dimension, <a href=#main-dimension title="section 2">2</a>
<li>main-end, <a href=#main-end title="section 2">2</a>
<li>main size, <a href=#main-size title="section 2">2</a>
<li>main size property, <a href=#main-size-property title="section 2">2</a>
<li>main-start, <a href=#main-start title="section 2">2</a>
<li>max-content cross size, <a href=#max-content-cross-size title="section 9.8">9.8</a>
<li>max-content main size, <a href=#max-content-main-size title="section 9.8">9.8</a>
<li>min-content cross size, <a href=#min-content-cross-size title="section 9.8">9.8</a>
<li>min-content main size, <a href=#min-content-main-size title="section 9.8">9.8</a>
<li>multi-line, <a href=#multi-line title="section 6">6</a>
<li>none, <a href=#valuedef-none title="section 7.1">7.1</a>
<li>nowrap, <a href=#valuedef-nowrap title="section 5.2">5.2</a>
<li>&lt;number&gt;<ul><li>value for flex-grow, <a href=#valuedef-number0 title="section 7.3.1">7.3.1</a>
<li>value for flex-shrink, <a href=#valuedef-number title="section 7.3.2">7.3.2</a>
</ul><li>order, <a href=#propdef-order title="section 5.4">5.4</a>
<li>order-modified document order, <a href=#order-modified-document-order title="section 5.4">5.4</a>
<li>participates in baseline alignment, <a href=#baseline-participation title="section 8.3">8.3</a>
<li>row, <a href=#valuedef-row title="section 5.1">5.1</a>
<li>row-reverse, <a href=#valuedef-row-reverse title="section 5.1">5.1</a>
<li>single-line, <a href=#single-line title="section 6">6</a>
<li>space-around<ul><li>value for justify-content, <a href=#valuedef-space-around0 title="section 8.2">8.2</a>
<li>value for align-content, <a href=#valuedef-space-around title="section 8.4">8.4</a>
</ul><li>space-between<ul><li>value for justify-content, <a href=#valuedef-space-between0 title="section 8.2">8.2</a>
<li>value for align-content, <a href=#valuedef-space-between title="section 8.4">8.4</a>
</ul><li>static position, <a href=#flex-item-static-position title="section Unnumbered section">Unnumbered section</a>
<li>stretch<ul><li>value for align-items, align-self, <a href=#valuedef-stretch0 title="section 8.3">8.3</a>
<li>value for align-content, <a href=#valuedef-stretch title="section 8.4">8.4</a>
</ul><li>strut size, <a href=#strut-size title="section 9.4">9.4</a>
<li>wrap, <a href=#valuedef-wrap title="section 5.2">5.2</a>
<li>wrap-reverse, <a href=#valuedef-wrap-reverse title="section 5.2">5.2</a>
</ul></div>

<h2 class="no-num no-ref heading settled heading" id=property-index><span class=content>
Property index</span><a class=self-link href=#property-index></a></h2>
<div data-fill-with=property-index><table class="proptable data"><thead><tr><th scope=col>Name<th scope=col>Value<th scope=col>Initial<th scope=col>Applies to<th scope=col>Inh.<th scope=col>%ages<th scope=col>Media<th scope=col>Animatable<th scope=col>Canonical order<th scope=col>Computed value<tbody>
<tr><th scope=row><a data-property="">flex-direction</a><td>row | row-reverse | column | column-reverse<td>row<td>flex containers<td>no<td><td>visual<td><td><td>specified value
<tr><th scope=row><a data-property="">flex-wrap</a><td>nowrap | wrap | wrap-reverse<td>nowrap<td>flex containers<td>no<td><td>visual<td><td><td>specified value
<tr><th scope=row><a data-property="">flex-flow</a><td>&lt;flex-direction&gt; || &lt;flex-wrap&gt;<td>see individual properties<td>flex containers<td>see individual properties<td><td>visual<td><td><td>see individual properties
<tr><th scope=row><a data-property="">order</a><td>&lt;integer&gt;<td>0<td>flex items and absolutely-positioned children of flex containers<td>no<td><td>visual<td>yes<td><td>specified value
<tr><th scope=row><a data-property="">flex</a><td>none | [ &lt;‘flex-grow’&gt; &lt;‘flex-shrink’&gt;? || &lt;‘flex-basis’&gt; ]<td>see individual properties<td>flex items<td>see individual properties<td><td>visual<td><td>per grammar<td>see individual properties
<tr><th scope=row><a data-property="">flex-grow</a><td>&lt;number&gt;<td>0<td>flex items<td>no<td><td>visual<td>yes, except between 0 and other values<td><td>specified value
<tr><th scope=row><a data-property="">flex-shrink</a><td>&lt;number&gt;<td>1<td>flex items<td>no<td><td>visual<td>yes, except between 0 and other values<td><td>specified value
<tr><th scope=row><a data-property="">flex-basis</a><td>auto | &lt;‘width’&gt;<td>auto<td>flex items<td>no<td>realtive to the flex container’s inner main size<td>visual<td>as width<td><td>as specified, with lengths made absolute
<tr><th scope=row><a data-property="">justify-content</a><td>flex-start | flex-end | center | space-between | space-around<td>flex-start<td>flex containers<td>no<td><td>visual<td><td><td>specified value
<tr><th scope=row><a data-property="">align-items</a><td>flex-start | flex-end | center | baseline | stretch<td>stretch<td>flex containers<td>no<td><td>visual<td><td><td>specified value
<tr><th scope=row><a data-property="">align-self</a><td>auto | flex-start | flex-end | center | baseline | stretch<td>auto<td>flex items<td>no<td><td>visual<td><td><td>auto computes to parent’s align-items value; otherwise as specified
<tr><th scope=row><a data-property="">align-content</a><td>flex-start | flex-end | center | space-between | space-around | stretch<td>stretch<td>multi-line flex containers<td>no<td><td>visual<td><td><td>specified value</table></div>


